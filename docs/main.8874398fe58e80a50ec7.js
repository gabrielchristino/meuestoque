(self.webpackChunkestoque=self.webpackChunkestoque||[]).push([[179],{8255:nt=>{function D(M){return Promise.resolve().then(()=>{var r=new Error("Cannot find module '"+M+"'");throw r.code="MODULE_NOT_FOUND",r})}D.keys=()=>[],D.resolve=D,D.id=8255,nt.exports=D},2482:(nt,D,M)=>{var r,b,v;!function(T){if("object"==typeof nt.exports){var S=T(0,D);void 0!==S&&(nt.exports=S)}else b=[M,D],void 0!==(v="function"==typeof(r=T)?r.apply(D,b):r)&&(nt.exports=v)}(function(T,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var k=void 0;S.default=["pt",[["AM","PM"],k,k],k,[["D","S","T","Q","Q","S","S"],["dom.","seg.","ter.","qua.","qui.","sex.","s\xe1b."],["domingo","segunda-feira","ter\xe7a-feira","quarta-feira","quinta-feira","sexta-feira","s\xe1bado"],["dom.","seg.","ter.","qua.","qui.","sex.","s\xe1b."]],k,[["J","F","M","A","M","J","J","A","S","O","N","D"],["jan.","fev.","mar.","abr.","mai.","jun.","jul.","ago.","set.","out.","nov.","dez."],["janeiro","fevereiro","mar\xe7o","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"]],k,[["a.C.","d.C."],k,["antes de Cristo","depois de Cristo"]],0,[6,0],["dd/MM/y","d 'de' MMM 'de' y","d 'de' MMMM 'de' y","EEEE, d 'de' MMMM 'de' y"],["HH:mm","HH:mm:ss","HH:mm:ss z","HH:mm:ss zzzz"],["{1} {0}",k,k,k],[",",".",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4\xa0#,##0.00","#E0"],"BRL","R$","Real brasileiro",{AUD:["AU$","$"],JPY:["JP\xa5","\xa5"],PTE:["Esc."],RON:[k,"L"],SYP:[k,"S\xa3"],THB:["\u0e3f"],TWD:["NT$"],USD:["US$","$"]},"ltr",function(L){var j=Math.floor(Math.abs(L));return j===Math.floor(j)&&j>=0&&j<=1?1:5}]})},7716:(nt,D,M)=>{"use strict";M.d(D,{deG:()=>Pg,tb:()=>OE,AFp:()=>mb,ip1:()=>$n,CZH:()=>Zi,hGG:()=>BN,z2F:()=>Qm,sBO:()=>wn,Sil:()=>Ym,_Vd:()=>xp,EJc:()=>_b,SBq:()=>kc,qLn:()=>E,vpe:()=>zl,gxx:()=>il,tBr:()=>ou,XFs:()=>It,OlP:()=>vi,zs3:()=>rr,ZZ4:()=>Lv,aQg:()=>Vv,soG:()=>Ni,YKP:()=>xI,v3s:()=>TA,h0i:()=>qh,PXZ:()=>jE,R0b:()=>Zs,FiY:()=>Ja,Lbi:()=>RE,g9A:()=>dl,n_E:()=>sb,Qsj:()=>AO,FYo:()=>Pv,JOm:()=>Sa,Tiy:()=>Fv,q3G:()=>Gi,tp0:()=>ts,EAV:()=>jp,Rgc:()=>$o,dDg:()=>fA,DyG:()=>jo,q4F:()=>Hw,GfV:()=>CI,s_b:()=>Hv,ifc:()=>pt,eFA:()=>CA,G48:()=>EN,Gpc:()=>Z,f3M:()=>Vf,X6Q:()=>BE,_c5:()=>OA,VLi:()=>wN,c2e:()=>lA,zSh:()=>Bl,wAp:()=>Kt,vHH:()=>Re,EiD:()=>Ch,mCW:()=>sd,qzn:()=>_h,JVY:()=>dy,pB0:()=>du,eBb:()=>yh,L6k:()=>Ug,LAX:()=>Nl,cg1:()=>xw,Tjo:()=>PN,kL8:()=>Iw,yhl:()=>vc,dqk:()=>Fn,sIi:()=>Yy,CqO:()=>rv,QGY:()=>KC,F4k:()=>Cx,dwT:()=>Sw,RDi:()=>Nr,AaK:()=>L,z3N:()=>Pl,qOj:()=>QS,TTD:()=>Ue,_Bn:()=>Sm,xp6:()=>wc,uIk:()=>ex,Gre:()=>pv,ekj:()=>Tu,Suo:()=>$P,Xpm:()=>ur,lG2:()=>Zr,Yz7:()=>Ht,cJS:()=>xt,oAB:()=>Mo,Yjl:()=>Tr,Y36:()=>yp,_UZ:()=>yx,GkF:()=>vx,BQk:()=>iv,ynx:()=>nv,qZA:()=>WC,TgZ:()=>ZC,EpF:()=>bx,n5z:()=>lh,Ikx:()=>Tw,LFG:()=>pi,$8M:()=>Mf,NdJ:()=>QC,CRH:()=>QI,kcU:()=>ey,O4$:()=>Df,oxw:()=>Tx,ALo:()=>fE,lcZ:()=>Fp,xi3:()=>Mr,gM2:()=>nb,Hsn:()=>qR,F$t:()=>HR,Q6J:()=>tv,DdM:()=>FP,VKq:()=>uE,iGM:()=>KI,MAs:()=>IR,evT:()=>mu,CHM:()=>Yd,oJD:()=>Yg,LSH:()=>$f,kYT:()=>ro,Udp:()=>ui,WFA:()=>wx,d8E:()=>ym,YNc:()=>sx,_uU:()=>$R,Oqu:()=>lv,hij:()=>_w,AsE:()=>cv,xDo:()=>uv,Gf:()=>GP});var r=M(9765),b=M(5319),v=M(7574),T=M(6682),S=M(8345);function k(o){for(let l in o)if(o[l]===k)return l;throw Error("Could not find renamed property on target object.")}function F(o,l){for(const c in l)l.hasOwnProperty(c)&&!o.hasOwnProperty(c)&&(o[c]=l[c])}function L(o){if("string"==typeof o)return o;if(Array.isArray(o))return"["+o.map(L).join(", ")+"]";if(null==o)return""+o;if(o.overriddenName)return`${o.overriddenName}`;if(o.name)return`${o.name}`;const l=o.toString();if(null==l)return""+l;const c=l.indexOf("\n");return-1===c?l:l.substring(0,c)}function j(o,l){return null==o||""===o?null===l?"":l:null==l||""===l?o:o+" "+l}const H=k({__forward_ref__:k});function Z(o){return o.__forward_ref__=Z,o.toString=function(){return L(this())},o}function W(o){return be(o)?o():o}function be(o){return"function"==typeof o&&o.hasOwnProperty(H)&&o.__forward_ref__===Z}class Re extends Error{constructor(l,c){super(function(o,l){return`${o?`NG0${o}: `:""}${l}`}(l,c)),this.code=l}}function Q(o){return"string"==typeof o?o:null==o?"":String(o)}function ue(o){return"function"==typeof o?o.name||o.toString():"object"==typeof o&&null!=o&&"function"==typeof o.type?o.type.name||o.type.toString():Q(o)}function xe(o,l){const c=l?` in ${l}`:"";throw new Re("201",`No provider for ${ue(o)} found${c}`)}function Xe(o,l){null==o&&function(o,l,c,d){throw new Error(`ASSERTION ERROR: ${o}`+(null==d?"":` [Expected=> ${c} ${d} ${l} <=Actual]`))}(l,o,null,"!=")}function Ht(o){return{token:o.token,providedIn:o.providedIn||null,factory:o.factory,value:void 0}}function xt(o){return{providers:o.providers||[],imports:o.imports||[]}}function gn(o){return Hn(o,bs)||Hn(o,zr)}function Hn(o,l){return o.hasOwnProperty(l)?o[l]:null}function Vs(o){return o&&(o.hasOwnProperty(Qi)||o.hasOwnProperty(Gr))?o[Qi]:null}const bs=k({\u0275prov:k}),Qi=k({\u0275inj:k}),zr=k({ngInjectableDef:k}),Gr=k({ngInjectorDef:k});var It=(()=>((It=It||{})[It.Default=0]="Default",It[It.Host=1]="Host",It[It.Self=2]="Self",It[It.SkipSelf=4]="SkipSelf",It[It.Optional=8]="Optional",It))();let Zn;function Ii(o){const l=Zn;return Zn=o,l}function Rt(o,l,c){const d=gn(o);return d&&"root"==d.providedIn?void 0===d.value?d.value=d.factory():d.value:c&It.Optional?null:void 0!==l?l:void xe(L(o),"Injector")}function hn(o){return{toString:o}.toString()}var fn=(()=>((fn=fn||{})[fn.OnPush=0]="OnPush",fn[fn.Default=1]="Default",fn))(),pt=(()=>((pt=pt||{})[pt.Emulated=0]="Emulated",pt[pt.None=2]="None",pt[pt.ShadowDom=3]="ShadowDom",pt))();const Nt="undefined"!=typeof globalThis&&globalThis,Er="undefined"!=typeof window&&window,$r="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Fn=Nt||"undefined"!=typeof global&&global||Er||$r,Ae={},Se=[],Oe=k({\u0275cmp:k}),tt=k({\u0275dir:k}),qe=k({\u0275pipe:k}),Dt=k({\u0275mod:k}),Zt=k({\u0275loc:k}),rn=k({\u0275fac:k}),Rn=k({__NG_ELEMENT_ID__:k});let Wn=0;function ur(o){return hn(()=>{const c={},d={type:o.type,providersResolver:null,decls:o.decls,vars:o.vars,factory:null,template:o.template||null,consts:o.consts||null,ngContentSelectors:o.ngContentSelectors,hostBindings:o.hostBindings||null,hostVars:o.hostVars||0,hostAttrs:o.hostAttrs||null,contentQueries:o.contentQueries||null,declaredInputs:c,inputs:null,outputs:null,exportAs:o.exportAs||null,onPush:o.changeDetection===fn.OnPush,directiveDefs:null,pipeDefs:null,selectors:o.selectors||Se,viewQuery:o.viewQuery||null,features:o.features||null,data:o.data||{},encapsulation:o.encapsulation||pt.Emulated,id:"c",styles:o.styles||Se,_:null,setInput:null,schemas:o.schemas||null,tView:null},h=o.directives,p=o.features,y=o.pipes;return d.id+=Wn++,d.inputs=ra(o.inputs,c),d.outputs=ra(o.outputs),p&&p.forEach(w=>w(d)),d.directiveDefs=h?()=>("function"==typeof h?h():h).map(oi):null,d.pipeDefs=y?()=>("function"==typeof y?y():y).map(ei):null,d})}function oi(o){return Mi(o)||function(o){return o[tt]||null}(o)}function ei(o){return function(o){return o[qe]||null}(o)}const Yr={};function Mo(o){return hn(()=>{const l={type:o.type,bootstrap:o.bootstrap||Se,declarations:o.declarations||Se,imports:o.imports||Se,exports:o.exports||Se,transitiveCompileScopes:null,schemas:o.schemas||null,id:o.id||null};return null!=o.id&&(Yr[o.id]=o.type),l})}function ro(o,l){return hn(()=>{const c=Bi(o,!0);c.declarations=l.declarations||Se,c.imports=l.imports||Se,c.exports=l.exports||Se})}function ra(o,l){if(null==o)return Ae;const c={};for(const d in o)if(o.hasOwnProperty(d)){let h=o[d],p=h;Array.isArray(h)&&(p=h[1],h=h[0]),c[h]=d,l&&(l[h]=p)}return c}const Zr=ur;function Tr(o){return{type:o.type,name:o.name,factory:null,pure:!1!==o.pure,onDestroy:o.type.prototype.ngOnDestroy||null}}function Mi(o){return o[Oe]||null}function Bi(o,l){const c=o[Dt]||null;if(!c&&!0===l)throw new Error(`Type ${L(o)} does not have '\u0275mod' property.`);return c}function Pr(o){return Array.isArray(o)&&"object"==typeof o[1]}function Ji(o){return Array.isArray(o)&&!0===o[1]}function la(o){return 0!=(8&o.flags)}function ca(o){return 2==(2&o.flags)}function ws(o){return 1==(1&o.flags)}function Xi(o){return null!==o.template}function yi(o){return 0!=(512&o[2])}function me(o,l){return o.hasOwnProperty(rn)?o[rn]:null}class De{constructor(l,c,d){this.previousValue=l,this.currentValue=c,this.firstChange=d}isFirstChange(){return this.firstChange}}function Ue(){return We}function We(o){return o.type.prototype.ngOnChanges&&(o.setInput=X),_t}function _t(){const o=Ne(this),l=null==o?void 0:o.current;if(l){const c=o.previous;if(c===Ae)o.previous=l;else for(let d in l)c[d]=l[d];o.current=null,this.ngOnChanges(l)}}function X(o,l,c,d){const h=Ne(o)||function(o,l){return o[ye]=l}(o,{previous:Ae,current:null}),p=h.current||(h.current={}),y=h.previous,w=this.declaredInputs[c],A=y[w];p[w]=new De(A&&A.currentValue,l,y===Ae),o[d]=l}Ue.ngInherit=!0;const ye="__ngSimpleChanges__";function Ne(o){return o[ye]||null}const jt="http://www.w3.org/2000/svg";let Ui;function Nr(o){Ui=o}function rs(){return void 0!==Ui?Ui:"undefined"!=typeof document?document:void 0}function Vn(o){return!!o.listen}const co={createRenderer:(o,l)=>rs()};function ai(o){for(;Array.isArray(o);)o=o[0];return o}function Ga(o,l){return ai(l[o])}function Jr(o,l){return ai(l[o.index])}function Yu(o,l){return o.data[l]}function No(o,l){return o[l]}function ss(o,l){const c=l[o];return Pr(c)?c:c[0]}function qc(o){return 4==(4&o[2])}function $d(o){return 128==(128&o[2])}function pa(o,l){return null==l?null:o[l]}function oc(o){o[18]=0}function Ya(o,l){o[5]+=l;let c=o,d=o[3];for(;null!==d&&(1===l&&1===c[5]||-1===l&&0===c[5]);)d[5]+=l,c=d,d=d[3]}const Jt={lFrame:Cf(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Gc(){return Jt.bindingsEnabled}function rt(){return Jt.lFrame.lView}function mn(){return Jt.lFrame.tView}function Yd(o){return Jt.lFrame.contextLView=o,o[8]}function ii(){let o=Zd();for(;null!==o&&64===o.type;)o=o.parent;return o}function Zd(){return Jt.lFrame.currentTNode}function Bs(o,l){const c=Jt.lFrame;c.currentTNode=o,c.isParent=l}function Wu(){return Jt.lFrame.isParent}function ac(){Jt.lFrame.isParent=!1}function lc(){return Jt.isInCheckNoChangesMode}function cc(o){Jt.isInCheckNoChangesMode=o}function ji(){const o=Jt.lFrame;let l=o.bindingRootIndex;return-1===l&&(l=o.bindingRootIndex=o.tView.bindingStartIndex),l}function Us(){return Jt.lFrame.bindingIndex}function ma(){return Jt.lFrame.bindingIndex++}function Xr(o){const l=Jt.lFrame,c=l.bindingIndex;return l.bindingIndex=l.bindingIndex+o,c}function Wd(o,l){const c=Jt.lFrame;c.bindingIndex=c.bindingRootIndex=o,Kd(l)}function Kd(o){Jt.lFrame.currentDirectiveIndex=o}function Cl(o){const l=Jt.lFrame.currentDirectiveIndex;return-1===l?null:o[l]}function bf(){return Jt.lFrame.currentQueryIndex}function Zc(o){Jt.lFrame.currentQueryIndex=o}function Wc(o){const l=o[1];return 2===l.type?l.declTNode:1===l.type?o[6]:null}function Kc(o,l,c){if(c&It.SkipSelf){let h=l,p=o;for(;!(h=h.parent,null!==h||c&It.Host||(h=Wc(p),null===h||(p=p[15],10&h.type))););if(null===h)return!1;l=h,o=p}const d=Jt.lFrame=wl();return d.currentTNode=l,d.lView=o,!0}function Qc(o){const l=wl(),c=o[1];Jt.lFrame=l,l.currentTNode=c.firstChild,l.lView=o,l.tView=c,l.contextLView=o,l.bindingIndex=c.bindingStartIndex,l.inI18n=!1}function wl(){const o=Jt.lFrame,l=null===o?null:o.child;return null===l?Cf(o):l}function Cf(o){const l={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:o,child:null,inI18n:!1};return null!==o&&(o.child=l),l}function wf(){const o=Jt.lFrame;return Jt.lFrame=o.parent,o.currentTNode=null,o.lView=null,o}const Ef=wf;function El(){const o=wf();o.isParent=!0,o.tView=null,o.selectedIndex=-1,o.contextLView=null,o.elementDepthCount=0,o.currentDirectiveIndex=-1,o.currentNamespace=null,o.bindingRootIndex=-1,o.bindingIndex=-1,o.currentQueryIndex=0}function es(){return Jt.lFrame.selectedIndex}function Jc(o){Jt.lFrame.selectedIndex=o}function er(){const o=Jt.lFrame;return Yu(o.tView,o.selectedIndex)}function Df(){Jt.lFrame.currentNamespace=jt}function ey(){Jt.lFrame.currentNamespace=null}function dc(o,l){for(let c=l.directiveStart,d=l.directiveEnd;c<d;c++){const p=o.data[c].type.prototype,{ngAfterContentInit:y,ngAfterContentChecked:w,ngAfterViewInit:A,ngAfterViewChecked:N,ngOnDestroy:q}=p;y&&(o.contentHooks||(o.contentHooks=[])).push(-c,y),w&&((o.contentHooks||(o.contentHooks=[])).push(c,w),(o.contentCheckHooks||(o.contentCheckHooks=[])).push(c,w)),A&&(o.viewHooks||(o.viewHooks=[])).push(-c,A),N&&((o.viewHooks||(o.viewHooks=[])).push(c,N),(o.viewCheckHooks||(o.viewCheckHooks=[])).push(c,N)),null!=q&&(o.destroyHooks||(o.destroyHooks=[])).push(c,q)}}function hc(o,l,c){eh(o,l,3,c)}function Xc(o,l,c,d){(3&o[2])===c&&eh(o,l,c,d)}function tr(o,l){let c=o[2];(3&c)===l&&(c&=2047,c+=1,o[2]=c)}function eh(o,l,c,d){const p=null!=d?d:-1,y=l.length-1;let w=0;for(let A=void 0!==d?65535&o[18]:0;A<y;A++)if("number"==typeof l[A+1]){if(w=l[A],null!=d&&w>=d)break}else l[A]<0&&(o[18]+=65536),(w<p||-1==p)&&(th(o,c,l,A),o[18]=(4294901760&o[18])+A+2),A++}function th(o,l,c,d){const h=c[d]<0,p=c[d+1],w=o[h?-c[d]:c[d]];if(h){if(o[2]>>11<o[18]>>16&&(3&o[2])===l){o[2]+=2048;try{p.call(w)}finally{}}}else try{p.call(w)}finally{}}class Ku{constructor(l,c,d){this.factory=l,this.resolving=!1,this.canSeeViewProviders=c,this.injectImpl=d}}function Bo(o,l,c){const d=Vn(o);let h=0;for(;h<c.length;){const p=c[h];if("number"==typeof p){if(0!==p)break;h++;const y=c[h++],w=c[h++],A=c[h++];d?o.setAttribute(l,w,A,y):l.setAttributeNS(y,w,A)}else{const y=p,w=c[++h];Uo(y)?d&&o.setProperty(l,y,w):d?o.setAttribute(l,y,w):l.setAttribute(y,w),h++}}return h}function Sf(o){return 3===o||4===o||6===o}function Uo(o){return 64===o.charCodeAt(0)}function _a(o,l){if(null!==l&&0!==l.length)if(null===o||0===o.length)o=l.slice();else{let c=-1;for(let d=0;d<l.length;d++){const h=l[d];"number"==typeof h?c=h:0===c||xf(o,c,h,null,-1===c||2===c?l[++d]:null)}}return o}function xf(o,l,c,d,h){let p=0,y=o.length;if(-1===l)y=-1;else for(;p<o.length;){const w=o[p++];if("number"==typeof w){if(w===l){y=-1;break}if(w>l){y=p-1;break}}}for(;p<o.length;){const w=o[p];if("number"==typeof w)break;if(w===c){if(null===d)return void(null!==h&&(o[p+1]=h));if(d===o[p+1])return void(o[p+2]=h)}p++,null!==d&&p++,null!==h&&p++}-1!==y&&(o.splice(y,0,l),p=y+1),o.splice(p++,0,c),null!==d&&o.splice(p++,0,d),null!==h&&o.splice(p++,0,h)}function Ei(o){return-1!==o}function ya(o){return 32767&o}function Tl(o,l){let c=function(o){return o>>16}(o),d=l;for(;c>0;)d=d[15],c--;return d}let tu=!0;function fc(o){const l=tu;return tu=o,l}let oh=0;function va(o,l){const c=Gn(o,l);if(-1!==c)return c;const d=l[1];d.firstCreatePass&&(o.injectorIndex=l.length,Sl(d.data,o),Sl(l,null),Sl(d.blueprint,null));const h=ft(o,l),p=o.injectorIndex;if(Ei(h)){const y=ya(h),w=Tl(h,l),A=w[1].data;for(let N=0;N<8;N++)l[p+N]=w[y+N]|A[y+N]}return l[p+8]=h,p}function Sl(o,l){o.push(0,0,0,0,0,0,0,0,l)}function Gn(o,l){return-1===o.injectorIndex||o.parent&&o.parent.injectorIndex===o.injectorIndex||null===l[o.injectorIndex+8]?-1:o.injectorIndex}function ft(o,l){if(o.parent&&-1!==o.parent.injectorIndex)return o.parent.injectorIndex;let c=0,d=null,h=l;for(;null!==h;){const p=h[1],y=p.type;if(d=2===y?p.declTNode:1===y?h[6]:null,null===d)return-1;if(c++,h=h[15],-1!==d.injectorIndex)return d.injectorIndex|c<<16}return-1}function yt(o,l,c){!function(o,l,c){let d;"string"==typeof c?d=c.charCodeAt(0)||0:c.hasOwnProperty(Rn)&&(d=c[Rn]),null==d&&(d=c[Rn]=oh++);const h=255&d;l.data[o+(h>>5)]|=1<<h}(o,l,c)}function Hi(o,l,c){if(c&It.Optional)return o;xe(l,"NodeInjector")}function Za(o,l,c,d){if(c&It.Optional&&void 0===d&&(d=null),0==(c&(It.Self|It.Host))){const h=o[9],p=Ii(void 0);try{return h?h.get(l,d,c&It.Optional):Rt(l,d,c&It.Optional)}finally{Ii(p)}}return Hi(d,l,c)}function xl(o,l,c,d=It.Default,h){if(null!==o){const p=function(o){if("string"==typeof o)return o.charCodeAt(0)||0;const l=o.hasOwnProperty(Rn)?o[Rn]:void 0;return"number"==typeof l?l>=0?255&l:Qu:l}(c);if("function"==typeof p){if(!Kc(l,o,d))return d&It.Host?Hi(h,c,d):Za(l,c,d,h);try{const y=p(d);if(null!=y||d&It.Optional)return y;xe(c)}finally{Ef()}}else if("number"==typeof p){let y=null,w=Gn(o,l),A=-1,N=d&It.Host?l[16][6]:null;for((-1===w||d&It.SkipSelf)&&(A=-1===w?ft(o,l):l[w+8],-1!==A&&iu(d,!1)?(y=l[1],w=ya(A),l=Tl(A,l)):w=-1);-1!==w;){const q=l[1];if(Ju(p,w,q.data)){const ne=z0(w,l,c,y,d,N);if(ne!==Oi)return ne}A=l[w+8],-1!==A&&iu(d,l[1].data[w+8]===N)&&Ju(p,w,l)?(y=q,w=ya(A),l=Tl(A,l)):w=-1}}}return Za(l,c,d,h)}const Oi={};function Qu(){return new Hs(ii(),rt())}function z0(o,l,c,d,h,p){const y=l[1],w=y.data[o+8],q=ba(w,y,c,null==d?ca(w)&&tu:d!=y&&0!=(3&w.type),h&It.Host&&p===w);return null!==q?Bn(l,y,q,w):Oi}function ba(o,l,c,d,h){const p=o.providerIndexes,y=l.data,w=1048575&p,A=o.directiveStart,q=p>>20,ce=h?w+q:o.directiveEnd;for(let Te=d?w:w+q;Te<ce;Te++){const Pe=y[Te];if(Te<A&&c===Pe||Te>=A&&Pe.type===c)return Te}if(h){const Te=y[A];if(Te&&Xi(Te)&&Te.type===c)return A}return null}function Bn(o,l,c,d){let h=o[c];const p=l.data;if(function(o){return o instanceof Ku}(h)){const y=h;y.resolving&&function(o,l){throw new Re("200",`Circular dependency in DI detected for ${o}`)}(ue(p[c]));const w=fc(y.canSeeViewProviders);y.resolving=!0;const A=y.injectImpl?Ii(y.injectImpl):null;Kc(o,d,It.Default);try{h=o[c]=y.factory(void 0,p,o,d),l.firstCreatePass&&c>=d.directiveStart&&function(o,l,c){const{ngOnChanges:d,ngOnInit:h,ngDoCheck:p}=l.type.prototype;if(d){const y=We(l);(c.preOrderHooks||(c.preOrderHooks=[])).push(o,y),(c.preOrderCheckHooks||(c.preOrderCheckHooks=[])).push(o,y)}h&&(c.preOrderHooks||(c.preOrderHooks=[])).push(0-o,h),p&&((c.preOrderHooks||(c.preOrderHooks=[])).push(o,p),(c.preOrderCheckHooks||(c.preOrderCheckHooks=[])).push(o,p))}(c,p[c],l)}finally{null!==A&&Ii(A),fc(w),y.resolving=!1,Ef()}}return h}function Ju(o,l,c){return!!(c[l+(o>>5)]&1<<o)}function iu(o,l){return!(o&It.Self||o&It.Host&&l)}class Hs{constructor(l,c){this._tNode=l,this._lView=c}get(l,c,d){return xl(this._tNode,this._lView,l,d,c)}}function lh(o){return hn(()=>{const l=o.prototype.constructor,c=l[rn]||pc(l),d=Object.prototype;let h=Object.getPrototypeOf(o.prototype).constructor;for(;h&&h!==d;){const p=h[rn]||pc(h);if(p&&p!==c)return p;h=Object.getPrototypeOf(h)}return p=>new p})}function pc(o){return be(o)?()=>{const l=pc(W(o));return l&&l()}:me(o)}function Mf(o){return function(o,l){if("class"===l)return o.classes;if("style"===l)return o.styles;const c=o.attrs;if(c){const d=c.length;let h=0;for(;h<d;){const p=c[h];if(Sf(p))break;if(0===p)h+=2;else if("number"==typeof p)for(h++;h<d&&"string"==typeof c[h];)h++;else{if(p===l)return c[h+1];h+=2}}}return null}(ii(),o)}const qs="__parameters__";function os(o,l,c){return hn(()=>{const d=function(o){return function(...c){if(o){const d=o(...c);for(const h in d)this[h]=d[h]}}}(l);function h(...p){if(this instanceof h)return d.apply(this,p),this;const y=new h(...p);return w.annotation=y,w;function w(A,N,q){const ne=A.hasOwnProperty(qs)?A[qs]:Object.defineProperty(A,qs,{value:[]})[qs];for(;ne.length<=q;)ne.push(null);return(ne[q]=ne[q]||[]).push(y),A}}return c&&(h.prototype=Object.create(c.prototype)),h.prototype.ngMetadataName=o,h.annotationCls=h,h})}class vi{constructor(l,c){this._desc=l,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof c?this.__NG_ELEMENT_ID__=c:void 0!==c&&(this.\u0275prov=Ht({token:this,providedIn:c.providedIn||"root",factory:c.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Pg=new vi("AnalyzeForEntryComponents"),jo=Function;function fo(o,l){void 0===l&&(l=o);for(let c=0;c<o.length;c++){let d=o[c];Array.isArray(d)?(l===o&&(l=o.slice(0,c)),fo(d,l)):l!==o&&l.push(d)}return l}function Ho(o,l){o.forEach(c=>Array.isArray(c)?Ho(c,l):l(c))}function Al(o,l,c){l>=o.length?o.push(c):o.splice(l,0,c)}function Ds(o,l){return l>=o.length-1?o.pop():o.splice(l,1)[0]}function wa(o,l){const c=[];for(let d=0;d<o;d++)c.push(l);return c}function qi(o,l,c){let d=Ea(o,l);return d>=0?o[1|d]=c:(d=~d,function(o,l,c,d){let h=o.length;if(h==l)o.push(c,d);else if(1===h)o.push(d,o[0]),o[0]=c;else{for(h--,o.push(o[h-1],o[h]);h>l;)o[h]=o[h-2],h--;o[l]=c,o[l+1]=d}}(o,d,l,c)),d}function Pi(o,l){const c=Ea(o,l);if(c>=0)return o[1|c]}function Ea(o,l){return function(o,l,c){let d=0,h=o.length>>c;for(;h!==d;){const p=d+(h-d>>1),y=o[p<<c];if(l===y)return p<<c;y>l?h=p:d=p+1}return~(h<<c)}(o,l,1)}const Sn={},Jn="__NG_DI_FLAG__",zi="ngTempTokenPath",pr=/\n/gm,su="__source",Gs=k({provide:String,useValue:k});let Ss;function sn(o){const l=Ss;return Ss=o,l}function Ng(o,l=It.Default){if(void 0===Ss)throw new Error("inject() must be called from an injection context");return null===Ss?Rt(o,void 0,l):Ss.get(o,l&It.Optional?null:void 0,l)}function pi(o,l=It.Default){return(Zn||Ng)(W(o),l)}const Vf=pi;function yc(o){const l=[];for(let c=0;c<o.length;c++){const d=W(o[c]);if(Array.isArray(d)){if(0===d.length)throw new Error("Arguments array must have arguments.");let h,p=It.Default;for(let y=0;y<d.length;y++){const w=d[y],A=ry(w);"number"==typeof A?-1===A?h=w.token:p|=A:h=w}l.push(pi(h,p))}else l.push(pi(d))}return l}function uh(o,l){return o[Jn]=l,o.prototype[Jn]=l,o}function ry(o){return o[Jn]}function po(o,l,c,d){const h=o[zi];throw l[su]&&h.unshift(l[su]),o.message=function(o,l,c,d=null){o=o&&"\n"===o.charAt(0)&&"\u0275"==o.charAt(1)?o.substr(2):o;let h=L(l);if(Array.isArray(l))h=l.map(L).join(" -> ");else if("object"==typeof l){let p=[];for(let y in l)if(l.hasOwnProperty(y)){let w=l[y];p.push(y+":"+("string"==typeof w?JSON.stringify(w):L(w)))}h=`{${p.join(", ")}}`}return`${c}${d?"("+d+")":""}[${h}]: ${o.replace(pr,"\n  ")}`}("\n"+o.message,h,c,d),o.ngTokenPath=h,o[zi]=null,o}const ou=uh(os("Inject",o=>({token:o})),-1),Ja=uh(os("Optional"),8),ts=uh(os("SkipSelf"),4);let rd,Uf;function Rl(o){var l;return(null===(l=function(){if(void 0===rd&&(rd=null,Fn.trustedTypes))try{rd=Fn.trustedTypes.createPolicy("angular",{createHTML:o=>o,createScript:o=>o,createScriptURL:o=>o})}catch(o){}return rd}())||void 0===l?void 0:l.createHTML(o))||o}function gh(o){var l;return(null===(l=function(){if(void 0===Uf&&(Uf=null,Fn.trustedTypes))try{Uf=Fn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:o=>o,createScript:o=>o,createScriptURL:o=>o})}catch(o){}return Uf}())||void 0===l?void 0:l.createHTML(o))||o}class Ol{constructor(l){this.changingThisBreaksApplicationSecurity=l}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Z0 extends Ol{getTypeName(){return"HTML"}}class uy extends Ol{getTypeName(){return"Style"}}class mh extends Ol{getTypeName(){return"Script"}}class W0 extends Ol{getTypeName(){return"URL"}}class K0 extends Ol{getTypeName(){return"ResourceURL"}}function Pl(o){return o instanceof Ol?o.changingThisBreaksApplicationSecurity:o}function _h(o,l){const c=vc(o);if(null!=c&&c!==l){if("ResourceURL"===c&&"URL"===l)return!0;throw new Error(`Required a safe ${l}, got a ${c} (see https://g.co/ng/security#xss)`)}return c===l}function vc(o){return o instanceof Ol&&o.getTypeName()||null}function dy(o){return new Z0(o)}function Ug(o){return new uy(o)}function yh(o){return new mh(o)}function Nl(o){return new W0(o)}function du(o){return new K0(o)}class hy{constructor(l){this.inertDocumentHelper=l}getInertBodyElement(l){l="<body><remove></remove>"+l;try{const c=(new window.DOMParser).parseFromString(Rl(l),"text/html").body;return null===c?this.inertDocumentHelper.getInertBodyElement(l):(c.removeChild(c.firstChild),c)}catch(c){return null}}}class Hg{constructor(l){if(this.defaultDoc=l,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const c=this.inertDocument.createElement("html");this.inertDocument.appendChild(c);const d=this.inertDocument.createElement("body");c.appendChild(d)}}getInertBodyElement(l){const c=this.inertDocument.createElement("template");if("content"in c)return c.innerHTML=Rl(l),c;const d=this.inertDocument.createElement("body");return d.innerHTML=Rl(l),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(d),d}stripCustomNsAttrs(l){const c=l.attributes;for(let h=c.length-1;0<h;h--){const y=c.item(h).name;("xmlns:ns1"===y||0===y.indexOf("ns1:"))&&l.removeAttribute(y)}let d=l.firstChild;for(;d;)d.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(d),d=d.nextSibling}}const fy=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Hf=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function sd(o){return(o=String(o)).match(fy)||o.match(Hf)?o:"unsafe:"+o}function Da(o){const l={};for(const c of o.split(","))l[c]=!0;return l}function hu(...o){const l={};for(const c of o)for(const d in c)c.hasOwnProperty(d)&&(l[d]=!0);return l}const vh=Da("area,br,col,hr,img,wbr"),zf=Da("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),bh=Da("rp,rt"),qg=hu(vh,hu(zf,Da("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),hu(bh,Da("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),hu(bh,zf)),od=Da("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Xa=Da("srcset"),zg=hu(od,Xa,Da("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Da("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),yy=Da("script,style,template");class Gg{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(l){let c=l.firstChild,d=!0;for(;c;)if(c.nodeType===Node.ELEMENT_NODE?d=this.startElement(c):c.nodeType===Node.TEXT_NODE?this.chars(c.nodeValue):this.sanitizedSomething=!0,d&&c.firstChild)c=c.firstChild;else for(;c;){c.nodeType===Node.ELEMENT_NODE&&this.endElement(c);let h=this.checkClobberedElement(c,c.nextSibling);if(h){c=h;break}c=this.checkClobberedElement(c,c.parentNode)}return this.buf.join("")}startElement(l){const c=l.nodeName.toLowerCase();if(!qg.hasOwnProperty(c))return this.sanitizedSomething=!0,!yy.hasOwnProperty(c);this.buf.push("<"),this.buf.push(c);const d=l.attributes;for(let h=0;h<d.length;h++){const p=d.item(h),y=p.name,w=y.toLowerCase();if(!zg.hasOwnProperty(w)){this.sanitizedSomething=!0;continue}let A=p.value;od[w]&&(A=sd(A)),Xa[w]&&(o=A,A=(o=String(o)).split(",").map(l=>sd(l.trim())).join(", ")),this.buf.push(" ",y,'="',vy(A),'"')}var o;return this.buf.push(">"),!0}endElement(l){const c=l.nodeName.toLowerCase();qg.hasOwnProperty(c)&&!vh.hasOwnProperty(c)&&(this.buf.push("</"),this.buf.push(c),this.buf.push(">"))}chars(l){this.buf.push(vy(l))}checkClobberedElement(l,c){if(c&&(l.compareDocumentPosition(c)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${l.outerHTML}`);return c}}const X0=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,eC=/([^\#-~ |!])/g;function vy(o){return o.replace(/&/g,"&amp;").replace(X0,function(l){return"&#"+(1024*(l.charCodeAt(0)-55296)+(l.charCodeAt(1)-56320)+65536)+";"}).replace(eC,function(l){return"&#"+l.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let bc;function Ch(o,l){let c=null;try{bc=bc||function(o){const l=new Hg(o);return function(){try{return!!(new window.DOMParser).parseFromString(Rl(""),"text/html")}catch(o){return!1}}()?new hy(l):l}(o);let d=l?String(l):"";c=bc.getInertBodyElement(d);let h=5,p=d;do{if(0===h)throw new Error("Failed to sanitize html because the input is unstable");h--,d=p,p=c.innerHTML,c=bc.getInertBodyElement(d)}while(d!==p);return Rl((new Gg).sanitizeChildren(Gf(c)||c))}finally{if(c){const d=Gf(c)||c;for(;d.firstChild;)d.removeChild(d.firstChild)}}}function Gf(o){return"content"in o&&function(o){return o.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===o.nodeName}(o)?o.content:null}var Gi=(()=>((Gi=Gi||{})[Gi.NONE=0]="NONE",Gi[Gi.HTML=1]="HTML",Gi[Gi.STYLE=2]="STYLE",Gi[Gi.SCRIPT=3]="SCRIPT",Gi[Gi.URL=4]="URL",Gi[Gi.RESOURCE_URL=5]="RESOURCE_URL",Gi))();function Yg(o){const l=ad();return l?gh(l.sanitize(Gi.HTML,o)||""):_h(o,"HTML")?gh(Pl(o)):Ch(rs(),Q(o))}function $f(o){const l=ad();return l?l.sanitize(Gi.URL,o)||"":_h(o,"URL")?Pl(o):sd(Q(o))}function ad(){const o=rt();return o&&o[12]}const ld="__ngContext__";function Lr(o,l){o[ld]=l}function tl(o){const l=function(o){return o[ld]||null}(o);return l?Array.isArray(l)?l:l.lView:null}function gu(o){return o.ngOriginalError}function iC(o,...l){o.error(...l)}class E{constructor(){this._console=console}handleError(l){const c=this._findOriginalError(l),d=this._findContext(l),h=(o=l)&&o.ngErrorLogger||iC;var o;h(this._console,"ERROR",l),c&&h(this._console,"ORIGINAL ERROR",c),d&&h(this._console,"ERROR CONTEXT",d)}_findContext(l){return l?l.ngDebugContext||this._findContext(gu(l)):null}_findOriginalError(l){let c=l&&gu(l);for(;c&&gu(c);)c=gu(c);return c||null}}const qo=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Fn))();function mu(o){return o.ownerDocument}function Ta(o){return o instanceof Function?o():o}var Sa=(()=>((Sa=Sa||{})[Sa.Important=1]="Important",Sa[Sa.DashCase=2]="DashCase",Sa))();function hd(o,l){return undefined(o,l)}function tm(o){const l=o[3];return Ji(l)?l[3]:l}function Iy(o){return oC(o[13])}function cS(o){return oC(o[4])}function oC(o){for(;null!==o&&!Ji(o);)o=o[4];return o}function Eh(o,l,c,d,h){if(null!=d){let p,y=!1;Ji(d)?p=d:Pr(d)&&(y=!0,d=d[0]);const w=ai(d);0===o&&null!==c?null==h?pS(l,c,w):pd(l,c,w,h||null,!0):1===o&&null!==c?pd(l,c,w,h||null,!0):2===o?function(o,l,c){const d=Ry(o,l);d&&function(o,l,c,d){Vn(o)?o.removeChild(l,c,d):l.removeChild(c)}(o,d,l,c)}(l,w,y):3===o&&l.destroyNode(w),null!=p&&function(o,l,c,d,h){const p=c[7];p!==ai(c)&&Eh(l,o,d,p,h);for(let w=10;w<c.length;w++){const A=c[w];Th(A[1],A,o,l,d,p)}}(l,o,p,c,h)}}function aC(o,l,c){return Vn(o)?o.createElement(l,c):null===c?o.createElement(l):o.createElementNS(c,l)}function My(o,l){const c=o[9],d=c.indexOf(l),h=l[3];1024&l[2]&&(l[2]&=-1025,Ya(h,-1)),c.splice(d,1)}function ky(o,l){if(o.length<=10)return;const c=10+l,d=o[c];if(d){const h=d[17];null!==h&&h!==o&&My(h,d),l>0&&(o[c-1][4]=d[4]);const p=Ds(o,10+l);!function(o,l){Th(o,l,l[11],2,null,null),l[0]=null,l[6]=null}(d[1],d);const y=p[19];null!==y&&y.detachView(p[1]),d[3]=null,d[4]=null,d[2]&=-129}return d}function dS(o,l){if(!(256&l[2])){const c=l[11];Vn(c)&&c.destroyNode&&Th(o,l,c,3,null,null),function(o){let l=o[13];if(!l)return fd(o[1],o);for(;l;){let c=null;if(Pr(l))c=l[13];else{const d=l[10];d&&(c=d)}if(!c){for(;l&&!l[4]&&l!==o;)Pr(l)&&fd(l[1],l),l=l[3];null===l&&(l=o),Pr(l)&&fd(l[1],l),c=l&&l[4]}l=c}}(l)}}function fd(o,l){if(!(256&l[2])){l[2]&=-129,l[2]|=256,function(o,l){let c;if(null!=o&&null!=(c=o.destroyHooks))for(let d=0;d<c.length;d+=2){const h=l[c[d]];if(!(h instanceof Ku)){const p=c[d+1];if(Array.isArray(p))for(let y=0;y<p.length;y+=2){const w=h[p[y]],A=p[y+1];try{A.call(w)}finally{}}else try{p.call(h)}finally{}}}}(o,l),function(o,l){const c=o.cleanup,d=l[7];let h=-1;if(null!==c)for(let p=0;p<c.length-1;p+=2)if("string"==typeof c[p]){const y=c[p+1],w="function"==typeof y?y(l):ai(l[y]),A=d[h=c[p+2]],N=c[p+3];"boolean"==typeof N?w.removeEventListener(c[p],A,N):N>=0?d[h=N]():d[h=-N].unsubscribe(),p+=2}else{const y=d[h=c[p+1]];c[p].call(y)}if(null!==d){for(let p=h+1;p<d.length;p++)d[p]();l[7]=null}}(o,l),1===l[1].type&&Vn(l[11])&&l[11].destroy();const c=l[17];if(null!==c&&Ji(l[3])){c!==l[3]&&My(c,l);const d=l[19];null!==d&&d.detachView(o)}}}function hS(o,l,c){return function(o,l,c){let d=l;for(;null!==d&&40&d.type;)d=(l=d).parent;if(null===d)return c[0];if(2&d.flags){const h=o.data[d.directiveStart].encapsulation;if(h===pt.None||h===pt.Emulated)return null}return Jr(d,c)}(o,l.parent,c)}function pd(o,l,c,d,h){Vn(o)?o.insertBefore(l,c,d,h):l.insertBefore(c,d,h)}function pS(o,l,c){Vn(o)?o.appendChild(l,c):l.appendChild(c)}function gS(o,l,c,d,h){null!==d?pd(o,l,c,d,h):pS(o,l,c)}function Ry(o,l){return Vn(o)?o.parentNode(l):l.parentNode}function Py(o,l,c){return Dh(o,l,c)}let Dh=function(o,l,c){return 40&o.type?Jr(o,c):null};function Xf(o,l,c,d){const h=hS(o,d,l),p=l[11],w=Py(d.parent||l[6],d,l);if(null!=h)if(Array.isArray(c))for(let A=0;A<c.length;A++)gS(p,h,c[A],w,!1);else gS(p,h,c,w,!1)}function Fy(o,l){if(null!==l){const c=l.type;if(3&c)return Jr(l,o);if(4&c)return dC(-1,o[l.index]);if(8&c){const d=l.child;if(null!==d)return Fy(o,d);{const h=o[l.index];return Ji(h)?dC(-1,h):ai(h)}}if(32&c)return hd(l,o)()||ai(o[l.index]);{const d=uC(o,l);return null!==d?Array.isArray(d)?d[0]:Fy(tm(o[16]),d):Fy(o,l.next)}}return null}function uC(o,l){return null!==l?o[16][6].projection[l.projection]:null}function dC(o,l){const c=10+o+1;if(c<l.length){const d=l[c],h=d[1].firstChild;if(null!==h)return Fy(d,h)}return l[7]}function Ly(o,l,c,d,h,p,y){for(;null!=c;){const w=d[c.index],A=c.type;if(y&&0===l&&(w&&Lr(ai(w),d),c.flags|=4),64!=(64&c.flags))if(8&A)Ly(o,l,c.child,d,h,p,!1),Eh(l,o,h,w,p);else if(32&A){const N=hd(c,d);let q;for(;q=N();)Eh(l,o,h,q,p);Eh(l,o,h,w,p)}else 16&A?gd(o,l,d,c,h,p):Eh(l,o,h,w,p);c=y?c.projectionNext:c.next}}function Th(o,l,c,d,h,p){Ly(c,d,o.firstChild,l,h,p,!1)}function gd(o,l,c,d,h,p){const y=c[16],A=y[6].projection[d.projection];if(Array.isArray(A))for(let N=0;N<A.length;N++)Eh(l,o,h,A[N],p);else Ly(o,l,A,y[3],h,p,!0)}function yS(o,l,c){Vn(o)?o.setAttribute(l,"style",c):l.style.cssText=c}function fC(o,l,c){Vn(o)?""===c?o.removeAttribute(l,"class"):o.setAttribute(l,"class",c):l.className=c}function pC(o,l,c){let d=o.length;for(;;){const h=o.indexOf(l,c);if(-1===h)return h;if(0===h||o.charCodeAt(h-1)<=32){const p=l.length;if(h+p===d||o.charCodeAt(h+p)<=32)return h}c=h+1}}const vS="ng-template";function Mk(o,l,c){let d=0;for(;d<o.length;){let h=o[d++];if(c&&"class"===h){if(h=o[d],-1!==pC(h.toLowerCase(),l,0))return!0}else if(1===h){for(;d<o.length&&"string"==typeof(h=o[d++]);)if(h.toLowerCase()===l)return!0;return!1}}return!1}function gC(o){return 4===o.type&&o.value!==vS}function kk(o,l,c){return l===(4!==o.type||c?o.value:vS)}function Rk(o,l,c){let d=4;const h=o.attrs||[],p=function(o){for(let l=0;l<o.length;l++)if(Sf(o[l]))return l;return o.length}(h);let y=!1;for(let w=0;w<l.length;w++){const A=l[w];if("number"!=typeof A){if(!y)if(4&d){if(d=2|1&d,""!==A&&!kk(o,A,c)||""===A&&1===l.length){if(Ll(d))return!1;y=!0}}else{const N=8&d?A:l[++w];if(8&d&&null!==o.attrs){if(!Mk(o.attrs,N,c)){if(Ll(d))return!1;y=!0}continue}const ne=mC(8&d?"class":A,h,gC(o),c);if(-1===ne){if(Ll(d))return!1;y=!0;continue}if(""!==N){let ce;ce=ne>p?"":h[ne+1].toLowerCase();const Te=8&d?ce:null;if(Te&&-1!==pC(Te,N,0)||2&d&&N!==ce){if(Ll(d))return!1;y=!0}}}}else{if(!y&&!Ll(d)&&!Ll(A))return!1;if(y&&Ll(A))continue;y=!1,d=A|1&d}}return Ll(d)||y}function Ll(o){return 0==(1&o)}function mC(o,l,c,d){if(null===l)return-1;let h=0;if(d||!c){let p=!1;for(;h<l.length;){const y=l[h];if(y===o)return h;if(3===y||6===y)p=!0;else{if(1===y||2===y){let w=l[++h];for(;"string"==typeof w;)w=l[++h];continue}if(4===y)break;if(0===y){h+=4;continue}}h+=p?1:2}return-1}return function(o,l){let c=o.indexOf(4);if(c>-1)for(c++;c<o.length;){const d=o[c];if("number"==typeof d)return-1;if(d===l)return c;c++}return-1}(l,o)}function bS(o,l,c=!1){for(let d=0;d<l.length;d++)if(Rk(o,l[d],c))return!0;return!1}function I3(o,l){e:for(let c=0;c<l.length;c++){const d=l[c];if(o.length===d.length){for(let h=0;h<o.length;h++)if(o[h]!==d[h])continue e;return!0}}return!1}function Gt(o,l){return o?":not("+l.trim()+")":l}function As(o){let l=o[0],c=1,d=2,h="",p=!1;for(;c<o.length;){let y=o[c];if("string"==typeof y)if(2&d){const w=o[++c];h+="["+y+(w.length>0?'="'+w+'"':"")+"]"}else 8&d?h+="."+y:4&d&&(h+=" "+y);else""!==h&&!Ll(y)&&(l+=Gt(p,h),h=""),d=y,p=p||!Ll(d);c++}return""!==h&&(l+=Gt(p,h)),l}const Ot={};function wc(o){ES(mn(),rt(),es()+o,lc())}function ES(o,l,c,d){if(!d)if(3==(3&l[2])){const p=o.preOrderCheckHooks;null!==p&&hc(l,p,c)}else{const p=o.preOrderHooks;null!==p&&Xc(l,p,0,c)}Jc(c)}function By(o,l){return o<<17|l<<2}function Ec(o){return o>>17&32767}function _C(o){return 2|o}function yu(o){return(131068&o)>>2}function yC(o,l){return-131069&o|l<<2}function vC(o){return 1|o}function rp(o,l){const c=o.contentQueries;if(null!==c)for(let d=0;d<c.length;d+=2){const h=c[d],p=c[d+1];if(-1!==p){const y=o.data[p];Zc(h),y.contentQueries(2,l[p],p)}}}function sp(o,l,c,d,h,p,y,w,A,N){const q=l.blueprint.slice();return q[0]=h,q[2]=140|d,oc(q),q[3]=q[15]=o,q[8]=c,q[10]=y||o&&o[10],q[11]=w||o&&o[11],q[12]=A||o&&o[12]||null,q[9]=N||o&&o[9]||null,q[6]=p,q[16]=2==l.type?o[16]:q,q}function Tc(o,l,c,d,h){let p=o.data[l];if(null===p)p=function(o,l,c,d,h){const p=Zd(),y=Wu(),A=o.data[l]=function(o,l,c,d,h,p){return{type:c,index:d,insertBeforeIndex:null,injectorIndex:l?l.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:h,attrs:p,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:l,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,y?p:p&&p.parent,c,l,d,h);return null===o.firstChild&&(o.firstChild=A),null!==p&&(y?null==p.child&&null!==A.parent&&(p.child=A):null===p.next&&(p.next=A)),A}(o,l,c,d,h),Jt.lFrame.inI18n&&(p.flags|=64);else if(64&p.type){p.type=c,p.value=d,p.attrs=h;const y=function(){const o=Jt.lFrame,l=o.currentTNode;return o.isParent?l:l.parent}();p.injectorIndex=null===y?-1:y.injectorIndex}return Bs(p,!0),p}function vd(o,l,c,d){if(0===c)return-1;const h=l.length;for(let p=0;p<c;p++)l.push(d),o.blueprint.push(d),o.data.push(null);return h}function op(o,l,c){Qc(l);try{const d=o.viewQuery;null!==d&&BS(1,d,c);const h=o.template;null!==h&&Uk(o,l,h,1,c),o.firstCreatePass&&(o.firstCreatePass=!1),o.staticContentQueries&&rp(o,l),o.staticViewQueries&&BS(2,o.viewQuery,c);const p=o.components;null!==p&&function(o,l){for(let c=0;c<l.length;c++)Z3(o,l[c])}(l,p)}catch(d){throw o.firstCreatePass&&(o.incompleteFirstPass=!0,o.firstCreatePass=!1),d}finally{l[2]&=-5,El()}}function ap(o,l,c,d){const h=l[2];if(256==(256&h))return;Qc(l);const p=lc();try{oc(l),function(o){Jt.lFrame.bindingIndex=o}(o.bindingStartIndex),null!==c&&Uk(o,l,c,2,d);const y=3==(3&h);if(!p)if(y){const N=o.preOrderCheckHooks;null!==N&&hc(l,N,null)}else{const N=o.preOrderHooks;null!==N&&Xc(l,N,0,null),tr(l,0)}if(function(o){for(let l=Iy(o);null!==l;l=cS(l)){if(!l[2])continue;const c=l[9];for(let d=0;d<c.length;d++){const h=c[d],p=h[3];0==(1024&h[2])&&Ya(p,1),h[2]|=1024}}}(l),function(o){for(let l=Iy(o);null!==l;l=cS(l))for(let c=10;c<l.length;c++){const d=l[c],h=d[1];$d(d)&&ap(h,d,h.template,d[8])}}(l),null!==o.contentQueries&&rp(o,l),!p)if(y){const N=o.contentCheckHooks;null!==N&&hc(l,N)}else{const N=o.contentHooks;null!==N&&Xc(l,N,1),tr(l,1)}!function(o,l){const c=o.hostBindingOpCodes;if(null!==c)try{for(let d=0;d<c.length;d++){const h=c[d];if(h<0)Jc(~h);else{const p=h,y=c[++d],w=c[++d];Wd(y,p),w(2,l[p])}}}finally{Jc(-1)}}(o,l);const w=o.components;null!==w&&function(o,l){for(let c=0;c<l.length;c++)Y3(o,l[c])}(l,w);const A=o.viewQuery;if(null!==A&&BS(2,A,d),!p)if(y){const N=o.viewCheckHooks;null!==N&&hc(l,N)}else{const N=o.viewHooks;null!==N&&Xc(l,N,2),tr(l,2)}!0===o.firstUpdatePass&&(o.firstUpdatePass=!1),p||(l[2]&=-73),1024&l[2]&&(l[2]&=-1025,Ya(l[3],-1))}finally{El()}}function Ms(o,l,c,d){const h=l[10],p=!lc(),y=qc(l);try{p&&!y&&h.begin&&h.begin(),y&&op(o,l,d),ap(o,l,c,d)}finally{p&&!y&&h.end&&h.end()}}function Uk(o,l,c,d,h){const p=es(),y=2&d;try{Jc(-1),y&&l.length>20&&ES(o,l,20,lc()),c(d,h)}finally{Jc(p)}}function lp(o,l,c){if(la(l)){const h=l.directiveEnd;for(let p=l.directiveStart;p<h;p++){const y=o.data[p];y.contentQueries&&y.contentQueries(1,c[p],p)}}}function Hy(o,l,c){!Gc()||(function(o,l,c,d){const h=c.directiveStart,p=c.directiveEnd;o.firstCreatePass||va(c,l),Lr(d,l);const y=c.initialInputs;for(let w=h;w<p;w++){const A=o.data[w],N=Xi(A);N&&IC(l,c,A);const q=Bn(l,o,w,c);Lr(q,l),null!==y&&Wk(0,w-h,q,A,0,y),N&&(ss(c.index,l)[8]=q)}}(o,l,c,Jr(c,l)),128==(128&c.flags)&&function(o,l,c){const d=c.directiveStart,h=c.directiveEnd,y=c.index,w=Jt.lFrame.currentDirectiveIndex;try{Jc(y);for(let A=d;A<h;A++){const N=o.data[A],q=l[A];Kd(A),(null!==N.hostBindings||0!==N.hostVars||null!==N.hostAttrs)&&qy(N,q)}}finally{Jc(-1),Kd(w)}}(o,l,c))}function cp(o,l,c=Jr){const d=l.localNames;if(null!==d){let h=l.index+1;for(let p=0;p<d.length;p+=2){const y=d[p+1],w=-1===y?c(l,o):o[y];o[h++]=w}}}function kS(o){const l=o.tView;return null===l||l.incompleteFirstPass?o.tView=nm(1,null,o.template,o.decls,o.vars,o.directiveDefs,o.pipeDefs,o.viewQuery,o.schemas,o.consts):l}function nm(o,l,c,d,h,p,y,w,A,N){const q=20+d,ne=q+h,ce=function(o,l){const c=[];for(let d=0;d<l;d++)c.push(d<o?null:Ot);return c}(q,ne),Te="function"==typeof N?N():N;return ce[1]={type:o,blueprint:ce,template:c,queries:null,viewQuery:w,declTNode:l,data:ce.slice().fill(null,q),bindingStartIndex:q,expandoStartIndex:ne,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof p?p():p,pipeRegistry:"function"==typeof y?y():y,firstChild:null,schemas:A,consts:Te,incompleteFirstPass:!1}}function bd(o,l,c,d){const h=US(l);null===c?h.push(d):(h.push(c),o.firstCreatePass&&jS(o).push(d,h.length-1))}function OS(o,l,c){for(let d in o)if(o.hasOwnProperty(d)){const h=o[d];(c=null===c?{}:c).hasOwnProperty(d)?c[d].push(l,h):c[d]=[l,h]}return c}function xa(o,l,c,d,h,p,y,w){const A=Jr(l,c);let q,N=l.inputs;!w&&null!=N&&(q=N[d])?(Ah(o,c,q,d,h),ca(l)&&function(o,l){const c=ss(l,o);16&c[2]||(c[2]|=64)}(c,l.index)):3&l.type&&(d=function(o){return"class"===o?"className":"for"===o?"htmlFor":"formaction"===o?"formAction":"innerHtml"===o?"innerHTML":"readonly"===o?"readOnly":"tabindex"===o?"tabIndex":o}(d),h=null!=y?y(h,l.value||"",d):h,Vn(p)?p.setProperty(A,d,h):Uo(d)||(A.setProperty?A.setProperty(d,h):A[d]=h))}function xC(o,l,c,d){let h=!1;if(Gc()){const p=function(o,l,c){const d=o.directiveRegistry;let h=null;if(d)for(let p=0;p<d.length;p++){const y=d[p];bS(c,y.selectors,!1)&&(h||(h=[]),yt(va(c,l),o,y.type),Xi(y)?($k(o,c),h.unshift(y)):h.push(y))}return h}(o,l,c),y=null===d?null:{"":-1};if(null!==p){h=!0,Yk(c,o.data.length,p.length);for(let q=0;q<p.length;q++){const ne=p[q];ne.providersResolver&&ne.providersResolver(ne)}let w=!1,A=!1,N=vd(o,l,p.length,null);for(let q=0;q<p.length;q++){const ne=p[q];c.mergedAttrs=_a(c.mergedAttrs,ne.hostAttrs),Zk(o,c,l,N,ne),G3(N,ne,y),null!==ne.contentQueries&&(c.flags|=8),(null!==ne.hostBindings||null!==ne.hostAttrs||0!==ne.hostVars)&&(c.flags|=128);const ce=ne.type.prototype;!w&&(ce.ngOnChanges||ce.ngOnInit||ce.ngDoCheck)&&((o.preOrderHooks||(o.preOrderHooks=[])).push(c.index),w=!0),!A&&(ce.ngOnChanges||ce.ngDoCheck)&&((o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(c.index),A=!0),N++}!function(o,l){const d=l.directiveEnd,h=o.data,p=l.attrs,y=[];let w=null,A=null;for(let N=l.directiveStart;N<d;N++){const q=h[N],ne=q.inputs,ce=null===p||gC(l)?null:AC(ne,p);y.push(ce),w=OS(ne,N,w),A=OS(q.outputs,N,A)}null!==w&&(w.hasOwnProperty("class")&&(l.flags|=16),w.hasOwnProperty("style")&&(l.flags|=32)),l.initialInputs=y,l.inputs=w,l.outputs=A}(o,c)}y&&function(o,l,c){if(l){const d=o.localNames=[];for(let h=0;h<l.length;h+=2){const p=c[l[h+1]];if(null==p)throw new Re("301",`Export of name '${l[h+1]}' not found!`);d.push(l[h],p)}}}(c,d,y)}return c.mergedAttrs=_a(c.mergedAttrs,c.attrs),h}function FS(o,l,c,d,h,p){const y=p.hostBindings;if(y){let w=o.hostBindingOpCodes;null===w&&(w=o.hostBindingOpCodes=[]);const A=~l.index;(function(o){let l=o.length;for(;l>0;){const c=o[--l];if("number"==typeof c&&c<0)return c}return 0})(w)!=A&&w.push(A),w.push(d,h,y)}}function qy(o,l){null!==o.hostBindings&&o.hostBindings(1,l)}function $k(o,l){l.flags|=2,(o.components||(o.components=[])).push(l.index)}function G3(o,l,c){if(c){if(l.exportAs)for(let d=0;d<l.exportAs.length;d++)c[l.exportAs[d]]=o;Xi(l)&&(c[""]=o)}}function Yk(o,l,c){o.flags|=1,o.directiveStart=l,o.directiveEnd=l+c,o.providerIndexes=l}function Zk(o,l,c,d,h){o.data[d]=h;const p=h.factory||(h.factory=me(h.type)),y=new Ku(p,Xi(h),null);o.blueprint[d]=y,c[d]=y,FS(o,l,0,d,vd(o,c,h.hostVars,Ot),h)}function IC(o,l,c){const d=Jr(l,o),h=kS(c),p=o[10],y=kC(o,sp(o,h,null,c.onPush?64:16,d,l,p,p.createRenderer(d,c),null,null));o[l.index]=y}function mo(o,l,c,d,h,p){const y=Jr(o,l);!function(o,l,c,d,h,p,y){if(null==p)Vn(o)?o.removeAttribute(l,h,c):l.removeAttribute(h);else{const w=null==y?Q(p):y(p,d||"",h);Vn(o)?o.setAttribute(l,h,w,c):c?l.setAttributeNS(c,h,w):l.setAttribute(h,w)}}(l[11],y,p,o.value,c,d,h)}function Wk(o,l,c,d,h,p){const y=p[l];if(null!==y){const w=d.setInput;for(let A=0;A<y.length;){const N=y[A++],q=y[A++],ne=y[A++];null!==w?d.setInput(c,ne,N,q):c[q]=ne}}}function AC(o,l){let c=null,d=0;for(;d<l.length;){const h=l[d];if(0!==h)if(5!==h){if("number"==typeof h)break;o.hasOwnProperty(h)&&(null===c&&(c=[]),c.push(h,o[h],l[d+1])),d+=2}else d+=2;else d+=4}return c}function MC(o,l,c,d){return new Array(o,!0,!1,l,null,0,d,c,null,null)}function Y3(o,l){const c=ss(l,o);if($d(c)){const d=c[1];80&c[2]?ap(d,c,d.template,c[8]):c[5]>0&&Cu(c)}}function Cu(o){for(let d=Iy(o);null!==d;d=cS(d))for(let h=10;h<d.length;h++){const p=d[h];if(1024&p[2]){const y=p[1];ap(y,p,y.template,p[8])}else p[5]>0&&Cu(p)}const c=o[1].components;if(null!==c)for(let d=0;d<c.length;d++){const h=ss(c[d],o);$d(h)&&h[5]>0&&Cu(h)}}function Z3(o,l){const c=ss(l,o),d=c[1];(function(o,l){for(let c=l.length;c<o.blueprint.length;c++)l.push(o.blueprint[c])})(d,c),op(d,c,c[8])}function kC(o,l){return o[13]?o[14][4]=l:o[13]=l,o[14]=l,l}function ir(o){for(;o;){o[2]|=64;const l=tm(o);if(yi(o)&&!l)return o;o=l}return null}function OC(o,l,c){const d=l[10];d.begin&&d.begin();try{ap(o,l,o.template,c)}catch(h){throw nR(l,h),h}finally{d.end&&d.end()}}function Qk(o){!function(o){for(let l=0;l<o.components.length;l++){const c=o.components[l],d=tl(c),h=d[1];Ms(h,d,h.template,c)}}(o[8])}function BS(o,l,c){Zc(0),l(o,c)}const eR=(()=>Promise.resolve(null))();function US(o){return o[7]||(o[7]=[])}function jS(o){return o.cleanup||(o.cleanup=[])}function tR(o,l,c){return(null===o||Xi(o))&&(c=function(o){for(;Array.isArray(o);){if("object"==typeof o[1])return o;o=o[0]}return null}(c[l.index])),c[11]}function nR(o,l){const c=o[9],d=c?c.get(E,null):null;d&&d.handleError(l)}function Ah(o,l,c,d,h){for(let p=0;p<c.length;){const y=c[p++],w=c[p++],A=l[y],N=o.data[y];null!==N.setInput?N.setInput(A,h,d,w):A[w]=h}}function Vr(o,l,c){const d=Ga(l,o);!function(o,l,c){Vn(o)?o.setValue(l,c):l.textContent=c}(o[11],d,c)}function hp(o,l,c){let d=c?o.styles:null,h=c?o.classes:null,p=0;if(null!==l)for(let y=0;y<l.length;y++){const w=l[y];"number"==typeof w?p=w:1==p?h=j(h,w):2==p&&(d=j(d,w+": "+l[++y]+";"))}c?o.styles=d:o.stylesWithoutHost=d,c?o.classes=h:o.classesWithoutHost=h}const il=new vi("INJECTOR",-1);class wu{get(l,c=Sn){if(c===Sn){const d=new Error(`NullInjectorError: No provider for ${L(l)}!`);throw d.name="NullInjectorError",d}return c}}const Bl=new vi("Set Injector scope."),rl={},W3={};let HS;function iR(){return void 0===HS&&(HS=new wu),HS}function qS(o,l=null,c=null,d){return new Q3(o,c,l||iR(),d)}class Q3{constructor(l,c,d,h=null){this.parent=d,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const p=[];c&&Ho(c,w=>this.processProvider(w,l,c)),Ho([l],w=>this.processInjectorType(w,[],p)),this.records.set(il,sm(void 0,this));const y=this.records.get(Bl);this.scope=null!=y?y.value:null,this.source=h||("object"==typeof l?null:L(l))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(l=>l.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(l,c=Sn,d=It.Default){this.assertNotDestroyed();const h=sn(this),p=Ii(void 0);try{if(!(d&It.SkipSelf)){let w=this.records.get(l);if(void 0===w){const A=("function"==typeof(o=l)||"object"==typeof o&&o instanceof vi)&&gn(l);w=A&&this.injectableDefInScope(A)?sm(zS(l),rl):null,this.records.set(l,w)}if(null!=w)return this.hydrate(l,w)}return(d&It.Self?iR():this.parent).get(l,c=d&It.Optional&&c===Sn?null:c)}catch(y){if("NullInjectorError"===y.name){if((y[zi]=y[zi]||[]).unshift(L(l)),h)throw y;return po(y,l,"R3InjectorError",this.source)}throw y}finally{Ii(p),sn(h)}var o}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(l=>this.get(l))}toString(){const l=[];return this.records.forEach((d,h)=>l.push(L(h))),`R3Injector[${l.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(l,c,d){if(!(l=W(l)))return!1;let h=Vs(l);const p=null==h&&l.ngModule||void 0,y=void 0===p?l:p,w=-1!==d.indexOf(y);if(void 0!==p&&(h=Vs(p)),null==h)return!1;if(null!=h.imports&&!w){let q;d.push(y);try{Ho(h.imports,ne=>{this.processInjectorType(ne,c,d)&&(void 0===q&&(q=[]),q.push(ne))})}finally{}if(void 0!==q)for(let ne=0;ne<q.length;ne++){const{ngModule:ce,providers:Te}=q[ne];Ho(Te,Pe=>this.processProvider(Pe,ce,Te||Se))}}this.injectorDefTypes.add(y);const A=me(y)||(()=>new y);this.records.set(y,sm(A,rl));const N=h.providers;if(null!=N&&!w){const q=l;Ho(N,ne=>this.processProvider(ne,q,N))}return void 0!==p&&void 0!==l.providers}processProvider(l,c,d){let h=om(l=W(l))?l:W(l&&l.provide);const p=sR(o=l)?sm(void 0,o.useValue):sm(rR(o),rl);var o;if(om(l)||!0!==l.multi)this.records.get(h);else{let y=this.records.get(h);y||(y=sm(void 0,rl,!0),y.factory=()=>yc(y.multi),this.records.set(h,y)),h=l,y.multi.push(l)}this.records.set(h,p)}hydrate(l,c){return c.value===rl&&(c.value=W3,c.value=c.factory()),"object"==typeof c.value&&c.value&&null!==(o=c.value)&&"object"==typeof o&&"function"==typeof o.ngOnDestroy&&this.onDestroy.add(c.value),c.value;var o}injectableDefInScope(l){if(!l.providedIn)return!1;const c=W(l.providedIn);return"string"==typeof c?"any"===c||c===this.scope:this.injectorDefTypes.has(c)}}function zS(o){const l=gn(o),c=null!==l?l.factory:me(o);if(null!==c)return c;if(o instanceof vi)throw new Error(`Token ${L(o)} is missing a \u0275prov definition.`);if(o instanceof Function)return function(o){const l=o.length;if(l>0){const d=wa(l,"?");throw new Error(`Can't resolve all parameters for ${L(o)}: (${d.join(", ")}).`)}const c=function(o){const l=o&&(o[bs]||o[zr]);if(l){const c=function(o){if(o.hasOwnProperty("name"))return o.name;const l=(""+o).match(/^function\s*([^\s(]+)/);return null===l?"":l[1]}(o);return console.warn(`DEPRECATED: DI is instantiating a token "${c}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${c}" class.`),l}return null}(o);return null!==c?()=>c.factory(o):()=>new o}(o);throw new Error("unreachable")}function rR(o,l,c){let d;if(om(o)){const h=W(o);return me(h)||zS(h)}if(sR(o))d=()=>W(o.useValue);else if(function(o){return!(!o||!o.useFactory)}(o))d=()=>o.useFactory(...yc(o.deps||[]));else if(function(o){return!(!o||!o.useExisting)}(o))d=()=>pi(W(o.useExisting));else{const h=W(o&&(o.useClass||o.provide));if(!function(o){return!!o.deps}(o))return me(h)||zS(h);d=()=>new h(...yc(o.deps))}return d}function sm(o,l,c=!1){return{factory:o,value:l,multi:c?[]:void 0}}function sR(o){return null!==o&&"object"==typeof o&&Gs in o}function om(o){return"function"==typeof o}const aR=function(o,l,c){return function(o,l=null,c=null,d){const h=qS(o,l,c,d);return h._resolveInjectorDefTypes(),h}({name:c},l,o,c)};let rr=(()=>{class o{static create(c,d){return Array.isArray(c)?aR(c,d,""):aR(c.providers,c.parent,c.name||"")}}return o.THROW_IF_NOT_FOUND=Sn,o.NULL=new wu,o.\u0275prov=Ht({token:o,providedIn:"any",factory:()=>pi(il)}),o.__NG_ELEMENT_ID__=-1,o})();function pU(o,l){dc(tl(o)[1],ii())}function QS(o){let l=function(o){return Object.getPrototypeOf(o.prototype).constructor}(o.type),c=!0;const d=[o];for(;l;){let h;if(Xi(o))h=l.\u0275cmp||l.\u0275dir;else{if(l.\u0275cmp)throw new Error("Directives cannot inherit Components");h=l.\u0275dir}if(h){if(c){d.push(h);const y=o;y.inputs=JS(o.inputs),y.declaredInputs=JS(o.declaredInputs),y.outputs=JS(o.outputs);const w=h.hostBindings;w&&yU(o,w);const A=h.viewQuery,N=h.contentQueries;if(A&&mU(o,A),N&&_U(o,N),F(o.inputs,h.inputs),F(o.declaredInputs,h.declaredInputs),F(o.outputs,h.outputs),Xi(h)&&h.data.animation){const q=o.data;q.animation=(q.animation||[]).concat(h.data.animation)}}const p=h.features;if(p)for(let y=0;y<p.length;y++){const w=p[y];w&&w.ngInherit&&w(o),w===QS&&(c=!1)}}l=Object.getPrototypeOf(l)}!function(o){let l=0,c=null;for(let d=o.length-1;d>=0;d--){const h=o[d];h.hostVars=l+=h.hostVars,h.hostAttrs=_a(h.hostAttrs,c=_a(c,h.hostAttrs))}}(d)}function JS(o){return o===Ae?{}:o===Se?[]:o}function mU(o,l){const c=o.viewQuery;o.viewQuery=c?(d,h)=>{l(d,h),c(d,h)}:l}function _U(o,l){const c=o.contentQueries;o.contentQueries=c?(d,h,p)=>{l(d,h,p),c(d,h,p)}:l}function yU(o,l){const c=o.hostBindings;o.hostBindings=c?(d,h)=>{l(d,h),c(d,h)}:l}let FC=null;function am(){if(!FC){const o=Fn.Symbol;if(o&&o.iterator)FC=o.iterator;else{const l=Object.getOwnPropertyNames(Map.prototype);for(let c=0;c<l.length;++c){const d=l[c];"entries"!==d&&"size"!==d&&Map.prototype[d]===Map.prototype.entries&&(FC=d)}}}return FC}class Ic{constructor(l){this.wrapped=l}static wrap(l){return new Ic(l)}static unwrap(l){return Ic.isWrapped(l)?l.wrapped:l}static isWrapped(l){return l instanceof Ic}}function Yy(o){return!!XS(o)&&(Array.isArray(o)||!(o instanceof Map)&&am()in o)}function XS(o){return null!==o&&("function"==typeof o||"object"==typeof o)}function Eu(o,l,c){return o[l]=c}function _o(o,l,c){return!Object.is(o[l],c)&&(o[l]=c,!0)}function fp(o,l,c,d){const h=_o(o,l,c);return _o(o,l+1,d)||h}function Ul(o,l,c,d,h,p){const y=fp(o,l,c,d);return fp(o,l+2,h,p)||y}function ex(o,l,c,d){const h=rt();return _o(h,ma(),l)&&(mn(),mo(er(),h,o,l,c,d)),ex}function cm(o,l,c,d){return _o(o,ma(),c)?l+Q(c)+d:Ot}function sx(o,l,c,d,h,p,y,w){const A=rt(),N=mn(),q=o+20,ne=N.firstCreatePass?function(o,l,c,d,h,p,y,w,A){const N=l.consts,q=Tc(l,o,4,y||null,pa(N,w));xC(l,c,q,pa(N,A)),dc(l,q);const ne=q.tViews=nm(2,q,d,h,p,l.directiveRegistry,l.pipeRegistry,null,l.schemas,N);return null!==l.queries&&(l.queries.template(l,q),ne.queries=l.queries.embeddedTView(q)),q}(q,N,A,l,c,d,h,p,y):N.data[q];Bs(ne,!1);const ce=A[11].createComment("");Xf(N,A,ce,ne),Lr(ce,A),kC(A,A[q]=MC(ce,A,ce,ne)),ws(ne)&&Hy(N,A,ne),null!=y&&cp(A,ne,w)}function IR(o){return No(Jt.lFrame.contextLView,20+o)}function yp(o,l=It.Default){const c=rt();return null===c?pi(o,l):xl(ii(),c,W(o),l)}function tv(o,l,c){const d=rt();return _o(d,ma(),l)&&xa(mn(),er(),d,o,l,d[11],c,!1),tv}function YC(o,l,c,d,h){const y=h?"class":"style";Ah(o,c,l.inputs[y],y,d)}function ZC(o,l,c,d){const h=rt(),p=mn(),y=20+o,w=h[11],A=h[y]=aC(w,l,Jt.lFrame.currentNamespace),N=p.firstCreatePass?function(o,l,c,d,h,p,y){const w=l.consts,N=Tc(l,o,2,h,pa(w,p));return xC(l,c,N,pa(w,y)),null!==N.attrs&&hp(N,N.attrs,!1),null!==N.mergedAttrs&&hp(N,N.mergedAttrs,!0),null!==l.queries&&l.queries.elementStart(l,N),N}(y,p,h,0,l,c,d):p.data[y];Bs(N,!0);const q=N.mergedAttrs;null!==q&&Bo(w,A,q);const ne=N.classes;null!==ne&&fC(w,A,ne);const ce=N.styles;null!==ce&&yS(w,A,ce),64!=(64&N.flags)&&Xf(p,h,A,N),0===Jt.lFrame.elementDepthCount&&Lr(A,h),Jt.lFrame.elementDepthCount++,ws(N)&&(Hy(p,h,N),lp(p,N,h)),null!==d&&cp(h,N)}function WC(){let o=ii();Wu()?ac():(o=o.parent,Bs(o,!1));const l=o;Jt.lFrame.elementDepthCount--;const c=mn();c.firstCreatePass&&(dc(c,o),la(o)&&c.queries.elementEnd(o)),null!=l.classesWithoutHost&&function(o){return 0!=(16&o.flags)}(l)&&YC(c,l,rt(),l.classesWithoutHost,!0),null!=l.stylesWithoutHost&&function(o){return 0!=(32&o.flags)}(l)&&YC(c,l,rt(),l.stylesWithoutHost,!1)}function yx(o,l,c,d){ZC(o,l,c,d),WC()}function nv(o,l,c){const d=rt(),h=mn(),p=o+20,y=h.firstCreatePass?function(o,l,c,d,h){const p=l.consts,y=pa(p,d),w=Tc(l,o,8,"ng-container",y);return null!==y&&hp(w,y,!0),xC(l,c,w,pa(p,h)),null!==l.queries&&l.queries.elementStart(l,w),w}(p,h,d,l,c):h.data[p];Bs(y,!0);const w=d[p]=d[11].createComment("");Xf(h,d,w,y),Lr(w,d),ws(y)&&(Hy(h,d,y),lp(h,y,d)),null!=c&&cp(d,y)}function iv(){let o=ii();const l=mn();Wu()?ac():(o=o.parent,Bs(o,!1)),l.firstCreatePass&&(dc(l,o),la(o)&&l.queries.elementEnd(o))}function vx(o,l,c){nv(o,l,c),iv()}function bx(){return rt()}function KC(o){return!!o&&"function"==typeof o.then}function Cx(o){return!!o&&"function"==typeof o.subscribe}const rv=Cx;function QC(o,l,c,d){const h=rt(),p=mn(),y=ii();return Ex(p,h,h[11],y,o,l,!!c,d),QC}function wx(o,l){const c=ii(),d=rt(),h=mn();return Ex(h,d,tR(Cl(h.data),c,d),c,o,l,!1),wx}function Ex(o,l,c,d,h,p,y,w){const A=ws(d),q=o.firstCreatePass&&jS(o),ne=l[8],ce=US(l);let Te=!0;if(3&d.type||w){const je=Jr(d,l),dt=w?w(je):je,et=ce.length,qt=w?on=>w(ai(on[d.index])):d.index;if(Vn(c)){let on=null;if(!w&&A&&(on=function(o,l,c,d){const h=o.cleanup;if(null!=h)for(let p=0;p<h.length-1;p+=2){const y=h[p];if(y===c&&h[p+1]===d){const w=l[7],A=h[p+2];return w.length>A?w[A]:null}"string"==typeof y&&(p+=2)}return null}(o,l,h,d.index)),null!==on)(on.__ngLastListenerFn__||on).__ngNextListenerFn__=p,on.__ngLastListenerFn__=p,Te=!1;else{p=JC(d,l,ne,p,!1);const An=c.listen(dt,h,p);ce.push(p,An),q&&q.push(h,qt,et,et+1)}}else p=JC(d,l,ne,p,!0),dt.addEventListener(h,p,y),ce.push(p),q&&q.push(h,qt,et,y)}else p=JC(d,l,ne,p,!1);const Pe=d.outputs;let Ge;if(Te&&null!==Pe&&(Ge=Pe[h])){const je=Ge.length;if(je)for(let dt=0;dt<je;dt+=2){const Ur=l[Ge[dt]][Ge[dt+1]].subscribe(p),ka=ce.length;ce.push(p,Ur),q&&q.push(h,d.index,ka,-(ka+1))}}}function Dx(o,l,c,d){try{return!1!==c(d)}catch(h){return nR(o,h),!1}}function JC(o,l,c,d,h){return function p(y){if(y===Function)return d;const w=2&o.flags?ss(o.index,l):l;0==(32&l[2])&&ir(w);let A=Dx(l,0,d,y),N=p.__ngNextListenerFn__;for(;N;)A=Dx(l,0,N,y)&&A,N=N.__ngNextListenerFn__;return h&&!1===A&&(y.preventDefault(),y.returnValue=!1),A}}function Tx(o=1){return function(o){return(Jt.lFrame.contextLView=function(o,l){for(;o>0;)l=l[15],o--;return l}(o,Jt.lFrame.contextLView))[8]}(o)}function NU(o,l){let c=null;const d=function(o){const l=o.attrs;if(null!=l){const c=l.indexOf(5);if(0==(1&c))return l[c+1]}return null}(o);for(let h=0;h<l.length;h++){const p=l[h];if("*"!==p){if(null===d?bS(o,p,!0):I3(d,p))return h}else c=h}return c}function HR(o){const l=rt()[16][6];if(!l.projection){const d=l.projection=wa(o?o.length:1,null),h=d.slice();let p=l.child;for(;null!==p;){const y=o?NU(p,o):0;null!==y&&(h[y]?h[y].projectionNext=p:d[y]=p,h[y]=p),p=p.next}}}function qR(o,l=0,c){const d=rt(),h=mn(),p=Tc(h,20+o,16,null,c||null);null===p.projection&&(p.projection=l),ac(),64!=(64&p.flags)&&function(o,l,c){gd(l[11],0,l,c,hS(o,c,l),Py(c.parent||l[6],c,l))}(h,d,p)}function _m(o,l,c,d,h){const p=o[c+1],y=null===l;let w=d?Ec(p):yu(p),A=!1;for(;0!==w&&(!1===A||y);){const q=o[w+1];Aa(o[w],l)&&(A=!0,o[w+1]=d?vC(q):_C(q)),w=d?Ec(q):yu(q)}A&&(o[c+1]=d?_C(p):vC(p))}function Aa(o,l){return null===o||null==l||(Array.isArray(o)?o[1]:o)===l||!(!Array.isArray(o)||"string"!=typeof l)&&Ea(o,l)>=0}const Br={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function rw(o){return o.substring(Br.key,Br.keyEnd)}function ow(o,l){const c=Br.textEnd;return c===l?-1:(l=Br.keyEnd=function(o,l,c){for(;l<c&&o.charCodeAt(l)>32;)l++;return l}(o,Br.key=l,c),vp(o,l,c))}function vp(o,l,c){for(;l<c&&o.charCodeAt(l)<=32;)l++;return l}function ui(o,l,c){return sl(o,l,c,!1),ui}function Tu(o,l){return sl(o,l,null,!0),Tu}function Su(o,l){for(let c=function(o){return function(o){Br.key=0,Br.keyEnd=0,Br.value=0,Br.valueEnd=0,Br.textEnd=o.length}(o),ow(o,vp(o,0,Br.textEnd))}(l);c>=0;c=ow(l,c))qi(o,rw(l),!0)}function sl(o,l,c,d){const h=rt(),p=mn(),y=Xr(2);p.firstUpdatePass&&Ph(p,o,y,d),l!==Ot&&_o(h,y,l)&&zo(p,p.data[es()],h,h[11],o,h[y+1]=function(o,l){return null==o||("string"==typeof l?o+=l:"object"==typeof o&&(o=L(Pl(o)))),o}(l,c),d,y)}function dw(o,l){return l>=o.expandoStartIndex}function Ph(o,l,c,d){const h=o.data;if(null===h[c+1]){const p=h[es()],y=dw(o,c);av(p,d)&&null===l&&!y&&(l=!1),l=function(o,l,c,d){const h=Cl(o);let p=d?l.residualClasses:l.residualStyles;if(null===h)0===(d?l.classBindings:l.styleBindings)&&(c=bp(c=Mc(null,o,l,c,d),l.attrs,d),p=null);else{const y=l.directiveStylingLast;if(-1===y||o[y]!==h)if(c=Mc(h,o,l,c,d),null===p){let A=function(o,l,c){const d=c?l.classBindings:l.styleBindings;if(0!==yu(d))return o[Ec(d)]}(o,l,d);void 0!==A&&Array.isArray(A)&&(A=Mc(null,o,l,A[1],d),A=bp(A,l.attrs,d),function(o,l,c,d){o[Ec(c?l.classBindings:l.styleBindings)]=d}(o,l,d,A))}else p=function(o,l,c){let d;const h=l.directiveEnd;for(let p=1+l.directiveStylingLast;p<h;p++)d=bp(d,o[p].hostAttrs,c);return bp(d,l.attrs,c)}(o,l,d)}return void 0!==p&&(d?l.residualClasses=p:l.residualStyles=p),c}(h,p,l,d),function(o,l,c,d,h,p){let y=p?l.classBindings:l.styleBindings,w=Ec(y),A=yu(y);o[d]=c;let q,N=!1;if(Array.isArray(c)){const ne=c;q=ne[1],(null===q||Ea(ne,q)>0)&&(N=!0)}else q=c;if(h)if(0!==A){const ce=Ec(o[w+1]);o[d+1]=By(ce,w),0!==ce&&(o[ce+1]=yC(o[ce+1],d)),o[w+1]=function(o,l){return 131071&o|l<<17}(o[w+1],d)}else o[d+1]=By(w,0),0!==w&&(o[w+1]=yC(o[w+1],d)),w=d;else o[d+1]=By(A,0),0===w?w=d:o[A+1]=yC(o[A+1],d),A=d;N&&(o[d+1]=_C(o[d+1])),_m(o,q,d,!0),_m(o,q,d,!1),function(o,l,c,d,h){const p=h?o.residualClasses:o.residualStyles;null!=p&&"string"==typeof l&&Ea(p,l)>=0&&(c[d+1]=vC(c[d+1]))}(l,q,o,d,p),y=By(w,A),p?l.classBindings=y:l.styleBindings=y}(h,p,l,c,y,d)}}function Mc(o,l,c,d,h){let p=null;const y=c.directiveEnd;let w=c.directiveStylingLast;for(-1===w?w=c.directiveStart:w++;w<y&&(p=l[w],d=bp(d,p.hostAttrs,h),p!==o);)w++;return null!==o&&(c.directiveStylingLast=w),d}function bp(o,l,c){const d=c?1:2;let h=-1;if(null!==l)for(let p=0;p<l.length;p++){const y=l[p];"number"==typeof y?h=y:h===d&&(Array.isArray(o)||(o=void 0===o?[]:["",o]),qi(o,y,!!c||l[++p]))}return void 0===o?null:o}function zo(o,l,c,d,h,p,y,w){if(!(3&l.type))return;const A=o.data,N=A[w+1];Cp(function(o){return 1==(1&o)}(N)?mw(A,l,c,h,yu(N),y):void 0)||(Cp(p)||function(o){return 2==(2&o)}(N)&&(p=mw(A,null,c,h,w,y)),function(o,l,c,d,h){const p=Vn(o);if(l)h?p?o.addClass(c,d):c.classList.add(d):p?o.removeClass(c,d):c.classList.remove(d);else{let y=-1===d.indexOf("-")?void 0:Sa.DashCase;if(null==h)p?o.removeStyle(c,d,y):c.style.removeProperty(d);else{const w="string"==typeof h&&h.endsWith("!important");w&&(h=h.slice(0,-10),y|=Sa.Important),p?o.setStyle(c,d,h,y):c.style.setProperty(d,h,w?"important":"")}}}(d,y,Ga(es(),c),h,p))}function mw(o,l,c,d,h,p){const y=null===l;let w;for(;h>0;){const A=o[h],N=Array.isArray(A),q=N?A[1]:A,ne=null===q;let ce=c[h+1];ce===Ot&&(ce=ne?Se:void 0);let Te=ne?Pi(ce,d):q===d?ce:void 0;if(N&&!Cp(Te)&&(Te=Pi(A,d)),Cp(Te)&&(w=Te,y))return w;const Pe=o[h+1];h=y?Ec(Pe):yu(Pe)}if(null!==l){let A=p?l.residualClasses:l.residualStyles;null!=A&&(w=Pi(A,d))}return w}function Cp(o){return void 0!==o}function av(o,l){return 0!=(o.flags&(l?16:32))}function $R(o,l=""){const c=rt(),d=mn(),h=o+20,p=d.firstCreatePass?Tc(d,h,1,l,null):d.data[h],y=c[h]=function(o,l){return Vn(o)?o.createText(l):o.createTextNode(l)}(c[11],l);Xf(d,c,y,p),Bs(p,!1)}function lv(o){return _w("",o,""),lv}function _w(o,l,c){const d=rt(),h=cm(d,o,l,c);return h!==Ot&&Vr(d,es(),h),_w}function cv(o,l,c,d,h){const p=rt(),y=function(o,l,c,d,h,p){const w=fp(o,Us(),c,h);return Xr(2),w?l+Q(c)+d+Q(h)+p:Ot}(p,o,l,c,d,h);return y!==Ot&&Vr(p,es(),y),cv}function uv(o,l,c,d,h,p,y,w,A,N,q){const ne=rt(),ce=function(o,l,c,d,h,p,y,w,A,N,q,ne){const ce=Us();let Te=Ul(o,ce,c,h,y,A);return Te=_o(o,ce+4,q)||Te,Xr(5),Te?l+Q(c)+d+Q(h)+p+Q(y)+w+Q(A)+N+Q(q)+ne:Ot}(ne,o,l,c,d,h,p,y,w,A,N,q);return ce!==Ot&&Vr(ne,es(),ce),uv}function pv(o,l,c){!function(o,l,c,d){const h=mn(),p=Xr(2);h.firstUpdatePass&&Ph(h,null,p,d);const y=rt();if(c!==Ot&&_o(y,p,c)){const w=h.data[es()];if(av(w,d)&&!dw(h,p)){let A=d?w.classesWithoutHost:w.stylesWithoutHost;null!==A&&(c=j(A,c||"")),YC(h,w,y,c,d)}else!function(o,l,c,d,h,p,y,w){h===Ot&&(h=Se);let A=0,N=0,q=0<h.length?h[0]:null,ne=0<p.length?p[0]:null;for(;null!==q||null!==ne;){const ce=A<h.length?h[A+1]:void 0,Te=N<p.length?p[N+1]:void 0;let Ge,Pe=null;q===ne?(A+=2,N+=2,ce!==Te&&(Pe=ne,Ge=Te)):null===ne||null!==q&&q<ne?(A+=2,Pe=q):(N+=2,Pe=ne,Ge=Te),null!==Pe&&zo(o,l,c,d,Pe,Ge,y,w),q=A<h.length?h[A]:null,ne=N<p.length?p[N]:null}}(h,w,y,y[11],y[p+1],y[p+1]=function(o,l,c){if(null==c||""===c)return Se;const d=[],h=Pl(c);if(Array.isArray(h))for(let p=0;p<h.length;p++)o(d,h[p],!0);else if("object"==typeof h)for(const p in h)h.hasOwnProperty(p)&&o(d,p,h[p]);else"string"==typeof h&&l(d,h);return d}(o,l,c),d,p)}}(qi,Su,cm(rt(),o,l,c),!0)}function Tw(o,l,c){const d=rt();return _o(d,ma(),l)&&xa(mn(),er(),d,o,l,d[11],c,!0),Tw}function ym(o,l,c){const d=rt();if(_o(d,ma(),l)){const p=mn(),y=er();xa(p,y,d,o,l,tR(Cl(p.data),y,d),c,!0)}return ym}const Dd=void 0;var bv=["en",[["a","p"],["AM","PM"],Dd],[["AM","PM"],Dd,Dd],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Dd,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Dd,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Dd,"{1} 'at' {0}",Dd],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(o){const l=Math.floor(Math.abs(o)),c=o.toString().replace(/^[^.]*\.?/,"").length;return 1===l&&0===c?1:5}];let Ep={};function Sw(o,l,c){"string"!=typeof l&&(c=l,l=o[Kt.LocaleId]),l=l.toLowerCase().replace(/_/g,"-"),Ep[l]=o,c&&(Ep[l][Kt.ExtraData]=c)}function xw(o){const l=function(o){return o.toLowerCase().replace(/_/g,"-")}(o);let c=Go(l);if(c)return c;const d=l.split("-")[0];if(c=Go(d),c)return c;if("en"===d)return bv;throw new Error(`Missing locale data for the locale "${o}".`)}function Iw(o){return xw(o)[Kt.PluralCase]}function Go(o){return o in Ep||(Ep[o]=Fn.ng&&Fn.ng.common&&Fn.ng.common.locales&&Fn.ng.common.locales[o]),Ep[o]}var Kt=(()=>((Kt=Kt||{})[Kt.LocaleId=0]="LocaleId",Kt[Kt.DayPeriodsFormat=1]="DayPeriodsFormat",Kt[Kt.DayPeriodsStandalone=2]="DayPeriodsStandalone",Kt[Kt.DaysFormat=3]="DaysFormat",Kt[Kt.DaysStandalone=4]="DaysStandalone",Kt[Kt.MonthsFormat=5]="MonthsFormat",Kt[Kt.MonthsStandalone=6]="MonthsStandalone",Kt[Kt.Eras=7]="Eras",Kt[Kt.FirstDayOfWeek=8]="FirstDayOfWeek",Kt[Kt.WeekendRange=9]="WeekendRange",Kt[Kt.DateFormat=10]="DateFormat",Kt[Kt.TimeFormat=11]="TimeFormat",Kt[Kt.DateTimeFormat=12]="DateTimeFormat",Kt[Kt.NumberSymbols=13]="NumberSymbols",Kt[Kt.NumberFormats=14]="NumberFormats",Kt[Kt.CurrencyCode=15]="CurrencyCode",Kt[Kt.CurrencySymbol=16]="CurrencySymbol",Kt[Kt.CurrencyName=17]="CurrencyName",Kt[Kt.Currencies=18]="Currencies",Kt[Kt.Directionality=19]="Directionality",Kt[Kt.PluralCase=20]="PluralCase",Kt[Kt.ExtraData=21]="ExtraData",Kt))();const Lh="en-US";let Aw=Lh;function Mw(o){Xe(o,"Expected localeId to be defined"),"string"==typeof o&&(Aw=o.toLowerCase().replace(/_/g,"-"))}function Lw(o,l,c,d,h){if(o=W(o),Array.isArray(o))for(let p=0;p<o.length;p++)Lw(o[p],l,c,d,h);else{const p=mn(),y=rt();let w=om(o)?o:W(o.provide),A=rR(o);const N=ii(),q=1048575&N.providerIndexes,ne=N.directiveStart,ce=N.providerIndexes>>20;if(om(o)||!o.multi){const Te=new Ku(A,h,yp),Pe=Uw(w,l,h?q:q+ce,ne);-1===Pe?(yt(va(N,y),p,w),Vw(p,o,l.length),l.push(w),N.directiveStart++,N.directiveEnd++,h&&(N.providerIndexes+=1048576),c.push(Te),y.push(Te)):(c[Pe]=Te,y[Pe]=Te)}else{const Te=Uw(w,l,q+ce,ne),Pe=Uw(w,l,q,q+ce),Ge=Te>=0&&c[Te],je=Pe>=0&&c[Pe];if(h&&!je||!h&&!Ge){yt(va(N,y),p,w);const dt=function(o,l,c,d,h){const p=new Ku(o,c,yp);return p.multi=[],p.index=l,p.componentProviders=0,Bw(p,h,d&&!c),p}(h?hI:EO,c.length,h,d,A);!h&&je&&(c[Pe].providerFactory=dt),Vw(p,o,l.length,0),l.push(w),N.directiveStart++,N.directiveEnd++,h&&(N.providerIndexes+=1048576),c.push(dt),y.push(dt)}else Vw(p,o,Te>-1?Te:Pe,Bw(c[h?Pe:Te],A,!h&&d));!h&&d&&je&&c[Pe].componentProviders++}}}function Vw(o,l,c,d){const h=om(l);if(h||function(o){return!!o.useClass}(l)){const y=(l.useClass||l).prototype.ngOnDestroy;if(y){const w=o.destroyHooks||(o.destroyHooks=[]);if(!h&&l.multi){const A=w.indexOf(c);-1===A?w.push(c,[d,y]):w[A+1].push(d,y)}else w.push(c,y)}}}function Bw(o,l,c){return c&&o.componentProviders++,o.multi.push(l)-1}function Uw(o,l,c,d){for(let h=c;h<d;h++)if(l[h]===o)return h;return-1}function EO(o,l,c,d){return Tm(this.multi,[])}function hI(o,l,c,d){const h=this.multi;let p;if(this.providerFactory){const y=this.providerFactory.componentProviders,w=Bn(c,c[1],this.providerFactory.index,d);p=w.slice(0,y),Tm(h,p);for(let A=y;A<w.length;A++)p.push(w[A])}else p=[],Tm(h,p);return p}function Tm(o,l){for(let c=0;c<o.length;c++)l.push((0,o[c])());return l}function Sm(o,l=[]){return c=>{c.providersResolver=(d,h)=>function(o,l,c){const d=mn();if(d.firstCreatePass){const h=Xi(o);Lw(c,d.data,d.blueprint,h,!0),Lw(l,d.data,d.blueprint,h,!1)}}(d,h?h(o):o,l)}}class pI{}const mI="ngComponent";class TO{resolveComponentFactory(l){throw function(o){const l=Error(`No component factory found for ${L(o)}. Did you add it to @NgModule.entryComponents?`);return l[mI]=o,l}(l)}}let xp=(()=>{class o{}return o.NULL=new TO,o})();function Ov(...o){}function Ip(o,l){return new kc(Jr(o,l))}const yI=function(){return Ip(ii(),rt())};let kc=(()=>{class o{constructor(c){this.nativeElement=c}}return o.__NG_ELEMENT_ID__=yI,o})();function vI(o){return o instanceof kc?o.nativeElement:o}class Pv{}let AO=(()=>{class o{}return o.__NG_ELEMENT_ID__=()=>Nv(),o})();const Nv=function(){const o=rt(),c=ss(ii().index,o);return function(o){return o[11]}(Pr(c)?c:o)};let Fv=(()=>{class o{}return o.\u0275prov=Ht({token:o,providedIn:"root",factory:()=>null}),o})();class CI{constructor(l){this.full=l,this.major=l.split(".")[0],this.minor=l.split(".")[1],this.patch=l.split(".").slice(2).join(".")}}const Hw=new CI("12.2.15");class wI{constructor(){}supports(l){return Yy(l)}create(l){return new PO(l)}}const OO=(o,l)=>l;class PO{constructor(l){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=l||OO}forEachItem(l){let c;for(c=this._itHead;null!==c;c=c._next)l(c)}forEachOperation(l){let c=this._itHead,d=this._removalsHead,h=0,p=null;for(;c||d;){const y=!d||c&&c.currentIndex<zw(d,h,p)?c:d,w=zw(y,h,p),A=y.currentIndex;if(y===d)h--,d=d._nextRemoved;else if(c=c._next,null==y.previousIndex)h++;else{p||(p=[]);const N=w-h,q=A-h;if(N!=q){for(let ce=0;ce<N;ce++){const Te=ce<p.length?p[ce]:p[ce]=0,Pe=Te+ce;q<=Pe&&Pe<N&&(p[ce]=Te+1)}p[y.previousIndex]=q-N}}w!==A&&l(y,w,A)}}forEachPreviousItem(l){let c;for(c=this._previousItHead;null!==c;c=c._nextPrevious)l(c)}forEachAddedItem(l){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)l(c)}forEachMovedItem(l){let c;for(c=this._movesHead;null!==c;c=c._nextMoved)l(c)}forEachRemovedItem(l){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)l(c)}forEachIdentityChange(l){let c;for(c=this._identityChangesHead;null!==c;c=c._nextIdentityChange)l(c)}diff(l){if(null==l&&(l=[]),!Yy(l))throw new Error(`Error trying to diff '${L(l)}'. Only arrays and iterables are allowed`);return this.check(l)?this:null}onDestroy(){}check(l){this._reset();let h,p,y,c=this._itHead,d=!1;if(Array.isArray(l)){this.length=l.length;for(let w=0;w<this.length;w++)p=l[w],y=this._trackByFn(w,p),null!==c&&Object.is(c.trackById,y)?(d&&(c=this._verifyReinsertion(c,p,y,w)),Object.is(c.item,p)||this._addIdentityChange(c,p)):(c=this._mismatch(c,p,y,w),d=!0),c=c._next}else h=0,function(o,l){if(Array.isArray(o))for(let c=0;c<o.length;c++)l(o[c]);else{const c=o[am()]();let d;for(;!(d=c.next()).done;)l(d.value)}}(l,w=>{y=this._trackByFn(h,w),null!==c&&Object.is(c.trackById,y)?(d&&(c=this._verifyReinsertion(c,w,y,h)),Object.is(c.item,w)||this._addIdentityChange(c,w)):(c=this._mismatch(c,w,y,h),d=!0),c=c._next,h++}),this.length=h;return this._truncate(c),this.collection=l,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let l;for(l=this._previousItHead=this._itHead;null!==l;l=l._next)l._nextPrevious=l._next;for(l=this._additionsHead;null!==l;l=l._nextAdded)l.previousIndex=l.currentIndex;for(this._additionsHead=this._additionsTail=null,l=this._movesHead;null!==l;l=l._nextMoved)l.previousIndex=l.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(l,c,d,h){let p;return null===l?p=this._itTail:(p=l._prev,this._remove(l)),null!==(l=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null))?(Object.is(l.item,c)||this._addIdentityChange(l,c),this._reinsertAfter(l,p,h)):null!==(l=null===this._linkedRecords?null:this._linkedRecords.get(d,h))?(Object.is(l.item,c)||this._addIdentityChange(l,c),this._moveAfter(l,p,h)):l=this._addAfter(new NO(c,d),p,h),l}_verifyReinsertion(l,c,d,h){let p=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null);return null!==p?l=this._reinsertAfter(p,l._prev,h):l.currentIndex!=h&&(l.currentIndex=h,this._addToMoves(l,h)),l}_truncate(l){for(;null!==l;){const c=l._next;this._addToRemovals(this._unlink(l)),l=c}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(l,c,d){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(l);const h=l._prevRemoved,p=l._nextRemoved;return null===h?this._removalsHead=p:h._nextRemoved=p,null===p?this._removalsTail=h:p._prevRemoved=h,this._insertAfter(l,c,d),this._addToMoves(l,d),l}_moveAfter(l,c,d){return this._unlink(l),this._insertAfter(l,c,d),this._addToMoves(l,d),l}_addAfter(l,c,d){return this._insertAfter(l,c,d),this._additionsTail=null===this._additionsTail?this._additionsHead=l:this._additionsTail._nextAdded=l,l}_insertAfter(l,c,d){const h=null===c?this._itHead:c._next;return l._next=h,l._prev=c,null===h?this._itTail=l:h._prev=l,null===c?this._itHead=l:c._next=l,null===this._linkedRecords&&(this._linkedRecords=new qw),this._linkedRecords.put(l),l.currentIndex=d,l}_remove(l){return this._addToRemovals(this._unlink(l))}_unlink(l){null!==this._linkedRecords&&this._linkedRecords.remove(l);const c=l._prev,d=l._next;return null===c?this._itHead=d:c._next=d,null===d?this._itTail=c:d._prev=c,l}_addToMoves(l,c){return l.previousIndex===c||(this._movesTail=null===this._movesTail?this._movesHead=l:this._movesTail._nextMoved=l),l}_addToRemovals(l){return null===this._unlinkedRecords&&(this._unlinkedRecords=new qw),this._unlinkedRecords.put(l),l.currentIndex=null,l._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=l,l._prevRemoved=null):(l._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=l),l}_addIdentityChange(l,c){return l.item=c,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=l:this._identityChangesTail._nextIdentityChange=l,l}}class NO{constructor(l,c){this.item=l,this.trackById=c,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class yo{constructor(){this._head=null,this._tail=null}add(l){null===this._head?(this._head=this._tail=l,l._nextDup=null,l._prevDup=null):(this._tail._nextDup=l,l._prevDup=this._tail,l._nextDup=null,this._tail=l)}get(l,c){let d;for(d=this._head;null!==d;d=d._nextDup)if((null===c||c<=d.currentIndex)&&Object.is(d.trackById,l))return d;return null}remove(l){const c=l._prevDup,d=l._nextDup;return null===c?this._head=d:c._nextDup=d,null===d?this._tail=c:d._prevDup=c,null===this._head}}class qw{constructor(){this.map=new Map}put(l){const c=l.trackById;let d=this.map.get(c);d||(d=new yo,this.map.set(c,d)),d.add(l)}get(l,c){const h=this.map.get(l);return h?h.get(l,c):null}remove(l){const c=l.trackById;return this.map.get(c).remove(l)&&this.map.delete(c),l}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function zw(o,l,c){const d=o.previousIndex;if(null===d)return d;let h=0;return c&&d<c.length&&(h=c[d]),d+l+h}class Gw{constructor(){}supports(l){return l instanceof Map||XS(l)}create(){return new FO}}class FO{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(l){let c;for(c=this._mapHead;null!==c;c=c._next)l(c)}forEachPreviousItem(l){let c;for(c=this._previousMapHead;null!==c;c=c._nextPrevious)l(c)}forEachChangedItem(l){let c;for(c=this._changesHead;null!==c;c=c._nextChanged)l(c)}forEachAddedItem(l){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)l(c)}forEachRemovedItem(l){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)l(c)}diff(l){if(l){if(!(l instanceof Map||XS(l)))throw new Error(`Error trying to diff '${L(l)}'. Only maps and objects are allowed`)}else l=new Map;return this.check(l)?this:null}onDestroy(){}check(l){this._reset();let c=this._mapHead;if(this._appendAfter=null,this._forEach(l,(d,h)=>{if(c&&c.key===h)this._maybeAddToChanges(c,d),this._appendAfter=c,c=c._next;else{const p=this._getOrCreateRecordForKey(h,d);c=this._insertBeforeOrAppend(c,p)}}),c){c._prev&&(c._prev._next=null),this._removalsHead=c;for(let d=c;null!==d;d=d._nextRemoved)d===this._mapHead&&(this._mapHead=null),this._records.delete(d.key),d._nextRemoved=d._next,d.previousValue=d.currentValue,d.currentValue=null,d._prev=null,d._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(l,c){if(l){const d=l._prev;return c._next=l,c._prev=d,l._prev=c,d&&(d._next=c),l===this._mapHead&&(this._mapHead=c),this._appendAfter=l,l}return this._appendAfter?(this._appendAfter._next=c,c._prev=this._appendAfter):this._mapHead=c,this._appendAfter=c,null}_getOrCreateRecordForKey(l,c){if(this._records.has(l)){const h=this._records.get(l);this._maybeAddToChanges(h,c);const p=h._prev,y=h._next;return p&&(p._next=y),y&&(y._prev=p),h._next=null,h._prev=null,h}const d=new $U(l);return this._records.set(l,d),d.currentValue=c,this._addToAdditions(d),d}_reset(){if(this.isDirty){let l;for(this._previousMapHead=this._mapHead,l=this._previousMapHead;null!==l;l=l._next)l._nextPrevious=l._next;for(l=this._changesHead;null!==l;l=l._nextChanged)l.previousValue=l.currentValue;for(l=this._additionsHead;null!=l;l=l._nextAdded)l.previousValue=l.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(l,c){Object.is(c,l.currentValue)||(l.previousValue=l.currentValue,l.currentValue=c,this._addToChanges(l))}_addToAdditions(l){null===this._additionsHead?this._additionsHead=this._additionsTail=l:(this._additionsTail._nextAdded=l,this._additionsTail=l)}_addToChanges(l){null===this._changesHead?this._changesHead=this._changesTail=l:(this._changesTail._nextChanged=l,this._changesTail=l)}_forEach(l,c){l instanceof Map?l.forEach(c):Object.keys(l).forEach(d=>c(l[d],d))}}class $U{constructor(l){this.key=l,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function EI(){return new Lv([new wI])}let Lv=(()=>{class o{constructor(c){this.factories=c}static create(c,d){if(null!=d){const h=d.factories.slice();c=c.concat(h)}return new o(c)}static extend(c){return{provide:o,useFactory:d=>o.create(c,d||EI()),deps:[[o,new ts,new Ja]]}}find(c){const d=this.factories.find(h=>h.supports(c));if(null!=d)return d;throw new Error(`Cannot find a differ supporting object '${c}' of type '${function(o){return o.name||typeof o}(c)}'`)}}return o.\u0275prov=Ht({token:o,providedIn:"root",factory:EI}),o})();function DI(){return new Vv([new Gw])}let Vv=(()=>{class o{constructor(c){this.factories=c}static create(c,d){if(d){const h=d.factories.slice();c=c.concat(h)}return new o(c)}static extend(c){return{provide:o,useFactory:d=>o.create(c,d||DI()),deps:[[o,new ts,new Ja]]}}find(c){const d=this.factories.find(h=>h.supports(c));if(d)return d;throw new Error(`Cannot find a differ supporting object '${c}'`)}}return o.\u0275prov=Ht({token:o,providedIn:"root",factory:DI}),o})();function $w(o,l,c,d,h=!1){for(;null!==c;){const p=l[c.index];if(null!==p&&d.push(ai(p)),Ji(p))for(let w=10;w<p.length;w++){const A=p[w],N=A[1].firstChild;null!==N&&$w(A[1],A,N,d)}const y=c.type;if(8&y)$w(o,l,c.child,d);else if(32&y){const w=hd(c,l);let A;for(;A=w();)d.push(A)}else if(16&y){const w=uC(l,c);if(Array.isArray(w))d.push(...w);else{const A=tm(l[16]);$w(A[1],A,w,d,!0)}}c=h?c.projectionNext:c.next}return d}class xm{constructor(l,c){this._lView=l,this._cdRefInjectingView=c,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const l=this._lView,c=l[1];return $w(c,l,c.firstChild,[])}get context(){return this._lView[8]}set context(l){this._lView[8]=l}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const l=this._lView[3];if(Ji(l)){const c=l[8],d=c?c.indexOf(this):-1;d>-1&&(ky(l,d),Ds(c,d))}this._attachedToViewContainer=!1}dS(this._lView[1],this._lView)}onDestroy(l){bd(this._lView[1],this._lView,null,l)}markForCheck(){ir(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){OC(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(o,l,c){cc(!0);try{OC(o,l,c)}finally{cc(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var l;this._appRef=null,Th(this._lView[1],l=this._lView,l[11],2,null,null)}attachToAppRef(l){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=l}}class VO extends xm{constructor(l){super(l),this._view=l}detectChanges(){Qk(this._view)}checkNoChanges(){!function(o){cc(!0);try{Qk(o)}finally{cc(!1)}}(this._view)}get context(){return null}}const BO=function(o){return function(o,l,c){if(ca(o)&&!c){const d=ss(o.index,l);return new xm(d,d)}return 47&o.type?new xm(l[16],l):null}(ii(),rt(),16==(16&o))};let wn=(()=>{class o{}return o.__NG_ELEMENT_ID__=BO,o})();const Im=[new Gw],Yw=new Lv([new wI]),SI=new Vv(Im),_r=function(){return Uv(ii(),rt())};let $o=(()=>{class o{}return o.__NG_ELEMENT_ID__=_r,o})();const Hh=$o,jO=class extends Hh{constructor(l,c,d){super(),this._declarationLView=l,this._declarationTContainer=c,this.elementRef=d}createEmbeddedView(l){const c=this._declarationTContainer.tViews,d=sp(this._declarationLView,c,l,16,null,c.declTNode,null,null,null,null);d[17]=this._declarationLView[this._declarationTContainer.index];const p=this._declarationLView[19];return null!==p&&(d[19]=p.createEmbeddedView(c)),op(c,d,l),new xm(d)}};function Uv(o,l){return 4&o.type?new jO(l,o,Ip(o,l)):null}class qh{}class xI{}const HO=function(){return $O(ii(),rt())};let Hv=(()=>{class o{}return o.__NG_ELEMENT_ID__=HO,o})();const zO=Hv,GO=class extends zO{constructor(l,c,d){super(),this._lContainer=l,this._hostTNode=c,this._hostLView=d}get element(){return Ip(this._hostTNode,this._hostLView)}get injector(){return new Hs(this._hostTNode,this._hostLView)}get parentInjector(){const l=ft(this._hostTNode,this._hostLView);if(Ei(l)){const c=Tl(l,this._hostLView),d=ya(l);return new Hs(c[1].data[d+8],c)}return new Hs(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(l){const c=zh(this._lContainer);return null!==c&&c[l]||null}get length(){return this._lContainer.length-10}createEmbeddedView(l,c,d){const h=l.createEmbeddedView(c||{});return this.insert(h,d),h}createComponent(l,c,d,h,p){const y=d||this.parentInjector;if(!p&&null==l.ngModule&&y){const A=y.get(qh,null);A&&(p=A)}const w=l.create(y,h,void 0,p);return this.insert(w.hostView,c),w}insert(l,c){const d=l._lView,h=d[1];if(Ji(d[3])){const q=this.indexOf(l);if(-1!==q)this.detach(q);else{const ne=d[3],ce=new GO(ne,ne[6],ne[3]);ce.detach(ce.indexOf(l))}}const p=this._adjustIndex(c),y=this._lContainer;!function(o,l,c,d){const h=10+d,p=c.length;d>0&&(c[h-1][4]=l),d<p-10?(l[4]=c[h],Al(c,10+d,l)):(c.push(l),l[4]=null),l[3]=c;const y=l[17];null!==y&&c!==y&&function(o,l){const c=o[9];l[16]!==l[3][3][16]&&(o[2]=!0),null===c?o[9]=[l]:c.push(l)}(y,l);const w=l[19];null!==w&&w.insertView(o),l[2]|=128}(h,d,y,p);const w=dC(p,y),A=d[11],N=Ry(A,y[7]);return null!==N&&function(o,l,c,d,h,p){d[0]=h,d[6]=l,Th(o,d,c,1,h,p)}(h,y[6],A,d,N,w),l.attachToViewContainerRef(),Al(II(y),p,l),l}move(l,c){return this.insert(l,c)}indexOf(l){const c=zh(this._lContainer);return null!==c?c.indexOf(l):-1}remove(l){const c=this._adjustIndex(l,-1),d=ky(this._lContainer,c);d&&(Ds(II(this._lContainer),c),dS(d[1],d))}detach(l){const c=this._adjustIndex(l,-1),d=ky(this._lContainer,c);return d&&null!=Ds(II(this._lContainer),c)?new xm(d):null}_adjustIndex(l,c=0){return null==l?this.length+c:l}};function zh(o){return o[8]}function II(o){return o[8]||(o[8]=[])}function $O(o,l){let c;const d=l[o.index];if(Ji(d))c=d;else{let h;if(8&o.type)h=ai(d);else{const p=l[11];h=p.createComment("");const y=Jr(o,l);pd(p,Ry(p,y),h,function(o,l){return Vn(o)?o.nextSibling(l):l.nextSibling}(p,y),!1)}l[o.index]=c=MC(d,l,h,o),kC(l,c)}return new GO(c,o,l)}const Pp={};class aE extends xp{constructor(l){super(),this.ngModule=l}resolveComponentFactory(l){const c=Mi(l);return new VI(c,this.ngModule)}}function lE(o){const l=[];for(let c in o)o.hasOwnProperty(c)&&l.push({propName:o[c],templateName:c});return l}const RP=new vi("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>qo});class VI extends pI{constructor(l,c){super(),this.componentDef=l,this.ngModule=c,this.componentType=l.type,this.selector=l.selectors.map(As).join(","),this.ngContentSelectors=l.ngContentSelectors?l.ngContentSelectors:[],this.isBoundToModule=!!c}get inputs(){return lE(this.componentDef.inputs)}get outputs(){return lE(this.componentDef.outputs)}create(l,c,d,h){const p=(h=h||this.ngModule)?function(o,l){return{get:(c,d,h)=>{const p=o.get(c,Pp,h);return p!==Pp||d===Pp?p:l.get(c,d,h)}}}(l,h.injector):l,y=p.get(Pv,co),w=p.get(Fv,null),A=y.createRenderer(null,this.componentDef),N=this.componentDef.selectors[0][0]||"div",q=d?function(o,l,c){if(Vn(o))return o.selectRootElement(l,c===pt.ShadowDom);let d="string"==typeof l?o.querySelector(l):l;return d.textContent="",d}(A,d,this.componentDef.encapsulation):aC(y.createRenderer(null,this.componentDef),N,function(o){const l=o.toLowerCase();return"svg"===l?jt:"math"===l?"http://www.w3.org/1998/MathML/":null}(N)),ne=this.componentDef.onPush?576:528,ce=function(o,l){return{components:[],scheduler:o||qo,clean:eR,playerHandler:l||null,flags:0}}(),Te=nm(0,null,null,1,0,null,null,null,null,null),Pe=sp(null,Te,ce,ne,null,null,y,A,w,p);let Ge,je;Qc(Pe);try{const dt=function(o,l,c,d,h,p){const y=c[1];c[20]=o;const A=Tc(y,20,2,"#host",null),N=A.mergedAttrs=l.hostAttrs;null!==N&&(hp(A,N,!0),null!==o&&(Bo(h,o,N),null!==A.classes&&fC(h,o,A.classes),null!==A.styles&&yS(h,o,A.styles)));const q=d.createRenderer(o,l),ne=sp(c,kS(l),null,l.onPush?64:16,c[20],A,d,q,p||null,null);return y.firstCreatePass&&(yt(va(A,c),y,l.type),$k(y,A),Yk(A,c.length,1)),kC(c,ne),c[20]=ne}(q,this.componentDef,Pe,y,A);if(q)if(d)Bo(A,q,["ng-version",Hw.full]);else{const{attrs:et,classes:qt}=function(o){const l=[],c=[];let d=1,h=2;for(;d<o.length;){let p=o[d];if("string"==typeof p)2===h?""!==p&&l.push(p,o[++d]):8===h&&c.push(p);else{if(!Ll(h))break;h=p}d++}return{attrs:l,classes:c}}(this.componentDef.selectors[0]);et&&Bo(A,q,et),qt&&qt.length>0&&fC(A,q,qt.join(" "))}if(je=Yu(Te,20),void 0!==c){const et=je.projection=[];for(let qt=0;qt<this.ngContentSelectors.length;qt++){const on=c[qt];et.push(null!=on?Array.from(on):null)}}Ge=function(o,l,c,d,h){const p=c[1],y=function(o,l,c){const d=ii();o.firstCreatePass&&(c.providersResolver&&c.providersResolver(c),Zk(o,d,l,vd(o,l,1,null),c));const h=Bn(l,o,d.directiveStart,d);Lr(h,l);const p=Jr(d,l);return p&&Lr(p,l),h}(p,c,l);if(d.components.push(y),o[8]=y,h&&h.forEach(A=>A(y,l)),l.contentQueries){const A=ii();l.contentQueries(1,y,A.directiveStart)}const w=ii();return!p.firstCreatePass||null===l.hostBindings&&null===l.hostAttrs||(Jc(w.index),FS(c[1],w,0,w.directiveStart,w.directiveEnd,l),qy(l,y)),y}(dt,this.componentDef,Pe,ce,[pU]),op(Te,Pe,null)}finally{El()}return new Wh(this.componentType,Ge,Ip(je,Pe),Pe,je)}}class Wh extends class{}{constructor(l,c,d,h,p){super(),this.location=d,this._rootLView=h,this._tNode=p,this.instance=c,this.hostView=this.changeDetectorRef=new VO(h),this.componentType=l}get injector(){return new Hs(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(l){this.hostView.onDestroy(l)}}const Np=new Map;class lj extends qh{constructor(l,c){super(),this._parent=c,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new aE(this);const d=Bi(l),h=l[Zt]||null;h&&Mw(h),this._bootstrapComponents=Ta(d.bootstrap),this._r3Injector=qS(l,c,[{provide:qh,useValue:this},{provide:xp,useValue:this.componentFactoryResolver}],L(l)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(l)}get(l,c=rr.THROW_IF_NOT_FOUND,d=It.Default){return l===rr||l===qh||l===il?this:this._r3Injector.get(l,c,d)}destroy(){const l=this._r3Injector;!l.destroyed&&l.destroy(),this.destroyCbs.forEach(c=>c()),this.destroyCbs=null}onDestroy(l){this.destroyCbs.push(l)}}class tb extends xI{constructor(l){super(),this.moduleType=l,null!==Bi(l)&&function(o){const l=new Set;!function c(d){const h=Bi(d,!0),p=h.id;null!==p&&(function(o,l,c){if(l&&l!==c)throw new Error(`Duplicate module registered for ${o} - ${L(l)} vs ${L(l.name)}`)}(p,Np.get(p),d),Np.set(p,d));const y=Ta(h.imports);for(const w of y)l.has(w)||(l.add(w),c(w))}(o)}(l)}create(l){return new lj(this.moduleType,l)}}function FP(o,l,c){const d=ji()+o,h=rt();return h[d]===Ot?Eu(h,d,c?l.call(c):l()):function(o,l){return o[l]}(h,d)}function uE(o,l,c,d){return jP(rt(),ji(),o,l,c,d)}function ul(o,l){const c=o[l];return c===Ot?void 0:c}function jP(o,l,c,d,h,p){const y=l+c;return _o(o,y,h)?Eu(o,y+1,p?d.call(p,h):d(h)):ul(o,y+1)}function fE(o,l){const c=mn();let d;const h=o+20;c.firstCreatePass?(d=function(o,l){if(l)for(let c=l.length-1;c>=0;c--){const d=l[c];if(o===d.name)return d}throw new Re("302",`The pipe '${o}' could not be found!`)}(l,c.pipeRegistry),c.data[h]=d,d.onDestroy&&(c.destroyHooks||(c.destroyHooks=[])).push(h,d.onDestroy)):d=c.data[h];const p=d.factory||(d.factory=me(d.type)),y=Ii(yp);try{const w=fc(!1),A=p();return fc(w),function(o,l,c,d){c>=o.data.length&&(o.data[c]=null,o.blueprint[c]=null),l[c]=d}(c,rt(),h,A),A}finally{Ii(y)}}function Fp(o,l,c){const d=o+20,h=rt(),p=No(h,d);return Kh(h,Lp(h,d)?jP(h,ji(),l,p.transform,c,p):p.transform(c))}function Mr(o,l,c,d){const h=o+20,p=rt(),y=No(p,h);return Kh(p,Lp(p,h)?function(o,l,c,d,h,p,y){const w=l+c;return fp(o,w,h,p)?Eu(o,w+2,y?d.call(y,h,p):d(h,p)):ul(o,w+2)}(p,ji(),l,y.transform,c,d,y):y.transform(c,d))}function nb(o,l,c,d,h,p){const y=o+20,w=rt(),A=No(w,y);return Kh(w,Lp(w,y)?function(o,l,c,d,h,p,y,w,A){const N=l+c;return Ul(o,N,h,p,y,w)?Eu(o,N+4,A?d.call(A,h,p,y,w):d(h,p,y,w)):ul(o,N+4)}(w,ji(),l,A.transform,c,d,h,p,A):A.transform(c,d,h,p))}function Lp(o,l){return o[1].data[l].pure}function Kh(o,l){return Ic.isWrapped(l)&&(l=Ic.unwrap(l),o[Us()]=Ot),l}function rb(o){return l=>{setTimeout(o,void 0,l)}}const zl=class extends r.xQ{constructor(l=!1){super(),this.__isAsync=l}emit(l){super.next(l)}subscribe(l,c,d){var h,p,y;let w=l,A=c||(()=>null),N=d;if(l&&"object"==typeof l){const ne=l;w=null===(h=ne.next)||void 0===h?void 0:h.bind(ne),A=null===(p=ne.error)||void 0===p?void 0:p.bind(ne),N=null===(y=ne.complete)||void 0===y?void 0:y.bind(ne)}this.__isAsync&&(A=rb(A),w&&(w=rb(w)),N&&(N=rb(N)));const q=super.subscribe({next:w,error:A,complete:N});return l instanceof b.w&&l.add(q),q}};function qP(){return this._results[am()]()}class sb{constructor(l=!1){this._emitDistinctChangesOnly=l,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const c=am(),d=sb.prototype;d[c]||(d[c]=qP)}get changes(){return this._changes||(this._changes=new zl)}get(l){return this._results[l]}map(l){return this._results.map(l)}filter(l){return this._results.filter(l)}find(l){return this._results.find(l)}reduce(l,c){return this._results.reduce(l,c)}forEach(l){this._results.forEach(l)}some(l){return this._results.some(l)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(l,c){const d=this;d.dirty=!1;const h=fo(l);(this._changesDetected=!function(o,l,c){if(o.length!==l.length)return!1;for(let d=0;d<o.length;d++){let h=o[d],p=l[d];if(c&&(h=c(h),p=c(p)),p!==h)return!1}return!0}(d._results,h,c))&&(d._results=h,d.length=h.length,d.last=h[this.length-1],d.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;class GI{constructor(l){this.queryList=l,this.matches=null}clone(){return new GI(this.queryList)}setDirty(){this.queryList.setDirty()}}class $I{constructor(l=[]){this.queries=l}createEmbeddedView(l){const c=l.queries;if(null!==c){const d=null!==l.contentQueries?l.contentQueries[0]:c.length,h=[];for(let p=0;p<d;p++){const y=c.getByIndex(p);h.push(this.queries[y.indexInDeclarationView].clone())}return new $I(h)}return null}insertView(l){this.dirtyQueriesWithMatches(l)}detachView(l){this.dirtyQueriesWithMatches(l)}dirtyQueriesWithMatches(l){for(let c=0;c<this.queries.length;c++)null!==JI(l,c).matches&&this.queries[c].setDirty()}}class zP{constructor(l,c,d=null){this.predicate=l,this.flags=c,this.read=d}}class gE{constructor(l=[]){this.queries=l}elementStart(l,c){for(let d=0;d<this.queries.length;d++)this.queries[d].elementStart(l,c)}elementEnd(l){for(let c=0;c<this.queries.length;c++)this.queries[c].elementEnd(l)}embeddedTView(l){let c=null;for(let d=0;d<this.length;d++){const h=null!==c?c.length:0,p=this.getByIndex(d).embeddedTView(l,h);p&&(p.indexInDeclarationView=d,null!==c?c.push(p):c=[p])}return null!==c?new gE(c):null}template(l,c){for(let d=0;d<this.queries.length;d++)this.queries[d].template(l,c)}getByIndex(l){return this.queries[l]}get length(){return this.queries.length}track(l){this.queries.push(l)}}class mE{constructor(l,c=-1){this.metadata=l,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=c}elementStart(l,c){this.isApplyingToNode(c)&&this.matchTNode(l,c)}elementEnd(l){this._declarationNodeIndex===l.index&&(this._appliesToNextNode=!1)}template(l,c){this.elementStart(l,c)}embeddedTView(l,c){return this.isApplyingToNode(l)?(this.crossesNgTemplate=!0,this.addMatch(-l.index,c),new mE(this.metadata)):null}isApplyingToNode(l){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const c=this._declarationNodeIndex;let d=l.parent;for(;null!==d&&8&d.type&&d.index!==c;)d=d.parent;return c===(null!==d?d.index:-1)}return this._appliesToNextNode}matchTNode(l,c){const d=this.metadata.predicate;if(Array.isArray(d))for(let h=0;h<d.length;h++){const p=d[h];this.matchTNodeWithReadOption(l,c,YI(c,p)),this.matchTNodeWithReadOption(l,c,ba(c,l,p,!1,!1))}else d===$o?4&c.type&&this.matchTNodeWithReadOption(l,c,-1):this.matchTNodeWithReadOption(l,c,ba(c,l,d,!1,!1))}matchTNodeWithReadOption(l,c,d){if(null!==d){const h=this.metadata.read;if(null!==h)if(h===kc||h===Hv||h===$o&&4&c.type)this.addMatch(c.index,-2);else{const p=ba(c,l,h,!1,!1);null!==p&&this.addMatch(c.index,p)}else this.addMatch(c.index,d)}}addMatch(l,c){null===this.matches?this.matches=[l,c]:this.matches.push(l,c)}}function YI(o,l){const c=o.localNames;if(null!==c)for(let d=0;d<c.length;d+=2)if(c[d]===l)return c[d+1];return null}function yE(o,l,c,d){return-1===c?function(o,l){return 11&o.type?Ip(o,l):4&o.type?Uv(o,l):null}(l,o):-2===c?function(o,l,c){return c===kc?Ip(l,o):c===$o?Uv(l,o):c===Hv?$O(l,o):void 0}(o,l,d):Bn(o,o[1],c,l)}function WI(o,l,c,d){const h=l[19].queries[d];if(null===h.matches){const p=o.data,y=c.matches,w=[];for(let A=0;A<y.length;A+=2){const N=y[A];w.push(N<0?null:yE(l,p[N],y[A+1],c.metadata.read))}h.matches=w}return h.matches}function Bm(o,l,c,d){const h=o.queries.getByIndex(c),p=h.matches;if(null!==p){const y=WI(o,l,h,c);for(let w=0;w<p.length;w+=2){const A=p[w];if(A>0)d.push(y[w/2]);else{const N=p[w+1],q=l[-A];for(let ne=10;ne<q.length;ne++){const ce=q[ne];ce[17]===ce[3]&&Bm(ce[1],ce,N,d)}if(null!==q[9]){const ne=q[9];for(let ce=0;ce<ne.length;ce++){const Te=ne[ce];Bm(Te[1],Te,N,d)}}}}}return d}function KI(o){const l=rt(),c=mn(),d=bf();Zc(d+1);const h=JI(c,d);if(o.dirty&&qc(l)===(2==(2&h.metadata.flags))){if(null===h.matches)o.reset([]);else{const p=h.crossesNgTemplate?Bm(c,l,d,[]):WI(c,l,h,d);o.reset(p,vI),o.notifyOnChanges()}return!0}return!1}function GP(o,l,c){const d=mn();d.firstCreatePass&&(WP(d,new zP(o,l,c),-1),2==(2&l)&&(d.staticViewQueries=!0)),ZP(d,rt(),l)}function $P(o,l,c,d){const h=mn();if(h.firstCreatePass){const p=ii();WP(h,new zP(l,c,d),p.index),function(o,l){const c=o.contentQueries||(o.contentQueries=[]);l!==(c.length?c[c.length-1]:-1)&&c.push(o.queries.length-1,l)}(h,o),2==(2&c)&&(h.staticContentQueries=!0)}ZP(h,rt(),c)}function QI(){return o=rt(),l=bf(),o[19].queries[l].queryList;var o,l}function ZP(o,l,c){const d=new sb(4==(4&c));bd(o,l,d,d.destroy),null===l[19]&&(l[19]=new $I),l[19].queries.push(new GI(d))}function WP(o,l,c){null===o.queries&&(o.queries=new gE),o.queries.track(new mE(l,c))}function JI(o,l){return o.queries.getByIndex(l)}const $n=new vi("Application Initializer");let Zi=(()=>{class o{constructor(c){this.appInits=c,this.resolve=Ov,this.reject=Ov,this.initialized=!1,this.done=!1,this.donePromise=new Promise((d,h)=>{this.resolve=d,this.reject=h})}runInitializers(){if(this.initialized)return;const c=[],d=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let h=0;h<this.appInits.length;h++){const p=this.appInits[h]();if(KC(p))c.push(p);else if(rv(p)){const y=new Promise((w,A)=>{p.subscribe({complete:w,error:A})});c.push(y)}}Promise.all(c).then(()=>{d()}).catch(h=>{this.reject(h)}),0===c.length&&d(),this.initialized=!0}}return o.\u0275fac=function(c){return new(c||o)(pi($n,8))},o.\u0275prov=Ht({token:o,factory:o.\u0275fac}),o})();const mb=new vi("AppId"),vo={provide:mb,useFactory:function(){return`${oe()}${oe()}${oe()}`},deps:[]};function oe(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const dl=new vi("Platform Initializer"),RE=new vi("Platform ID"),OE=new vi("appBootstrapListener");let lA=(()=>{class o{log(c){console.log(c)}warn(c){console.warn(c)}}return o.\u0275fac=function(c){return new(c||o)},o.\u0275prov=Ht({token:o,factory:o.\u0275fac}),o})();const Ni=new vi("LocaleId"),_b=new vi("DefaultCurrencyCode");class hN{constructor(l,c){this.ngModuleFactory=l,this.componentFactories=c}}const PE=function(o){return new tb(o)},pN=PE,mN=function(o){return Promise.resolve(PE(o))},NE=function(o){const l=PE(o),d=Ta(Bi(o).declarations).reduce((h,p)=>{const y=Mi(p);return y&&h.push(new VI(y)),h},[]);return new hN(l,d)},uA=NE,Ys=function(o){return Promise.resolve(NE(o))};let Ym=(()=>{class o{constructor(){this.compileModuleSync=pN,this.compileModuleAsync=mN,this.compileModuleAndAllComponentsSync=uA,this.compileModuleAndAllComponentsAsync=Ys}clearCache(){}clearCacheFor(c){}getModuleId(c){}}return o.\u0275fac=function(c){return new(c||o)},o.\u0275prov=Ht({token:o,factory:o.\u0275fac}),o})();const vN=(()=>Promise.resolve(0))();function FE(o){"undefined"==typeof Zone?vN.then(()=>{o&&o.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",o)}class Zs{constructor({enableLongStackTrace:l=!1,shouldCoalesceEventChangeDetection:c=!1,shouldCoalesceRunChangeDetection:d=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new zl(!1),this.onMicrotaskEmpty=new zl(!1),this.onStable=new zl(!1),this.onError=new zl(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const h=this;h._nesting=0,h._outer=h._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),l&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!d&&c,h.shouldCoalesceRunChangeDetection=d,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function(){let o=Fn.requestAnimationFrame,l=Fn.cancelAnimationFrame;if("undefined"!=typeof Zone&&o&&l){const c=o[Zone.__symbol__("OriginalDelegate")];c&&(o=c);const d=l[Zone.__symbol__("OriginalDelegate")];d&&(l=d)}return{nativeRequestAnimationFrame:o,nativeCancelAnimationFrame:l}}().nativeRequestAnimationFrame,function(o){const l=()=>{!function(o){o.isCheckStableRunning||-1!==o.lastRequestAnimationFrameId||(o.lastRequestAnimationFrameId=o.nativeRequestAnimationFrame.call(Fn,()=>{o.fakeTopEventTask||(o.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{o.lastRequestAnimationFrameId=-1,Cb(o),o.isCheckStableRunning=!0,Zm(o),o.isCheckStableRunning=!1},void 0,()=>{},()=>{})),o.fakeTopEventTask.invoke()}),Cb(o))}(o)};o._inner=o._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(c,d,h,p,y,w)=>{try{return Pu(o),c.invokeTask(h,p,y,w)}finally{(o.shouldCoalesceEventChangeDetection&&"eventTask"===p.type||o.shouldCoalesceRunChangeDetection)&&l(),hA(o)}},onInvoke:(c,d,h,p,y,w,A)=>{try{return Pu(o),c.invoke(h,p,y,w,A)}finally{o.shouldCoalesceRunChangeDetection&&l(),hA(o)}},onHasTask:(c,d,h,p)=>{c.hasTask(h,p),d===h&&("microTask"==p.change?(o._hasPendingMicrotasks=p.microTask,Cb(o),Zm(o)):"macroTask"==p.change&&(o.hasPendingMacrotasks=p.macroTask))},onHandleError:(c,d,h,p)=>(c.handleError(h,p),o.runOutsideAngular(()=>o.onError.emit(p)),!1)})}(h)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Zs.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Zs.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(l,c,d){return this._inner.run(l,c,d)}runTask(l,c,d,h){const p=this._inner,y=p.scheduleEventTask("NgZoneEvent: "+h,l,dA,Ov,Ov);try{return p.runTask(y,c,d)}finally{p.cancelTask(y)}}runGuarded(l,c,d){return this._inner.runGuarded(l,c,d)}runOutsideAngular(l){return this._outer.run(l)}}const dA={};function Zm(o){if(0==o._nesting&&!o.hasPendingMicrotasks&&!o.isStable)try{o._nesting++,o.onMicrotaskEmpty.emit(null)}finally{if(o._nesting--,!o.hasPendingMicrotasks)try{o.runOutsideAngular(()=>o.onStable.emit(null))}finally{o.isStable=!0}}}function Cb(o){o.hasPendingMicrotasks=!!(o._hasPendingMicrotasks||(o.shouldCoalesceEventChangeDetection||o.shouldCoalesceRunChangeDetection)&&-1!==o.lastRequestAnimationFrameId)}function Pu(o){o._nesting++,o.isStable&&(o.isStable=!1,o.onUnstable.emit(null))}function hA(o){o._nesting--,Zm(o)}class wb{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new zl,this.onMicrotaskEmpty=new zl,this.onStable=new zl,this.onError=new zl}run(l,c,d){return l.apply(c,d)}runGuarded(l,c,d){return l.apply(c,d)}runOutsideAngular(l){return l()}runTask(l,c,d,h){return l.apply(c,d)}}let fA=(()=>{class o{constructor(c){this._ngZone=c,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),c.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Zs.assertNotInAngularZone(),FE(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())FE(()=>{for(;0!==this._callbacks.length;){let c=this._callbacks.pop();clearTimeout(c.timeoutId),c.doneCb(this._didWork)}this._didWork=!1});else{let c=this.getPendingTasks();this._callbacks=this._callbacks.filter(d=>!d.updateCb||!d.updateCb(c)||(clearTimeout(d.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(c=>({source:c.source,creationLocation:c.creationLocation,data:c.data})):[]}addCallback(c,d,h){let p=-1;d&&d>0&&(p=setTimeout(()=>{this._callbacks=this._callbacks.filter(y=>y.timeoutId!==p),c(this._didWork,this.getPendingTasks())},d)),this._callbacks.push({doneCb:c,timeoutId:p,updateCb:h})}whenStable(c,d,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(c,d,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(c,d,h){return[]}}return o.\u0275fac=function(c){return new(c||o)(pi(Zs))},o.\u0275prov=Ht({token:o,factory:o.\u0275fac}),o})(),pA=(()=>{class o{constructor(){this._applications=new Map,VE.addToWindow(this)}registerApplication(c,d){this._applications.set(c,d)}unregisterApplication(c){this._applications.delete(c)}unregisterAllApplications(){this._applications.clear()}getTestability(c){return this._applications.get(c)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(c,d=!0){return VE.findTestabilityInTree(this,c,d)}}return o.\u0275fac=function(c){return new(c||o)},o.\u0275prov=Ht({token:o,factory:o.\u0275fac}),o})();class CN{addToWindow(l){}findTestabilityInTree(l,c,d){return null}}function wN(o){VE=o}let VE=new CN,gA=!0,mA=!1;function BE(){return mA=!0,gA}function EN(){if(mA)throw new Error("Cannot enable prod mode after platform setup.");gA=!1}let sr;const Yl=new vi("AllowMultipleToken");class jE{constructor(l,c){this.name=l,this.token=c}}function CA(o,l,c=[]){const d=`Platform: ${l}`,h=new vi(d);return(p=[])=>{let y=Ws();if(!y||y.injector.get(Yl,!1))if(o)o(c.concat(p).concat({provide:h,useValue:!0}));else{const w=c.concat(p).concat({provide:h,useValue:!0},{provide:Bl,useValue:"platform"});!function(o){if(sr&&!sr.destroyed&&!sr.injector.get(Yl,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");sr=o.get(Wm);const l=o.get(dl,null);l&&l.forEach(c=>c())}(rr.create({providers:w,name:d}))}return function(o){const l=Ws();if(!l)throw new Error("No platform exists!");if(!l.injector.get(o,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return l}(h)}}function Ws(){return sr&&!sr.destroyed?sr:null}let Wm=(()=>{class o{constructor(c){this._injector=c,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(c,d){const w=function(o,l){let c;return c="noop"===o?new wb:("zone.js"===o?void 0:o)||new Zs({enableLongStackTrace:BE(),shouldCoalesceEventChangeDetection:!!(null==l?void 0:l.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==l?void 0:l.ngZoneRunCoalescing)}),c}(d?d.ngZone:void 0,{ngZoneEventCoalescing:d&&d.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:d&&d.ngZoneRunCoalescing||!1}),A=[{provide:Zs,useValue:w}];return w.run(()=>{const N=rr.create({providers:A,parent:this.injector,name:c.moduleType.name}),q=c.create(N),ne=q.injector.get(E,null);if(!ne)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return w.runOutsideAngular(()=>{const ce=w.onError.subscribe({next:Te=>{ne.handleError(Te)}});q.onDestroy(()=>{Eb(this._modules,q),ce.unsubscribe()})}),function(o,l,c){try{const d=c();return KC(d)?d.catch(h=>{throw l.runOutsideAngular(()=>o.handleError(h)),h}):d}catch(d){throw l.runOutsideAngular(()=>o.handleError(d)),d}}(ne,w,()=>{const ce=q.injector.get(Zi);return ce.runInitializers(),ce.donePromise.then(()=>(Mw(q.injector.get(Ni,Lh)||Lh),this._moduleDoBootstrap(q),q))})})}bootstrapModule(c,d=[]){const h=EA({},d);return function(o,l,c){const d=new tb(c);return Promise.resolve(d)}(0,0,c).then(p=>this.bootstrapModuleFactory(p,h))}_moduleDoBootstrap(c){const d=c.injector.get(Qm);if(c._bootstrapComponents.length>0)c._bootstrapComponents.forEach(h=>d.bootstrap(h));else{if(!c.instance.ngDoBootstrap)throw new Error(`The module ${L(c.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);c.instance.ngDoBootstrap(d)}this._modules.push(c)}onDestroy(c){this._destroyListeners.push(c)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(c=>c.destroy()),this._destroyListeners.forEach(c=>c()),this._destroyed=!0}get destroyed(){return this._destroyed}}return o.\u0275fac=function(c){return new(c||o)(pi(rr))},o.\u0275prov=Ht({token:o,factory:o.\u0275fac}),o})();function EA(o,l){return Array.isArray(l)?l.reduce(EA,o):Object.assign(Object.assign({},o),l)}let Qm=(()=>{class o{constructor(c,d,h,p,y){this._zone=c,this._injector=d,this._exceptionHandler=h,this._componentFactoryResolver=p,this._initStatus=y,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const w=new v.y(N=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{N.next(this._stable),N.complete()})}),A=new v.y(N=>{let q;this._zone.runOutsideAngular(()=>{q=this._zone.onStable.subscribe(()=>{Zs.assertNotInAngularZone(),FE(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,N.next(!0))})})});const ne=this._zone.onUnstable.subscribe(()=>{Zs.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{N.next(!1)}))});return()=>{q.unsubscribe(),ne.unsubscribe()}});this.isStable=(0,T.T)(w,A.pipe((0,S.B)()))}bootstrap(c,d){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let h;h=c instanceof pI?c:this._componentFactoryResolver.resolveComponentFactory(c),this.componentTypes.push(h.componentType);const p=function(o){return o.isBoundToModule}(h)?void 0:this._injector.get(qh),w=h.create(rr.NULL,[],d||h.selector,p),A=w.location.nativeElement,N=w.injector.get(fA,null),q=N&&w.injector.get(pA);return N&&q&&q.registerApplication(A,N),w.onDestroy(()=>{this.detachView(w.hostView),Eb(this.components,w),q&&q.unregisterApplication(A)}),this._loadComponent(w),w}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let c of this._views)c.detectChanges()}catch(c){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(c))}finally{this._runningTick=!1}}attachView(c){const d=c;this._views.push(d),d.attachToAppRef(this)}detachView(c){const d=c;Eb(this._views,d),d.detachFromAppRef()}_loadComponent(c){this.attachView(c.hostView),this.tick(),this.components.push(c),this._injector.get(OE,[]).concat(this._bootstrapListeners).forEach(h=>h(c))}ngOnDestroy(){this._views.slice().forEach(c=>c.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return o.\u0275fac=function(c){return new(c||o)(pi(Zs),pi(rr),pi(E),pi(xp),pi(Zi))},o.\u0275prov=Ht({token:o,factory:o.\u0275fac}),o})();function Eb(o,l){const c=o.indexOf(l);c>-1&&o.splice(c,1)}class TA{}class AN{}const MN={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let jp=(()=>{class o{constructor(c,d){this._compiler=c,this._config=d||MN}load(c){return this.loadAndCompile(c)}loadAndCompile(c){let[d,h]=c.split("#");return void 0===h&&(h="default"),M(8255)(d).then(p=>p[h]).then(p=>Hp(p,d,h)).then(p=>this._compiler.compileModuleAsync(p))}loadFactory(c){let[d,h]=c.split("#"),p="NgFactory";return void 0===h&&(h="default",p=""),M(8255)(this._config.factoryPathPrefix+d+this._config.factoryPathSuffix).then(y=>y[h+p]).then(y=>Hp(y,d,h))}}return o.\u0275fac=function(c){return new(c||o)(pi(Ym),pi(AN,8))},o.\u0275prov=Ht({token:o,factory:o.\u0275fac}),o})();function Hp(o,l,c){if(!o)throw new Error(`Cannot find '${c}' in '${l}'`);return o}const PN=function(o){return null},OA=CA(null,"core",[{provide:RE,useValue:"unknown"},{provide:Wm,deps:[rr]},{provide:pA,deps:[]},{provide:lA,deps:[]}]),FA=[{provide:Qm,useClass:Qm,deps:[Zs,rr,E,xp,Zi]},{provide:RP,deps:[Zs],useFactory:function(o){let l=[];return o.onStable.subscribe(()=>{for(;l.length;)l.pop()()}),function(c){l.push(c)}}},{provide:Zi,useClass:Zi,deps:[[new Ja,$n]]},{provide:Ym,useClass:Ym,deps:[]},vo,{provide:Lv,useFactory:function(){return Yw},deps:[]},{provide:Vv,useFactory:function(){return SI},deps:[]},{provide:Ni,useFactory:function(o){return Mw(o=o||"undefined"!=typeof $localize&&$localize.locale||Lh),o},deps:[[new ou(Ni),new Ja,new ts]]},{provide:_b,useValue:"USD"}];let BN=(()=>{class o{constructor(c){}}return o.\u0275fac=function(c){return new(c||o)(pi(Qm))},o.\u0275mod=Mo({type:o}),o.\u0275inj=xt({providers:FA}),o})()},8939:(nt,D,M)=>{"use strict";M.d(D,{hO:()=>be,xv:()=>j,Dh:()=>L,GT:()=>k,cc:()=>we,on:()=>H,pX:()=>S});var r=M(7716),b=M(7841),v=M(4580);nt=M.hmd(nt);const T=["ngOnDestroy"],S=(Q,ue,Ee,Ve={})=>new Proxy(Q,{get:(ze,xe)=>Ee.runOutsideAngular(()=>{var Ie;if(Q[xe])return(null===(Ie=null==Ve?void 0:Ve.spy)||void 0===Ie?void 0:Ie.get)&&Ve.spy.get(xe,Q[xe]),Q[xe];if(T.indexOf(xe)>-1)return()=>{};const ke=ue.toPromise().then(ie=>{const pe=ie&&ie[xe];return"function"==typeof pe?pe.bind(ie):pe&&pe.then?pe.then(K=>Ee.run(()=>K)):Ee.run(()=>pe)});return new Proxy(()=>{},{get:(ie,pe)=>ke[pe],apply:(ie,pe,K)=>ke.then(te=>{var ae;const _e=te&&te(...K);return(null===(ae=null==Ve?void 0:Ve.spy)||void 0===ae?void 0:ae.apply)&&Ve.spy.apply(xe,K,_e),_e})})})}),k=(Q,ue)=>{ue.forEach(Ee=>{Object.getOwnPropertyNames(Ee.prototype||Ee).forEach(Ve=>{Object.defineProperty(Q.prototype,Ve,Object.getOwnPropertyDescriptor(Ee.prototype||Ee,Ve))})})};class F{constructor(ue){return ue}}const L=new r.OlP("angularfire2.app.options"),j=new r.OlP("angularfire2.app.name");function H(Q,ue,Ee){const ze="object"==typeof Ee&&Ee||{};ze.name=ze.name||"string"==typeof Ee&&Ee||"[DEFAULT]";const Ie=b.Z.apps.filter(ke=>ke&&ke.name===ze.name)[0]||ue.runOutsideAngular(()=>b.Z.initializeApp(Q,ze));try{JSON.stringify(Q)!==JSON.stringify(Ie.options)&&Z("error",`${Ie.name} Firebase App already initialized with different options${nt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(ke){}return new F(Ie)}const Z=(Q,...ue)=>{(0,r.X6Q)()&&"undefined"!=typeof console&&console[Q](...ue)},W={provide:F,useFactory:H,deps:[L,r.R0b,[new r.FiY,j]]};let be=(()=>{class Q{constructor(Ee){b.Z.registerVersion("angularfire",v.q4.full,"core"),b.Z.registerVersion("angularfire",v.q4.full,"app-compat"),b.Z.registerVersion("angular",r.q4F.full,Ee.toString())}static initializeApp(Ee,Ve){return{ngModule:Q,providers:[{provide:L,useValue:Ee},{provide:j,useValue:Ve}]}}}return Q.\u0275fac=function(Ee){return new(Ee||Q)(r.LFG(r.Lbi))},Q.\u0275mod=r.oAB({type:Q}),Q.\u0275inj=r.cJS({providers:[W]}),Q})();function we(Q,ue,Ee,Ve,ze){const[,xe,Ie]=globalThis.\u0275AngularfireInstanceCache.find(ke=>ke[0]===Q)||[];if(xe)return function(Q,ue){try{return Q.toString()===ue.toString()}catch(Ee){return Q===ue}}(ze,Ie)||(le("error",`${ue} was already initialized on the ${Ee} Firebase App with different settings.${Me?" You may need to reload as Firebase is not HMR aware.":""}`),le("warn",{is:ze,was:Ie})),xe;{const ke=Ve();return globalThis.\u0275AngularfireInstanceCache.push([Q,ke,ze]),ke}}const Me=!!nt.hot,le=(Q,...ue)=>{(0,r.X6Q)()&&"undefined"!=typeof console&&console[Q](...ue)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},4580:(nt,D,M)=>{"use strict";M.d(D,{q4:()=>iy,iC:()=>Pi,fc:()=>td,HU:()=>ed,vb:()=>Al,JM:()=>Ho});var r=M(7716),b=M(2329),v=M(8239),T=M(8026),S=M(3854),k=M(3910),F=M(5422),L=M(6676);const j="@firebase/installations",H="0.5.5",W=`w:${H}`,be="FIS_v2",ue=new S.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Ee(P){return P instanceof S.ZR&&P.code.includes("request-failed")}function Ve({projectId:P}){return`https://firebaseinstallations.googleapis.com/v1/projects/${P}/installations`}function ze(P){return{token:P.token,requestStatus:2,expiresIn:te(P.expiresIn),creationTime:Date.now()}}function xe(P,V){return Ie.apply(this,arguments)}function Ie(){return(Ie=(0,v.Z)(function*(P,V){const Ce=(yield V.json()).error;return ue.create("request-failed",{requestName:P,serverCode:Ce.code,serverMessage:Ce.message,serverStatus:Ce.status})})).apply(this,arguments)}function ke({apiKey:P}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":P})}function ie(P,{refreshToken:V}){const J=ke(P);return J.append("Authorization",function(P){return`${be} ${P}`}(V)),J}function pe(P){return K.apply(this,arguments)}function K(){return(K=(0,v.Z)(function*(P){const V=yield P();return V.status>=500&&V.status<600?P():V})).apply(this,arguments)}function te(P){return Number(P.replace("s","000"))}function _e(P,V){return ge.apply(this,arguments)}function ge(){return(ge=(0,v.Z)(function*(P,{fid:V}){const J=Ve(P),Ye={method:"POST",headers:ke(P),body:JSON.stringify({fid:V,authVersion:be,appId:P.appId,sdkVersion:W})},at=yield pe(()=>fetch(J,Ye));if(at.ok){const Mt=yield at.json();return{fid:Mt.fid||V,registrationStatus:2,refreshToken:Mt.refreshToken,authToken:ze(Mt.authToken)}}throw yield xe("Create Installation",at)})).apply(this,arguments)}function Ze(P){return new Promise(V=>{setTimeout(V,P)})}const wt=/^[cdef][\w-]{21}$/;function Xe(){try{const P=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(P),P[0]=112+P[0]%16;const J=function(P){return function(P){return btoa(String.fromCharCode(...P)).replace(/\+/g,"-").replace(/\//g,"_")}(P).substr(0,22)}(P);return wt.test(J)?J:""}catch(P){return""}}function St(P){return`${P.appName}!${P.appId}`}const tn=new Map;function vn(P,V){const J=St(P);xt(J,V),function(P,V){const J=(!Hn&&"BroadcastChannel"in self&&(Hn=new BroadcastChannel("[Firebase] FID Change"),Hn.onmessage=P=>{xt(P.data.key,P.data.fid)}),Hn);J&&J.postMessage({key:P,fid:V}),0===tn.size&&Hn&&(Hn.close(),Hn=null)}(J,V)}function xt(P,V){const J=tn.get(P);if(J)for(const Ce of J)Ce(V)}let Hn=null;const Qi="firebase-installations-store";let zr=null;function Gr(){return zr||(zr=(0,L.openDb)("firebase-installations-database",1,P=>{switch(P.oldVersion){case 0:P.createObjectStore(Qi)}})),zr}function It(P,V){return Zn.apply(this,arguments)}function Zn(){return(Zn=(0,v.Z)(function*(P,V){const J=St(P),Be=(yield Gr()).transaction(Qi,"readwrite"),Ye=Be.objectStore(Qi),at=yield Ye.get(J);return yield Ye.put(V,J),yield Be.complete,(!at||at.fid!==V.fid)&&vn(P,V.fid),V})).apply(this,arguments)}function Li(P){return Ii.apply(this,arguments)}function Ii(){return(Ii=(0,v.Z)(function*(P){const V=St(P),Ce=(yield Gr()).transaction(Qi,"readwrite");yield Ce.objectStore(Qi).delete(V),yield Ce.complete})).apply(this,arguments)}function Rt(P,V){return Lt.apply(this,arguments)}function Lt(){return(Lt=(0,v.Z)(function*(P,V){const J=St(P),Be=(yield Gr()).transaction(Qi,"readwrite"),Ye=Be.objectStore(Qi),at=yield Ye.get(J),Mt=V(at);return void 0===Mt?yield Ye.delete(J):yield Ye.put(Mt,J),yield Be.complete,Mt&&(!at||at.fid!==Mt.fid)&&vn(P,Mt.fid),Mt})).apply(this,arguments)}function hn(P){return fn.apply(this,arguments)}function fn(){return(fn=(0,v.Z)(function*(P){let V;const J=yield Rt(P,Ce=>{const Be=Ai(Ce),Ye=Dn(P,Be);return V=Ye.registrationPromise,Ye.installationEntry});return""===J.fid?{installationEntry:yield V}:{installationEntry:J,registrationPromise:V}})).apply(this,arguments)}function Ai(P){return Fn(P||{fid:Xe(),registrationStatus:0})}function Dn(P,V){if(0===V.registrationStatus){if(!navigator.onLine)return{installationEntry:V,registrationPromise:Promise.reject(ue.create("app-offline"))};const J={fid:V.fid,registrationStatus:1,registrationTime:Date.now()};return{installationEntry:J,registrationPromise:function(P,V){return Nt.apply(this,arguments)}(P,J)}}return 1===V.registrationStatus?{installationEntry:V,registrationPromise:Er(P)}:{installationEntry:V}}function Nt(){return(Nt=(0,v.Z)(function*(P,V){try{return It(P,yield _e(P,V))}catch(J){throw Ee(J)&&409===J.customData.serverCode?yield Li(P):yield It(P,{fid:V.fid,registrationStatus:0}),J}})).apply(this,arguments)}function Er(P){return $r.apply(this,arguments)}function $r(){return($r=(0,v.Z)(function*(P){let V=yield Dr(P);for(;1===V.registrationStatus;)yield Ze(100),V=yield Dr(P);if(0===V.registrationStatus){const{installationEntry:J,registrationPromise:Ce}=yield hn(P);return Ce||J}return V})).apply(this,arguments)}function Dr(P){return Rt(P,V=>{if(!V)throw ue.create("installation-not-found");return Fn(V)})}function Fn(P){return function(P){return 1===P.registrationStatus&&P.registrationTime+1e4<Date.now()}(P)?{fid:P.fid,registrationStatus:0}:P}function Rr(P,V){return Ae.apply(this,arguments)}function Ae(){return(Ae=(0,v.Z)(function*({appConfig:P,platformLoggerProvider:V},J){const Ce=Se(P,J),Be=ie(P,J),Ye=V.getImmediate({optional:!0});Ye&&Be.append("x-firebase-client",Ye.getPlatformInfoString());const Mt={method:"POST",headers:Be,body:JSON.stringify({installation:{sdkVersion:W}})},kt=yield pe(()=>fetch(Ce,Mt));if(kt.ok)return ze(yield kt.json());throw yield xe("Generate Auth Token",kt)})).apply(this,arguments)}function Se(P,{fid:V}){return`${Ve(P)}/${V}/authTokens:generate`}function Oe(P){return tt.apply(this,arguments)}function tt(){return(tt=(0,v.Z)(function*(P,V=!1){let J;const Ce=yield Rt(P.appConfig,Ye=>{if(!Wn(Ye))throw ue.create("not-registered");const at=Ye.authToken;if(!V&&ur(at))return Ye;if(1===at.requestStatus)return J=qe(P,V),Ye;{if(!navigator.onLine)throw ue.create("app-offline");const Mt=oi(Ye);return J=rn(P,Mt),Mt}});return J?yield J:Ce.authToken})).apply(this,arguments)}function qe(P,V){return Dt.apply(this,arguments)}function Dt(){return(Dt=(0,v.Z)(function*(P,V){let J=yield Zt(P.appConfig);for(;1===J.authToken.requestStatus;)yield Ze(100),J=yield Zt(P.appConfig);const Ce=J.authToken;return 0===Ce.requestStatus?Oe(P,V):Ce})).apply(this,arguments)}function Zt(P){return Rt(P,V=>{if(!Wn(V))throw ue.create("not-registered");return function(P){return 1===P.requestStatus&&P.requestTime+1e4<Date.now()}(V.authToken)?Object.assign(Object.assign({},V),{authToken:{requestStatus:0}}):V})}function rn(P,V){return Rn.apply(this,arguments)}function Rn(){return(Rn=(0,v.Z)(function*(P,V){try{const J=yield Rr(P,V),Ce=Object.assign(Object.assign({},V),{authToken:J});return yield It(P.appConfig,Ce),J}catch(J){if(!Ee(J)||401!==J.customData.serverCode&&404!==J.customData.serverCode){const Ce=Object.assign(Object.assign({},V),{authToken:{requestStatus:0}});yield It(P.appConfig,Ce)}else yield Li(P.appConfig);throw J}})).apply(this,arguments)}function Wn(P){return void 0!==P&&2===P.registrationStatus}function ur(P){return 2===P.requestStatus&&!function(P){const V=Date.now();return V<P.creationTime||P.creationTime+P.expiresIn<V+36e5}(P)}function oi(P){const V={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},P),{authToken:V})}function Mo(){return(Mo=(0,v.Z)(function*(P){const V=P,{installationEntry:J,registrationPromise:Ce}=yield hn(V.appConfig);return Ce?Ce.catch(console.error):Oe(V).catch(console.error),J.fid})).apply(this,arguments)}function ra(){return(ra=(0,v.Z)(function*(P,V=!1){const J=P;return yield Zr(J.appConfig),(yield Oe(J,V)).token})).apply(this,arguments)}function Zr(P){return Tr.apply(this,arguments)}function Tr(){return(Tr=(0,v.Z)(function*(P){const{registrationPromise:V}=yield hn(P);V&&(yield V)})).apply(this,arguments)}function In(P){return ue.create("missing-app-config-values",{valueName:P})}const hr="installations";(0,T._registerComponent)(new k.wA(hr,P=>{const V=P.getProvider("app").getImmediate();return{app:V,appConfig:function(P){if(!P||!P.options)throw In("App Configuration");if(!P.name)throw In("App Name");const V=["projectId","apiKey","appId"];for(const J of V)if(!P.options[J])throw In(J);return{appName:P.name,projectId:P.options.projectId,apiKey:P.options.apiKey,appId:P.options.appId}}(V),platformLoggerProvider:(0,T._getProvider)(V,"platform-logger"),_delete:()=>Promise.resolve()}},"PUBLIC")),(0,T._registerComponent)(new k.wA("installations-internal",P=>{const V=P.getProvider("app").getImmediate(),J=(0,T._getProvider)(V,hr).getImmediate();return{getId:()=>function(P){return Mo.apply(this,arguments)}(J),getToken:Be=>function(P){return ra.apply(this,arguments)}(J,Be)}},"PRIVATE")),(0,T.registerVersion)(j,H),(0,T.registerVersion)(j,H,"esm2017");const Kr="@firebase/remote-config",zn=new S.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class ws{constructor(V,J,Ce,Be){this.client=V,this.storage=J,this.storageCache=Ce,this.logger=Be}isCachedDataFresh(V,J){if(!J)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const Ce=Date.now()-J,Be=Ce<=V;return this.logger.debug(`Config fetch cache check. Cache age millis: ${Ce}. Cache max age millis (minimumFetchIntervalMillis setting): ${V}. Is cache hit: ${Be}.`),Be}fetch(V){var J=this;return(0,v.Z)(function*(){const[Ce,Be]=yield Promise.all([J.storage.getLastSuccessfulFetchTimestampMillis(),J.storage.getLastSuccessfulFetchResponse()]);if(Be&&J.isCachedDataFresh(V.cacheMaxAgeMillis,Ce))return Be;V.eTag=Be&&Be.eTag;const Ye=yield J.client.fetch(V),at=[J.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Ye.status&&at.push(J.storage.setLastSuccessfulFetchResponse(Ye)),yield Promise.all(at),Ye})()}}function Xi(P=navigator){return P.languages&&P.languages[0]||P.language}class yi{constructor(V,J,Ce,Be,Ye,at){this.firebaseInstallations=V,this.sdkVersion=J,this.namespace=Ce,this.projectId=Be,this.apiKey=Ye,this.appId=at}fetch(V){var J=this;return(0,v.Z)(function*(){const[Ce,Be]=yield Promise.all([J.firebaseInstallations.getId(),J.firebaseInstallations.getToken()]),at=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${J.projectId}/namespaces/${J.namespace}:fetch?key=${J.apiKey}`,Mt={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":V.eTag||"*"},kt={sdk_version:J.sdkVersion,app_instance_id:Ce,app_instance_id_token:Be,app_id:J.appId,language_code:Xi()},Sn={method:"POST",headers:Mt,body:JSON.stringify(kt)},Jn=fetch(at,Sn),zi=new Promise((Gs,Ss)=>{V.signal.addEventListener(()=>{const sn=new Error("The operation was aborted.");sn.name="AbortError",Ss(sn)})});let Ts;try{yield Promise.race([Jn,zi]),Ts=yield Jn}catch(Gs){let Ss="fetch-client-network";throw"AbortError"===Gs.name&&(Ss="fetch-timeout"),zn.create(Ss,{originalErrorMessage:Gs.message})}let pr=Ts.status;const mc=Ts.headers.get("ETag")||void 0;let su,_c;if(200===Ts.status){let Gs;try{Gs=yield Ts.json()}catch(Ss){throw zn.create("fetch-client-parse",{originalErrorMessage:Ss.message})}su=Gs.entries,_c=Gs.state}if("INSTANCE_STATE_UNSPECIFIED"===_c?pr=500:"NO_CHANGE"===_c?pr=304:("NO_TEMPLATE"===_c||"EMPTY_CONFIG"===_c)&&(su={}),304!==pr&&200!==pr)throw zn.create("fetch-status",{httpStatus:pr});return{status:pr,eTag:mc,config:su}})()}}class Ir{constructor(V,J){this.client=V,this.storage=J}fetch(V){var J=this;return(0,v.Z)(function*(){const Ce=(yield J.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return J.attemptFetch(V,Ce)})()}attemptFetch(V,{throttleEndTimeMillis:J,backoffCount:Ce}){var Be=this;return(0,v.Z)(function*(){yield function(P,V){return new Promise((J,Ce)=>{const Be=Math.max(V-Date.now(),0),Ye=setTimeout(J,Be);P.addEventListener(()=>{clearTimeout(Ye),Ce(zn.create("fetch-throttle",{throttleEndTimeMillis:V}))})})}(V.signal,J);try{const Ye=yield Be.client.fetch(V);return yield Be.storage.deleteThrottleMetadata(),Ye}catch(Ye){if(!function(P){if(!(P instanceof S.ZR&&P.customData))return!1;const V=Number(P.customData.httpStatus);return 429===V||500===V||503===V||504===V}(Ye))throw Ye;const at={throttleEndTimeMillis:Date.now()+(0,S.$s)(Ce),backoffCount:Ce+1};return yield Be.storage.setThrottleMetadata(at),Be.attemptFetch(V,at)}})()}}class Gu{constructor(V,J,Ce,Be,Ye){this.app=V,this._client=J,this._storageCache=Ce,this._storage=Be,this._logger=Ye,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function da(P,V){const J=P.target.error||void 0;return zn.create(V,{originalErrorMessage:J&&J.message})}const oo="app_namespace_store";class Po{constructor(V,J,Ce,Be=function(){return new Promise((P,V)=>{try{const J=indexedDB.open("firebase_remote_config",1);J.onerror=Ce=>{V(da(Ce,"storage-open"))},J.onsuccess=Ce=>{P(Ce.target.result)},J.onupgradeneeded=Ce=>{const Be=Ce.target.result;switch(Ce.oldVersion){case 0:Be.createObjectStore(oo,{keyPath:"compositeKey"})}}}catch(J){V(zn.create("storage-open",{originalErrorMessage:J}))}})}()){this.appId=V,this.appName=J,this.namespace=Ce,this.openDbPromise=Be}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(V){return this.set("last_fetch_status",V)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(V){return this.set("last_successful_fetch_timestamp_millis",V)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(V){return this.set("last_successful_fetch_response",V)}getActiveConfig(){return this.get("active_config")}setActiveConfig(V){return this.set("active_config",V)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(V){return this.set("active_config_etag",V)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(V){return this.set("throttle_metadata",V)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(V){var J=this;return(0,v.Z)(function*(){const Ce=yield J.openDbPromise;return new Promise((Be,Ye)=>{const Mt=Ce.transaction([oo],"readonly").objectStore(oo),kt=J.createCompositeKey(V);try{const Sn=Mt.get(kt);Sn.onerror=Jn=>{Ye(da(Jn,"storage-get"))},Sn.onsuccess=Jn=>{const zi=Jn.target.result;Be(zi?zi.value:void 0)}}catch(Sn){Ye(zn.create("storage-get",{originalErrorMessage:Sn&&Sn.message}))}})})()}set(V,J){var Ce=this;return(0,v.Z)(function*(){const Be=yield Ce.openDbPromise;return new Promise((Ye,at)=>{const kt=Be.transaction([oo],"readwrite").objectStore(oo),Sn=Ce.createCompositeKey(V);try{const Jn=kt.put({compositeKey:Sn,value:J});Jn.onerror=zi=>{at(da(zi,"storage-set"))},Jn.onsuccess=()=>{Ye()}}catch(Jn){at(zn.create("storage-set",{originalErrorMessage:Jn&&Jn.message}))}})})()}delete(V){var J=this;return(0,v.Z)(function*(){const Ce=yield J.openDbPromise;return new Promise((Be,Ye)=>{const Mt=Ce.transaction([oo],"readwrite").objectStore(oo),kt=J.createCompositeKey(V);try{const Sn=Mt.delete(kt);Sn.onerror=Jn=>{Ye(da(Jn,"storage-delete"))},Sn.onsuccess=()=>{Be()}}catch(Sn){Ye(zn.create("storage-delete",{originalErrorMessage:Sn&&Sn.message}))}})})()}createCompositeKey(V){return[this.appId,this.appName,this.namespace,V].join()}}class lo{constructor(V){this.storage=V}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var V=this;return(0,v.Z)(function*(){const J=V.storage.getLastFetchStatus(),Ce=V.storage.getLastSuccessfulFetchTimestampMillis(),Be=V.storage.getActiveConfig(),Ye=yield J;Ye&&(V.lastFetchStatus=Ye);const at=yield Ce;at&&(V.lastSuccessfulFetchTimestampMillis=at);const Mt=yield Be;Mt&&(V.activeConfig=Mt)})()}setLastFetchStatus(V){return this.lastFetchStatus=V,this.storage.setLastFetchStatus(V)}setLastSuccessfulFetchTimestampMillis(V){return this.lastSuccessfulFetchTimestampMillis=V,this.storage.setLastSuccessfulFetchTimestampMillis(V)}setActiveConfig(V){return this.activeConfig=V,this.storage.setActiveConfig(V)}}function O(){return B.apply(this,arguments)}function B(){return(B=(0,v.Z)(function*(){if(!(0,S.hl)())return!1;try{return yield(0,S.eu)()}catch(P){return!1}})).apply(this,arguments)}(0,T._registerComponent)(new k.wA("remote-config",function(V,{instanceIdentifier:J}){const Ce=V.getProvider("app").getImmediate(),Be=V.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw zn.create("registration-window");if(!(0,S.hl)())throw zn.create("indexed-db-unavailable");const{projectId:Ye,apiKey:at,appId:Mt}=Ce.options;if(!Ye)throw zn.create("registration-project-id");if(!at)throw zn.create("registration-api-key");if(!Mt)throw zn.create("registration-app-id");const kt=new Po(Mt,Ce.name,J=J||"firebase"),Sn=new lo(kt),Jn=new F.Yd(Kr);Jn.logLevel=F.in.ERROR;const zi=new yi(Be,T.SDK_VERSION,J,Ye,at,Mt),Ts=new Ir(zi,kt),pr=new ws(Ts,kt,Sn,Jn),mc=new Gu(Ce,pr,Sn,kt,Jn);return function(P){const V=(0,S.m9)(P);V._initializePromise||(V._initializePromise=V._storageCache.loadFromStorage().then(()=>{V._isInitializationComplete=!0}))}(mc),mc},"PUBLIC").setMultipleInstances(!0)),(0,T.registerVersion)(Kr,"0.3.4"),(0,T.registerVersion)(Kr,"0.3.4","esm2017");const U="/firebase-messaging-sw.js",Y="/firebase-cloud-messaging-push-scope",se="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",me="google.c.a.c_id",De="google.c.a.c_l",Ue="google.c.a.ts",We="google.c.a.e";var X=(()=>{return(P=X||(X={})).PUSH_RECEIVED="push-received",P.NOTIFICATION_CLICKED="notification-clicked",X;var P})();function ye(P){const V=new Uint8Array(P);return btoa(String.fromCharCode(...V)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Ne(P){const J=(P+"=".repeat((4-P.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),Ce=atob(J),Be=new Uint8Array(Ce.length);for(let Ye=0;Ye<Ce.length;++Ye)Be[Ye]=Ce.charCodeAt(Ye);return Be}const it="fcm_token_details_db",Yt="fcm_token_object_Store";function Ut(P){return jt.apply(this,arguments)}function jt(){return(jt=(0,v.Z)(function*(P){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Ye=>Ye.name).includes(it))return null;let V=null;return(yield(0,L.openDb)(it,5,function(){var Ce=(0,v.Z)(function*(Be){var Ye;if(Be.oldVersion<2||!Be.objectStoreNames.contains(Yt))return;const at=Be.transaction.objectStore(Yt),Mt=yield at.index("fcmSenderId").get(P);if(yield at.clear(),Mt)if(2===Be.oldVersion){const kt=Mt;if(!kt.auth||!kt.p256dh||!kt.endpoint)return;V={token:kt.fcmToken,createTime:null!==(Ye=kt.createTime)&&void 0!==Ye?Ye:Date.now(),subscriptionOptions:{auth:kt.auth,p256dh:kt.p256dh,endpoint:kt.endpoint,swScope:kt.swScope,vapidKey:"string"==typeof kt.vapidKey?kt.vapidKey:ye(kt.vapidKey)}}}else if(3===Be.oldVersion){const kt=Mt;V={token:kt.fcmToken,createTime:kt.createTime,subscriptionOptions:{auth:ye(kt.auth),p256dh:ye(kt.p256dh),endpoint:kt.endpoint,swScope:kt.swScope,vapidKey:ye(kt.vapidKey)}}}else if(4===Be.oldVersion){const kt=Mt;V={token:kt.fcmToken,createTime:kt.createTime,subscriptionOptions:{auth:ye(kt.auth),p256dh:ye(kt.p256dh),endpoint:kt.endpoint,swScope:kt.swScope,vapidKey:ye(kt.vapidKey)}}}});return function(Be){return Ce.apply(this,arguments)}}())).close(),yield(0,L.deleteDb)(it),yield(0,L.deleteDb)("fcm_vapid_details_db"),yield(0,L.deleteDb)("undefined"),Tn(V)?V:null})).apply(this,arguments)}function Tn(P){if(!P||!P.subscriptionOptions)return!1;const{subscriptionOptions:V}=P;return"number"==typeof P.createTime&&P.createTime>0&&"string"==typeof P.token&&P.token.length>0&&"string"==typeof V.auth&&V.auth.length>0&&"string"==typeof V.p256dh&&V.p256dh.length>0&&"string"==typeof V.endpoint&&V.endpoint.length>0&&"string"==typeof V.swScope&&V.swScope.length>0&&"string"==typeof V.vapidKey&&V.vapidKey.length>0}const rs="firebase-messaging-store";let fa=null;function Vn(){return fa||(fa=(0,L.openDb)("firebase-messaging-database",1,P=>{switch(P.oldVersion){case 0:P.createObjectStore(rs)}})),fa}function za(P){return co.apply(this,arguments)}function co(){return(co=(0,v.Z)(function*(P){const V=Ga(P),Ce=yield(yield Vn()).transaction(rs).objectStore(rs).get(V);if(Ce)return Ce;{const Be=yield Ut(P.appConfig.senderId);if(Be)return yield Hc(P,Be),Be}})).apply(this,arguments)}function Hc(P,V){return ai.apply(this,arguments)}function ai(){return(ai=(0,v.Z)(function*(P,V){const J=Ga(P),Be=(yield Vn()).transaction(rs,"readwrite");return yield Be.objectStore(rs).put(V,J),yield Be.complete,V})).apply(this,arguments)}function Gd(P){return $u.apply(this,arguments)}function $u(){return($u=(0,v.Z)(function*(P){const V=Ga(P),Ce=(yield Vn()).transaction(rs,"readwrite");yield Ce.objectStore(rs).delete(V),yield Ce.complete})).apply(this,arguments)}function Ga({appConfig:P}){return P.appId}const Ri=new S.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Yu(P,V){return No.apply(this,arguments)}function No(){return(No=(0,v.Z)(function*(P,V){const J=yield oc(P),Ce=Jt(V),Be={method:"POST",headers:J,body:JSON.stringify(Ce)};let Ye;try{Ye=yield(yield fetch(pa(P.appConfig),Be)).json()}catch(at){throw Ri.create("token-subscribe-failed",{errorInfo:at})}if(Ye.error)throw Ri.create("token-subscribe-failed",{errorInfo:Ye.error.message});if(!Ye.token)throw Ri.create("token-subscribe-no-token");return Ye.token})).apply(this,arguments)}function ss(P,V){return qc.apply(this,arguments)}function qc(){return(qc=(0,v.Z)(function*(P,V){const J=yield oc(P),Ce=Jt(V.subscriptionOptions),Be={method:"PATCH",headers:J,body:JSON.stringify(Ce)};let Ye;try{Ye=yield(yield fetch(`${pa(P.appConfig)}/${V.token}`,Be)).json()}catch(at){throw Ri.create("token-update-failed",{errorInfo:at})}if(Ye.error)throw Ri.create("token-update-failed",{errorInfo:Ye.error.message});if(!Ye.token)throw Ri.create("token-update-no-token");return Ye.token})).apply(this,arguments)}function $d(P,V){return $a.apply(this,arguments)}function $a(){return($a=(0,v.Z)(function*(P,V){const Ce={method:"DELETE",headers:yield oc(P)};try{const Ye=yield(yield fetch(`${pa(P.appConfig)}/${V}`,Ce)).json();if(Ye.error)throw Ri.create("token-unsubscribe-failed",{errorInfo:Ye.error.message})}catch(Be){throw Ri.create("token-unsubscribe-failed",{errorInfo:Be})}})).apply(this,arguments)}function pa({projectId:P}){return`https://fcmregistrations.googleapis.com/v1/projects/${P}/registrations`}function oc(P){return Ya.apply(this,arguments)}function Ya(){return(Ya=(0,v.Z)(function*({appConfig:P,installations:V}){const J=yield V.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":P.apiKey,"x-goog-firebase-installations-auth":`FIS ${J}`})})).apply(this,arguments)}function Jt({p256dh:P,auth:V,endpoint:J,vapidKey:Ce}){const Be={web:{endpoint:J,auth:V,p256dh:P}};return Ce!==se&&(Be.web.applicationPubKey=Ce),Be}const Zu=6048e5;function Mg(P){return zc.apply(this,arguments)}function zc(){return(zc=(0,v.Z)(function*(P){const V=yield Yd(P.swRegistration,P.vapidKey),J={vapidKey:P.vapidKey,swScope:P.swRegistration.scope,endpoint:V.endpoint,auth:ye(V.getKey("auth")),p256dh:ye(V.getKey("p256dh"))},Ce=yield za(P.firebaseDependencies);if(Ce){if(Zd(Ce.subscriptionOptions,J))return Date.now()>=Ce.createTime+Zu?kg(P,{token:Ce.token,createTime:Date.now(),subscriptionOptions:J}):Ce.token;try{yield $d(P.firebaseDependencies,Ce.token)}catch(Be){console.warn(Be)}return rt(P.firebaseDependencies,J)}return rt(P.firebaseDependencies,J)})).apply(this,arguments)}function yf(P){return Gc.apply(this,arguments)}function Gc(){return(Gc=(0,v.Z)(function*(P){const V=yield za(P.firebaseDependencies);V&&(yield $d(P.firebaseDependencies,V.token),yield Gd(P.firebaseDependencies));const J=yield P.swRegistration.pushManager.getSubscription();return!J||J.unsubscribe()})).apply(this,arguments)}function kg(P,V){return ga.apply(this,arguments)}function ga(){return(ga=(0,v.Z)(function*(P,V){try{const J=yield ss(P.firebaseDependencies,V),Ce=Object.assign(Object.assign({},V),{token:J,createTime:Date.now()});return yield Hc(P.firebaseDependencies,Ce),J}catch(J){throw yield yf(P),J}})).apply(this,arguments)}function rt(P,V){return mn.apply(this,arguments)}function mn(){return(mn=(0,v.Z)(function*(P,V){const Ce={token:yield Yu(P,V),createTime:Date.now(),subscriptionOptions:V};return yield Hc(P,Ce),Ce.token})).apply(this,arguments)}function Yd(P,V){return ii.apply(this,arguments)}function ii(){return(ii=(0,v.Z)(function*(P,V){return(yield P.pushManager.getSubscription())||P.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Ne(V)})})).apply(this,arguments)}function Zd(P,V){return V.vapidKey===P.vapidKey&&V.endpoint===P.endpoint&&V.auth===P.auth&&V.p256dh===P.p256dh}function Fo(P){const V={from:P.from,collapseKey:P.collapse_key,messageId:P.fcmMessageId};return function(P,V){if(!V.notification)return;P.notification={};const J=V.notification.title;J&&(P.notification.title=J);const Ce=V.notification.body;Ce&&(P.notification.body=Ce);const Be=V.notification.image;Be&&(P.notification.image=Be)}(V,P),function(P,V){!V.data||(P.data=V.data)}(V,P),function(P,V){if(!V.fcmOptions)return;P.fcmOptions={};const J=V.fcmOptions.link;J&&(P.fcmOptions.link=J);const Ce=V.fcmOptions.analytics_label;Ce&&(P.fcmOptions.analyticsLabel=Ce)}(V,P),V}function J_(P){return"object"==typeof P&&!!P&&me in P}function vf(P,V){const J=[];for(let Ce=0;Ce<P.length;Ce++)J.push(P.charAt(Ce)),Ce<V.length&&J.push(V.charAt(Ce));return J.join("")}function cc(P){return Ri.create("missing-app-config-values",{valueName:P})}vf("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),vf("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class ji{constructor(V,J,Ce){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Be=function(P){if(!P||!P.options)throw cc("App Configuration Object");if(!P.name)throw cc("App Name");const V=["projectId","apiKey","appId","messagingSenderId"],{options:J}=P;for(const Ce of V)if(!J[Ce])throw cc(Ce);return{appName:P.name,projectId:J.projectId,apiKey:J.apiKey,appId:J.appId,senderId:J.messagingSenderId}}(V);this.firebaseDependencies={app:V,appConfig:Be,installations:J,analyticsProvider:Ce}}_delete(){return Promise.resolve()}}function Us(P){return $c.apply(this,arguments)}function $c(){return($c=(0,v.Z)(function*(P){try{P.swRegistration=yield navigator.serviceWorker.register(U,{scope:Y}),P.swRegistration.update().catch(()=>{})}catch(V){throw Ri.create("failed-service-worker-registration",{browserErrorMessage:V.message})}})).apply(this,arguments)}function ma(P,V){return Xr.apply(this,arguments)}function Xr(){return(Xr=(0,v.Z)(function*(P,V){if(!V&&!P.swRegistration&&(yield Us(P)),V||!P.swRegistration){if(!(V instanceof ServiceWorkerRegistration))throw Ri.create("invalid-sw-registration");P.swRegistration=V}})).apply(this,arguments)}function X_(P,V){return uc.apply(this,arguments)}function uc(){return(uc=(0,v.Z)(function*(P,V){V?P.vapidKey=V:P.vapidKey||(P.vapidKey=se)})).apply(this,arguments)}function Yc(){return(Yc=(0,v.Z)(function*(P,V){if(!navigator)throw Ri.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Ri.create("permission-blocked");return yield X_(P,null==V?void 0:V.vapidKey),yield ma(P,null==V?void 0:V.serviceWorkerRegistration),Mg(P)})).apply(this,arguments)}function Kd(P,V,J){return Cl.apply(this,arguments)}function Cl(){return(Cl=(0,v.Z)(function*(P,V,J){const Ce=bf(V);(yield P.firebaseDependencies.analyticsProvider.get()).logEvent(Ce,{message_id:J[me],message_name:J[De],message_time:J[Ue],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function bf(P){switch(P){case X.NOTIFICATION_CLICKED:return"notification_open";case X.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Wc(){return(Wc=(0,v.Z)(function*(P,V){const J=V.data;if(!J.isFirebaseMessaging)return;P.onMessageHandler&&J.messageType===X.PUSH_RECEIVED&&("function"==typeof P.onMessageHandler?P.onMessageHandler(Fo(J)):P.onMessageHandler.next(Fo(J)));const Ce=J.data;J_(Ce)&&"1"===Ce[We]&&(yield Kd(P,J.messageType,Ce))})).apply(this,arguments)}const Kc="@firebase/messaging";function Ef(){return El.apply(this,arguments)}function El(){return(El=(0,v.Z)(function*(){return"undefined"!=typeof window&&(0,S.hl)()&&(yield(0,S.eu)())&&(0,S.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}(0,T._registerComponent)(new k.wA("messaging",P=>{const V=new ji(P.getProvider("app").getImmediate(),P.getProvider("installations-internal").getImmediate(),P.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",J=>function(P,V){return Wc.apply(this,arguments)}(V,J)),V},"PUBLIC")),(0,T._registerComponent)(new k.wA("messaging-internal",P=>{const V=P.getProvider("messaging").getImmediate();return{getToken:Ce=>function(P,V){return Yc.apply(this,arguments)}(V,Ce)}},"PRIVATE")),(0,T.registerVersion)(Kc,"0.9.7"),(0,T.registerVersion)(Kc,"0.9.7","esm2017");const Jd="analytics",Xd="firebase_id",hc="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Xc="https://www.googletagmanager.com/gtag/js",tr=new F.Yd("@firebase/analytics");function eh(P){return Promise.all(P.map(V=>V.catch(J=>J)))}function th(P,V){const J=document.createElement("script");J.src=`${Xc}?l=${P}&id=${V}`,J.async=!0,document.head.appendChild(J)}function Ku(P,V,J,Ce,Be,Ye){return eu.apply(this,arguments)}function eu(){return(eu=(0,v.Z)(function*(P,V,J,Ce,Be,Ye){const at=Ce[Be];try{if(at)yield V[at];else{const kt=(yield eh(J)).find(Sn=>Sn.measurementId===Be);kt&&(yield V[kt.appId])}}catch(Mt){tr.error(Mt)}P("config",Be,Ye)})).apply(this,arguments)}function Tf(P,V,J,Ce,Be){return Dl.apply(this,arguments)}function Dl(){return(Dl=(0,v.Z)(function*(P,V,J,Ce,Be){try{let Ye=[];if(Be&&Be.send_to){let at=Be.send_to;Array.isArray(at)||(at=[at]);const Mt=yield eh(J);for(const kt of at){const Sn=Mt.find(zi=>zi.measurementId===kt),Jn=Sn&&V[Sn.appId];if(!Jn){Ye=[];break}Ye.push(Jn)}}0===Ye.length&&(Ye=Object.values(V)),yield Promise.all(Ye),P("event",Ce,Be||{})}catch(Ye){tr.error(Ye)}})).apply(this,arguments)}function H0(){const P=window.document.getElementsByTagName("script");for(const V of Object.values(P))if(V.src&&V.src.includes(Xc))return V;return null}const Vo=new S.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),_a=new class{constructor(V={},J=1e3){this.throttleMetadata=V,this.intervalMillis=J}getThrottleMetadata(V){return this.throttleMetadata[V]}setThrottleMetadata(V,J){this.throttleMetadata[V]=J}deleteThrottleMetadata(V){delete this.throttleMetadata[V]}};function xf(P){return new Headers({Accept:"application/json","x-goog-api-key":P})}function Ei(P){return ya.apply(this,arguments)}function ya(){return(ya=(0,v.Z)(function*(P){var V;const{appId:J,apiKey:Ce}=P,Be={method:"GET",headers:xf(Ce)},Ye=hc.replace("{app-id}",J),at=yield fetch(Ye,Be);if(200!==at.status&&304!==at.status){let Mt="";try{const kt=yield at.json();(null===(V=kt.error)||void 0===V?void 0:V.message)&&(Mt=kt.error.message)}catch(kt){}throw Vo.create("config-fetch-failed",{httpStatus:at.status,responseMessage:Mt})}return at.json()})).apply(this,arguments)}function If(P){return Tl.apply(this,arguments)}function Tl(){return(Tl=(0,v.Z)(function*(P,V=_a,J){const{appId:Ce,apiKey:Be,measurementId:Ye}=P.options;if(!Ce)throw Vo.create("no-app-id");if(!Be){if(Ye)return{measurementId:Ye,appId:Ce};throw Vo.create("no-api-key")}const at=V.getThrottleMetadata(Ce)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Mt=new Og;return setTimeout((0,v.Z)(function*(){Mt.abort()}),void 0!==J?J:6e4),tu({appId:Ce,apiKey:Be,measurementId:Ye},at,Mt,V)})).apply(this,arguments)}function tu(P,V,J){return fc.apply(this,arguments)}function fc(){return(fc=(0,v.Z)(function*(P,{throttleEndTimeMillis:V,backoffCount:J},Ce,Be=_a){const{appId:Ye,measurementId:at}=P;try{yield q0(Ce,V)}catch(Mt){if(at)return tr.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${at} provided in the "measurementId" field in the local Firebase config. [${Mt.message}]`),{appId:Ye,measurementId:at};throw Mt}try{const Mt=yield Ei(P);return Be.deleteThrottleMetadata(Ye),Mt}catch(Mt){if(!sh(Mt)){if(Be.deleteThrottleMetadata(Ye),at)return tr.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${at} provided in the "measurementId" field in the local Firebase config. [${Mt.message}]`),{appId:Ye,measurementId:at};throw Mt}const kt=503===Number(Mt.customData.httpStatus)?(0,S.$s)(J,Be.intervalMillis,30):(0,S.$s)(J,Be.intervalMillis),Sn={throttleEndTimeMillis:Date.now()+kt,backoffCount:J+1};return Be.setThrottleMetadata(Ye,Sn),tr.debug(`Calling attemptFetch again in ${kt} millis`),tu(P,Sn,Ce,Be)}})).apply(this,arguments)}function q0(P,V){return new Promise((J,Ce)=>{const Be=Math.max(V-Date.now(),0),Ye=setTimeout(J,Be);P.addEventListener(()=>{clearTimeout(Ye),Ce(Vo.create("fetch-throttle",{throttleEndTimeMillis:V}))})})}function sh(P){if(!(P instanceof S.ZR&&P.customData))return!1;const V=Number(P.customData.httpStatus);return 429===V||500===V||503===V||504===V}class Og{constructor(){this.listeners=[]}addEventListener(V){this.listeners.push(V)}abort(){this.listeners.forEach(V=>V())}}function oh(){return ah.apply(this,arguments)}function ah(){return(ah=(0,v.Z)(function*(){if(!(0,S.hl)())return tr.warn(Vo.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,S.eu)()}catch(P){return tr.warn(Vo.create("indexeddb-unavailable",{errorInfo:P}).message),!1}return!0})).apply(this,arguments)}function Sl(){return(Sl=(0,v.Z)(function*(P,V,J,Ce,Be,Ye,at){var Mt;const kt=If(P);kt.then(pr=>{J[pr.measurementId]=pr.appId,P.options.measurementId&&pr.measurementId!==P.options.measurementId&&tr.warn(`The measurement ID in the local Firebase config (${P.options.measurementId}) does not match the measurement ID fetched from the server (${pr.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(pr=>tr.error(pr)),V.push(kt);const Sn=oh().then(pr=>{if(pr)return Ce.getId()}),[Jn,zi]=yield Promise.all([kt,Sn]);H0()||th(Ye,Jn.measurementId),Be("js",new Date);const Ts=null!==(Mt=null==at?void 0:at.config)&&void 0!==Mt?Mt:{};return Ts.origin="firebase",Ts.update=!0,null!=zi&&(Ts[Xd]=zi),Be("config",Jn.measurementId,Ts),Jn.measurementId})).apply(this,arguments)}class Gn{constructor(V){this.app=V}_delete(){return delete ft[this.app.options.appId],Promise.resolve()}}let ft={},yt=[];const nu={};let xl,Oi,Hi="dataLayer",Qu=!1;function Bn(P,V,J){!function(){const P=[];if((0,S.ru)()&&P.push("This is a browser extension environment."),(0,S.zI)()||P.push("Cookies are not available."),P.length>0){const V=P.map((Ce,Be)=>`(${Be+1}) ${Ce}`).join(" "),J=Vo.create("invalid-analytics-context",{errorInfo:V});tr.warn(J.message)}}();const Ce=P.options.appId;if(!Ce)throw Vo.create("no-app-id");if(!P.options.apiKey){if(!P.options.measurementId)throw Vo.create("no-api-key");tr.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${P.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=ft[Ce])throw Vo.create("already-exists",{id:Ce});if(!Qu){!function(P){let V=[];Array.isArray(window[P])?V=window[P]:window[P]=V}(Hi);const{wrappedGtag:Ye,gtagCore:at}=function(P,V,J,Ce,Be){let Ye=function(...at){window[Ce].push(arguments)};return window[Be]&&"function"==typeof window[Be]&&(Ye=window[Be]),window[Be]=function(P,V,J,Ce){function Ye(){return(Ye=(0,v.Z)(function*(at,Mt,kt){try{"event"===at?yield Tf(P,V,J,Mt,kt):"config"===at?yield Ku(P,V,J,Ce,Mt,kt):P("set",Mt)}catch(Sn){tr.error(Sn)}})).apply(this,arguments)}return function(at,Mt,kt){return Ye.apply(this,arguments)}}(Ye,P,V,J),{gtagCore:Ye,wrappedGtag:window[Be]}}(ft,yt,nu,Hi,"gtag");Oi=Ye,xl=at,Qu=!0}return ft[Ce]=function(P,V,J,Ce,Be,Ye,at){return Sl.apply(this,arguments)}(P,yt,nu,V,xl,Hi,J),new Gn(P)}function Ju(){return(Ju=(0,v.Z)(function*(P,V,J,Ce,Be){if(Be&&Be.global)P("event",J,Ce);else{const Ye=yield V;P("event",J,Object.assign(Object.assign({},Ce),{send_to:Ye}))}})).apply(this,arguments)}function os(){return kf.apply(this,arguments)}function kf(){return(kf=(0,v.Z)(function*(){if((0,S.ru)()||!(0,S.zI)()||!(0,S.hl)())return!1;try{return yield(0,S.eu)()}catch(P){return!1}})).apply(this,arguments)}const Pg="@firebase/analytics";(0,T._registerComponent)(new k.wA(Jd,(V,{options:J})=>Bn(V.getProvider("app").getImmediate(),V.getProvider("installations-internal").getImmediate(),J),"PUBLIC")),(0,T._registerComponent)(new k.wA("analytics-internal",function(V){try{const J=V.getProvider(Jd).getImmediate();return{logEvent:(Ce,Be,Ye)=>function(P,V,J,Ce){P=(0,S.m9)(P),function(P,V,J,Ce,Be){return Ju.apply(this,arguments)}(Oi,ft[P.app.options.appId],V,J,Ce).catch(Be=>tr.error(Be))}(J,Ce,Be,Ye)}}catch(J){throw Vo.create("interop-component-reg-failed",{reason:J})}},"PRIVATE")),(0,T.registerVersion)(Pg,"0.7.5"),(0,T.registerVersion)(Pg,"0.7.5","esm2017");var Rf=M(7771),ny=M(3637),Di=M(8307),Il=M(9746),Of=M(9673);const iy=new r.GfV("7.2.0"),ru="__angularfire_symbol__analyticsIsSupported",Ca="__angularfire_symbol__remoteConfigIsSupported",jo="__angularfire_symbol__messagingIsSupported";function Ho(P,V,J){if(V){if(1===V.length)return V[0];const Ye=V.filter(at=>at.app===J);if(1===Ye.length)return Ye[0]}return J.container.getProvider(P).getImmediate({optional:!0})}globalThis[ru]||(globalThis[ru]=os().then(P=>globalThis.__angularfire_symbol__analyticsIsSupportedValue=P)),globalThis[jo]||(globalThis[jo]=Ef().then(P=>globalThis.__angularfire_symbol__messagingIsSupportedValue=P)),globalThis[Ca]||(globalThis[Ca]=O().then(P=>globalThis.__angularfire_symbol__remoteConfigIsSupportedValue=P));const Al=(P,V)=>{const J=V?[V]:(0,b.C6)(),Ce=[];return J.forEach(Be=>{Be.container.getProvider(P).instances.forEach(at=>{Ce.includes(at)||Ce.push(at)})}),Ce};function Ds(){}class wa{constructor(V,J=Rf.N){this.zone=V,this.delegate=J}now(){return this.delegate.now()}schedule(V,J,Ce){const Be=this.zone;return this.delegate.schedule(function(at){Be.runGuarded(()=>{V.apply(this,[at])})},J,Ce)}}class Nf{constructor(V){this.zone=V,this.task=null}call(V,J){const Ce=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ds,{},Ds,Ds)),J.pipe((0,Di.b)({next:Ce,complete:Ce,error:Ce})).subscribe(V).add(Ce)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let ed=(()=>{class P{constructor(J){this.ngZone=J,this.outsideAngular=J.runOutsideAngular(()=>new wa(Zone.current)),this.insideAngular=J.run(()=>new wa(Zone.current,ny.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return P.\u0275fac=function(J){return new(J||P)(r.LFG(r.R0b))},P.\u0275prov=r.Yz7({token:P,factory:P.\u0275fac,providedIn:"root"}),P})();function Ml(){const P=globalThis.\u0275AngularFireScheduler;if(!P)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return P}function td(P){return P.pipe((0,Il.QV)(Ml().outsideAngular))}function Pi(P){return Ml(),function(P){return function(J){return(J=J.lift(new Nf(P.ngZone))).pipe((0,Of.R)(P.outsideAngular),(0,Il.QV)(P.insideAngular))}}(Ml())(P)}},3534:nt=>{window,nt.exports=function(D){var M={};function r(b){if(M[b])return M[b].exports;var v=M[b]={i:b,l:!1,exports:{}};return D[b].call(v.exports,v,v.exports,r),v.l=!0,v.exports}return r.m=D,r.c=M,r.d=function(b,v,T){r.o(b,v)||Object.defineProperty(b,v,{enumerable:!0,get:T})},r.r=function(b){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(b,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(b,"__esModule",{value:!0})},r.t=function(b,v){if(1&v&&(b=r(b)),8&v||4&v&&"object"==typeof b&&b&&b.__esModule)return b;var T=Object.create(null);if(r.r(T),Object.defineProperty(T,"default",{enumerable:!0,value:b}),2&v&&"string"!=typeof b)for(var S in b)r.d(T,S,function(k){return b[k]}.bind(null,S));return T},r.n=function(b){var v=b&&b.__esModule?function(){return b.default}:function(){return b};return r.d(v,"a",v),v},r.o=function(b,v){return Object.prototype.hasOwnProperty.call(b,v)},r.p="/",r(r.s=89)}([function(D,M){D.exports=function(r,b,v){return b in r?Object.defineProperty(r,b,{value:v,enumerable:!0,configurable:!0,writable:!0}):r[b]=v,r},D.exports.default=D.exports,D.exports.__esModule=!0},function(D,M){D.exports=function(r){if(void 0===r)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r},D.exports.default=D.exports,D.exports.__esModule=!0},function(D,M){function r(b){return D.exports=r=Object.setPrototypeOf?Object.getPrototypeOf:function(v){return v.__proto__||Object.getPrototypeOf(v)},D.exports.default=D.exports,D.exports.__esModule=!0,r(b)}D.exports=r,D.exports.default=D.exports,D.exports.__esModule=!0},function(D,M){D.exports=function(r,b){if(!(r instanceof b))throw new TypeError("Cannot call a class as a function")},D.exports.default=D.exports,D.exports.__esModule=!0},function(D,M){function r(b,v){for(var T=0;T<v.length;T++){var S=v[T];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(b,S.key,S)}}D.exports=function(b,v,T){return v&&r(b.prototype,v),T&&r(b,T),b},D.exports.default=D.exports,D.exports.__esModule=!0},function(D,M,r){var b=r(19).default,v=r(1);D.exports=function(T,S){if(S&&("object"===b(S)||"function"==typeof S))return S;if(void 0!==S)throw new TypeError("Derived constructors may only return object or undefined");return v(T)},D.exports.default=D.exports,D.exports.__esModule=!0},function(D,M,r){var b=r(41);D.exports=function(v,T){if("function"!=typeof T&&null!==T)throw new TypeError("Super expression must either be null or a function");v.prototype=Object.create(T&&T.prototype,{constructor:{value:v,writable:!0,configurable:!0}}),T&&b(v,T)},D.exports.default=D.exports,D.exports.__esModule=!0},function(D,M,r){D.exports={EPSILON:r(62),create:r(63),clone:r(156),fromValues:r(157),copy:r(158),set:r(159),equals:r(160),exactEquals:r(161),add:r(162),subtract:r(64),sub:r(163),multiply:r(65),mul:r(164),divide:r(66),div:r(165),inverse:r(166),min:r(167),max:r(168),rotate:r(169),floor:r(170),ceil:r(171),round:r(172),scale:r(173),scaleAndAdd:r(174),distance:r(67),dist:r(175),squaredDistance:r(68),sqrDist:r(176),length:r(69),len:r(177),squaredLength:r(70),sqrLen:r(178),negate:r(179),normalize:r(180),dot:r(181),cross:r(182),lerp:r(183),random:r(184),transformMat2:r(185),transformMat2d:r(186),transformMat3:r(187),transformMat4:r(188),forEach:r(189),limit:r(190)}},function(D,M,r){"use strict";M.a={init:function(b,v){for(var T=b.length;T--;)b[T]=v},shuffle:function(b){for(var v=b.length-1;v>=0;v--){var T=Math.floor(Math.random()*v),S=b[v];b[v]=b[T],b[T]=S}return b},toPointList:function(b){var v=b.reduce(function(T,S){var k="[".concat(S.join(","),"]");return T.push(k),T},[]);return"[".concat(v.join(",\r\n"),"]")},threshold:function(b,v,T){return b.reduce(function(S,k){return T.apply(b,[k])>=v&&S.push(k),S},[])},maxIndex:function(b){for(var v=0,T=0;T<b.length;T++)b[T]>b[v]&&(v=T);return v},max:function(b){for(var v=0,T=0;T<b.length;T++)b[T]>v&&(v=b[T]);return v},sum:function(b){for(var v=b.length,T=0;v--;)T+=b[v];return T}}},function(D,M,r){"use strict";r.d(M,"h",function(){return H}),r.d(M,"i",function(){return W}),r.d(M,"b",function(){return be}),r.d(M,"j",function(){return we}),r.d(M,"e",function(){return Re}),r.d(M,"c",function(){return Me}),r.d(M,"f",function(){return le}),r.d(M,"g",function(){return Q}),r.d(M,"a",function(){return Ee}),r.d(M,"d",function(){return ze});var b=r(7),v=r(84),T={clone:b.clone,dot:b.dot},S=function(xe,Ie){var ke=[],ie={rad:0,vec:T.clone([0,0])},pe={};function K(ae){pe[ae.id]=ae,ke.push(ae)}function te(){var ae,_e=0;for(ae=0;ae<ke.length;ae++)_e+=ke[ae].rad;ie.rad=_e/ke.length,ie.vec=T.clone([Math.cos(ie.rad),Math.sin(ie.rad)])}return K(xe),te(),{add:function(ae){pe[ae.id]||(K(ae),te())},fits:function(ae){return Math.abs(T.dot(ae.point.vec,ie.vec))>Ie},getPoints:function(){return ke},getCenter:function(){return ie}}},k=function(xe,Ie,ke){return{rad:xe[ke],point:xe,id:Ie}},F=r(8),L={clone:b.clone},j={clone:v.clone};function H(xe,Ie){return{x:xe,y:Ie,toVec2:function(){return L.clone([this.x,this.y])},toVec3:function(){return j.clone([this.x,this.y,1])},round:function(){return this.x=this.x>0?Math.floor(this.x+.5):Math.floor(this.x-.5),this.y=this.y>0?Math.floor(this.y+.5):Math.floor(this.y-.5),this}}}function Z(xe,Ie){Ie||(Ie=8);for(var ke=xe.data,ie=ke.length,pe=8-Ie,K=new Int32Array(1<<Ie);ie--;)K[ke[ie]>>pe]++;return K}function W(xe,Ie){var ke=function(ie){var pe,K=arguments.length>1&&void 0!==arguments[1]?arguments[1]:8,te=8-K;function ae(ot,wt){for(var st=0,Xe=ot;Xe<=wt;Xe++)st+=pe[Xe];return st}function _e(ot,wt){for(var st=0,Xe=ot;Xe<=wt;Xe++)st+=Xe*pe[Xe];return st}function ge(){var ot,wt,st,Xe,Qe=[0],St=(1<<K)-1;pe=Z(ie,K);for(var tn=1;tn<St;tn++)0==(st=(ot=ae(0,tn))*(wt=ae(tn+1,St)))&&(st=1),Xe=_e(0,tn)*wt-_e(tn+1,St)*ot,Qe[tn]=Xe*Xe/st;return F.a.maxIndex(Qe)}return ge()<<te}(xe);return function(ie,pe,K){K||(K=ie);for(var te=ie.data,ae=te.length,_e=K.data;ae--;)_e[ae]=te[ae]<pe?1:0}(xe,ke,Ie),ke}function be(xe,Ie,ke){var ie,pe,K,te,ae=[];function _e(ge){var Ze=!1;for(pe=0;pe<ae.length;pe++)(K=ae[pe]).fits(ge)&&(K.add(ge),Ze=!0);return Ze}for(ke||(ke="rad"),ie=0;ie<xe.length;ie++)_e(te=k(xe[ie],ie,ke))||ae.push(S(te,Ie));return ae}function we(xe,Ie,ke){var ie,pe,K,te,ae=0,_e=0,ge=[];for(ie=0;ie<Ie;ie++)ge[ie]={score:0,item:null};for(ie=0;ie<xe.length;ie++)if((pe=ke.apply(this,[xe[ie]]))>_e)for((K=ge[ae]).score=pe,K.item=xe[ie],_e=Number.MAX_VALUE,te=0;te<Ie;te++)ge[te].score<_e&&(_e=ge[te].score,ae=te);return ge}function Re(xe,Ie,ke){for(var ie,pe=0,K=Ie.x,te=Math.floor(xe.length/4),ae=Ie.x/2,_e=0,ge=Ie.x;K<te;){for(ie=0;ie<ae;ie++)ke[_e]=(.299*xe[4*pe+0]+.587*xe[4*pe+1]+.114*xe[4*pe+2]+(.299*xe[4*(pe+1)+0]+.587*xe[4*(pe+1)+1]+.114*xe[4*(pe+1)+2])+(.299*xe[4*K+0]+.587*xe[4*K+1]+.114*xe[4*K+2])+(.299*xe[4*(K+1)+0]+.587*xe[4*(K+1)+1]+.114*xe[4*(K+1)+2]))/4,_e++,pe+=2,K+=2;pe+=ge,K+=ge}}function Me(xe,Ie,ke){var ie=xe.length/4|0;if(ke&&!0===ke.singleChannel)for(var pe=0;pe<ie;pe++)Ie[pe]=xe[4*pe+0];else for(var K=0;K<ie;K++)Ie[K]=.299*xe[4*K+0]+.587*xe[4*K+1]+.114*xe[4*K+2]}function le(xe,Ie){for(var ke=xe.data,ie=xe.size.x,pe=Ie.data,K=0,te=ie,ae=ke.length,_e=ie/2,ge=0;te<ae;){for(var Ze=0;Ze<_e;Ze++)pe[ge]=Math.floor((ke[K]+ke[K+1]+ke[te]+ke[te+1])/4),ge++,K+=2,te+=2;K+=ie,te+=ie}}function Q(xe){var Ie=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0,0],ke=xe[0],pe=xe[2],K=pe*xe[1],te=K*(1-Math.abs(ke/60%2-1)),ae=pe-K,_e=0,ge=0,Ze=0;return ke<60?(_e=K,ge=te):ke<120?(_e=te,ge=K):ke<180?(ge=K,Ze=te):ke<240?(ge=te,Ze=K):ke<300?(_e=te,Ze=K):ke<360&&(_e=K,Ze=te),Ie[0]=255*(_e+ae)|0,Ie[1]=255*(ge+ae)|0,Ie[2]=255*(Ze+ae)|0,Ie}function ue(xe){for(var Ie=[],ke=[],ie=1;ie<Math.sqrt(xe)+1;ie++)xe%ie==0&&(ke.push(ie),ie!==xe/ie&&Ie.unshift(Math.floor(xe/ie)));return ke.concat(Ie)}function Ee(xe,Ie){var ke,ie=ue(Ie.x),pe=ue(Ie.y),K=Math.max(Ie.x,Ie.y),te=function(st,Xe){for(var Qe=0,St=0,tn=[];Qe<st.length&&St<Xe.length;)st[Qe]===Xe[St]?(tn.push(st[Qe]),Qe++,St++):st[Qe]>Xe[St]?St++:Qe++;return tn}(ie,pe),ae=[8,10,15,20,32,60,80],_e={"x-small":5,small:4,medium:3,large:2,"x-large":1},ge=_e[xe]||_e.medium,Ze=ae[ge],ot=Math.floor(K/Ze);function wt(st){for(var Xe=0,Qe=st[Math.floor(st.length/2)];Xe<st.length-1&&st[Xe]<ot;)Xe++;return Xe>0&&(Qe=Math.abs(st[Xe]-ot)>Math.abs(st[Xe-1]-ot)?st[Xe-1]:st[Xe]),ot/Qe<ae[ge+1]/ae[ge]&&ot/Qe>ae[ge-1]/ae[ge]?{x:Qe,y:Qe}:null}return(ke=wt(te))||(ke=wt(ue(K)))||(ke=wt(ue(ot*Ze))),ke}var Ve={top:function(xe,Ie){return"%"===xe.unit?Math.floor(Ie.height*(xe.value/100)):null},right:function(xe,Ie){return"%"===xe.unit?Math.floor(Ie.width-Ie.width*(xe.value/100)):null},bottom:function(xe,Ie){return"%"===xe.unit?Math.floor(Ie.height-Ie.height*(xe.value/100)):null},left:function(xe,Ie){return"%"===xe.unit?Math.floor(Ie.width*(xe.value/100)):null}};function ze(xe,Ie,ke){var ie={width:xe,height:Ie},pe=Object.keys(ke).reduce(function(K,te){var ge,ae=(ge=ke[te],{value:parseFloat(ge),unit:(ge.indexOf("%"),"%")}),_e=Ve[te](ae,ie);return K[te]=_e,K},{});return{sx:pe.left,sy:pe.top,sw:pe.right-pe.left,sh:pe.bottom-pe.top}}},function(D,M,r){"use strict";var b=r(83),v=r.n(b),T=r(3),S=r.n(T),k=r(4),F=r.n(k),L=r(0),j=r.n(L),H=r(7),Z=r(9),W=r(8),be={clone:H.clone};function we(Me){if(Me<0)throw new Error("expected positive number, received ".concat(Me))}var Re=function(){function Me(le,Q){var ue=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Uint8Array,Ee=arguments.length>3?arguments[3]:void 0;S()(this,Me),j()(this,"data",void 0),j()(this,"size",void 0),j()(this,"indexMapping",void 0),Q?this.data=Q:(this.data=new ue(le.x*le.y),Ee&&W.a.init(this.data,0)),this.size=le}return F()(Me,[{key:"inImageWithBorder",value:function(le){var Q=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return we(Q),le.x>=0&&le.y>=0&&le.x<this.size.x+2*Q&&le.y<this.size.y+2*Q}},{key:"subImageAsCopy",value:function(le,Q){we(Q.x),we(Q.y);for(var ue=le.size,Ee=ue.x,Ve=ue.y,ze=0;ze<Ee;ze++)for(var xe=0;xe<Ve;xe++)le.data[xe*Ee+ze]=this.data[(Q.y+xe)*this.size.x+Q.x+ze];return le}},{key:"get",value:function(le,Q){return this.data[Q*this.size.x+le]}},{key:"getSafe",value:function(le,Q){if(!this.indexMapping){this.indexMapping={x:[],y:[]};for(var ue=0;ue<this.size.x;ue++)this.indexMapping.x[ue]=ue,this.indexMapping.x[ue+this.size.x]=ue;for(var Ee=0;Ee<this.size.y;Ee++)this.indexMapping.y[Ee]=Ee,this.indexMapping.y[Ee+this.size.y]=Ee}return this.data[this.indexMapping.y[Q+this.size.y]*this.size.x+this.indexMapping.x[le+this.size.x]]}},{key:"set",value:function(le,Q,ue){return this.data[Q*this.size.x+le]=ue,delete this.indexMapping,this}},{key:"zeroBorder",value:function(){for(var le=this.size,Q=le.x,ue=le.y,Ee=0;Ee<Q;Ee++)this.data[Ee]=this.data[(ue-1)*Q+Ee]=0;for(var Ve=1;Ve<ue-1;Ve++)this.data[Ve*Q]=this.data[Ve*Q+(Q-1)]=0;return delete this.indexMapping,this}},{key:"moments",value:function(le){var Q,ue,Ee,Ve,ze,xe,Ie,ke,ie,pe,K=this.data,te=this.size.y,ae=this.size.x,_e=[],ge=[],Ze=Math.PI,ot=Ze/4;if(le<=0)return ge;for(ze=0;ze<le;ze++)_e[ze]={m00:0,m01:0,m10:0,m11:0,m02:0,m20:0,theta:0,rad:0};for(ue=0;ue<te;ue++)for(Ve=ue*ue,Q=0;Q<ae;Q++)(Ee=K[ue*ae+Q])>0&&((xe=_e[Ee-1]).m00+=1,xe.m01+=ue,xe.m10+=Q,xe.m11+=Q*ue,xe.m02+=Ve,xe.m20+=Q*Q);for(ze=0;ze<le;ze++)xe=_e[ze],isNaN(xe.m00)||0===xe.m00||(pe=(xe.m02/xe.m00-(ie=xe.m01/xe.m00)*ie-(xe.m20/xe.m00-(ke=xe.m10/xe.m00)*ke))/(2*(Ie=xe.m11/xe.m00-ke*ie)),pe=.5*Math.atan(pe)+(Ie>=0?ot:-ot)+Ze,xe.theta=(180*pe/Ze+90)%180-90,xe.theta<0&&(xe.theta+=180),xe.rad=pe>Ze?pe-Ze:pe,xe.vec=be.clone([Math.cos(pe),Math.sin(pe)]),ge.push(xe));return ge}},{key:"getAsRGBA",value:function(){for(var le=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,Q=new Uint8ClampedArray(4*this.size.x*this.size.y),ue=0;ue<this.size.y;ue++)for(var Ee=0;Ee<this.size.x;Ee++){var Ve=ue*this.size.x+Ee,ze=this.get(Ee,ue)*le;Q[4*Ve+0]=ze,Q[4*Ve+1]=ze,Q[4*Ve+2]=ze,Q[4*Ve+3]=255}return Q}},{key:"show",value:function(le){var Q=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,ue=le.getContext("2d");if(!ue)throw new Error("Unable to get canvas context");var Ee=ue.getImageData(0,0,le.width,le.height),Ve=this.getAsRGBA(Q);le.width=this.size.x,le.height=this.size.y;var ze=new ImageData(Ve,Ee.width,Ee.height);ue.putImageData(ze,0,0)}},{key:"overlay",value:function(le,Q,ue){var Ee=Q<0||Q>360?360:Q,Ve=[0,1,1],ze=[0,0,0],xe=[255,255,255],Ie=[0,0,0],ke=le.getContext("2d");if(!ke)throw new Error("Unable to get canvas context");for(var ie=ke.getImageData(ue.x,ue.y,this.size.x,this.size.y),pe=ie.data,K=this.data.length;K--;){Ve[0]=this.data[K]*Ee;var te=4*K,ae=Ve[0]<=0?xe:Ve[0]>=360?Ie:Object(Z.g)(Ve,ze),_e=v()(ae,3);pe[te]=_e[0],pe[te+1]=_e[1],pe[te+2]=_e[2],pe[te+3]=255}ke.putImageData(ie,ue.x,ue.y)}}]),Me}();M.a=Re},function(D,M,r){D.exports=r(228)},function(D,M,r){var b=r(227);function v(T,S,k){return"undefined"!=typeof Reflect&&Reflect.get?(D.exports=v=Reflect.get,D.exports.default=D.exports,D.exports.__esModule=!0):(D.exports=v=function(F,L,j){var H=b(F,L);if(H){var Z=Object.getOwnPropertyDescriptor(H,L);return Z.get?Z.get.call(j):Z.value}},D.exports.default=D.exports,D.exports.__esModule=!0),v(T,S,k||T)}D.exports=v,D.exports.default=D.exports,D.exports.__esModule=!0},function(D,M){D.exports=function(r){var b=typeof r;return null!=r&&("object"==b||"function"==b)}},function(D,M){D.exports=Array.isArray},function(D,M,r){"use strict";M.a={drawRect:function(b,v,T,S){T.strokeStyle=S.color,T.fillStyle=S.color,T.lineWidth=S.lineWidth||1,T.beginPath(),T.strokeRect(b.x,b.y,v.x,v.y)},drawPath:function(b,v,T,S){T.strokeStyle=S.color,T.fillStyle=S.color,T.lineWidth=S.lineWidth,T.beginPath(),T.moveTo(b[0][v.x],b[0][v.y]);for(var k=1;k<b.length;k++)T.lineTo(b[k][v.x],b[k][v.y]);T.closePath(),T.stroke()},drawImage:function(b,v,T){var S=T.getImageData(0,0,v.x,v.y),k=S.data,F=k.length,L=b.length;if(F/L!=4)return!1;for(;L--;){var j=b[L];k[--F]=255,k[--F]=j,k[--F]=j,k[--F]=j}return T.putImageData(S,0,0),!0}}},function(D,M,r){var b=r(90),v=r(145)(function(T,S,k){b(T,S,k)});D.exports=v},function(D,M,r){var b=r(45),v="object"==typeof self&&self&&self.Object===Object&&self,T=b||v||Function("return this")();D.exports=T},function(D,M){D.exports=function(r){return null!=r&&"object"==typeof r}},function(D,M){function r(b){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?(D.exports=r=function(v){return typeof v},D.exports.default=D.exports,D.exports.__esModule=!0):(D.exports=r=function(v){return v&&"function"==typeof Symbol&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v},D.exports.default=D.exports,D.exports.__esModule=!0),r(b)}D.exports=r,D.exports.default=D.exports,D.exports.__esModule=!0},function(D,M){function r(b,v,T,S,k,F,L){try{var j=b[F](L),H=j.value}catch(Z){return void T(Z)}j.done?v(H):Promise.resolve(H).then(S,k)}D.exports=function(b){return function(){var v=this,T=arguments;return new Promise(function(S,k){var F=b.apply(v,T);function L(H){r(F,S,k,L,j,"next",H)}function j(H){r(F,S,k,L,j,"throw",H)}L(void 0)})}},D.exports.default=D.exports,D.exports.__esModule=!0},function(D,M,r){"use strict";M.a={searchDirections:[[0,1],[1,1],[1,0],[1,-1],[0,-1],[-1,-1],[-1,0],[-1,1]],create:function(b,v){var T,S=b.data,k=v.data,F=this.searchDirections,L=b.size.x;function j(Z,W,be,we){var Re,Me,le;for(Re=0;Re<7;Re++){if(S[T=(Me=Z.cy+F[Z.dir][0])*L+(le=Z.cx+F[Z.dir][1])]===W&&(0===k[T]||k[T]===be))return k[T]=be,Z.cy=Me,Z.cx=le,!0;0===k[T]&&(k[T]=we),Z.dir=(Z.dir+1)%8}return!1}function H(Z,W,be){return{dir:be,x:Z,y:W,next:null,prev:null}}return{trace:function(Z,W,be,we){return j(Z,W,be,we)},contourTracing:function(Z,W,be,we,Re){return function(Me,le,Q,ue,Ee){var Ve,ze,xe,Ie=null,ke={cx:le,cy:Me,dir:0};if(j(ke,ue,Q,Ee)){Ve=Ie=H(le,Me,ke.dir),xe=ke.dir,(ze=H(ke.cx,ke.cy,0)).prev=Ve,Ve.next=ze,ze.next=null,Ve=ze;do{ke.dir=(ke.dir+6)%8,j(ke,ue,Q,Ee),xe!==ke.dir?(Ve.dir=ke.dir,(ze=H(ke.cx,ke.cy,0)).prev=Ve,Ve.next=ze,ze.next=null,Ve=ze):(Ve.dir=xe,Ve.x=ke.cx,Ve.y=ke.cy),xe=ke.dir}while(ke.cx!==le||ke.cy!==Me);Ie.prev=Ve.prev,Ve.prev.next=Ie}return Ie}(Z,W,be,we,Re)}}}}},function(D,M,r){var b=r(27),v=r(103),T=r(104),S=b?b.toStringTag:void 0;D.exports=function(k){return null==k?void 0===k?"[object Undefined]":"[object Null]":S&&S in Object(k)?v(k):T(k)}},function(D,M,r){"use strict";(function(b){var v,T,S,k,F,L,j,H,Z,W,be,we,Re=r(7),Me=r(34),le=r(10),Q=r(9),ue=r(8),Ee=(r(15),r(87)),Ve=r(21),ze=r(88),xe={ctx:{binary:null},dom:{binary:null}},Ie={x:0,y:0};function ke(K){var te,ae,_e,ge,Ze,ot,wt,st=Z.size.x,Xe=Z.size.y,Qe=-Z.size.x,St=-Z.size.y;for(te=0,ae=0;ae<K.length;ae++)te+=(ge=K[ae]).rad;for((te=(180*(te/=K.length)/Math.PI+90)%180-90)<0&&(te+=180),te=(180-te)*Math.PI/180,Ze=Me.copy(Me.create(),[Math.cos(te),Math.sin(te),-Math.sin(te),Math.cos(te)]),ae=0;ae<K.length;ae++)for(ge=K[ae],_e=0;_e<4;_e++)Re.transformMat2(ge.box[_e],ge.box[_e],Ze);for(ae=0;ae<K.length;ae++)for(ge=K[ae],_e=0;_e<4;_e++)ge.box[_e][0]<st&&(st=ge.box[_e][0]),ge.box[_e][0]>Qe&&(Qe=ge.box[_e][0]),ge.box[_e][1]<Xe&&(Xe=ge.box[_e][1]),ge.box[_e][1]>St&&(St=ge.box[_e][1]);for(ot=[[st,Xe],[Qe,Xe],[Qe,St],[st,St]],wt=v.halfSample?2:1,Ze=Me.invert(Ze,Ze),_e=0;_e<4;_e++)Re.transformMat2(ot[_e],ot[_e],Ze);for(_e=0;_e<4;_e++)Re.scale(ot[_e],ot[_e],wt);return ot}function ie(K,te){Z.subImageAsCopy(k,Object(Q.h)(K,te)),we.skeletonize()}function pe(K,te,ae,_e){var ge,Ze,ot,wt,st=[],Xe=[],Qe=Math.ceil(W.x/3);if(K.length>=2){for(ge=0;ge<K.length;ge++)K[ge].m00>Qe&&st.push(K[ge]);if(st.length>=2){for(ot=function(St){var tn=Object(Q.b)(St,.9),vn=Object(Q.j)(tn,1,function(gn){return gn.getPoints().length}),Ht=[],Vt=[];if(1===vn.length){Ht=vn[0].item.getPoints();for(var xt=0;xt<Ht.length;xt++)Vt.push(Ht[xt].point)}return Vt}(st),Ze=0,ge=0;ge<ot.length;ge++)Ze+=ot[ge].rad;ot.length>1&&ot.length>=st.length/4*3&&ot.length>K.length/4&&(Ze/=ot.length,wt={index:te[1]*Ie.x+te[0],pos:{x:ae,y:_e},box:[Re.clone([ae,_e]),Re.clone([ae+k.size.x,_e]),Re.clone([ae+k.size.x,_e+k.size.y]),Re.clone([ae,_e+k.size.y])],moments:ot,rad:Ze,vec:Re.clone([Math.cos(Ze),Math.sin(Ze)])},Xe.push(wt))}}return Xe}M.a={init:function(K,te){v=te,be=K,function(){T=v.halfSample?new le.a({x:be.size.x/2|0,y:be.size.y/2|0}):be,W=Object(Q.a)(v.patchSize,T.size),Ie.x=T.size.x/W.x|0,Ie.y=T.size.y/W.y|0,Z=new le.a(T.size,void 0,Uint8Array,!1),F=new le.a(W,void 0,Array,!0);var ae=new ArrayBuffer(65536);k=new le.a(W,new Uint8Array(ae,0,W.x*W.y)),S=new le.a(W,new Uint8Array(ae,W.x*W.y*3,W.x*W.y),void 0,!0),we=Object(ze.a)("undefined"!=typeof window?window:"undefined"!=typeof self?self:b,{size:W.x},ae),H=new le.a({x:T.size.x/k.size.x|0,y:T.size.y/k.size.y|0},void 0,Array,!0),L=new le.a(H.size,void 0,void 0,!0),j=new le.a(H.size,void 0,Int32Array,!0)}(),v.useWorker||"undefined"==typeof document||(xe.dom.binary=document.createElement("canvas"),xe.dom.binary.className="binaryBuffer",xe.ctx.binary=xe.dom.binary.getContext("2d"),xe.dom.binary.width=Z.size.x,xe.dom.binary.height=Z.size.y)},locate:function(){v.halfSample&&Object(Q.f)(be,T),Object(Q.i)(T,Z),Z.zeroBorder();var K=function(){var _e,ge,Ze,ot,wt,st,Xe=[];for(_e=0;_e<Ie.x;_e++)for(ge=0;ge<Ie.y;ge++)ie(Ze=k.size.x*_e,ot=k.size.y*ge),S.zeroBorder(),ue.a.init(F.data,0),st=Ee.a.create(S,F).rasterize(0),wt=F.moments(st.count),Xe=Xe.concat(pe(wt,[_e,ge],Ze,ot));return Xe}();if(K.length<Ie.x*Ie.y*.05)return null;var te=function(_e){var ge,Ze,ot=0,wt=0;function st(){var Qe;for(Qe=0;Qe<j.data.length;Qe++)if(0===j.data[Qe]&&1===L.data[Qe])return Qe;return j.length}function Xe(Qe){var vn,Ht,Vt,xt=Qe%j.size.x,gn=Qe/j.size.x|0;if(Qe<j.data.length)for(vn=H.data[Qe],j.data[Qe]=ot,Vt=0;Vt<Ve.a.searchDirections.length;Vt++)0!==L.data[Ht=(gn+Ve.a.searchDirections[Vt][0])*j.size.x+(xt+Ve.a.searchDirections[Vt][1])]?0===j.data[Ht]&&Math.abs(Re.dot(H.data[Ht].vec,vn.vec))>.95&&Xe(Ht):j.data[Ht]=Number.MAX_VALUE}for(ue.a.init(L.data,0),ue.a.init(j.data,0),ue.a.init(H.data,null),ge=0;ge<_e.length;ge++)H.data[(Ze=_e[ge]).index]=Ze,L.data[Ze.index]=1;for(L.zeroBorder();(wt=st())<j.data.length;)ot++,Xe(wt);return ot}(K);if(te<1)return null;var ae=function(_e){var ge,Ze,ot=[];for(ge=0;ge<_e;ge++)ot.push(0);for(Ze=j.data.length;Ze--;)j.data[Ze]>0&&ot[j.data[Ze]-1]++;return(ot=ot.map(function(wt,st){return{val:wt,label:st+1}})).sort(function(wt,st){return st.val-wt.val}),ot.filter(function(wt){return wt.val>=5})}(te);return 0===ae.length?null:function(_e,ge){var Ze,ot,st,Xe=[],Qe=[];for(Ze=0;Ze<_e.length;Ze++){for(ot=j.data.length,Xe.length=0;ot--;)j.data[ot]===_e[Ze].label&&Xe.push(H.data[ot]);(st=ke(Xe))&&Qe.push(st)}return Qe}(ae)},checkImageConstraints:function(K,te){var ae,_e,ge=K.getWidth(),Ze=K.getHeight(),ot=te.halfSample?.5:1;K.getConfig().area&&(_e=Object(Q.d)(ge,Ze,K.getConfig().area),K.setTopRight({x:_e.sx,y:_e.sy}),K.setCanvasSize({x:ge,y:Ze}),ge=_e.sw,Ze=_e.sh);var wt={x:Math.floor(ge*ot),y:Math.floor(Ze*ot)};if(ae=Object(Q.a)(te.patchSize,wt),K.setWidth(Math.floor(Math.floor(wt.x/ae.x)*(1/ot)*ae.x)),K.setHeight(Math.floor(Math.floor(wt.y/ae.y)*(1/ot)*ae.y)),K.getWidth()%ae.x==0&&K.getHeight()%ae.y==0)return!0;throw new Error("Image dimensions do not comply with the current settings: Width (".concat(ge," )and height (").concat(Ze,") must a multiple of ").concat(ae.x))}}}).call(this,r(46))},function(D,M,r){var b=r(92),v=r(93),T=r(94),S=r(95),k=r(96);function F(L){var j=-1,H=null==L?0:L.length;for(this.clear();++j<H;){var Z=L[j];this.set(Z[0],Z[1])}}F.prototype.clear=b,F.prototype.delete=v,F.prototype.get=T,F.prototype.has=S,F.prototype.set=k,D.exports=F},function(D,M,r){var b=r(26);D.exports=function(v,T){for(var S=v.length;S--;)if(b(v[S][0],T))return S;return-1}},function(D,M){D.exports=function(r,b){return r===b||r!=r&&b!=b}},function(D,M,r){var b=r(17).Symbol;D.exports=b},function(D,M,r){var b=r(35)(Object,"create");D.exports=b},function(D,M,r){var b=r(117);D.exports=function(v,T){var S=v.__data__;return b(T)?S["string"==typeof T?"string":"hash"]:S.map}},function(D,M,r){var b=r(132),v=r(18),T=Object.prototype,S=T.hasOwnProperty,k=T.propertyIsEnumerable,F=b(function(){return arguments}())?b:function(L){return v(L)&&S.call(L,"callee")&&!k.call(L,"callee")};D.exports=F},function(D,M){var r=/^(?:0|[1-9]\d*)$/;D.exports=function(b,v){var T=typeof b;return!!(v=null==v?9007199254740991:v)&&("number"==T||"symbol"!=T&&r.test(b))&&b>-1&&b%1==0&&b<v}},function(D,M,r){var b=r(14),v=r(232),T=r(233),S=r(236);D.exports=function(k,F){return b(k)?k:v(k,F)?[k]:T(S(k))}},function(D,M,r){var b=r(224),v=r(225),T=r(60),S=r(226);D.exports=function(k){return b(k)||v(k)||T(k)||S()},D.exports.default=D.exports,D.exports.__esModule=!0},function(D,M,r){D.exports={determinant:r(251),transpose:r(252),multiply:r(253),identity:r(254),adjoint:r(255),rotate:r(256),invert:r(257),create:r(258),scale:r(259),copy:r(260),frob:r(261),ldu:r(262)}},function(D,M,r){var b=r(102),v=r(108);D.exports=function(T,S){var k=v(T,S);return b(k)?k:void 0}},function(D,M,r){var b=r(22),v=r(13);D.exports=function(T){if(!v(T))return!1;var S=b(T);return"[object Function]"==S||"[object GeneratorFunction]"==S||"[object AsyncFunction]"==S||"[object Proxy]"==S}},function(D,M,r){var b=r(49);D.exports=function(v,T,S){"__proto__"==T&&b?b(v,T,{configurable:!0,enumerable:!0,value:S,writable:!0}):v[T]=S}},function(D,M){D.exports=function(r){return r.webpackPolyfill||(r.deprecate=function(){},r.paths=[],r.children||(r.children=[]),Object.defineProperty(r,"loaded",{enumerable:!0,get:function(){return r.l}}),Object.defineProperty(r,"id",{enumerable:!0,get:function(){return r.i}}),r.webpackPolyfill=1),r}},function(D,M,r){var b=r(36),v=r(40);D.exports=function(T){return null!=T&&v(T.length)&&!b(T)}},function(D,M){D.exports=function(r){return"number"==typeof r&&r>-1&&r%1==0&&r<=9007199254740991}},function(D,M){function r(b,v){return D.exports=r=Object.setPrototypeOf||function(T,S){return T.__proto__=S,T},D.exports.default=D.exports,D.exports.__esModule=!0,r(b,v)}D.exports=r,D.exports.default=D.exports,D.exports.__esModule=!0},function(D,M,r){var b=r(22),v=r(18);D.exports=function(T){return"symbol"==typeof T||v(T)&&"[object Symbol]"==b(T)}},function(D,M,r){var b=r(42);D.exports=function(v){if("string"==typeof v||b(v))return v;var T=v+"";return"0"==T&&1/v==-1/0?"-0":T}},function(D,M,r){var b=r(35)(r(17),"Map");D.exports=b},function(D,M,r){(function(b){D.exports="object"==typeof b&&b&&b.Object===Object&&b}).call(this,r(46))},function(D,M){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(b){"object"==typeof window&&(r=window)}D.exports=r},function(D,M,r){var b=r(109),v=r(116),T=r(118),S=r(119),k=r(120);function F(L){var j=-1,H=null==L?0:L.length;for(this.clear();++j<H;){var Z=L[j];this.set(Z[0],Z[1])}}F.prototype.clear=b,F.prototype.delete=v,F.prototype.get=T,F.prototype.has=S,F.prototype.set=k,D.exports=F},function(D,M,r){var b=r(37),v=r(26);D.exports=function(T,S,k){(void 0!==k&&!v(T[S],k)||void 0===k&&!(S in T))&&b(T,S,k)}},function(D,M,r){var b=r(35),v=function(){try{var T=b(Object,"defineProperty");return T({},"",{}),T}catch(S){}}();D.exports=v},function(D,M,r){var b=r(131)(Object.getPrototypeOf,Object);D.exports=b},function(D,M){var r=Object.prototype;D.exports=function(b){var v=b&&b.constructor;return b===("function"==typeof v&&v.prototype||r)}},function(D,M,r){(function(b){var v=r(17),T=r(134),S=M&&!M.nodeType&&M,k=S&&"object"==typeof b&&b&&!b.nodeType&&b,F=k&&k.exports===S?v.Buffer:void 0;b.exports=(F?F.isBuffer:void 0)||T}).call(this,r(38)(D))},function(D,M,r){var b=r(136),v=r(137),T=r(138),S=T&&T.isTypedArray,k=S?v(S):b;D.exports=k},function(D,M){D.exports=function(r,b){if(("constructor"!==b||"function"!=typeof r[b])&&"__proto__"!=b)return r[b]}},function(D,M,r){var b=r(37),v=r(26),T=Object.prototype.hasOwnProperty;D.exports=function(S,k,F){var L=S[k];T.call(S,k)&&v(L,F)&&(void 0!==F||k in S)||b(S,k,F)}},function(D,M,r){var b=r(141),v=r(143),T=r(39);D.exports=function(S){return T(S)?b(S,!0):v(S)}},function(D,M){D.exports=function(r){return r}},function(D,M,r){var b=r(147),v=Math.max;D.exports=function(T,S,k){return S=v(void 0===S?T.length-1:S,0),function(){for(var F=arguments,L=-1,j=v(F.length-S,0),H=Array(j);++L<j;)H[L]=F[S+L];L=-1;for(var Z=Array(S+1);++L<S;)Z[L]=F[L];return Z[S]=k(H),b(T,this,Z)}}},function(D,M,r){var b=r(148),v=r(150)(b);D.exports=v},function(D,M,r){var b=r(61);D.exports=function(v,T){if(v){if("string"==typeof v)return b(v,T);var S=Object.prototype.toString.call(v).slice(8,-1);return"Object"===S&&v.constructor&&(S=v.constructor.name),"Map"===S||"Set"===S?Array.from(v):"Arguments"===S||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(S)?b(v,T):void 0}},D.exports.default=D.exports,D.exports.__esModule=!0},function(D,M){D.exports=function(r,b){(null==b||b>r.length)&&(b=r.length);for(var v=0,T=new Array(b);v<b;v++)T[v]=r[v];return T},D.exports.default=D.exports,D.exports.__esModule=!0},function(D,M){D.exports=1e-6},function(D,M){D.exports=function(){var r=new Float32Array(2);return r[0]=0,r[1]=0,r}},function(D,M){D.exports=function(r,b,v){return r[0]=b[0]-v[0],r[1]=b[1]-v[1],r}},function(D,M){D.exports=function(r,b,v){return r[0]=b[0]*v[0],r[1]=b[1]*v[1],r}},function(D,M){D.exports=function(r,b,v){return r[0]=b[0]/v[0],r[1]=b[1]/v[1],r}},function(D,M){D.exports=function(r,b){var v=b[0]-r[0],T=b[1]-r[1];return Math.sqrt(v*v+T*T)}},function(D,M){D.exports=function(r,b){var v=b[0]-r[0],T=b[1]-r[1];return v*v+T*T}},function(D,M){D.exports=function(r){var b=r[0],v=r[1];return Math.sqrt(b*b+v*v)}},function(D,M){D.exports=function(r){var b=r[0],v=r[1];return b*b+v*v}},function(D,M){D.exports=1e-6},function(D,M){D.exports=function(){var r=new Float32Array(3);return r[0]=0,r[1]=0,r[2]=0,r}},function(D,M){D.exports=function(r,b,v){var T=new Float32Array(3);return T[0]=r,T[1]=b,T[2]=v,T}},function(D,M){D.exports=function(r,b){var v=b[0],T=b[1],S=b[2],k=v*v+T*T+S*S;return k>0&&(k=1/Math.sqrt(k),r[0]=b[0]*k,r[1]=b[1]*k,r[2]=b[2]*k),r}},function(D,M){D.exports=function(r,b){return r[0]*b[0]+r[1]*b[1]+r[2]*b[2]}},function(D,M){D.exports=function(r,b,v){return r[0]=b[0]-v[0],r[1]=b[1]-v[1],r[2]=b[2]-v[2],r}},function(D,M){D.exports=function(r,b,v){return r[0]=b[0]*v[0],r[1]=b[1]*v[1],r[2]=b[2]*v[2],r}},function(D,M){D.exports=function(r,b,v){return r[0]=b[0]/v[0],r[1]=b[1]/v[1],r[2]=b[2]/v[2],r}},function(D,M){D.exports=function(r,b){var v=b[0]-r[0],T=b[1]-r[1],S=b[2]-r[2];return Math.sqrt(v*v+T*T+S*S)}},function(D,M){D.exports=function(r,b){var v=b[0]-r[0],T=b[1]-r[1],S=b[2]-r[2];return v*v+T*T+S*S}},function(D,M){D.exports=function(r){var b=r[0],v=r[1],T=r[2];return Math.sqrt(b*b+v*v+T*T)}},function(D,M){D.exports=function(r){var b=r[0],v=r[1],T=r[2];return b*b+v*v+T*T}},function(D,M,r){var b=r(153),v=r(154),T=r(60),S=r(155);D.exports=function(k,F){return b(k)||v(k,F)||T(k,F)||S()},D.exports.default=D.exports,D.exports.__esModule=!0},function(D,M,r){D.exports={EPSILON:r(71),create:r(72),clone:r(191),angle:r(192),fromValues:r(73),copy:r(193),set:r(194),equals:r(195),exactEquals:r(196),add:r(197),subtract:r(76),sub:r(198),multiply:r(77),mul:r(199),divide:r(78),div:r(200),min:r(201),max:r(202),floor:r(203),ceil:r(204),round:r(205),scale:r(206),scaleAndAdd:r(207),distance:r(79),dist:r(208),squaredDistance:r(80),sqrDist:r(209),length:r(81),len:r(210),squaredLength:r(82),sqrLen:r(211),negate:r(212),inverse:r(213),normalize:r(74),dot:r(75),cross:r(214),lerp:r(215),random:r(216),transformMat4:r(217),transformMat3:r(218),transformQuat:r(219),rotateX:r(220),rotateY:r(221),rotateZ:r(222),forEach:r(223)}},function(D,M,r){var b=r(229),v=r(243)(function(T,S){return null==T?{}:b(T,S)});D.exports=v},function(D,M,r){var b=r(2),v=r(41),T=r(248),S=r(249);function k(F){var L="function"==typeof Map?new Map:void 0;return D.exports=k=function(j){if(null===j||!T(j))return j;if("function"!=typeof j)throw new TypeError("Super expression must either be null or a function");if(void 0!==L){if(L.has(j))return L.get(j);L.set(j,H)}function H(){return S(j,arguments,b(this).constructor)}return H.prototype=Object.create(j.prototype,{constructor:{value:H,enumerable:!1,writable:!0,configurable:!0}}),v(H,j)},D.exports.default=D.exports,D.exports.__esModule=!0,k(F)}D.exports=k,D.exports.default=D.exports,D.exports.__esModule=!0},function(D,M,r){"use strict";var b=r(21),v={createContour2D:function(){return{dir:null,index:null,firstVertex:null,insideContours:null,nextpeer:null,prevpeer:null}},CONTOUR_DIR:{CW_DIR:0,CCW_DIR:1,UNKNOWN_DIR:2},DIR:{OUTSIDE_EDGE:-32767,INSIDE_EDGE:-32766},create:function(T,S){var k=T.data,F=S.data,L=T.size.x,j=T.size.y,H=b.a.create(T,S);return{rasterize:function(Z){var W,be,we,Re,Me,le,Q,ue,Ee,Ve,ze,xe,Ie=[],ke=0;for(xe=0;xe<400;xe++)Ie[xe]=0;for(Ie[0]=k[0],Ee=null,le=1;le<j-1;le++)for(Re=0,be=Ie[0],Me=1;Me<L-1;Me++)if(0===F[ze=le*L+Me])if((W=k[ze])!==be){if(0===Re)Ie[we=ke+1]=W,be=W,null!==(Q=H.contourTracing(le,Me,we,W,v.DIR.OUTSIDE_EDGE))&&(ke++,Re=we,(ue=v.createContour2D()).dir=v.CONTOUR_DIR.CW_DIR,ue.index=Re,ue.firstVertex=Q,ue.nextpeer=Ee,ue.insideContours=null,null!==Ee&&(Ee.prevpeer=ue),Ee=ue);else if(null!==(Q=H.contourTracing(le,Me,v.DIR.INSIDE_EDGE,W,Re))){for((ue=v.createContour2D()).firstVertex=Q,ue.insideContours=null,ue.dir=0===Z?v.CONTOUR_DIR.CCW_DIR:v.CONTOUR_DIR.CW_DIR,ue.index=Z,Ve=Ee;null!==Ve&&Ve.index!==Re;)Ve=Ve.nextpeer;null!==Ve&&(ue.nextpeer=Ve.insideContours,null!==Ve.insideContours&&(Ve.insideContours.prevpeer=ue),Ve.insideContours=ue)}}else F[ze]=Re;else F[ze]===v.DIR.OUTSIDE_EDGE||F[ze]===v.DIR.INSIDE_EDGE?(Re=0,be=F[ze]===v.DIR.INSIDE_EDGE?k[ze]:Ie[0]):be=Ie[Re=F[ze]];for(Ve=Ee;null!==Ve;)Ve.index=Z,Ve=Ve.nextpeer;return{cc:Ee,count:ke}},debug:{drawContour:function(Z,W){var be,we,Re,Me=Z.getContext("2d"),le=W;for(Me.strokeStyle="red",Me.fillStyle="red",Me.lineWidth=1,be=null!==le?le.insideContours:null;null!==le;){switch(null!==be?(we=be,be=be.nextpeer):(we=le,be=null!==(le=le.nextpeer)?le.insideContours:null),we.dir){case v.CONTOUR_DIR.CW_DIR:Me.strokeStyle="red";break;case v.CONTOUR_DIR.CCW_DIR:Me.strokeStyle="blue";break;case v.CONTOUR_DIR.UNKNOWN_DIR:Me.strokeStyle="green"}Re=we.firstVertex,Me.beginPath(),Me.moveTo(Re.x,Re.y);do{Me.lineTo((Re=Re.next).x,Re.y)}while(Re!==we.firstVertex);Me.stroke()}}}}}};M.a=v},function(D,M,r){"use strict";M.a=function(b,v,T){var S=new b.Uint8Array(T),k=0|v.size,F=b.Math.imul;function L(le,Q){le|=0,Q|=0;var ue=0,Ee=0,ze=0,xe=0,Ie=0,ke=0,ie=0;for(ue=1;(0|ue)<(k-1|0);ue=ue+1|0)for(ie=ie+k|0,Ee=1;(0|Ee)<(k-1|0);Ee=Ee+1|0)S[Q+ie+Ee|0]=5==(0|(0|S[le+(ze=ie-k|0)+(Ie=Ee-1|0)|0])+(0|S[le+ze+(ke=Ee+1|0)|0])+(0|S[le+ie+Ee|0])+(0|S[le+(xe=ie+k|0)+Ie|0])+(0|S[le+xe+ke|0]))?1:0}function j(le,Q,ue){le|=0,Q|=0,ue|=0;var Ee=0;for(Ee=0|F(k,k);(0|Ee)>0;)S[ue+(Ee=Ee-1|0)|0]=(0|S[le+Ee|0])-(0|S[Q+Ee|0])|0}function H(le,Q,ue){le|=0,Q|=0,ue|=0;var Ee=0;for(Ee=0|F(k,k);(0|Ee)>0;)S[ue+(Ee=Ee-1|0)|0]=0|S[le+Ee|0]|S[Q+Ee|0]|0}function Z(le){le|=0;var Q=0,ue=0;for(ue=0|F(k,k);(0|ue)>0;)Q=(0|Q)+(0|S[le+(ue=ue-1|0)|0])|0;return 0|Q}function be(le,Q){le|=0,Q|=0;var ue=0,Ee=0,ze=0,xe=0,Ie=0,ke=0,ie=0;for(ue=1;(0|ue)<(k-1|0);ue=ue+1|0)for(ie=ie+k|0,Ee=1;(0|Ee)<(k-1|0);Ee=Ee+1|0)S[Q+ie+Ee|0]=(0|(0|S[le+(ze=ie-k|0)+(Ie=Ee-1|0)|0])+(0|S[le+ze+(ke=Ee+1|0)|0])+(0|S[le+ie+Ee|0])+(0|S[le+(xe=ie+k|0)+Ie|0])+(0|S[le+xe+ke|0]))>0?1:0}function we(le,Q){le|=0,Q|=0;var ue=0;for(ue=0|F(k,k);(0|ue)>0;)S[Q+(ue=ue-1|0)|0]=0|S[le+ue|0]}return{skeletonize:function(){var Q,ue,Ee,ze=0;(function(le,Q){le|=0,Q|=0;var ue=0;for(ue=0|F(k,k);(0|ue)>0;)S[le+(ue=ue-1|0)|0]=Q})(Ee=(ue=(Q=0|F(k,k))+Q|0)+Q|0,0),function(le){le|=0;var Q=0,ue=0;for(Q=0;(0|Q)<(k-1|0);Q=Q+1|0)S[le+Q|0]=0,S[le+ue|0]=0,S[le+(ue=ue+k-1|0)|0]=0,ue=ue+1|0;for(Q=0;(0|Q)<(0|k);Q=Q+1|0)S[le+ue|0]=0,ue=ue+1|0}(0);do{L(0,Q),be(Q,ue),j(0,ue,ue),H(Ee,ue,Ee),we(Q,0),ze=0==(0|Z(0))|0}while(!ze)}}}},function(D,M,r){D.exports=r(263)},function(D,M,r){var b=r(91),v=r(48),T=r(121),S=r(123),k=r(13),F=r(56),L=r(54);D.exports=function j(H,Z,W,be,we){H!==Z&&T(Z,function(Re,Me){if(we||(we=new b),k(Re))S(H,Z,Me,W,j,be,we);else{var le=be?be(L(H,Me),Re,Me+"",H,Z,we):void 0;void 0===le&&(le=Re),v(H,Me,le)}},F)}},function(D,M,r){var b=r(24),v=r(97),T=r(98),S=r(99),k=r(100),F=r(101);function L(j){var H=this.__data__=new b(j);this.size=H.size}L.prototype.clear=v,L.prototype.delete=T,L.prototype.get=S,L.prototype.has=k,L.prototype.set=F,D.exports=L},function(D,M){D.exports=function(){this.__data__=[],this.size=0}},function(D,M,r){var b=r(25),v=Array.prototype.splice;D.exports=function(T){var S=this.__data__,k=b(S,T);return!(k<0||(k==S.length-1?S.pop():v.call(S,k,1),--this.size,0))}},function(D,M,r){var b=r(25);D.exports=function(v){var T=this.__data__,S=b(T,v);return S<0?void 0:T[S][1]}},function(D,M,r){var b=r(25);D.exports=function(v){return b(this.__data__,v)>-1}},function(D,M,r){var b=r(25);D.exports=function(v,T){var S=this.__data__,k=b(S,v);return k<0?(++this.size,S.push([v,T])):S[k][1]=T,this}},function(D,M,r){var b=r(24);D.exports=function(){this.__data__=new b,this.size=0}},function(D,M){D.exports=function(r){var b=this.__data__,v=b.delete(r);return this.size=b.size,v}},function(D,M){D.exports=function(r){return this.__data__.get(r)}},function(D,M){D.exports=function(r){return this.__data__.has(r)}},function(D,M,r){var b=r(24),v=r(44),T=r(47);D.exports=function(S,k){var F=this.__data__;if(F instanceof b){var L=F.__data__;if(!v||L.length<199)return L.push([S,k]),this.size=++F.size,this;F=this.__data__=new T(L)}return F.set(S,k),this.size=F.size,this}},function(D,M,r){var b=r(36),v=r(105),T=r(13),S=r(107),k=/^\[object .+?Constructor\]$/,Z=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");D.exports=function(W){return!(!T(W)||v(W))&&(b(W)?Z:k).test(S(W))}},function(D,M,r){var b=r(27),v=Object.prototype,T=v.hasOwnProperty,S=v.toString,k=b?b.toStringTag:void 0;D.exports=function(F){var L=T.call(F,k),j=F[k];try{F[k]=void 0;var H=!0}catch(W){}var Z=S.call(F);return H&&(L?F[k]=j:delete F[k]),Z}},function(D,M){var r=Object.prototype.toString;D.exports=function(b){return r.call(b)}},function(D,M,r){var b,v=r(106),T=(b=/[^.]+$/.exec(v&&v.keys&&v.keys.IE_PROTO||""))?"Symbol(src)_1."+b:"";D.exports=function(S){return!!T&&T in S}},function(D,M,r){var b=r(17)["__core-js_shared__"];D.exports=b},function(D,M){var r=Function.prototype.toString;D.exports=function(b){if(null!=b){try{return r.call(b)}catch(v){}try{return b+""}catch(v){}}return""}},function(D,M){D.exports=function(r,b){return null==r?void 0:r[b]}},function(D,M,r){var b=r(110),v=r(24),T=r(44);D.exports=function(){this.size=0,this.__data__={hash:new b,map:new(T||v),string:new b}}},function(D,M,r){var b=r(111),v=r(112),T=r(113),S=r(114),k=r(115);function F(L){var j=-1,H=null==L?0:L.length;for(this.clear();++j<H;){var Z=L[j];this.set(Z[0],Z[1])}}F.prototype.clear=b,F.prototype.delete=v,F.prototype.get=T,F.prototype.has=S,F.prototype.set=k,D.exports=F},function(D,M,r){var b=r(28);D.exports=function(){this.__data__=b?b(null):{},this.size=0}},function(D,M){D.exports=function(r){var b=this.has(r)&&delete this.__data__[r];return this.size-=b?1:0,b}},function(D,M,r){var b=r(28),v=Object.prototype.hasOwnProperty;D.exports=function(T){var S=this.__data__;if(b){var k=S[T];return"__lodash_hash_undefined__"===k?void 0:k}return v.call(S,T)?S[T]:void 0}},function(D,M,r){var b=r(28),v=Object.prototype.hasOwnProperty;D.exports=function(T){var S=this.__data__;return b?void 0!==S[T]:v.call(S,T)}},function(D,M,r){var b=r(28);D.exports=function(v,T){var S=this.__data__;return this.size+=this.has(v)?0:1,S[v]=b&&void 0===T?"__lodash_hash_undefined__":T,this}},function(D,M,r){var b=r(29);D.exports=function(v){var T=b(this,v).delete(v);return this.size-=T?1:0,T}},function(D,M){D.exports=function(r){var b=typeof r;return"string"==b||"number"==b||"symbol"==b||"boolean"==b?"__proto__"!==r:null===r}},function(D,M,r){var b=r(29);D.exports=function(v){return b(this,v).get(v)}},function(D,M,r){var b=r(29);D.exports=function(v){return b(this,v).has(v)}},function(D,M,r){var b=r(29);D.exports=function(v,T){var S=b(this,v),k=S.size;return S.set(v,T),this.size+=S.size==k?0:1,this}},function(D,M,r){var b=r(122)();D.exports=b},function(D,M){D.exports=function(r){return function(b,v,T){for(var S=-1,k=Object(b),F=T(b),L=F.length;L--;){var j=F[r?L:++S];if(!1===v(k[j],j,k))break}return b}}},function(D,M,r){var b=r(48),v=r(124),T=r(125),S=r(128),k=r(129),F=r(30),L=r(14),j=r(133),H=r(52),Z=r(36),W=r(13),be=r(135),we=r(53),Re=r(54),Me=r(139);D.exports=function(le,Q,ue,Ee,Ve,ze,xe){var Ie=Re(le,ue),ke=Re(Q,ue),ie=xe.get(ke);if(ie)b(le,ue,ie);else{var pe=ze?ze(Ie,ke,ue+"",le,Q,xe):void 0,K=void 0===pe;if(K){var te=L(ke),ae=!te&&H(ke),_e=!te&&!ae&&we(ke);pe=ke,te||ae||_e?L(Ie)?pe=Ie:j(Ie)?pe=S(Ie):ae?(K=!1,pe=v(ke,!0)):_e?(K=!1,pe=T(ke,!0)):pe=[]:be(ke)||F(ke)?(pe=Ie,F(Ie)?pe=Me(Ie):W(Ie)&&!Z(Ie)||(pe=k(ke))):K=!1}K&&(xe.set(ke,pe),Ve(pe,ke,Ee,ze,xe),xe.delete(ke)),b(le,ue,pe)}}},function(D,M,r){(function(b){var v=r(17),T=M&&!M.nodeType&&M,S=T&&"object"==typeof b&&b&&!b.nodeType&&b,k=S&&S.exports===T?v.Buffer:void 0,F=k?k.allocUnsafe:void 0;b.exports=function(L,j){if(j)return L.slice();var H=L.length,Z=F?F(H):new L.constructor(H);return L.copy(Z),Z}}).call(this,r(38)(D))},function(D,M,r){var b=r(126);D.exports=function(v,T){var S=T?b(v.buffer):v.buffer;return new v.constructor(S,v.byteOffset,v.length)}},function(D,M,r){var b=r(127);D.exports=function(v){var T=new v.constructor(v.byteLength);return new b(T).set(new b(v)),T}},function(D,M,r){var b=r(17).Uint8Array;D.exports=b},function(D,M){D.exports=function(r,b){var v=-1,T=r.length;for(b||(b=Array(T));++v<T;)b[v]=r[v];return b}},function(D,M,r){var b=r(130),v=r(50),T=r(51);D.exports=function(S){return"function"!=typeof S.constructor||T(S)?{}:b(v(S))}},function(D,M,r){var b=r(13),v=Object.create,T=function(){function S(){}return function(k){if(!b(k))return{};if(v)return v(k);S.prototype=k;var F=new S;return S.prototype=void 0,F}}();D.exports=T},function(D,M){D.exports=function(r,b){return function(v){return r(b(v))}}},function(D,M,r){var b=r(22),v=r(18);D.exports=function(T){return v(T)&&"[object Arguments]"==b(T)}},function(D,M,r){var b=r(39),v=r(18);D.exports=function(T){return v(T)&&b(T)}},function(D,M){D.exports=function(){return!1}},function(D,M,r){var b=r(22),v=r(50),T=r(18),F=Function.prototype.toString,L=Object.prototype.hasOwnProperty,j=F.call(Object);D.exports=function(H){if(!T(H)||"[object Object]"!=b(H))return!1;var Z=v(H);if(null===Z)return!0;var W=L.call(Z,"constructor")&&Z.constructor;return"function"==typeof W&&W instanceof W&&F.call(W)==j}},function(D,M,r){var b=r(22),v=r(40),T=r(18),S={};S["[object Float32Array]"]=S["[object Float64Array]"]=S["[object Int8Array]"]=S["[object Int16Array]"]=S["[object Int32Array]"]=S["[object Uint8Array]"]=S["[object Uint8ClampedArray]"]=S["[object Uint16Array]"]=S["[object Uint32Array]"]=!0,S["[object Arguments]"]=S["[object Array]"]=S["[object ArrayBuffer]"]=S["[object Boolean]"]=S["[object DataView]"]=S["[object Date]"]=S["[object Error]"]=S["[object Function]"]=S["[object Map]"]=S["[object Number]"]=S["[object Object]"]=S["[object RegExp]"]=S["[object Set]"]=S["[object String]"]=S["[object WeakMap]"]=!1,D.exports=function(k){return T(k)&&v(k.length)&&!!S[b(k)]}},function(D,M){D.exports=function(r){return function(b){return r(b)}}},function(D,M,r){(function(b){var v=r(45),T=M&&!M.nodeType&&M,S=T&&"object"==typeof b&&b&&!b.nodeType&&b,k=S&&S.exports===T&&v.process,F=function(){try{return S&&S.require&&S.require("util").types||k&&k.binding&&k.binding("util")}catch(j){}}();b.exports=F}).call(this,r(38)(D))},function(D,M,r){var b=r(140),v=r(56);D.exports=function(T){return b(T,v(T))}},function(D,M,r){var b=r(55),v=r(37);D.exports=function(T,S,k,F){var L=!k;k||(k={});for(var j=-1,H=S.length;++j<H;){var Z=S[j],W=F?F(k[Z],T[Z],Z,k,T):void 0;void 0===W&&(W=T[Z]),L?v(k,Z,W):b(k,Z,W)}return k}},function(D,M,r){var b=r(142),v=r(30),T=r(14),S=r(52),k=r(31),F=r(53),L=Object.prototype.hasOwnProperty;D.exports=function(j,H){var Z=T(j),W=!Z&&v(j),be=!Z&&!W&&S(j),we=!Z&&!W&&!be&&F(j),Re=Z||W||be||we,Me=Re?b(j.length,String):[],le=Me.length;for(var Q in j)!H&&!L.call(j,Q)||Re&&("length"==Q||be&&("offset"==Q||"parent"==Q)||we&&("buffer"==Q||"byteLength"==Q||"byteOffset"==Q)||k(Q,le))||Me.push(Q);return Me}},function(D,M){D.exports=function(r,b){for(var v=-1,T=Array(r);++v<r;)T[v]=b(v);return T}},function(D,M,r){var b=r(13),v=r(51),T=r(144),S=Object.prototype.hasOwnProperty;D.exports=function(k){if(!b(k))return T(k);var F=v(k),L=[];for(var j in k)("constructor"!=j||!F&&S.call(k,j))&&L.push(j);return L}},function(D,M){D.exports=function(r){var b=[];if(null!=r)for(var v in Object(r))b.push(v);return b}},function(D,M,r){var b=r(146),v=r(151);D.exports=function(T){return b(function(S,k){var F=-1,L=k.length,j=L>1?k[L-1]:void 0,H=L>2?k[2]:void 0;for(j=T.length>3&&"function"==typeof j?(L--,j):void 0,H&&v(k[0],k[1],H)&&(j=L<3?void 0:j,L=1),S=Object(S);++F<L;){var Z=k[F];Z&&T(S,Z,F,j)}return S})}},function(D,M,r){var b=r(57),v=r(58),T=r(59);D.exports=function(S,k){return T(v(S,k,b),S+"")}},function(D,M){D.exports=function(r,b,v){switch(v.length){case 0:return r.call(b);case 1:return r.call(b,v[0]);case 2:return r.call(b,v[0],v[1]);case 3:return r.call(b,v[0],v[1],v[2])}return r.apply(b,v)}},function(D,M,r){var b=r(149),v=r(49),T=r(57);D.exports=v?function(k,F){return v(k,"toString",{configurable:!0,enumerable:!1,value:b(F),writable:!0})}:T},function(D,M){D.exports=function(r){return function(){return r}}},function(D,M){var r=Date.now;D.exports=function(b){var v=0,T=0;return function(){var S=r(),k=16-(S-T);if(T=S,k>0){if(++v>=800)return arguments[0]}else v=0;return b.apply(void 0,arguments)}}},function(D,M,r){var b=r(26),v=r(39),T=r(31),S=r(13);D.exports=function(k,F,L){if(!S(L))return!1;var j=typeof F;return!!("number"==j?v(L)&&T(F,L.length):"string"==j&&F in L)&&b(L[F],k)}},function(D,M){"undefined"!=typeof window&&(window.requestAnimationFrame||(window.requestAnimationFrame=window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(r){window.setTimeout(r,1e3/60)})),"function"!=typeof Math.imul&&(Math.imul=function(r,b){var v=65535&r,T=65535&b;return v*T+((r>>>16&65535)*T+v*(b>>>16&65535)<<16>>>0)|0}),"function"!=typeof Object.assign&&(Object.assign=function(r){"use strict";if(null===r)throw new TypeError("Cannot convert undefined or null to object");for(var b=Object(r),v=1;v<arguments.length;v++){var T=arguments[v];if(null!==T)for(var S in T)Object.prototype.hasOwnProperty.call(T,S)&&(b[S]=T[S])}return b})},function(D,M){D.exports=function(r){if(Array.isArray(r))return r},D.exports.default=D.exports,D.exports.__esModule=!0},function(D,M){D.exports=function(r,b){var v=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=v){var T,S,k=[],F=!0,L=!1;try{for(v=v.call(r);!(F=(T=v.next()).done)&&(k.push(T.value),!b||k.length!==b);F=!0);}catch(j){L=!0,S=j}finally{try{F||null==v.return||v.return()}finally{if(L)throw S}}return k}},D.exports.default=D.exports,D.exports.__esModule=!0},function(D,M){D.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},D.exports.default=D.exports,D.exports.__esModule=!0},function(D,M){D.exports=function(r){var b=new Float32Array(2);return b[0]=r[0],b[1]=r[1],b}},function(D,M){D.exports=function(r,b){var v=new Float32Array(2);return v[0]=r,v[1]=b,v}},function(D,M){D.exports=function(r,b){return r[0]=b[0],r[1]=b[1],r}},function(D,M){D.exports=function(r,b,v){return r[0]=b,r[1]=v,r}},function(D,M,r){D.exports=function(v,T){var S=v[0],k=v[1],F=T[0],L=T[1];return Math.abs(S-F)<=b*Math.max(1,Math.abs(S),Math.abs(F))&&Math.abs(k-L)<=b*Math.max(1,Math.abs(k),Math.abs(L))};var b=r(62)},function(D,M){D.exports=function(r,b){return r[0]===b[0]&&r[1]===b[1]}},function(D,M){D.exports=function(r,b,v){return r[0]=b[0]+v[0],r[1]=b[1]+v[1],r}},function(D,M,r){D.exports=r(64)},function(D,M,r){D.exports=r(65)},function(D,M,r){D.exports=r(66)},function(D,M){D.exports=function(r,b){return r[0]=1/b[0],r[1]=1/b[1],r}},function(D,M){D.exports=function(r,b,v){return r[0]=Math.min(b[0],v[0]),r[1]=Math.min(b[1],v[1]),r}},function(D,M){D.exports=function(r,b,v){return r[0]=Math.max(b[0],v[0]),r[1]=Math.max(b[1],v[1]),r}},function(D,M){D.exports=function(r,b,v){var T=Math.cos(v),S=Math.sin(v),k=b[0],F=b[1];return r[0]=k*T-F*S,r[1]=k*S+F*T,r}},function(D,M){D.exports=function(r,b){return r[0]=Math.floor(b[0]),r[1]=Math.floor(b[1]),r}},function(D,M){D.exports=function(r,b){return r[0]=Math.ceil(b[0]),r[1]=Math.ceil(b[1]),r}},function(D,M){D.exports=function(r,b){return r[0]=Math.round(b[0]),r[1]=Math.round(b[1]),r}},function(D,M){D.exports=function(r,b,v){return r[0]=b[0]*v,r[1]=b[1]*v,r}},function(D,M){D.exports=function(r,b,v,T){return r[0]=b[0]+v[0]*T,r[1]=b[1]+v[1]*T,r}},function(D,M,r){D.exports=r(67)},function(D,M,r){D.exports=r(68)},function(D,M,r){D.exports=r(69)},function(D,M,r){D.exports=r(70)},function(D,M){D.exports=function(r,b){return r[0]=-b[0],r[1]=-b[1],r}},function(D,M){D.exports=function(r,b){var v=b[0],T=b[1],S=v*v+T*T;return S>0&&(S=1/Math.sqrt(S),r[0]=b[0]*S,r[1]=b[1]*S),r}},function(D,M){D.exports=function(r,b){return r[0]*b[0]+r[1]*b[1]}},function(D,M){D.exports=function(r,b,v){var T=b[0]*v[1]-b[1]*v[0];return r[0]=r[1]=0,r[2]=T,r}},function(D,M){D.exports=function(r,b,v,T){var S=b[0],k=b[1];return r[0]=S+T*(v[0]-S),r[1]=k+T*(v[1]-k),r}},function(D,M){D.exports=function(r,b){b=b||1;var v=2*Math.random()*Math.PI;return r[0]=Math.cos(v)*b,r[1]=Math.sin(v)*b,r}},function(D,M){D.exports=function(r,b,v){var T=b[0],S=b[1];return r[0]=v[0]*T+v[2]*S,r[1]=v[1]*T+v[3]*S,r}},function(D,M){D.exports=function(r,b,v){var T=b[0],S=b[1];return r[0]=v[0]*T+v[2]*S+v[4],r[1]=v[1]*T+v[3]*S+v[5],r}},function(D,M){D.exports=function(r,b,v){var T=b[0],S=b[1];return r[0]=v[0]*T+v[3]*S+v[6],r[1]=v[1]*T+v[4]*S+v[7],r}},function(D,M){D.exports=function(r,b,v){var T=b[0],S=b[1];return r[0]=v[0]*T+v[4]*S+v[12],r[1]=v[1]*T+v[5]*S+v[13],r}},function(D,M,r){D.exports=function(v,T,S,k,F,L){var j,H;for(T||(T=2),S||(S=0),H=k?Math.min(k*T+S,v.length):v.length,j=S;j<H;j+=T)b[0]=v[j],b[1]=v[j+1],F(b,b,L),v[j]=b[0],v[j+1]=b[1];return v};var b=r(63)()},function(D,M){D.exports=function(r,b,v){var T=b[0]*b[0]+b[1]*b[1];if(T>v*v){var S=Math.sqrt(T);r[0]=b[0]/S*v,r[1]=b[1]/S*v}else r[0]=b[0],r[1]=b[1];return r}},function(D,M){D.exports=function(r){var b=new Float32Array(3);return b[0]=r[0],b[1]=r[1],b[2]=r[2],b}},function(D,M,r){D.exports=function(S,k){var F=b(S[0],S[1],S[2]),L=b(k[0],k[1],k[2]);v(F,F),v(L,L);var j=T(F,L);return j>1?0:Math.acos(j)};var b=r(73),v=r(74),T=r(75)},function(D,M){D.exports=function(r,b){return r[0]=b[0],r[1]=b[1],r[2]=b[2],r}},function(D,M){D.exports=function(r,b,v,T){return r[0]=b,r[1]=v,r[2]=T,r}},function(D,M,r){D.exports=function(v,T){var S=v[0],k=v[1],F=v[2],L=T[0],j=T[1],H=T[2];return Math.abs(S-L)<=b*Math.max(1,Math.abs(S),Math.abs(L))&&Math.abs(k-j)<=b*Math.max(1,Math.abs(k),Math.abs(j))&&Math.abs(F-H)<=b*Math.max(1,Math.abs(F),Math.abs(H))};var b=r(71)},function(D,M){D.exports=function(r,b){return r[0]===b[0]&&r[1]===b[1]&&r[2]===b[2]}},function(D,M){D.exports=function(r,b,v){return r[0]=b[0]+v[0],r[1]=b[1]+v[1],r[2]=b[2]+v[2],r}},function(D,M,r){D.exports=r(76)},function(D,M,r){D.exports=r(77)},function(D,M,r){D.exports=r(78)},function(D,M){D.exports=function(r,b,v){return r[0]=Math.min(b[0],v[0]),r[1]=Math.min(b[1],v[1]),r[2]=Math.min(b[2],v[2]),r}},function(D,M){D.exports=function(r,b,v){return r[0]=Math.max(b[0],v[0]),r[1]=Math.max(b[1],v[1]),r[2]=Math.max(b[2],v[2]),r}},function(D,M){D.exports=function(r,b){return r[0]=Math.floor(b[0]),r[1]=Math.floor(b[1]),r[2]=Math.floor(b[2]),r}},function(D,M){D.exports=function(r,b){return r[0]=Math.ceil(b[0]),r[1]=Math.ceil(b[1]),r[2]=Math.ceil(b[2]),r}},function(D,M){D.exports=function(r,b){return r[0]=Math.round(b[0]),r[1]=Math.round(b[1]),r[2]=Math.round(b[2]),r}},function(D,M){D.exports=function(r,b,v){return r[0]=b[0]*v,r[1]=b[1]*v,r[2]=b[2]*v,r}},function(D,M){D.exports=function(r,b,v,T){return r[0]=b[0]+v[0]*T,r[1]=b[1]+v[1]*T,r[2]=b[2]+v[2]*T,r}},function(D,M,r){D.exports=r(79)},function(D,M,r){D.exports=r(80)},function(D,M,r){D.exports=r(81)},function(D,M,r){D.exports=r(82)},function(D,M){D.exports=function(r,b){return r[0]=-b[0],r[1]=-b[1],r[2]=-b[2],r}},function(D,M){D.exports=function(r,b){return r[0]=1/b[0],r[1]=1/b[1],r[2]=1/b[2],r}},function(D,M){D.exports=function(r,b,v){var T=b[0],S=b[1],k=b[2],F=v[0],L=v[1],j=v[2];return r[0]=S*j-k*L,r[1]=k*F-T*j,r[2]=T*L-S*F,r}},function(D,M){D.exports=function(r,b,v,T){var S=b[0],k=b[1],F=b[2];return r[0]=S+T*(v[0]-S),r[1]=k+T*(v[1]-k),r[2]=F+T*(v[2]-F),r}},function(D,M){D.exports=function(r,b){b=b||1;var v=2*Math.random()*Math.PI,T=2*Math.random()-1,S=Math.sqrt(1-T*T)*b;return r[0]=Math.cos(v)*S,r[1]=Math.sin(v)*S,r[2]=T*b,r}},function(D,M){D.exports=function(r,b,v){var T=b[0],S=b[1],k=b[2],F=v[3]*T+v[7]*S+v[11]*k+v[15];return r[0]=(v[0]*T+v[4]*S+v[8]*k+v[12])/(F=F||1),r[1]=(v[1]*T+v[5]*S+v[9]*k+v[13])/F,r[2]=(v[2]*T+v[6]*S+v[10]*k+v[14])/F,r}},function(D,M){D.exports=function(r,b,v){var T=b[0],S=b[1],k=b[2];return r[0]=T*v[0]+S*v[3]+k*v[6],r[1]=T*v[1]+S*v[4]+k*v[7],r[2]=T*v[2]+S*v[5]+k*v[8],r}},function(D,M){D.exports=function(r,b,v){var T=b[0],S=b[1],k=b[2],F=v[0],L=v[1],j=v[2],H=v[3],Z=H*T+L*k-j*S,W=H*S+j*T-F*k,be=H*k+F*S-L*T,we=-F*T-L*S-j*k;return r[0]=Z*H+we*-F+W*-j-be*-L,r[1]=W*H+we*-L+be*-F-Z*-j,r[2]=be*H+we*-j+Z*-L-W*-F,r}},function(D,M){D.exports=function(r,b,v,T){var S=v[1],k=v[2],F=b[1]-S,L=b[2]-k,j=Math.sin(T),H=Math.cos(T);return r[0]=b[0],r[1]=S+F*H-L*j,r[2]=k+F*j+L*H,r}},function(D,M){D.exports=function(r,b,v,T){var S=v[0],k=v[2],F=b[0]-S,L=b[2]-k,j=Math.sin(T),H=Math.cos(T);return r[0]=S+L*j+F*H,r[1]=b[1],r[2]=k+L*H-F*j,r}},function(D,M){D.exports=function(r,b,v,T){var S=v[0],k=v[1],F=b[0]-S,L=b[1]-k,j=Math.sin(T),H=Math.cos(T);return r[0]=S+F*H-L*j,r[1]=k+F*j+L*H,r[2]=b[2],r}},function(D,M,r){D.exports=function(v,T,S,k,F,L){var j,H;for(T||(T=3),S||(S=0),H=k?Math.min(k*T+S,v.length):v.length,j=S;j<H;j+=T)b[0]=v[j],b[1]=v[j+1],b[2]=v[j+2],F(b,b,L),v[j]=b[0],v[j+1]=b[1],v[j+2]=b[2];return v};var b=r(72)()},function(D,M,r){var b=r(61);D.exports=function(v){if(Array.isArray(v))return b(v)},D.exports.default=D.exports,D.exports.__esModule=!0},function(D,M){D.exports=function(r){if("undefined"!=typeof Symbol&&null!=r[Symbol.iterator]||null!=r["@@iterator"])return Array.from(r)},D.exports.default=D.exports,D.exports.__esModule=!0},function(D,M){D.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},D.exports.default=D.exports,D.exports.__esModule=!0},function(D,M,r){var b=r(2);D.exports=function(v,T){for(;!Object.prototype.hasOwnProperty.call(v,T)&&null!==(v=b(v)););return v},D.exports.default=D.exports,D.exports.__esModule=!0},function(D,M,r){var b=function(v){"use strict";var T=Object.prototype,S=T.hasOwnProperty,k="function"==typeof Symbol?Symbol:{},F=k.iterator||"@@iterator",L=k.asyncIterator||"@@asyncIterator",j=k.toStringTag||"@@toStringTag";function H(K,te,ae,_e){var wt,st,Xe,Qe,Ze=Object.create((te&&te.prototype instanceof be?te:be).prototype),ot=new ke(_e||[]);return Ze._invoke=(wt=K,st=ae,Xe=ot,Qe="suspendedStart",function(St,tn){if("executing"===Qe)throw new Error("Generator is already running");if("completed"===Qe){if("throw"===St)throw tn;return{value:void 0,done:!0}}for(Xe.method=St,Xe.arg=tn;;){var vn=Xe.delegate;if(vn){var Ht=ze(vn,Xe);if(Ht){if(Ht===W)continue;return Ht}}if("next"===Xe.method)Xe.sent=Xe._sent=Xe.arg;else if("throw"===Xe.method){if("suspendedStart"===Qe)throw Qe="completed",Xe.arg;Xe.dispatchException(Xe.arg)}else"return"===Xe.method&&Xe.abrupt("return",Xe.arg);Qe="executing";var Vt=Z(wt,st,Xe);if("normal"===Vt.type){if(Qe=Xe.done?"completed":"suspendedYield",Vt.arg===W)continue;return{value:Vt.arg,done:Xe.done}}"throw"===Vt.type&&(Qe="completed",Xe.method="throw",Xe.arg=Vt.arg)}}),Ze}function Z(K,te,ae){try{return{type:"normal",arg:K.call(te,ae)}}catch(_e){return{type:"throw",arg:_e}}}v.wrap=H;var W={};function be(){}function we(){}function Re(){}var Me={};Me[F]=function(){return this};var le=Object.getPrototypeOf,Q=le&&le(le(ie([])));Q&&Q!==T&&S.call(Q,F)&&(Me=Q);var ue=Re.prototype=be.prototype=Object.create(Me);function Ee(K){["next","throw","return"].forEach(function(te){K[te]=function(ae){return this._invoke(te,ae)}})}function Ve(K,te){var ae;this._invoke=function(_e,ge){function Ze(){return new te(function(ot,wt){!function st(Xe,Qe,St,tn){var vn=Z(K[Xe],K,Qe);if("throw"!==vn.type){var Ht=vn.arg,Vt=Ht.value;return Vt&&"object"==typeof Vt&&S.call(Vt,"__await")?te.resolve(Vt.__await).then(function(xt){st("next",xt,St,tn)},function(xt){st("throw",xt,St,tn)}):te.resolve(Vt).then(function(xt){Ht.value=xt,St(Ht)},function(xt){return st("throw",xt,St,tn)})}tn(vn.arg)}(_e,ge,ot,wt)})}return ae=ae?ae.then(Ze,Ze):Ze()}}function ze(K,te){var ae=K.iterator[te.method];if(void 0===ae){if(te.delegate=null,"throw"===te.method){if(K.iterator.return&&(te.method="return",te.arg=void 0,ze(K,te),"throw"===te.method))return W;te.method="throw",te.arg=new TypeError("The iterator does not provide a 'throw' method")}return W}var _e=Z(ae,K.iterator,te.arg);if("throw"===_e.type)return te.method="throw",te.arg=_e.arg,te.delegate=null,W;var ge=_e.arg;return ge?ge.done?(te[K.resultName]=ge.value,te.next=K.nextLoc,"return"!==te.method&&(te.method="next",te.arg=void 0),te.delegate=null,W):ge:(te.method="throw",te.arg=new TypeError("iterator result is not an object"),te.delegate=null,W)}function xe(K){var te={tryLoc:K[0]};1 in K&&(te.catchLoc=K[1]),2 in K&&(te.finallyLoc=K[2],te.afterLoc=K[3]),this.tryEntries.push(te)}function Ie(K){var te=K.completion||{};te.type="normal",delete te.arg,K.completion=te}function ke(K){this.tryEntries=[{tryLoc:"root"}],K.forEach(xe,this),this.reset(!0)}function ie(K){if(K){var te=K[F];if(te)return te.call(K);if("function"==typeof K.next)return K;if(!isNaN(K.length)){var ae=-1,_e=function ge(){for(;++ae<K.length;)if(S.call(K,ae))return ge.value=K[ae],ge.done=!1,ge;return ge.value=void 0,ge.done=!0,ge};return _e.next=_e}}return{next:pe}}function pe(){return{value:void 0,done:!0}}return we.prototype=ue.constructor=Re,Re.constructor=we,Re[j]=we.displayName="GeneratorFunction",v.isGeneratorFunction=function(K){var te="function"==typeof K&&K.constructor;return!!te&&(te===we||"GeneratorFunction"===(te.displayName||te.name))},v.mark=function(K){return Object.setPrototypeOf?Object.setPrototypeOf(K,Re):(K.__proto__=Re,j in K||(K[j]="GeneratorFunction")),K.prototype=Object.create(ue),K},v.awrap=function(K){return{__await:K}},Ee(Ve.prototype),Ve.prototype[L]=function(){return this},v.AsyncIterator=Ve,v.async=function(K,te,ae,_e,ge){void 0===ge&&(ge=Promise);var Ze=new Ve(H(K,te,ae,_e),ge);return v.isGeneratorFunction(te)?Ze:Ze.next().then(function(ot){return ot.done?ot.value:Ze.next()})},Ee(ue),ue[j]="Generator",ue[F]=function(){return this},ue.toString=function(){return"[object Generator]"},v.keys=function(K){var te=[];for(var ae in K)te.push(ae);return te.reverse(),function _e(){for(;te.length;){var ge=te.pop();if(ge in K)return _e.value=ge,_e.done=!1,_e}return _e.done=!0,_e}},v.values=ie,ke.prototype={constructor:ke,reset:function(K){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(Ie),!K)for(var te in this)"t"===te.charAt(0)&&S.call(this,te)&&!isNaN(+te.slice(1))&&(this[te]=void 0)},stop:function(){this.done=!0;var K=this.tryEntries[0].completion;if("throw"===K.type)throw K.arg;return this.rval},dispatchException:function(K){if(this.done)throw K;var te=this;function ae(st,Xe){return Ze.type="throw",Ze.arg=K,te.next=st,Xe&&(te.method="next",te.arg=void 0),!!Xe}for(var _e=this.tryEntries.length-1;_e>=0;--_e){var ge=this.tryEntries[_e],Ze=ge.completion;if("root"===ge.tryLoc)return ae("end");if(ge.tryLoc<=this.prev){var ot=S.call(ge,"catchLoc"),wt=S.call(ge,"finallyLoc");if(ot&&wt){if(this.prev<ge.catchLoc)return ae(ge.catchLoc,!0);if(this.prev<ge.finallyLoc)return ae(ge.finallyLoc)}else if(ot){if(this.prev<ge.catchLoc)return ae(ge.catchLoc,!0)}else{if(!wt)throw new Error("try statement without catch or finally");if(this.prev<ge.finallyLoc)return ae(ge.finallyLoc)}}}},abrupt:function(K,te){for(var ae=this.tryEntries.length-1;ae>=0;--ae){var _e=this.tryEntries[ae];if(_e.tryLoc<=this.prev&&S.call(_e,"finallyLoc")&&this.prev<_e.finallyLoc){var ge=_e;break}}ge&&("break"===K||"continue"===K)&&ge.tryLoc<=te&&te<=ge.finallyLoc&&(ge=null);var Ze=ge?ge.completion:{};return Ze.type=K,Ze.arg=te,ge?(this.method="next",this.next=ge.finallyLoc,W):this.complete(Ze)},complete:function(K,te){if("throw"===K.type)throw K.arg;return"break"===K.type||"continue"===K.type?this.next=K.arg:"return"===K.type?(this.rval=this.arg=K.arg,this.method="return",this.next="end"):"normal"===K.type&&te&&(this.next=te),W},finish:function(K){for(var te=this.tryEntries.length-1;te>=0;--te){var ae=this.tryEntries[te];if(ae.finallyLoc===K)return this.complete(ae.completion,ae.afterLoc),Ie(ae),W}},catch:function(K){for(var te=this.tryEntries.length-1;te>=0;--te){var ae=this.tryEntries[te];if(ae.tryLoc===K){var _e=ae.completion;if("throw"===_e.type){var ge=_e.arg;Ie(ae)}return ge}}throw new Error("illegal catch attempt")},delegateYield:function(K,te,ae){return this.delegate={iterator:ie(K),resultName:te,nextLoc:ae},"next"===this.method&&(this.arg=void 0),W}},v}(D.exports);try{regeneratorRuntime=b}catch(v){Function("r","regeneratorRuntime = r")(b)}},function(D,M,r){var b=r(230),v=r(240);D.exports=function(T,S){return b(T,S,function(k,F){return v(T,F)})}},function(D,M,r){var b=r(231),v=r(239),T=r(32);D.exports=function(S,k,F){for(var L=-1,j=k.length,H={};++L<j;){var Z=k[L],W=b(S,Z);F(W,Z)&&v(H,T(Z,S),W)}return H}},function(D,M,r){var b=r(32),v=r(43);D.exports=function(T,S){for(var k=0,F=(S=b(S,T)).length;null!=T&&k<F;)T=T[v(S[k++])];return k&&k==F?T:void 0}},function(D,M,r){var b=r(14),v=r(42),T=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,S=/^\w*$/;D.exports=function(k,F){if(b(k))return!1;var L=typeof k;return!("number"!=L&&"symbol"!=L&&"boolean"!=L&&null!=k&&!v(k))||S.test(k)||!T.test(k)||null!=F&&k in Object(F)}},function(D,M,r){var b=r(234),v=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,T=/\\(\\)?/g,S=b(function(k){var F=[];return 46===k.charCodeAt(0)&&F.push(""),k.replace(v,function(L,j,H,Z){F.push(H?Z.replace(T,"$1"):j||L)}),F});D.exports=S},function(D,M,r){var b=r(235);D.exports=function(v){var T=b(v,function(k){return 500===S.size&&S.clear(),k}),S=T.cache;return T}},function(D,M,r){var b=r(47);function v(T,S){if("function"!=typeof T||null!=S&&"function"!=typeof S)throw new TypeError("Expected a function");var k=function(){var F=arguments,L=S?S.apply(this,F):F[0],j=k.cache;if(j.has(L))return j.get(L);var H=T.apply(this,F);return k.cache=j.set(L,H)||j,H};return k.cache=new(v.Cache||b),k}v.Cache=b,D.exports=v},function(D,M,r){var b=r(237);D.exports=function(v){return null==v?"":b(v)}},function(D,M,r){var b=r(27),v=r(238),T=r(14),S=r(42),k=b?b.prototype:void 0,F=k?k.toString:void 0;D.exports=function L(j){if("string"==typeof j)return j;if(T(j))return v(j,L)+"";if(S(j))return F?F.call(j):"";var H=j+"";return"0"==H&&1/j==-1/0?"-0":H}},function(D,M){D.exports=function(r,b){for(var v=-1,T=null==r?0:r.length,S=Array(T);++v<T;)S[v]=b(r[v],v,r);return S}},function(D,M,r){var b=r(55),v=r(32),T=r(31),S=r(13),k=r(43);D.exports=function(F,L,j,H){if(!S(F))return F;for(var Z=-1,W=(L=v(L,F)).length,be=W-1,we=F;null!=we&&++Z<W;){var Re=k(L[Z]),Me=j;if("__proto__"===Re||"constructor"===Re||"prototype"===Re)return F;if(Z!=be){var le=we[Re];void 0===(Me=H?H(le,Re,we):void 0)&&(Me=S(le)?le:T(L[Z+1])?[]:{})}b(we,Re,Me),we=we[Re]}return F}},function(D,M,r){var b=r(241),v=r(242);D.exports=function(T,S){return null!=T&&v(T,S,b)}},function(D,M){D.exports=function(r,b){return null!=r&&b in Object(r)}},function(D,M,r){var b=r(32),v=r(30),T=r(14),S=r(31),k=r(40),F=r(43);D.exports=function(L,j,H){for(var Z=-1,W=(j=b(j,L)).length,be=!1;++Z<W;){var we=F(j[Z]);if(!(be=null!=L&&H(L,we)))break;L=L[we]}return be||++Z!=W?be:!!(W=null==L?0:L.length)&&k(W)&&S(we,W)&&(T(L)||v(L))}},function(D,M,r){var b=r(244),v=r(58),T=r(59);D.exports=function(S){return T(v(S,void 0,b),S+"")}},function(D,M,r){var b=r(245);D.exports=function(v){return null!=v&&v.length?b(v,1):[]}},function(D,M,r){var b=r(246),v=r(247);D.exports=function T(S,k,F,L,j){var H=-1,Z=S.length;for(F||(F=v),j||(j=[]);++H<Z;){var W=S[H];k>0&&F(W)?k>1?T(W,k-1,F,L,j):b(j,W):L||(j[j.length]=W)}return j}},function(D,M){D.exports=function(r,b){for(var v=-1,T=b.length,S=r.length;++v<T;)r[S+v]=b[v];return r}},function(D,M,r){var b=r(27),v=r(30),T=r(14),S=b?b.isConcatSpreadable:void 0;D.exports=function(k){return T(k)||v(k)||!!(S&&k&&k[S])}},function(D,M){D.exports=function(r){return-1!==Function.toString.call(r).indexOf("[native code]")},D.exports.default=D.exports,D.exports.__esModule=!0},function(D,M,r){var b=r(41),v=r(250);function T(S,k,F){return v()?(D.exports=T=Reflect.construct,D.exports.default=D.exports,D.exports.__esModule=!0):(D.exports=T=function(L,j,H){var Z=[null];Z.push.apply(Z,j);var W=new(Function.bind.apply(L,Z));return H&&b(W,H.prototype),W},D.exports.default=D.exports,D.exports.__esModule=!0),T.apply(null,arguments)}D.exports=T,D.exports.default=D.exports,D.exports.__esModule=!0},function(D,M){D.exports=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(r){return!1}},D.exports.default=D.exports,D.exports.__esModule=!0},function(D,M){D.exports=function(r){return r[0]*r[3]-r[2]*r[1]}},function(D,M){D.exports=function(r,b){if(r===b){var v=b[1];r[1]=b[2],r[2]=v}else r[0]=b[0],r[1]=b[2],r[2]=b[1],r[3]=b[3];return r}},function(D,M){D.exports=function(r,b,v){var T=b[0],S=b[1],k=b[2],F=b[3],L=v[0],j=v[1],H=v[2],Z=v[3];return r[0]=T*L+k*j,r[1]=S*L+F*j,r[2]=T*H+k*Z,r[3]=S*H+F*Z,r}},function(D,M){D.exports=function(r){return r[0]=1,r[1]=0,r[2]=0,r[3]=1,r}},function(D,M){D.exports=function(r,b){var v=b[0];return r[0]=b[3],r[1]=-b[1],r[2]=-b[2],r[3]=v,r}},function(D,M){D.exports=function(r,b,v){var T=b[0],S=b[1],k=b[2],F=b[3],L=Math.sin(v),j=Math.cos(v);return r[0]=T*j+k*L,r[1]=S*j+F*L,r[2]=T*-L+k*j,r[3]=S*-L+F*j,r}},function(D,M){D.exports=function(r,b){var v=b[0],T=b[1],S=b[2],k=b[3],F=v*k-S*T;return F?(r[0]=k*(F=1/F),r[1]=-T*F,r[2]=-S*F,r[3]=v*F,r):null}},function(D,M){D.exports=function(){var r=new Float32Array(4);return r[0]=1,r[1]=0,r[2]=0,r[3]=1,r}},function(D,M){D.exports=function(r,b,v){var S=b[1],k=b[2],F=b[3],L=v[0],j=v[1];return r[0]=b[0]*L,r[1]=S*L,r[2]=k*j,r[3]=F*j,r}},function(D,M){D.exports=function(r,b){return r[0]=b[0],r[1]=b[1],r[2]=b[2],r[3]=b[3],r}},function(D,M){D.exports=function(r){return Math.sqrt(Math.pow(r[0],2)+Math.pow(r[1],2)+Math.pow(r[2],2)+Math.pow(r[3],2))}},function(D,M){D.exports=function(r,b,v,T){return r[2]=T[2]/T[0],v[0]=T[0],v[1]=T[1],v[3]=T[3]-r[2]*v[1],[r,b,v]}},function(D,M,r){"use strict";r.r(M),r.d(M,"BarcodeDecoder",function(){return ei}),r.d(M,"Readers",function(){return b}),r.d(M,"CameraAccess",function(){return Qt}),r.d(M,"ImageDebug",function(){return W.a}),r.d(M,"ImageWrapper",function(){return F.a}),r.d(M,"ResultCollector",function(){return ki});var b={};r.r(b),r.d(b,"BarcodeReader",function(){return K}),r.d(b,"TwoOfFiveReader",function(){return qe}),r.d(b,"NewCodabarReader",function(){return Li}),r.d(b,"Code128Reader",function(){return ae}),r.d(b,"Code32Reader",function(){return ln}),r.d(b,"Code39Reader",function(){return gn}),r.d(b,"Code39VINReader",function(){return Qi}),r.d(b,"Code93Reader",function(){return Rn}),r.d(b,"EAN2Reader",function(){return Ai}),r.d(b,"EAN5Reader",function(){return Nt}),r.d(b,"EAN8Reader",function(){return hn}),r.d(b,"EANReader",function(){return St}),r.d(b,"I2of5Reader",function(){return cr}),r.d(b,"UPCEReader",function(){return Dr}),r.d(b,"UPCReader",function(){return Rt});var v=r(19),T=r.n(v),S=r(16),k=r.n(S),F=(r(152),r(10)),L={},j_UP=1,j_DOWN=-1;L.getBarcodeLine=function(de,ve,$){var O,B,U,Y,se,fe=0|ve.x,me=0|ve.y,De=0|$.x,Ue=0|$.y,We=Math.abs(Ue-me)>Math.abs(De-fe),_t=[],X=de.data,ye=de.size.x,Ne=255,it=0;function ut(Tn,Ui){Ne=(se=X[Ui*ye+Tn])<Ne?se:Ne,it=se>it?se:it,_t.push(se)}We&&(U=fe,fe=me,me=U,U=De,De=Ue,Ue=U),fe>De&&(U=fe,fe=De,De=U,U=me,me=Ue,Ue=U);var Yt=De-fe,Ut=Math.abs(Ue-me);O=Yt/2|0,B=me;var jt=me<Ue?1:-1;for(Y=fe;Y<De;Y++)We?ut(B,Y):ut(Y,B),(O-=Ut)<0&&(B+=jt,O+=Yt);return{line:_t,min:Ne,max:it}},L.toBinaryLine=function(de){var ve,$,O,B,U,Y,se=de.min,fe=de.max,me=de.line,De=se+(fe-se)/2,Ue=[],We=(fe-se)/12,_t=-We;for(O=me[0]>De?j_UP:j_DOWN,Ue.push({pos:0,val:me[0]}),U=0;U<me.length-2;U++)O!==(B=(ve=me[U+1]-me[U])+($=me[U+2]-me[U+1])<_t&&me[U+1]<1.5*De?j_DOWN:ve+$>We&&me[U+1]>.5*De?j_UP:O)&&(Ue.push({pos:U,val:me[U]}),O=B);for(Ue.push({pos:me.length,val:me[me.length-1]}),Y=Ue[0].pos;Y<Ue[1].pos;Y++)me[Y]=me[Y]>De?0:1;for(U=1;U<Ue.length-1;U++)for(We=Ue[U+1].val>Ue[U].val?Ue[U].val+(Ue[U+1].val-Ue[U].val)/3*2|0:Ue[U+1].val+(Ue[U].val-Ue[U+1].val)/3|0,Y=Ue[U].pos;Y<Ue[U+1].pos;Y++)me[Y]=me[Y]>We?0:1;return{line:me,threshold:We}},L.debug={printFrequency:function(de,ve){var $,O=ve.getContext("2d");for(ve.width=de.length,ve.height=256,O.beginPath(),O.strokeStyle="blue",$=0;$<de.length;$++)O.moveTo($,255),O.lineTo($,255-de[$]);O.stroke(),O.closePath()},printPattern:function(de,ve){var $,O=ve.getContext("2d");for(ve.width=de.length,O.fillColor="black",$=0;$<de.length;$++)1===de[$]&&O.fillRect($,0,1,100)}};var H,de,Z=L,W=r(15),be=r(3),we=r.n(be),Re=r(4),Me=r.n(Re),le=r(1),Q=r.n(le),ue=r(6),Ee=r.n(ue),Ve=r(5),ze=r.n(Ve),xe=r(2),Ie=r.n(xe),ke=r(0),ie=r.n(ke),pe=r(8);(de=H||(H={}))[de.Forward=1]="Forward",de[de.Reverse=-1]="Reverse";var K=function(){function de(ve,$){return we()(this,de),ie()(this,"_row",[]),ie()(this,"config",{}),ie()(this,"supplements",[]),ie()(this,"SINGLE_CODE_ERROR",0),ie()(this,"FORMAT","unknown"),ie()(this,"CONFIG_KEYS",{}),this._row=[],this.config=ve||{},$&&(this.supplements=$),this}return Me()(de,[{key:"_nextUnset",value:function(ve){for(var O=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;O<ve.length;O++)if(!ve[O])return O;return ve.length}},{key:"_matchPattern",value:function(ve,$,O){var B,U=0,Y=0,se=0,fe=0,De=0;O=O||this.SINGLE_CODE_ERROR||1;for(var Ue=0;Ue<ve.length;Ue++)se+=ve[Ue],fe+=$[Ue];if(se<fe)return Number.MAX_VALUE;O*=B=se/fe;for(var We=0;We<ve.length;We++){if(De=$[We]*B,(Y=Math.abs(ve[We]-De)/De)>O)return Number.MAX_VALUE;U+=Y}return U/fe}},{key:"_nextSet",value:function(ve){for(var O=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;O<ve.length;O++)if(ve[O])return O;return ve.length}},{key:"_correctBars",value:function(ve,$,O){for(var B=O.length,U=0;B--;)(U=ve[O[B]]*(1-(1-$)/2))>1&&(ve[O[B]]=U)}},{key:"decodePattern",value:function(ve){this._row=ve;var $=this.decode();return null===$?(this._row.reverse(),($=this.decode())&&($.direction=H.Reverse,$.start=this._row.length-$.start,$.end=this._row.length-$.end)):$.direction=H.Forward,$&&($.format=this.FORMAT),$}},{key:"_matchRange",value:function(ve,$,O){var B;for(B=ve=ve<0?0:ve;B<$;B++)if(this._row[B]!==O)return!1;return!0}},{key:"_fillCounters",value:function(){var ve=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._nextUnset(this._row),$=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._row.length,O=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],B=[],U=0;B[U]=0;for(var Y=ve;Y<$;Y++)this._row[Y]^(O?1:0)?B[U]++:(B[++U]=1,O=!O);return B}},{key:"_toCounters",value:function(ve,$){var O=$.length,B=this._row.length,U=!this._row[ve],Y=0;pe.a.init($,0);for(var se=ve;se<B;se++)if(this._row[se]^(U?1:0))$[Y]++;else{if(++Y===O)break;$[Y]=1,U=!U}return $}}],[{key:"Exception",get:function(){return{StartNotFoundException:"Start-Info was not found!",CodeNotFoundException:"Code could not be found!",PatternNotFoundException:"Pattern could not be found!"}}}]),de}();var ae=function(de){Ee()($,de);var ve=function(de){var ve=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch($){return!1}}();return function(){var $,O=Ie()(de);if(ve){var B=Ie()(this).constructor;$=Reflect.construct(O,arguments,B)}else $=O.apply(this,arguments);return ze()(this,$)}}($);function $(){var O;we()(this,$);for(var B=arguments.length,U=new Array(B),Y=0;Y<B;Y++)U[Y]=arguments[Y];return O=ve.call.apply(ve,[this].concat(U)),ie()(Q()(O),"CODE_SHIFT",98),ie()(Q()(O),"CODE_C",99),ie()(Q()(O),"CODE_B",100),ie()(Q()(O),"CODE_A",101),ie()(Q()(O),"START_CODE_A",103),ie()(Q()(O),"START_CODE_B",104),ie()(Q()(O),"START_CODE_C",105),ie()(Q()(O),"STOP_CODE",106),ie()(Q()(O),"CODE_PATTERN",[[2,1,2,2,2,2],[2,2,2,1,2,2],[2,2,2,2,2,1],[1,2,1,2,2,3],[1,2,1,3,2,2],[1,3,1,2,2,2],[1,2,2,2,1,3],[1,2,2,3,1,2],[1,3,2,2,1,2],[2,2,1,2,1,3],[2,2,1,3,1,2],[2,3,1,2,1,2],[1,1,2,2,3,2],[1,2,2,1,3,2],[1,2,2,2,3,1],[1,1,3,2,2,2],[1,2,3,1,2,2],[1,2,3,2,2,1],[2,2,3,2,1,1],[2,2,1,1,3,2],[2,2,1,2,3,1],[2,1,3,2,1,2],[2,2,3,1,1,2],[3,1,2,1,3,1],[3,1,1,2,2,2],[3,2,1,1,2,2],[3,2,1,2,2,1],[3,1,2,2,1,2],[3,2,2,1,1,2],[3,2,2,2,1,1],[2,1,2,1,2,3],[2,1,2,3,2,1],[2,3,2,1,2,1],[1,1,1,3,2,3],[1,3,1,1,2,3],[1,3,1,3,2,1],[1,1,2,3,1,3],[1,3,2,1,1,3],[1,3,2,3,1,1],[2,1,1,3,1,3],[2,3,1,1,1,3],[2,3,1,3,1,1],[1,1,2,1,3,3],[1,1,2,3,3,1],[1,3,2,1,3,1],[1,1,3,1,2,3],[1,1,3,3,2,1],[1,3,3,1,2,1],[3,1,3,1,2,1],[2,1,1,3,3,1],[2,3,1,1,3,1],[2,1,3,1,1,3],[2,1,3,3,1,1],[2,1,3,1,3,1],[3,1,1,1,2,3],[3,1,1,3,2,1],[3,3,1,1,2,1],[3,1,2,1,1,3],[3,1,2,3,1,1],[3,3,2,1,1,1],[3,1,4,1,1,1],[2,2,1,4,1,1],[4,3,1,1,1,1],[1,1,1,2,2,4],[1,1,1,4,2,2],[1,2,1,1,2,4],[1,2,1,4,2,1],[1,4,1,1,2,2],[1,4,1,2,2,1],[1,1,2,2,1,4],[1,1,2,4,1,2],[1,2,2,1,1,4],[1,2,2,4,1,1],[1,4,2,1,1,2],[1,4,2,2,1,1],[2,4,1,2,1,1],[2,2,1,1,1,4],[4,1,3,1,1,1],[2,4,1,1,1,2],[1,3,4,1,1,1],[1,1,1,2,4,2],[1,2,1,1,4,2],[1,2,1,2,4,1],[1,1,4,2,1,2],[1,2,4,1,1,2],[1,2,4,2,1,1],[4,1,1,2,1,2],[4,2,1,1,1,2],[4,2,1,2,1,1],[2,1,2,1,4,1],[2,1,4,1,2,1],[4,1,2,1,2,1],[1,1,1,1,4,3],[1,1,1,3,4,1],[1,3,1,1,4,1],[1,1,4,1,1,3],[1,1,4,3,1,1],[4,1,1,1,1,3],[4,1,1,3,1,1],[1,1,3,1,4,1],[1,1,4,1,3,1],[3,1,1,1,4,1],[4,1,1,1,3,1],[2,1,1,4,1,2],[2,1,1,2,1,4],[2,1,1,2,3,2],[2,3,3,1,1,1,2]]),ie()(Q()(O),"SINGLE_CODE_ERROR",.64),ie()(Q()(O),"AVG_CODE_ERROR",.3),ie()(Q()(O),"FORMAT","code_128"),ie()(Q()(O),"MODULE_INDICES",{bar:[0,2,4],space:[1,3,5]}),O}return Me()($,[{key:"_decodeCode",value:function(O,B){for(var U={error:Number.MAX_VALUE,code:-1,start:O,end:O,correction:{bar:1,space:1}},Y=[0,0,0,0,0,0],fe=!this._row[O],me=0,De=O;De<this._row.length;De++)if(this._row[De]^(fe?1:0))Y[me]++;else{if(me===Y.length-1){B&&this._correct(Y,B);for(var Ue=0;Ue<this.CODE_PATTERN.length;Ue++){var We=this._matchPattern(Y,this.CODE_PATTERN[Ue]);We<U.error&&(U.code=Ue,U.error=We)}return U.end=De,-1===U.code||U.error>this.AVG_CODE_ERROR?null:(this.CODE_PATTERN[U.code]&&(U.correction.bar=this.calculateCorrection(this.CODE_PATTERN[U.code],Y,this.MODULE_INDICES.bar),U.correction.space=this.calculateCorrection(this.CODE_PATTERN[U.code],Y,this.MODULE_INDICES.space)),U)}Y[++me]=1,fe=!fe}return null}},{key:"_correct",value:function(O,B){this._correctBars(O,B.bar,this.MODULE_INDICES.bar),this._correctBars(O,B.space,this.MODULE_INDICES.space)}},{key:"_findStart",value:function(){for(var O=[0,0,0,0,0,0],B=this._nextSet(this._row),U={error:Number.MAX_VALUE,code:-1,start:0,end:0,correction:{bar:1,space:1}},Y=!1,se=0,fe=B;fe<this._row.length;fe++)if(this._row[fe]^(Y?1:0))O[se]++;else{if(se===O.length-1){for(var me=O.reduce(function(_t,X){return _t+X},0),De=this.START_CODE_A;De<=this.START_CODE_C;De++){var Ue=this._matchPattern(O,this.CODE_PATTERN[De]);Ue<U.error&&(U.code=De,U.error=Ue)}if(U.error<this.AVG_CODE_ERROR)return U.start=fe-me,U.end=fe,U.correction.bar=this.calculateCorrection(this.CODE_PATTERN[U.code],O,this.MODULE_INDICES.bar),U.correction.space=this.calculateCorrection(this.CODE_PATTERN[U.code],O,this.MODULE_INDICES.space),U;for(var We=0;We<4;We++)O[We]=O[We+2];O[4]=0,O[5]=0,se--}else se++;O[se]=1,Y=!Y}return null}},{key:"decode",value:function(O,B){var U=this,Y=this._findStart();if(null===Y)return null;var se={code:Y.code,start:Y.start,end:Y.end,correction:{bar:Y.correction.bar,space:Y.correction.space}},fe=[];fe.push(se);for(var me=se.code,De=function(ut){switch(ut){case U.START_CODE_A:return U.CODE_A;case U.START_CODE_B:return U.CODE_B;case U.START_CODE_C:return U.CODE_C;default:return null}}(se.code),Ue=!1,We=!1,_t=We,X=!0,ye=0,Ne=[],it=[];!Ue;){if(_t=We,We=!1,null!==(se=this._decodeCode(se.end,se.correction)))switch(se.code!==this.STOP_CODE&&(X=!0),se.code!==this.STOP_CODE&&(Ne.push(se.code),me+=++ye*se.code),fe.push(se),De){case this.CODE_A:if(se.code<64)it.push(String.fromCharCode(32+se.code));else if(se.code<96)it.push(String.fromCharCode(se.code-64));else switch(se.code!==this.STOP_CODE&&(X=!1),se.code){case this.CODE_SHIFT:We=!0,De=this.CODE_B;break;case this.CODE_B:De=this.CODE_B;break;case this.CODE_C:De=this.CODE_C;break;case this.STOP_CODE:Ue=!0}break;case this.CODE_B:if(se.code<96)it.push(String.fromCharCode(32+se.code));else switch(se.code!==this.STOP_CODE&&(X=!1),se.code){case this.CODE_SHIFT:We=!0,De=this.CODE_A;break;case this.CODE_A:De=this.CODE_A;break;case this.CODE_C:De=this.CODE_C;break;case this.STOP_CODE:Ue=!0}break;case this.CODE_C:if(se.code<100)it.push(se.code<10?"0"+se.code:se.code);else switch(se.code!==this.STOP_CODE&&(X=!1),se.code){case this.CODE_A:De=this.CODE_A;break;case this.CODE_B:De=this.CODE_B;break;case this.STOP_CODE:Ue=!0}}else Ue=!0;_t&&(De=De===this.CODE_A?this.CODE_B:this.CODE_A)}return null===se?null:(se.end=this._nextUnset(this._row,se.end),this._verifyTrailingWhitespace(se)?(me-=ye*Ne[Ne.length-1])%103!==Ne[Ne.length-1]?null:it.length?(X&&it.splice(it.length-1,1),{code:it.join(""),start:Y.start,end:se.end,codeset:De,startInfo:Y,decodedCodes:fe,endInfo:se,format:this.FORMAT}):null:null)}},{key:"_verifyTrailingWhitespace",value:function(O){var B;return(B=O.end+(O.end-O.start)/2)<this._row.length&&this._matchRange(O.end,B,0)?O:null}},{key:"calculateCorrection",value:function(O,B,U){for(var Y=U.length,se=0,fe=0;Y--;)fe+=O[U[Y]],se+=B[U[Y]];return fe/se}}]),$}(K);function _e(de,ve){var $=Object.keys(de);if(Object.getOwnPropertySymbols){var O=Object.getOwnPropertySymbols(de);ve&&(O=O.filter(function(B){return Object.getOwnPropertyDescriptor(de,B).enumerable})),$.push.apply($,O)}return $}function ge(de){for(var ve=1;ve<arguments.length;ve++){var $=null!=arguments[ve]?arguments[ve]:{};ve%2?_e(Object($),!0).forEach(function(O){ie()(de,O,$[O])}):Object.getOwnPropertyDescriptors?Object.defineProperties(de,Object.getOwnPropertyDescriptors($)):_e(Object($)).forEach(function(O){Object.defineProperty(de,O,Object.getOwnPropertyDescriptor($,O))})}return de}var ot=[1,1,1],wt=[1,1,1,1,1],st=[1,1,2],Xe=[[3,2,1,1],[2,2,2,1],[2,1,2,2],[1,4,1,1],[1,1,3,2],[1,2,3,1],[1,1,1,4],[1,3,1,2],[1,2,1,3],[3,1,1,2],[1,1,2,3],[1,2,2,2],[2,2,1,2],[1,1,4,1],[2,3,1,1],[1,3,2,1],[4,1,1,1],[2,1,3,1],[3,1,2,1],[2,1,1,3]],Qe=[0,11,13,14,19,25,28,21,22,26],St=function(de){Ee()($,de);var ve=function(de){var ve=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch($){return!1}}();return function(){var $,O=Ie()(de);if(ve){var B=Ie()(this).constructor;$=Reflect.construct(O,arguments,B)}else $=O.apply(this,arguments);return ze()(this,$)}}($);function $(O,B){var U;return we()(this,$),U=ve.call(this,k()({supplements:[]},O),B),ie()(Q()(U),"FORMAT","ean_13"),ie()(Q()(U),"SINGLE_CODE_ERROR",.7),ie()(Q()(U),"STOP_PATTERN",[1,1,1]),U}return Me()($,[{key:"_findPattern",value:function(O,B,U,Y){var se=new Array(O.length).fill(0),fe={error:Number.MAX_VALUE,start:0,end:0},me=0;B||(B=this._nextSet(this._row));for(var De=!1,Ue=B;Ue<this._row.length;Ue++)if(this._row[Ue]^(U?1:0))se[me]+=1;else{if(me===se.length-1){var We=this._matchPattern(se,O);if(We<.48&&fe.error&&We<fe.error)return De=!0,fe.error=We,fe.start=Ue-se.reduce(function(X,ye){return X+ye},0),fe.end=Ue,fe;if(Y){for(var _t=0;_t<se.length-2;_t++)se[_t]=se[_t+2];se[se.length-2]=0,se[se.length-1]=0,me--}}else me++;se[me]=1,U=!U}return De?fe:null}},{key:"_decodeCode",value:function(O,B){var U=[0,0,0,0],se={error:Number.MAX_VALUE,code:-1,start:O,end:O},fe=!this._row[O],me=0;B||(B=Xe.length);for(var De=O;De<this._row.length;De++)if(this._row[De]^(fe?1:0))U[me]++;else{if(me===U.length-1){for(var Ue=0;Ue<B;Ue++){var We=this._matchPattern(U,Xe[Ue]);se.end=De,We<se.error&&(se.code=Ue,se.error=We)}return se.error>.48?null:se}U[++me]=1,fe=!fe}return null}},{key:"_findStart",value:function(){for(var O=this._nextSet(this._row),B=null;!B;){if(!(B=this._findPattern(ot,O,!1,!0)))return null;var U=B.start-(B.end-B.start);if(U>=0&&this._matchRange(U,B.start,0))return B;O=B.end,B=null}return null}},{key:"_calculateFirstDigit",value:function(O){for(var B=0;B<Qe.length;B++)if(O===Qe[B])return B;return null}},{key:"_decodePayload",value:function(O,B,U){for(var Y=ge({},O),se=0,fe=0;fe<6;fe++){if(!(Y=this._decodeCode(Y.end)))return null;Y.code>=10?(Y.code-=10,se|=1<<5-fe):se|=0<<5-fe,B.push(Y.code),U.push(Y)}var me=this._calculateFirstDigit(se);if(null===me)return null;B.unshift(me);var De=this._findPattern(wt,Y.end,!0,!1);if(null===De||!De.end)return null;U.push(De);for(var Ue=0;Ue<6;Ue++){if(!(De=this._decodeCode(De.end,10)))return null;U.push(De),B.push(De.code)}return De}},{key:"_verifyTrailingWhitespace",value:function(O){var B=O.end+(O.end-O.start);return B<this._row.length&&this._matchRange(O.end,B,0)?O:null}},{key:"_findEnd",value:function(O,B){var U=this._findPattern(this.STOP_PATTERN,O,B,!1);return null!==U?this._verifyTrailingWhitespace(U):null}},{key:"_checksum",value:function(O){for(var B=0,U=O.length-2;U>=0;U-=2)B+=O[U];B*=3;for(var Y=O.length-1;Y>=0;Y-=2)B+=O[Y];return B%10==0}},{key:"_decodeExtensions",value:function(O){var B=this._nextSet(this._row,O),U=this._findPattern(st,B,!1,!1);if(null===U)return null;for(var Y=0;Y<this.supplements.length;Y++)try{var se=this.supplements[Y].decode(this._row,U.end);if(null!==se)return{code:se.code,start:B,startInfo:U,end:se.end,decodedCodes:se.decodedCodes,format:this.supplements[Y].FORMAT}}catch(fe){console.error("* decodeExtensions error in ",this.supplements[Y],": ",fe)}return null}},{key:"decode",value:function(O,B){var U=new Array,Y=new Array,se={},fe=this._findStart();if(!fe)return null;var me={start:fe.start,end:fe.end};if(Y.push(me),!(me=this._decodePayload(me,U,Y))||!(me=this._findEnd(me.end,!1))||(Y.push(me),!this._checksum(U)))return null;if(this.supplements.length>0){var De=this._decodeExtensions(me.end);if(!De||!De.decodedCodes)return null;var Ue=De.decodedCodes[De.decodedCodes.length-1];if(!this._verifyTrailingWhitespace({start:Ue.start+((Ue.end-Ue.start)/2|0),end:Ue.end}))return null;se={supplement:De,code:U.join("")+De.code}}return ge(ge({code:U.join(""),start:fe.start,end:me.end,startInfo:fe,decodedCodes:Y},se),{},{format:this.FORMAT})}}]),$}(K),tn=r(33),vn=r.n(tn);var Vt=new Uint16Array(vn()("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. *$/+%").map(function(de){return de.charCodeAt(0)})),xt=new Uint16Array([52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,148,168,162,138,42]),gn=function(de){Ee()($,de);var ve=function(de){var ve=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch($){return!1}}();return function(){var $,O=Ie()(de);if(ve){var B=Ie()(this).constructor;$=Reflect.construct(O,arguments,B)}else $=O.apply(this,arguments);return ze()(this,$)}}($);function $(){var O;we()(this,$);for(var B=arguments.length,U=new Array(B),Y=0;Y<B;Y++)U[Y]=arguments[Y];return O=ve.call.apply(ve,[this].concat(U)),ie()(Q()(O),"FORMAT","code_39"),O}return Me()($,[{key:"_findStart",value:function(){for(var O=this._nextSet(this._row),B=O,U=new Uint16Array([0,0,0,0,0,0,0,0,0]),Y=0,se=!1,fe=O;fe<this._row.length;fe++)if(this._row[fe]^(se?1:0))U[Y]++;else{if(Y===U.length-1){if(148===this._toPattern(U)){var me=Math.floor(Math.max(0,B-(fe-B)/4));if(this._matchRange(me,B,0))return{start:B,end:fe}}B+=U[0]+U[1];for(var De=0;De<7;De++)U[De]=U[De+2];U[7]=0,U[8]=0,Y--}else Y++;U[Y]=1,se=!se}return null}},{key:"_toPattern",value:function(O){for(var B=O.length,U=0,Y=B,se=0;Y>3;){U=this._findNextWidth(O,U),Y=0;for(var fe=0,me=0;me<B;me++)O[me]>U&&(fe|=1<<B-1-me,Y++,se+=O[me]);if(3===Y){for(var De=0;De<B&&Y>0;De++)if(O[De]>U&&(Y--,2*O[De]>=se))return-1;return fe}}return-1}},{key:"_findNextWidth",value:function(O,B){for(var U=Number.MAX_VALUE,Y=0;Y<O.length;Y++)O[Y]<U&&O[Y]>B&&(U=O[Y]);return U}},{key:"_patternToChar",value:function(O){for(var B=0;B<xt.length;B++)if(xt[B]===O)return String.fromCharCode(Vt[B]);return null}},{key:"_verifyTrailingWhitespace",value:function(O,B,U){var Y=pe.a.sum(U);return 3*(B-O-Y)>=Y}},{key:"decode",value:function(O,B){var U=new Uint16Array([0,0,0,0,0,0,0,0,0]),Y=[];if(!(B=this._findStart()))return null;var se,fe,me=this._nextSet(this._row,B.end);do{U=this._toCounters(me,U);var De=this._toPattern(U);if(De<0||null===(se=this._patternToChar(De)))return null;Y.push(se),fe=me,me+=pe.a.sum(U),me=this._nextSet(this._row,me)}while("*"!==se);return Y.pop(),Y.length&&this._verifyTrailingWhitespace(fe,me,U)?{code:Y.join(""),start:B.start,end:me,startInfo:B,decodedCodes:Y,format:this.FORMAT}:null}}]),$}(K),Hn=r(12),xi=r.n(Hn);var Vs=/[IOQ]/g,bs=/[A-Z0-9]{17}/,Qi=function(de){Ee()($,de);var ve=function(de){var ve=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch($){return!1}}();return function(){var $,O=Ie()(de);if(ve){var B=Ie()(this).constructor;$=Reflect.construct(O,arguments,B)}else $=O.apply(this,arguments);return ze()(this,$)}}($);function $(){var O;we()(this,$);for(var B=arguments.length,U=new Array(B),Y=0;Y<B;Y++)U[Y]=arguments[Y];return O=ve.call.apply(ve,[this].concat(U)),ie()(Q()(O),"FORMAT","code_39_vin"),O}return Me()($,[{key:"_checkChecksum",value:function(O){return!!O}},{key:"decode",value:function(O,B){var U=xi()(Ie()($.prototype),"decode",this).call(this,O,B);if(!U)return null;var Y=U.code;return Y&&(Y=Y.replace(Vs,"")).match(bs)&&this._checkChecksum(Y)?(U.code=Y,U):null}}]),$}(gn);var Gr=[48,49,50,51,52,53,54,55,56,57,45,36,58,47,46,43,65,66,67,68],It=[3,6,9,96,18,66,33,36,48,72,12,24,69,81,84,21,26,41,11,14],Zn=[26,41,11,14],Li=function(de){Ee()($,de);var ve=function(de){var ve=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch($){return!1}}();return function(){var $,O=Ie()(de);if(ve){var B=Ie()(this).constructor;$=Reflect.construct(O,arguments,B)}else $=O.apply(this,arguments);return ze()(this,$)}}($);function $(){var O;we()(this,$);for(var B=arguments.length,U=new Array(B),Y=0;Y<B;Y++)U[Y]=arguments[Y];return O=ve.call.apply(ve,[this].concat(U)),ie()(Q()(O),"_counters",[]),ie()(Q()(O),"FORMAT","codabar"),O}return Me()($,[{key:"_computeAlternatingThreshold",value:function(O,B){for(var U=Number.MAX_VALUE,Y=0,se=0,fe=O;fe<B;fe+=2)(se=this._counters[fe])>Y&&(Y=se),se<U&&(U=se);return(U+Y)/2|0}},{key:"_toPattern",value:function(O){var B=O+7;if(B>this._counters.length)return-1;for(var U=this._computeAlternatingThreshold(O,B),Y=this._computeAlternatingThreshold(O+1,B),se=64,me=0,De=0;De<7;De++)this._counters[O+De]>(0==(1&De)?U:Y)&&(me|=se),se>>=1;return me}},{key:"_isStartEnd",value:function(O){for(var B=0;B<Zn.length;B++)if(Zn[B]===O)return!0;return!1}},{key:"_sumCounters",value:function(O,B){for(var U=0,Y=O;Y<B;Y++)U+=this._counters[Y];return U}},{key:"_findStart",value:function(){for(var O=this._nextUnset(this._row),B=1;B<this._counters.length;B++){var U=this._toPattern(B);if(-1!==U&&this._isStartEnd(U))return{start:O+=this._sumCounters(0,B),end:O+this._sumCounters(B,B+8),startCounter:B,endCounter:B+8}}return null}},{key:"_patternToChar",value:function(O){for(var B=0;B<It.length;B++)if(It[B]===O)return String.fromCharCode(Gr[B]);return null}},{key:"_calculatePatternLength",value:function(O){for(var B=0,U=O;U<O+7;U++)B+=this._counters[U];return B}},{key:"_verifyWhitespace",value:function(O,B){return(O-1<=0||this._counters[O-1]>=this._calculatePatternLength(O)/2)&&(B+8>=this._counters.length||this._counters[B+7]>=this._calculatePatternLength(B)/2)}},{key:"_charToPattern",value:function(O){for(var B=O.charCodeAt(0),U=0;U<Gr.length;U++)if(Gr[U]===B)return It[U];return 0}},{key:"_thresholdResultPattern",value:function(O,B){for(var U,Y={space:{narrow:{size:0,counts:0,min:0,max:Number.MAX_VALUE},wide:{size:0,counts:0,min:0,max:Number.MAX_VALUE}},bar:{narrow:{size:0,counts:0,min:0,max:Number.MAX_VALUE},wide:{size:0,counts:0,min:0,max:Number.MAX_VALUE}}},se=B,fe=0;fe<O.length;fe++){U=this._charToPattern(O[fe]);for(var me=6;me>=0;me--){var De=2==(1&me)?Y.bar:Y.space,Ue=1==(1&U)?De.wide:De.narrow;Ue.size+=this._counters[se+me],Ue.counts++,U>>=1}se+=8}return["space","bar"].forEach(function(We){var _t=Y[We];_t.wide.min=Math.floor((_t.narrow.size/_t.narrow.counts+_t.wide.size/_t.wide.counts)/2),_t.narrow.max=Math.ceil(_t.wide.min),_t.wide.max=Math.ceil((2*_t.wide.size+1.5)/_t.wide.counts)}),Y}},{key:"_validateResult",value:function(O,B){for(var U,Y=this._thresholdResultPattern(O,B),se=B,fe=0;fe<O.length;fe++){U=this._charToPattern(O[fe]);for(var me=6;me>=0;me--){var De=0==(1&me)?Y.bar:Y.space,Ue=1==(1&U)?De.wide:De.narrow,We=this._counters[se+me];if(We<Ue.min||We>Ue.max)return!1;U>>=1}se+=8}return!0}},{key:"decode",value:function(O,B){if(this._counters=this._fillCounters(),!(B=this._findStart()))return null;var U,Y=B.startCounter,se=[];do{if((U=this._toPattern(Y))<0)return null;var fe=this._patternToChar(U);if(null===fe)return null;if(se.push(fe),Y+=8,se.length>1&&this._isStartEnd(U))break}while(Y<this._counters.length);if(se.length-2<4||!this._isStartEnd(U)||!this._verifyWhitespace(B.startCounter,Y-8)||!this._validateResult(se,B.startCounter))return null;var me=B.start+this._sumCounters(B.startCounter,(Y=Y>this._counters.length?this._counters.length:Y)-8);return{code:se.join(""),start:B.start,end:me,startInfo:B,decodedCodes:se,format:this.FORMAT}}}]),$}(K);var Rt=function(de){Ee()($,de);var ve=function(de){var ve=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch($){return!1}}();return function(){var $,O=Ie()(de);if(ve){var B=Ie()(this).constructor;$=Reflect.construct(O,arguments,B)}else $=O.apply(this,arguments);return ze()(this,$)}}($);function $(){var O;we()(this,$);for(var B=arguments.length,U=new Array(B),Y=0;Y<B;Y++)U[Y]=arguments[Y];return O=ve.call.apply(ve,[this].concat(U)),ie()(Q()(O),"FORMAT","upc_a"),O}return Me()($,[{key:"decode",value:function(O,B){var U=St.prototype.decode.call(this);return U&&U.code&&13===U.code.length&&"0"===U.code.charAt(0)?(U.code=U.code.substring(1),U):null}}]),$}(St);var hn=function(de){Ee()($,de);var ve=function(de){var ve=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch($){return!1}}();return function(){var $,O=Ie()(de);if(ve){var B=Ie()(this).constructor;$=Reflect.construct(O,arguments,B)}else $=O.apply(this,arguments);return ze()(this,$)}}($);function $(){var O;we()(this,$);for(var B=arguments.length,U=new Array(B),Y=0;Y<B;Y++)U[Y]=arguments[Y];return O=ve.call.apply(ve,[this].concat(U)),ie()(Q()(O),"FORMAT","ean_8"),O}return Me()($,[{key:"_decodePayload",value:function(O,B,U){for(var Y=O,se=0;se<4;se++){if(!(Y=this._decodeCode(Y.end,10)))return null;B.push(Y.code),U.push(Y)}if(null===(Y=this._findPattern(wt,Y.end,!0,!1)))return null;U.push(Y);for(var fe=0;fe<4;fe++){if(!(Y=this._decodeCode(Y.end,10)))return null;U.push(Y),B.push(Y.code)}return Y}}]),$}(St);var Ai=function(de){Ee()($,de);var ve=function(de){var ve=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch($){return!1}}();return function(){var $,O=Ie()(de);if(ve){var B=Ie()(this).constructor;$=Reflect.construct(O,arguments,B)}else $=O.apply(this,arguments);return ze()(this,$)}}($);function $(){var O;we()(this,$);for(var B=arguments.length,U=new Array(B),Y=0;Y<B;Y++)U[Y]=arguments[Y];return O=ve.call.apply(ve,[this].concat(U)),ie()(Q()(O),"FORMAT","ean_2"),O}return Me()($,[{key:"decode",value:function(O,B){O&&(this._row=O);var U=0,Y=B,se=this._row.length,fe=[],me=[],De=null;if(void 0===Y)return null;for(var Ue=0;Ue<2&&Y<se;Ue++){if(!(De=this._decodeCode(Y)))return null;me.push(De),fe.push(De.code%10),De.code>=10&&(U|=1<<1-Ue),1!==Ue&&(Y=this._nextSet(this._row,De.end),Y=this._nextUnset(this._row,Y))}if(2!==fe.length||parseInt(fe.join(""))%4!==U)return null;var We=this._findStart();return{code:fe.join(""),decodedCodes:me,end:De.end,format:this.FORMAT,startInfo:We,start:We.start}}}]),$}(St);var pt=[24,20,18,17,12,6,3,10,9,5],Nt=function(de){Ee()($,de);var ve=function(de){var ve=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch($){return!1}}();return function(){var $,O=Ie()(de);if(ve){var B=Ie()(this).constructor;$=Reflect.construct(O,arguments,B)}else $=O.apply(this,arguments);return ze()(this,$)}}($);function $(){var O;we()(this,$);for(var B=arguments.length,U=new Array(B),Y=0;Y<B;Y++)U[Y]=arguments[Y];return O=ve.call.apply(ve,[this].concat(U)),ie()(Q()(O),"FORMAT","ean_5"),O}return Me()($,[{key:"decode",value:function(O,B){if(void 0===B)return null;O&&(this._row=O);for(var U=0,Y=B,se=this._row.length,fe=null,me=[],De=[],Ue=0;Ue<5&&Y<se;Ue++){if(!(fe=this._decodeCode(Y)))return null;De.push(fe),me.push(fe.code%10),fe.code>=10&&(U|=1<<4-Ue),4!==Ue&&(Y=this._nextSet(this._row,fe.end),Y=this._nextUnset(this._row,Y))}if(5!==me.length||function(_t){for(var X=_t.length,ye=0,Ne=X-2;Ne>=0;Ne-=2)ye+=_t[Ne];ye*=3;for(var it=X-1;it>=0;it-=2)ye+=_t[it];return(ye*=3)%10}(me)!==function(_t){for(var X=0;X<10;X++)if(_t===pt[X])return X;return null}(U))return null;var We=this._findStart();return{code:me.join(""),decodedCodes:De,end:fe.end,format:this.FORMAT,startInfo:We,start:We.start}}}]),$}(St);function Er(de,ve){var $=Object.keys(de);if(Object.getOwnPropertySymbols){var O=Object.getOwnPropertySymbols(de);ve&&(O=O.filter(function(B){return Object.getOwnPropertyDescriptor(de,B).enumerable})),$.push.apply($,O)}return $}var Dr=function(de){Ee()($,de);var ve=function(de){var ve=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch($){return!1}}();return function(){var $,O=Ie()(de);if(ve){var B=Ie()(this).constructor;$=Reflect.construct(O,arguments,B)}else $=O.apply(this,arguments);return ze()(this,$)}}($);function $(){var O;we()(this,$);for(var B=arguments.length,U=new Array(B),Y=0;Y<B;Y++)U[Y]=arguments[Y];return O=ve.call.apply(ve,[this].concat(U)),ie()(Q()(O),"CODE_FREQUENCY",[[56,52,50,49,44,38,35,42,41,37],[7,11,13,14,19,25,28,21,22,26]]),ie()(Q()(O),"STOP_PATTERN",[1/6*7,1/6*7,1/6*7,1/6*7,1/6*7,1/6*7]),ie()(Q()(O),"FORMAT","upc_e"),O}return Me()($,[{key:"_decodePayload",value:function(O,B,U){for(var Y=function(me){for(var De=1;De<arguments.length;De++){var Ue=null!=arguments[De]?arguments[De]:{};De%2?Er(Object(Ue),!0).forEach(function(We){ie()(me,We,Ue[We])}):Object.getOwnPropertyDescriptors?Object.defineProperties(me,Object.getOwnPropertyDescriptors(Ue)):Er(Object(Ue)).forEach(function(We){Object.defineProperty(me,We,Object.getOwnPropertyDescriptor(Ue,We))})}return me}({},O),se=0,fe=0;fe<6;fe++){if(!(Y=this._decodeCode(Y.end)))return null;Y.code>=10&&(Y.code=Y.code-10,se|=1<<5-fe),B.push(Y.code),U.push(Y)}return this._determineParity(se,B)?Y:null}},{key:"_determineParity",value:function(O,B){for(var U=0;U<this.CODE_FREQUENCY.length;U++)for(var Y=0;Y<this.CODE_FREQUENCY[U].length;Y++)if(O===this.CODE_FREQUENCY[U][Y])return B.unshift(U),B.push(Y),!0;return!1}},{key:"_convertToUPCA",value:function(O){var B=[O[0]],U=O[O.length-2];return(B=U<=2?B.concat(O.slice(1,3)).concat([U,0,0,0,0]).concat(O.slice(3,6)):3===U?B.concat(O.slice(1,4)).concat([0,0,0,0,0]).concat(O.slice(4,6)):4===U?B.concat(O.slice(1,5)).concat([0,0,0,0,0,O[5]]):B.concat(O.slice(1,6)).concat([0,0,0,0,U])).push(O[O.length-1]),B}},{key:"_checksum",value:function(O){return xi()(Ie()($.prototype),"_checksum",this).call(this,this._convertToUPCA(O))}},{key:"_findEnd",value:function(O,B){return xi()(Ie()($.prototype),"_findEnd",this).call(this,O,!0)}},{key:"_verifyTrailingWhitespace",value:function(O){var B=O.end+(O.end-O.start)/2;return B<this._row.length&&this._matchRange(O.end,B,0)?O:null}}]),$}(St);var cr=function(de){Ee()($,de);var ve=function(de){var ve=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch($){return!1}}();return function(){var $,O=Ie()(de);if(ve){var B=Ie()(this).constructor;$=Reflect.construct(O,arguments,B)}else $=O.apply(this,arguments);return ze()(this,$)}}($);function $(O){var B;return we()(this,$),B=ve.call(this,k()({normalizeBarSpaceWidth:!1},O)),ie()(Q()(B),"barSpaceRatio",[1,1]),ie()(Q()(B),"SINGLE_CODE_ERROR",.78),ie()(Q()(B),"AVG_CODE_ERROR",.38),ie()(Q()(B),"START_PATTERN",[1,1,1,1]),ie()(Q()(B),"STOP_PATTERN",[1,1,3]),ie()(Q()(B),"CODE_PATTERN",[[1,1,3,3,1],[3,1,1,1,3],[1,3,1,1,3],[3,3,1,1,1],[1,1,3,1,3],[3,1,3,1,1],[1,3,3,1,1],[1,1,1,3,3],[3,1,1,3,1],[1,3,1,3,1]]),ie()(Q()(B),"MAX_CORRECTION_FACTOR",5),ie()(Q()(B),"FORMAT","i2of5"),O.normalizeBarSpaceWidth&&(B.SINGLE_CODE_ERROR=.38,B.AVG_CODE_ERROR=.09),B.config=O,ze()(B,Q()(B))}return Me()($,[{key:"_matchPattern",value:function(O,B){if(this.config.normalizeBarSpaceWidth){for(var U=[0,0],Y=[0,0],se=[0,0],fe=this.MAX_CORRECTION_FACTOR,me=1/fe,De=0;De<O.length;De++)U[De%2]+=O[De],Y[De%2]+=B[De];se[0]=Y[0]/U[0],se[1]=Y[1]/U[1],se[0]=Math.max(Math.min(se[0],fe),me),se[1]=Math.max(Math.min(se[1],fe),me),this.barSpaceRatio=se;for(var Ue=0;Ue<O.length;Ue++)O[Ue]*=this.barSpaceRatio[Ue%2]}return xi()(Ie()($.prototype),"_matchPattern",this).call(this,O,B)}},{key:"_findPattern",value:function(O,B){var U=arguments.length>2&&void 0!==arguments[2]&&arguments[2],Y=arguments.length>3&&void 0!==arguments[3]&&arguments[3],se=new Array(O.length).fill(0),fe=0,me={error:Number.MAX_VALUE,start:0,end:0},De=this.AVG_CODE_ERROR;U=U||!1,Y=Y||!1,B||(B=this._nextSet(this._row));for(var Ue=B;Ue<this._row.length;Ue++)if(this._row[Ue]^(U?1:0))se[fe]++;else{if(fe===se.length-1){var We=se.reduce(function(ye,Ne){return ye+Ne},0),_t=this._matchPattern(se,O);if(_t<De)return me.error=_t,me.start=Ue-We,me.end=Ue,me;if(!Y)return null;for(var X=0;X<se.length-2;X++)se[X]=se[X+2];se[se.length-2]=0,se[se.length-1]=0,fe--}else fe++;se[fe]=1,U=!U}return null}},{key:"_findStart",value:function(){for(var O=0,B=this._nextSet(this._row),U=null,Y=1;!U;){if(!(U=this._findPattern(this.START_PATTERN,B,!1,!0)))return null;if(Y=Math.floor((U.end-U.start)/4),(O=U.start-10*Y)>=0&&this._matchRange(O,U.start,0))return U;B=U.end,U=null}return null}},{key:"_verifyTrailingWhitespace",value:function(O){var B=O.end+(O.end-O.start)/2;return B<this._row.length&&this._matchRange(O.end,B,0)?O:null}},{key:"_findEnd",value:function(){this._row.reverse();var O=this._findPattern(this.STOP_PATTERN);if(this._row.reverse(),null===O)return null;var B=O.start;return O.start=this._row.length-O.end,O.end=this._row.length-B,null!==O?this._verifyTrailingWhitespace(O):null}},{key:"_decodePair",value:function(O){for(var B=[],U=0;U<O.length;U++){var Y=this._decodeCode(O[U]);if(!Y)return null;B.push(Y)}return B}},{key:"_decodeCode",value:function(O){for(var B=this.AVG_CODE_ERROR,U={error:Number.MAX_VALUE,code:-1,start:0,end:0},Y=0;Y<this.CODE_PATTERN.length;Y++){var se=this._matchPattern(O,this.CODE_PATTERN[Y]);se<U.error&&(U.code=Y,U.error=se)}return U.error<B?U:null}},{key:"_decodePayload",value:function(O,B,U){for(var Y=0,se=O.length,fe=[[0,0,0,0,0],[0,0,0,0,0]],me=null;Y<se;){for(var De=0;De<5;De++)fe[0][De]=O[Y]*this.barSpaceRatio[0],fe[1][De]=O[Y+1]*this.barSpaceRatio[1],Y+=2;if(!(me=this._decodePair(fe)))return null;for(var Ue=0;Ue<me.length;Ue++)B.push(me[Ue].code+""),U.push(me[Ue])}return me}},{key:"_verifyCounterLength",value:function(O){return O.length%10==0}},{key:"decode",value:function(O,B){var U=new Array,Y=new Array,se=this._findStart();if(!se)return null;Y.push(se);var fe=this._findEnd();if(!fe)return null;var me=this._fillCounters(se.end,fe.start,!1);return this._verifyCounterLength(me)&&this._decodePayload(me,U,Y)?U.length%2!=0||U.length<6?null:(Y.push(fe),{code:U.join(""),start:se.start,end:fe.end,startInfo:se,decodedCodes:Y,format:this.FORMAT}):null}}]),$}(K);var Ae=[3,1,3,1,1,1],Se=[3,1,1,1,3],Oe=[[1,1,3,3,1],[3,1,1,1,3],[1,3,1,1,3],[3,3,1,1,1],[1,1,3,1,3],[3,1,3,1,1],[1,3,3,1,1],[1,1,1,3,3],[3,1,1,3,1],[1,3,1,3,1]],tt=Ae.reduce(function(de,ve){return de+ve},0),qe=function(de){Ee()($,de);var ve=function(de){var ve=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch($){return!1}}();return function(){var $,O=Ie()(de);if(ve){var B=Ie()(this).constructor;$=Reflect.construct(O,arguments,B)}else $=O.apply(this,arguments);return ze()(this,$)}}($);function $(){var O;we()(this,$);for(var B=arguments.length,U=new Array(B),Y=0;Y<B;Y++)U[Y]=arguments[Y];return O=ve.call.apply(ve,[this].concat(U)),ie()(Q()(O),"barSpaceRatio",[1,1]),ie()(Q()(O),"FORMAT","2of5"),ie()(Q()(O),"SINGLE_CODE_ERROR",.78),ie()(Q()(O),"AVG_CODE_ERROR",.3),O}return Me()($,[{key:"_findPattern",value:function(O,B){var U=arguments.length>2&&void 0!==arguments[2]&&arguments[2],Y=arguments.length>3&&void 0!==arguments[3]&&arguments[3],se=[],fe=0,me={error:Number.MAX_VALUE,code:-1,start:0,end:0},De=0,Ue=0,We=this.AVG_CODE_ERROR;B||(B=this._nextSet(this._row));for(var _t=0;_t<O.length;_t++)se[_t]=0;for(var X=B;X<this._row.length;X++)if(this._row[X]^(U?1:0))se[fe]++;else{if(fe===se.length-1){De=0;for(var ye=0;ye<se.length;ye++)De+=se[ye];if((Ue=this._matchPattern(se,O))<We)return me.error=Ue,me.start=X-De,me.end=X,me;if(!Y)return null;for(var Ne=0;Ne<se.length-2;Ne++)se[Ne]=se[Ne+2];se[se.length-2]=0,se[se.length-1]=0,fe--}else fe++;se[fe]=1,U=!U}return null}},{key:"_findStart",value:function(){for(var O=null,B=this._nextSet(this._row),U=1,Y=0;!O;){if(!(O=this._findPattern(Ae,B,!1,!0)))return null;if(U=Math.floor((O.end-O.start)/tt),(Y=O.start-5*U)>=0&&this._matchRange(Y,O.start,0))return O;B=O.end,O=null}return O}},{key:"_verifyTrailingWhitespace",value:function(O){var B=O.end+(O.end-O.start)/2;return B<this._row.length&&this._matchRange(O.end,B,0)?O:null}},{key:"_findEnd",value:function(){this._row.reverse();var O=this._nextSet(this._row),B=this._findPattern(Se,O,!1,!0);if(this._row.reverse(),null===B)return null;var U=B.start;return B.start=this._row.length-B.end,B.end=this._row.length-U,null!==B?this._verifyTrailingWhitespace(B):null}},{key:"_verifyCounterLength",value:function(O){return O.length%10==0}},{key:"_decodeCode",value:function(O){for(var B=this.AVG_CODE_ERROR,U={error:Number.MAX_VALUE,code:-1,start:0,end:0},Y=0;Y<Oe.length;Y++){var se=this._matchPattern(O,Oe[Y]);se<U.error&&(U.code=Y,U.error=se)}return U.error<B?U:null}},{key:"_decodePayload",value:function(O,B,U){for(var Y=0,se=O.length,fe=[0,0,0,0,0],me=null;Y<se;){for(var De=0;De<5;De++)fe[De]=O[Y]*this.barSpaceRatio[0],Y+=2;if(!(me=this._decodeCode(fe)))return null;B.push("".concat(me.code)),U.push(me)}return me}},{key:"decode",value:function(O,B){var U=this._findStart();if(!U)return null;var Y=this._findEnd();if(!Y)return null;var se=this._fillCounters(U.end,Y.start,!1);if(!this._verifyCounterLength(se))return null;var fe=[];fe.push(U);var me=[];return this._decodePayload(se,me,fe)?me.length<5?null:(fe.push(Y),{code:me.join(""),start:U.start,end:Y.end,startInfo:U,decodedCodes:fe,format:this.FORMAT}):null}}]),$}(K);var Zt=new Uint16Array(vn()("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%abcd*").map(function(de){return de.charCodeAt(0)})),rn=new Uint16Array([276,328,324,322,296,292,290,336,274,266,424,420,418,404,402,394,360,356,354,308,282,344,332,326,300,278,436,434,428,422,406,410,364,358,310,314,302,468,466,458,366,374,430,294,474,470,306,350]),Rn=function(de){Ee()($,de);var ve=function(de){var ve=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch($){return!1}}();return function(){var $,O=Ie()(de);if(ve){var B=Ie()(this).constructor;$=Reflect.construct(O,arguments,B)}else $=O.apply(this,arguments);return ze()(this,$)}}($);function $(){var O;we()(this,$);for(var B=arguments.length,U=new Array(B),Y=0;Y<B;Y++)U[Y]=arguments[Y];return O=ve.call.apply(ve,[this].concat(U)),ie()(Q()(O),"FORMAT","code_93"),O}return Me()($,[{key:"_patternToChar",value:function(O){for(var B=0;B<rn.length;B++)if(rn[B]===O)return String.fromCharCode(Zt[B]);return null}},{key:"_toPattern",value:function(O){for(var B=O.length,U=O.reduce(function(De,Ue){return De+Ue},0),Y=0,se=0;se<B;se++){var fe=Math.round(9*O[se]/U);if(fe<1||fe>4)return-1;if(0==(1&se))for(var me=0;me<fe;me++)Y=Y<<1|1;else Y<<=fe}return Y}},{key:"_findStart",value:function(){for(var O=this._nextSet(this._row),B=O,U=new Uint16Array([0,0,0,0,0,0]),Y=0,se=!1,fe=O;fe<this._row.length;fe++)if(this._row[fe]^(se?1:0))U[Y]++;else{if(Y===U.length-1){if(350===this._toPattern(U)){var me=Math.floor(Math.max(0,B-(fe-B)/4));if(this._matchRange(me,B,0))return{start:B,end:fe}}B+=U[0]+U[1];for(var De=0;De<4;De++)U[De]=U[De+2];U[4]=0,U[5]=0,Y--}else Y++;U[Y]=1,se=!se}return null}},{key:"_verifyEnd",value:function(O,B){return!(O===B||!this._row[B])}},{key:"_decodeExtended",value:function(O){for(var B=O.length,U=[],Y=0;Y<B;Y++){var se=O[Y];if(se>="a"&&se<="d"){if(Y>B-2)return null;var fe=O[++Y],me=fe.charCodeAt(0),De=void 0;switch(se){case"a":if(!(fe>="A"&&fe<="Z"))return null;De=String.fromCharCode(me-64);break;case"b":if(fe>="A"&&fe<="E")De=String.fromCharCode(me-38);else if(fe>="F"&&fe<="J")De=String.fromCharCode(me-11);else if(fe>="K"&&fe<="O")De=String.fromCharCode(me+16);else if(fe>="P"&&fe<="S")De=String.fromCharCode(me+43);else{if(!(fe>="T"&&fe<="Z"))return null;De=String.fromCharCode(127)}break;case"c":if(fe>="A"&&fe<="O")De=String.fromCharCode(me-32);else{if("Z"!==fe)return null;De=":"}break;case"d":if(!(fe>="A"&&fe<="Z"))return null;De=String.fromCharCode(me+32);break;default:return console.warn("* code_93_reader _decodeExtended hit default case, this may be an error",De),null}U.push(De)}else U.push(se)}return U}},{key:"_matchCheckChar",value:function(O,B,U){var Y=O.slice(0,B),se=Y.length,fe=Y.reduce(function(me,De,Ue){return me+((-1*Ue+(se-1))%U+1)*Zt.indexOf(De.charCodeAt(0))},0);return Zt[fe%47]===O[B].charCodeAt(0)}},{key:"_verifyChecksums",value:function(O){return this._matchCheckChar(O,O.length-2,20)&&this._matchCheckChar(O,O.length-1,15)}},{key:"decode",value:function(O,B){if(!(B=this._findStart()))return null;var U,Y,se=new Uint16Array([0,0,0,0,0,0]),fe=[],me=this._nextSet(this._row,B.end);do{se=this._toCounters(me,se);var De=this._toPattern(se);if(De<0||null===(Y=this._patternToChar(De)))return null;fe.push(Y),U=me,me+=pe.a.sum(se),me=this._nextSet(this._row,me)}while("*"!==Y);return fe.pop(),fe.length&&this._verifyEnd(U,me)&&this._verifyChecksums(fe)?(fe=fe.slice(0,fe.length-2),null===(fe=this._decodeExtended(fe))?null:{code:fe.join(""),start:B.start,end:me,startInfo:B,decodedCodes:fe,format:this.FORMAT}):null}}]),$}(K);var ur=/[AEIO]/g,ln=function(de){Ee()($,de);var ve=function(de){var ve=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch($){return!1}}();return function(){var $,O=Ie()(de);if(ve){var B=Ie()(this).constructor;$=Reflect.construct(O,arguments,B)}else $=O.apply(this,arguments);return ze()(this,$)}}($);function $(){var O;we()(this,$);for(var B=arguments.length,U=new Array(B),Y=0;Y<B;Y++)U[Y]=arguments[Y];return O=ve.call.apply(ve,[this].concat(U)),ie()(Q()(O),"FORMAT","code_32_reader"),O}return Me()($,[{key:"_decodeCode32",value:function(O){if(/[^0-9BCDFGHJKLMNPQRSTUVWXYZ]/.test(O))return null;for(var B=0,U=0;U<O.length;U++)B=32*B+"0123456789BCDFGHJKLMNPQRSTUVWXYZ".indexOf(O[U]);var Y=""+B;return Y.length<9&&(Y=("000000000"+Y).slice(-9)),"A"+Y}},{key:"_checkChecksum",value:function(O){return!!O}},{key:"decode",value:function(O,B){var U=xi()(Ie()($.prototype),"decode",this).call(this,O,B);if(!U)return null;var Y=U.code;if(!Y||(Y=Y.replace(ur,""),!this._checkChecksum(Y)))return null;var se=this._decodeCode32(Y);return se?(U.code=se,U):null}}]),$}(gn),oi={code_128_reader:ae,ean_reader:St,ean_5_reader:Nt,ean_2_reader:Ai,ean_8_reader:hn,code_39_reader:gn,code_39_vin_reader:Qi,codabar_reader:Li,upc_reader:Rt,upc_e_reader:Dr,i2of5_reader:cr,"2of5_reader":qe,code_93_reader:Rn,code_32_reader:ln},ei={registerReader:function(de,ve){oi[de]=ve},create:function(de,ve){var O=[];function B(){de.readers.forEach(function(se){var fe,me={},De=[];"object"===T()(se)?(fe=se.format,me=se.config):"string"==typeof se&&(fe=se),me.supplements&&(De=me.supplements.map(function(We){return new oi[We]}));try{var Ue=new oi[fe](me,De);O.push(Ue)}catch(We){throw console.error("* Error constructing reader ",fe,We),We}})}function U(se){var fe,me=null,De=Z.getBarcodeLine(ve,se[0],se[1]);for(Z.toBinaryLine(De),fe=0;fe<O.length&&null===me;fe++)me=O[fe].decodePattern(De.line);return null===me?null:{codeResult:me,barcodeLine:De}}function Y(se){var fe,me,We,De=function(We){return Math.sqrt(Math.pow(Math.abs(We[1].y-We[0].y),2)+Math.pow(Math.abs(We[1].x-We[0].x),2))}(fe=[{x:((We=se)[1][0]-We[0][0])/2+We[0][0],y:(We[1][1]-We[0][1])/2+We[0][1]},{x:(We[3][0]-We[2][0])/2+We[2][0],y:(We[3][1]-We[2][1])/2+We[2][1]}]),Ue=Math.atan2(fe[1].y-fe[0].y,fe[1].x-fe[0].x);return null===(fe=function(We,_t,X){function ye(Ne){var it=Ne*Math.sin(_t),ut=Ne*Math.cos(_t);We[0].y-=it,We[0].x-=ut,We[1].y+=it,We[1].x+=ut}for(ye(X);X>1&&(!ve.inImageWithBorder(We[0])||!ve.inImageWithBorder(We[1]));)ye(-(X-=Math.ceil(X/2)));return We}(fe,Ue,Math.floor(.1*De)))?null:(null===(me=U(fe))&&(me=function(We,_t,X){var ye,Ne,it,ut=Math.sqrt(Math.pow(We[1][0]-We[0][0],2)+Math.pow(We[1][1]-We[0][1],2)),Yt=null,Ut=Math.sin(X),jt=Math.cos(X);for(ye=1;ye<16&&null===Yt;ye++)it={y:(Ne=ut/16*ye*(ye%2==0?-1:1))*Ut,x:Ne*jt},_t[0].y+=it.x,_t[0].x-=it.y,_t[1].y+=it.x,_t[1].x-=it.y,Yt=U(_t);return Yt}(se,fe,Ue)),null===me?null:{codeResult:me.codeResult,line:fe,angle:Ue,pattern:me.barcodeLine.line,threshold:me.barcodeLine.threshold})}return B(),{decodeFromBoundingBox:function(se){return Y(se)},decodeFromBoundingBoxes:function(se){var fe,me,De=[],Ue=de.multiple;for(fe=0;fe<se.length;fe++){var We=se[fe];if((me=Y(We)||{}).box=We,Ue)De.push(me);else if(me.codeResult)return me}if(Ue)return{barcodes:De}},decodeFromImage:function(se){return function(fe){for(var me=null,De=0;De<O.length&&null===me;De++)me=O[De].decodeImage?O[De].decodeImage(fe):null;return me}(se)},registerReader:function(se,fe){if(oi[se])throw new Error("cannot register existing reader",se);oi[se]=fe},setReaders:function(se){de.readers=se,O.length=0,B()}}}},Yr=function(){var de={};function ve(B){return de[B]||(de[B]={subscribers:[]}),de[B]}function $(B,U){B.async?setTimeout(function(){B.callback(U)},4):B.callback(U)}function O(B,U,Y){var se;if("function"==typeof U)se={callback:U,async:Y};else if(!(se=U).callback)throw new Error("Callback was not specified on options");ve(B).subscribers.push(se)}return{subscribe:function(B,U,Y){return O(B,U,Y)},publish:function(B,U){var Y=ve(B),se=Y.subscribers;se.filter(function(fe){return!!fe.once}).forEach(function(fe){$(fe,U)}),Y.subscribers=se.filter(function(fe){return!fe.once}),Y.subscribers.forEach(function(fe){$(fe,U)})},once:function(B,U){O(B,{callback:U,async:arguments.length>2&&void 0!==arguments[2]&&arguments[2],once:!0})},unsubscribe:function(B,U){if(B){var Y=ve(B);Y.subscribers=Y&&U?Y.subscribers.filter(function(se){return se.callback!==U}):[]}else de={}}}}(),Mo=r(20),ro=r.n(Mo),ra=r(11),Zr=r.n(ra),Tr=r(85),Mi=r.n(Tr),dr=r(86);var Bi,sa=function(de){Ee()($,de);var ve=function(de){var ve=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch($){return!1}}();return function(){var $,O=Ie()(de);if(ve){var B=Ie()(this).constructor;$=Reflect.construct(O,arguments,B)}else $=O.apply(this,arguments);return ze()(this,$)}}($);function $(O,B){var U;return we()(this,$),U=ve.call(this,O),ie()(Q()(U),"code",void 0),U.code=B,Object.setPrototypeOf(Q()(U),$.prototype),U}return $}(r.n(dr)()(Error)),mi="This may mean that the user has declined camera access, or the browser does not support media APIs. If you are running in iOS, you must use Safari.";function bt(){try{return navigator.mediaDevices.enumerateDevices()}catch(ve){var de=new sa("enumerateDevices is not defined. ".concat(mi),-1);return Promise.reject(de)}}function cn(de){try{return navigator.mediaDevices.getUserMedia(de)}catch($){var ve=new sa("getUserMedia is not defined. ".concat(mi),-1);return Promise.reject(ve)}}function In(de){return new Promise(function(ve,$){var O=10;!function B(){O>0?de.videoWidth>10&&de.videoHeight>10?ve():window.setTimeout(B,500):$(new sa("Unable to play video stream. Is webcam working?",-1)),O--}()})}function hr(de,ve){return qn.apply(this,arguments)}function qn(){return(qn=ro()(Zr.a.mark(function de(ve,$){var O;return Zr.a.wrap(function(B){for(;;)switch(B.prev=B.next){case 0:return B.next=2,cn($);case 2:if(Bi=O=B.sent,!ve){B.next=11;break}return ve.setAttribute("autoplay","true"),ve.setAttribute("muted","true"),ve.setAttribute("playsinline","true"),ve.srcObject=O,ve.addEventListener("loadedmetadata",function(){ve.play()}),B.abrupt("return",In(ve));case 11:return B.abrupt("return",Promise.resolve());case 12:case"end":return B.stop()}},de)}))).apply(this,arguments)}function _i(de){var ve=Mi()(de,["width","height","facingMode","aspectRatio","deviceId"]);return void 0!==de.minAspectRatio&&de.minAspectRatio>0&&(ve.aspectRatio=de.minAspectRatio,console.log("WARNING: Constraint 'minAspectRatio' is deprecated; Use 'aspectRatio' instead")),void 0!==de.facing&&(ve.facingMode=de.facing,console.log("WARNING: Constraint 'facing' is deprecated. Use 'facingMode' instead'")),ve}function Wr(){var ve=_i(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{});return ve&&ve.deviceId&&ve.facingMode&&delete ve.facingMode,Promise.resolve({audio:!1,video:ve})}function ti(){return(ti=ro()(Zr.a.mark(function de(){return Zr.a.wrap(function($){for(;;)switch($.prev=$.next){case 0:return $.next=2,bt();case 2:return $.abrupt("return",$.sent.filter(function(O){return"videoinput"===O.kind}));case 4:case"end":return $.stop()}},de)}))).apply(this,arguments)}function Kr(){if(!Bi)return null;var de=Bi.getVideoTracks();return de&&null!=de&&de.length?de[0]:null}var fr={requestedVideoElement:null,request:function(de,ve){return ro()(Zr.a.mark(function $(){return Zr.a.wrap(function(B){for(;;)switch(B.prev=B.next){case 0:return fr.requestedVideoElement=de,B.next=3,Wr(ve);case 3:return B.abrupt("return",hr(de,B.sent));case 5:case"end":return B.stop()}},$)}))()},release:function(){var de=Bi&&Bi.getVideoTracks();return null!==fr.requestedVideoElement&&fr.requestedVideoElement.pause(),new Promise(function(ve){setTimeout(function(){de&&de.length&&de[0].stop(),Bi=null,fr.requestedVideoElement=null,ve()},0)})},enumerateVideoDevices:function(){return ti.apply(this,arguments)},getActiveStreamLabel:function(){var de=Kr();return de?de.label:""},getActiveTrack:Kr},Qt=fr,ki={create:function(de){var ve,$=document.createElement("canvas"),O=$.getContext("2d"),B=[],U=null!==(ve=de.capacity)&&void 0!==ve?ve:20,Y=!0===de.capture;return{addResult:function(fe,me,De){var Ue={};(function(fe){return!!U&&fe&&(me=fe,!((De=de.blacklist)&&De.some(function(Ue){return Object.keys(Ue).every(function(We){return Ue[We]===me[We]})})))&&function(me,De){return"function"!=typeof De||De(me)}(fe,de.filter);var me,De})(De)&&(U--,Ue.codeResult=De,Y&&($.width=me.x,$.height=me.y,W.a.drawImage(fe,me,O),Ue.frame=$.toDataURL()),B.push(Ue))},getResults:function(){return B}}}},Cs={inputStream:{name:"Live",type:"LiveStream",constraints:{width:640,height:480,facingMode:"environment"},area:{top:"0%",right:"0%",left:"0%",bottom:"0%"},singleChannel:!1},locate:!0,numOfWorkers:4,decoder:{readers:["code_128_reader"]},locator:{halfSample:!0,patchSize:"medium"}},zn=r(7),so=function de(){we()(this,de),ie()(this,"config",void 0),ie()(this,"inputStream",void 0),ie()(this,"framegrabber",void 0),ie()(this,"inputImageWrapper",void 0),ie()(this,"stopped",!1),ie()(this,"boxSize",void 0),ie()(this,"resultCollector",void 0),ie()(this,"decoder",void 0),ie()(this,"workerPool",[]),ie()(this,"onUIThread",!0),ie()(this,"canvasContainer",new Or)},wi=function de(){we()(this,de),ie()(this,"image",void 0),ie()(this,"overlay",void 0)},Or=function de(){we()(this,de),ie()(this,"ctx",void 0),ie()(this,"dom",void 0),this.ctx=new wi,this.dom=new wi},Qr=r(23);function Sr(de){return"undefined"==typeof document?null:de instanceof HTMLElement&&de.nodeName&&1===de.nodeType?de:document.querySelector("string"==typeof de?de:"#interactive.viewport")}function un(de,ve){var U,Y,$=(U=ve,(Y=document.querySelector(de))||((Y=document.createElement("canvas")).className=U),Y),O=$.getContext("2d");return{canvas:$,context:O}}var ko={274:"orientation"},On=Object.keys(ko).map(function(de){return ko[de]});function oa(de){return new Promise(function(ve){var $=new FileReader;$.onload=function(O){return ve(O.target.result)},$.readAsArrayBuffer(de)})}function Ro(de){return new Promise(function(ve,$){var O=new XMLHttpRequest;O.open("GET",de,!0),O.responseType="blob",O.onreadystatechange=function(){O.readyState!==XMLHttpRequest.DONE||200!==O.status&&0!==O.status||ve(this.response)},O.onerror=$,O.send()})}function is(de){var ve=arguments.length>1&&void 0!==arguments[1]?arguments[1]:On,$=new DataView(de),O=de.byteLength,B=ve.reduce(function(Y,se){var fe=Object.keys(ko).filter(function(me){return ko[me]===se})[0];return fe&&(Y[fe]=se),Y},{}),U=2;if(255!==$.getUint8(0)||216!==$.getUint8(1))return!1;for(;U<O;){if(255!==$.getUint8(U))return!1;if(225===$.getUint8(U+1))return xr($,U+4,B);U+=2+$.getUint16(U+2)}return!1}function xr(de,ve,$){if("Exif"!==function(Y,se,fe){for(var me="",De=se;De<se+4;De++)me+=String.fromCharCode(Y.getUint8(De));return me}(de,ve))return!1;var O,B=ve+6;if(18761===de.getUint16(B))O=!1;else{if(19789!==de.getUint16(B))return!1;O=!0}if(42!==de.getUint16(B+2,!O))return!1;var U=de.getUint32(B+4,!O);return!(U<8)&&function(Y,se,fe,me,De){for(var Ue=Y.getUint16(fe,!De),We={},_t=0;_t<Ue;_t++){var X=fe+12*_t+2,ye=me[Y.getUint16(X,!De)];ye&&(We[ye]=ni(Y,X,0,0,De))}return We}(de,0,B+U,$,O)}function ni(de,ve,$,O,B){var U=de.getUint16(ve+2,!B),Y=de.getUint32(ve+4,!B);switch(U){case 3:if(1===Y)return de.getUint16(ve+8,!B)}return null}var aa={};function Pr(de,ve){de.onload=function(){ve.loaded(this)}}aa.load=function(de,ve,$,O,B){var U,Y,se,fe=new Array(O),me=new Array(fe.length);if(!1===B)fe[0]=de;else for(U=0;U<fe.length;U++)se=$+U,fe[U]="".concat(de,"image-").concat("00".concat(se).slice(-3),".jpg");for(me.notLoaded=[],me.addImage=function(De){me.notLoaded.push(De)},me.loaded=function(De){for(var Ue=me.notLoaded,We=0;We<Ue.length;We++)if(Ue[We]===De){Ue.splice(We,1);for(var _t=0;_t<fe.length;_t++){var X=fe[_t].substr(fe[_t].lastIndexOf("/"));if(-1!==De.src.lastIndexOf(X)){me[_t]={img:De};break}}break}0===Ue.length&&(!1===B?function(ye){var Ne=arguments.length>1&&void 0!==arguments[1]?arguments[1]:On;return/^blob:/i.test(ye)?Ro(ye).then(oa).then(function(it){return is(it,Ne)}):Promise.resolve(null)}(de,["orientation"]).then(function(ye){me[0].tags=ye,ve(me)}).catch(function(ye){console.log(ye),ve(me)}):ve(me))},U=0;U<fe.length;U++)Y=new Image,me.addImage(Y),Pr(Y,me),Y.src=fe[U]};var Ji=aa,la={createVideoStream:function(de){var ve,$,O=null,B=["canrecord","ended"],U={},Y={x:0,y:0,type:"Point"},se={x:0,y:0,type:"XYSize"},fe={getRealWidth:function(){return de.videoWidth},getRealHeight:function(){return de.videoHeight},getWidth:function(){return ve},getHeight:function(){return $},setWidth:function(me){ve=me},setHeight:function(me){$=me},setInputStream:function(me){O=me,this.setAttribute("src",void 0!==me.src?me.src:"")},ended:function(){return de.ended},getConfig:function(){return O},setAttribute:function(me,De){de&&de.setAttribute(me,De)},pause:function(){de.pause()},play:function(){de.play()},setCurrentTime:function(me){var De;"LiveStream"!==(null===(De=O)||void 0===De?void 0:De.type)&&this.setAttribute("currentTime",me.toString())},addEventListener:function(me,De,Ue){-1!==B.indexOf(me)?(U[me]||(U[me]=[]),U[me].push(De)):de.addEventListener(me,De,Ue)},clearEventHandlers:function(){B.forEach(function(me){var De=U[me];De&&De.length>0&&De.forEach(function(Ue){de.removeEventListener(me,Ue)})})},trigger:function(me,De){var Ue,We,_t,X,ye,Ne=U[me];if("canrecord"===me&&(X=de.videoWidth,ye=de.videoHeight,ve=null!==(We=O)&&void 0!==We&&We.size?X/ye>1?O.size:Math.floor(X/ye*O.size):X,$=null!==(_t=O)&&void 0!==_t&&_t.size?X/ye>1?Math.floor(ye/X*O.size):O.size:ye,se.x=ve,se.y=$),Ne&&Ne.length>0)for(Ue=0;Ue<Ne.length;Ue++)Ne[Ue].apply(fe,De)},setTopRight:function(me){Y.x=me.x,Y.y=me.y},getTopRight:function(){return Y},setCanvasSize:function(me){se.x=me.x,se.y=me.y},getCanvasSize:function(){return se},getFrame:function(){return de}};return fe},createLiveStream:function(de){de&&de.setAttribute("autoplay","true");var ve=la.createVideoStream(de);return ve.ended=function(){return!1},ve},createImageStream:function(){var de,ve,$=null,O=0,B=0,U=0,Y=!0,se=!1,fe=null,me=0,De=null,Ue=!1,We=["canrecord","ended"],_t={},X={x:0,y:0,type:"Point"},ye={x:0,y:0,type:"XYSize"};function Ne(ut,Yt){var Ut,jt=_t[ut];if(jt&&jt.length>0)for(Ut=0;Ut<jt.length;Ut++)jt[Ut].apply(it,Yt)}var it={trigger:Ne,getWidth:function(){return de},getHeight:function(){return ve},setWidth:function(ut){de=ut},setHeight:function(ut){ve=ut},getRealWidth:function(){return O},getRealHeight:function(){return B},setInputStream:function(ut){var Yt;!1===ut.sequence?(De=ut.src,me=1):(De=ut.src,me=ut.length),se=!1,Ji.load(De,function(Ut){var jt,Tn;if(fe=Ut,Ut[0].tags&&Ut[0].tags.orientation)switch(Ut[0].tags.orientation){case 6:case 8:O=Ut[0].img.height,B=Ut[0].img.width;break;default:O=Ut[0].img.width,B=Ut[0].img.height}else O=Ut[0].img.width,B=Ut[0].img.height;de=null!==(jt=$)&&void 0!==jt&&jt.size?O/B>1?$.size:Math.floor(O/B*$.size):O,ve=null!==(Tn=$)&&void 0!==Tn&&Tn.size?O/B>1?Math.floor(B/O*$.size):$.size:B,ye.x=de,ye.y=ve,se=!0,U=0,setTimeout(function(){Ne("canrecord",[])},0)},1,me,null===(Yt=$=ut)||void 0===Yt?void 0:Yt.sequence)},ended:function(){return Ue},setAttribute:function(){},getConfig:function(){return $},pause:function(){Y=!0},play:function(){Y=!1},setCurrentTime:function(ut){U=ut},addEventListener:function(ut,Yt){-1!==We.indexOf(ut)&&(_t[ut]||(_t[ut]=[]),_t[ut].push(Yt))},clearEventHandlers:function(){Object.keys(_t).forEach(function(ut){return delete _t[ut]})},setTopRight:function(ut){X.x=ut.x,X.y=ut.y},getTopRight:function(){return X},setCanvasSize:function(ut){ye.x=ut.x,ye.y=ut.y},getCanvasSize:function(){return ye},getFrame:function(){var ut,Yt;return se?(Y||(ut=null===(Yt=fe)||void 0===Yt?void 0:Yt[U],U<me-1?U++:setTimeout(function(){Ue=!0,Ne("ended",[])},0)),ut):null}};return it}},ca=la,ws=r(9),Xi=Math.PI/180,bl_create=function(de,ve){var $,O={},B=de.getConfig(),U=(Object(ws.h)(de.getRealWidth(),de.getRealHeight()),de.getCanvasSize()),Y=Object(ws.h)(de.getWidth(),de.getHeight()),se=de.getTopRight(),fe=se.x,me=se.y,De=null,Ue=null;return($=ve||document.createElement("canvas")).width=U.x,$.height=U.y,De=$.getContext("2d"),Ue=new Uint8Array(Y.x*Y.y),O.attachData=function(We){Ue=We},O.getData=function(){return Ue},O.grab=function(){var We,it,ut,_t=B.halfSample,X=de.getFrame(),ye=X,Ne=0;if(ye){if((it=$).width!==(ut=U).x&&(it.width=ut.x),it.height!==ut.y&&(it.height=ut.y),"ImageStream"===B.type&&(ye=X.img,X.tags&&X.tags.orientation))switch(X.tags.orientation){case 6:Ne=90*Xi;break;case 8:Ne=-90*Xi}return 0!==Ne?(De.translate(U.x/2,U.y/2),De.rotate(Ne),De.drawImage(ye,-U.y/2,-U.x/2,U.y,U.x),De.rotate(-Ne),De.translate(-U.x/2,-U.y/2)):De.drawImage(ye,0,0,U.x,U.y),We=De.getImageData(fe,me,Y.x,Y.y).data,_t?Object(ws.e)(We,Y,Ue):Object(ws.c)(We,Ue,B),!0}return!1},O.getSize=function(){return Y},O};function sc(de,ve){var $=Object.keys(de);if(Object.getOwnPropertySymbols){var O=Object.getOwnPropertySymbols(de);ve&&(O=O.filter(function(B){return Object.getOwnPropertyDescriptor(de,B).enumerable})),$.push.apply($,O)}return $}function Ir(de){for(var ve=1;ve<arguments.length;ve++){var $=null!=arguments[ve]?arguments[ve]:{};ve%2?sc(Object($),!0).forEach(function(O){ie()(de,O,$[O])}):Object.getOwnPropertyDescriptors?Object.defineProperties(de,Object.getOwnPropertyDescriptors($)):sc(Object($)).forEach(function(O){Object.defineProperty(de,O,Object.getOwnPropertyDescriptor($,O))})}return de}var Es=[];function ua(de){return Ir(Ir({},de),{},{inputStream:Ir(Ir({},de.inputStream),{},{target:null})})}function Gu(de){if(de){var ve=de().default;if(!ve)return void self.postMessage({event:"error",message:"Quagga could not be created"})}var $;function O(U){self.postMessage({event:"processed",imageData:$.data,result:U},[$.data.buffer])}function B(){self.postMessage({event:"initialized",imageData:$.data},[$.data.buffer])}self.onmessage=function(U){if("init"===U.data.cmd){var Y=U.data.config;Y.numOfWorkers=0,$=new ve.ImageWrapper({x:U.data.size.x,y:U.data.size.y},new Uint8Array(U.data.imageData)),ve.init(Y,B,$),ve.onProcessed(O)}else"process"===U.data.cmd?($.data=new Uint8Array(U.data.imageData),ve.start()):"setReaders"===U.data.cmd?ve.setReaders(U.data.readers):"registerReader"===U.data.cmd&&ve.registerReader(U.data.name,U.data.reader)}}function da(de,ve,$){var O,B,U=("undefined"!=typeof __factorySource__&&(B=__factorySource__),O=new Blob(["("+Gu.toString()+")("+B+");"],{type:"text/javascript"}),window.URL.createObjectURL(O)),Y={worker:new Worker(U),imageData:new Uint8Array(ve.getWidth()*ve.getHeight()),busy:!0};Y.worker.onmessage=function(se){"initialized"===se.data.event?(URL.revokeObjectURL(U),Y.busy=!1,Y.imageData=new Uint8Array(se.data.imageData),$(Y)):"processed"===se.data.event&&(Y.imageData=new Uint8Array(se.data.imageData),Y.busy=!1)},Y.worker.postMessage({cmd:"init",size:{x:ve.getWidth(),y:ve.getHeight()},imageData:Y.imageData,config:ua(de)},[Y.imageData.buffer])}function oo(de,ve,$,O){var B=de-Es.length;if(0===B&&O)O();else if(B<0)Es.slice(B).forEach(function(se){se.worker.terminate()}),Es=Es.slice(0,B),O&&O();else{var U=function(se){Es.push(se),Es.length>=de&&O&&O()};if(ve)for(var Y=0;Y<B;Y++)da(ve,$,U)}}function Oo(de,ve,$){for(var O=de.length;O--;)de[O][0]+=ve,de[O][1]+=$}var ha=function(){function de(){var $=this;we()(this,de),ie()(this,"context",new so),ie()(this,"canRecord",function(O){var B;$.context.config&&(Qr.a.checkImageConstraints($.context.inputStream,null===(B=$.context.config)||void 0===B?void 0:B.locator),$.initCanvas(),$.context.framegrabber=bl_create($.context.inputStream,$.context.canvasContainer.dom.image),void 0===$.context.config.numOfWorkers&&($.context.config.numOfWorkers=0),oo($.context.config.numOfWorkers,$.context.config,$.context.inputStream,function(){var U;0===(null===(U=$.context.config)||void 0===U?void 0:U.numOfWorkers)&&$.initializeData(),$.ready(O)}))}),ie()(this,"update",function(){if($.context.onUIThread){var O,B=(Y=$.context.framegrabber,Es.length?!!(se=Es.filter(function(fe){return!fe.busy})[0])&&(Y.attachData(se.imageData),Y.grab()&&(se.busy=!0,se.worker.postMessage({cmd:"process",imageData:se.imageData},[se.imageData.buffer])),!0):null);B||($.context.framegrabber.attachData(null===(O=$.context.inputImageWrapper)||void 0===O?void 0:O.data),$.context.framegrabber.grab()&&(B||$.locateAndDecode()))}else{var U;$.context.framegrabber.attachData(null===(U=$.context.inputImageWrapper)||void 0===U?void 0:U.data),$.context.framegrabber.grab(),$.locateAndDecode()}var Y,se})}var ve;return Me()(de,[{key:"initBuffers",value:function($){if(this.context.config){var O=(Y=this.context.inputStream,fe=this.context.config.locator,me=$||new F.a({x:Y.getWidth(),y:Y.getHeight(),type:"XYSize"}),De=[Object(zn.clone)([0,0]),Object(zn.clone)([0,me.size.y]),Object(zn.clone)([me.size.x,me.size.y]),Object(zn.clone)([me.size.x,0])],Qr.a.init(me,fe),{inputImageWrapper:me,boxSize:De}),U=O.boxSize;this.context.inputImageWrapper=O.inputImageWrapper,this.context.boxSize=U}var Y,fe,me,De}},{key:"initializeData",value:function($){this.context.config&&(this.initBuffers($),this.context.decoder=ei.create(this.context.config.decoder,this.context.inputImageWrapper))}},{key:"getViewPort",value:function(){return this.context.config&&this.context.config.inputStream?Sr(this.context.config.inputStream.target):null}},{key:"ready",value:function($){this.context.inputStream.play(),$()}},{key:"initCanvas",value:function(){var $=function(de){var ve,$,O,B,U=Sr(null==de||null===(ve=de.config)||void 0===ve||null===($=ve.inputStream)||void 0===$?void 0:$.target),Y=null==de||null===(O=de.config)||void 0===O||null===(B=O.inputStream)||void 0===B?void 0:B.type;if(!Y)return null;var se=function(me){if("undefined"!=typeof document){var De=un("canvas.imgBuffer","imgBuffer"),Ue=un("canvas.drawingBuffer","drawingBuffer");return De.canvas.width=Ue.canvas.width=me.x,De.canvas.height=Ue.canvas.height=me.y,{dom:{image:De.canvas,overlay:Ue.canvas},ctx:{image:De.context,overlay:Ue.context}}}return null}(de.inputStream.getCanvasSize());if(!se)return{dom:{image:null,overlay:null},ctx:{image:null,overlay:null}};var fe=se.dom;return"undefined"!=typeof document&&U&&("ImageStream"!==Y||U.contains(fe.image)||U.appendChild(fe.image),U.contains(fe.overlay)||U.appendChild(fe.overlay)),se}(this.context);if($){var O=$.ctx,B=$.dom;this.context.canvasContainer.dom.image=B.image,this.context.canvasContainer.dom.overlay=B.overlay,this.context.canvasContainer.ctx.image=O.image,this.context.canvasContainer.ctx.overlay=O.overlay}}},{key:"initInputStream",value:function($){if(this.context.config&&this.context.config.inputStream){var O=this.context.config.inputStream,B=O.type,U=O.constraints,Y=function(){var me=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"LiveStream",De=arguments.length>1?arguments[1]:void 0,Ue=arguments.length>2?arguments[2]:void 0;switch(me){case"VideoStream":var We=document.createElement("video");return{video:We,inputStream:Ue.createVideoStream(We)};case"ImageStream":return{inputStream:Ue.createImageStream()};case"LiveStream":var _t=null;return De&&((_t=De.querySelector("video"))||(_t=document.createElement("video"),De.appendChild(_t))),{video:_t,inputStream:Ue.createLiveStream(_t)};default:return console.error("* setupInputStream invalid type ".concat(me)),{video:null,inputStream:null}}}(B,this.getViewPort(),ca),se=Y.video,fe=Y.inputStream;"LiveStream"===B&&se&&Qt.request(se,U).then(function(){return fe.trigger("canrecord")}).catch(function(me){return $(me)}),fe.setAttribute("preload","auto"),fe.setInputStream(this.context.config.inputStream),fe.addEventListener("canrecord",this.canRecord.bind(void 0,$)),this.context.inputStream=fe}}},{key:"getBoundingBoxes",value:function(){var $;return null!==($=this.context.config)&&void 0!==$&&$.locate?Qr.a.locate():[[Object(zn.clone)(this.context.boxSize[0]),Object(zn.clone)(this.context.boxSize[1]),Object(zn.clone)(this.context.boxSize[2]),Object(zn.clone)(this.context.boxSize[3])]]}},{key:"transformResult",value:function($){var fe,me,De,O=this,B=this.context.inputStream.getTopRight(),U=B.x,Y=B.y;if((0!==U||0!==Y)&&($.barcodes&&$.barcodes.forEach(function(fe){return O.transformResult(fe)}),$.line&&2===$.line.length&&(De=Y,(fe=$.line)[0].x+=me=U,fe[0].y+=De,fe[1].x+=me,fe[1].y+=De),$.box&&Oo($.box,U,Y),$.boxes&&$.boxes.length>0))for(var se=0;se<$.boxes.length;se++)Oo($.boxes[se],U,Y)}},{key:"addResult",value:function($,O){var B=this;O&&this.context.resultCollector&&($.barcodes?$.barcodes.filter(function(U){return U.codeResult}).forEach(function(U){return B.addResult(U,O)}):$.codeResult&&this.context.resultCollector.addResult(O,this.context.inputStream.getCanvasSize(),$.codeResult))}},{key:"hasCodeResult",value:function($){return!(!$||!($.barcodes?$.barcodes.some(function(O){return O.codeResult}):$.codeResult))}},{key:"publishResult",value:function(){var $=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,O=arguments.length>1?arguments[1]:void 0,B=$;$&&this.context.onUIThread&&(this.transformResult($),this.addResult($,O),B=$.barcodes||$),Yr.publish("processed",B),this.hasCodeResult($)&&Yr.publish("detected",B)}},{key:"locateAndDecode",value:function(){var $=this.getBoundingBoxes();if($){var O,B=this.context.decoder.decodeFromBoundingBoxes($)||{};B.boxes=$,this.publishResult(B,null===(O=this.context.inputImageWrapper)||void 0===O?void 0:O.data)}else{var U,Y=this.context.decoder.decodeFromImage(this.context.inputImageWrapper);Y?this.publishResult(Y,null===(U=this.context.inputImageWrapper)||void 0===U?void 0:U.data):this.publishResult()}}},{key:"startContinuousUpdate",value:function(){var $,O=this,B=null,U=1e3/((null===($=this.context.config)||void 0===$?void 0:$.frequency)||60);this.context.stopped=!1;var Y=this.context;!function se(fe){B=B||fe,Y.stopped||(fe>=B&&(B+=U,O.update()),window.requestAnimationFrame(se))}(performance.now())}},{key:"start",value:function(){var $,O;this.context.onUIThread&&"LiveStream"===(null===($=this.context.config)||void 0===$||null===(O=$.inputStream)||void 0===O?void 0:O.type)?this.startContinuousUpdate():this.update()}},{key:"stop",value:(ve=ro()(Zr.a.mark(function $(){var O;return Zr.a.wrap(function(B){for(;;)switch(B.prev=B.next){case 0:if(this.context.stopped=!0,oo(0),null===(O=this.context.config)||void 0===O||!O.inputStream||"LiveStream"!==this.context.config.inputStream.type){B.next=6;break}return B.next=5,Qt.release();case 5:this.context.inputStream.clearEventHandlers();case 6:case"end":return B.stop()}},$,this)})),function(){return ve.apply(this,arguments)})},{key:"setReaders",value:function($){var O;this.context.decoder&&this.context.decoder.setReaders($),O=$,Es.forEach(function(B){return B.worker.postMessage({cmd:"setReaders",readers:O})})}},{key:"registerReader",value:function($,O){var B,U;ei.registerReader($,O),this.context.decoder&&this.context.decoder.registerReader($,O),B=$,U=O,Es.forEach(function(Y){return Y.worker.postMessage({cmd:"registerReader",name:B,reader:U})})}}]),de}(),ao=new ha,Po=ao.context,lo={init:function(de,ve,$){var O,B=arguments.length>3&&void 0!==arguments[3]?arguments[3]:ao;return ve||(O=new Promise(function(U,Y){ve=function(se){se?Y(se):U()}})),B.context.config=k()({},Cs,de),B.context.config.numOfWorkers>0&&(B.context.config.numOfWorkers=0),$?(B.context.onUIThread=!1,B.initializeData($),ve&&ve()):B.initInputStream(ve),O},start:function(){return ao.start()},stop:function(){return ao.stop()},pause:function(){Po.stopped=!0},onDetected:function(de){de&&("function"==typeof de||"object"===T()(de)&&de.callback)?Yr.subscribe("detected",de):console.trace("* warning: Quagga.onDetected called with invalid callback, ignoring")},offDetected:function(de){Yr.unsubscribe("detected",de)},onProcessed:function(de){de&&("function"==typeof de||"object"===T()(de)&&de.callback)?Yr.subscribe("processed",de):console.trace("* warning: Quagga.onProcessed called with invalid callback, ignoring")},offProcessed:function(de){Yr.unsubscribe("processed",de)},setReaders:function(de){de?ao.setReaders(de):console.trace("* warning: Quagga.setReaders called with no readers, ignoring")},registerReader:function(de,ve){de?ve?ao.registerReader(de,ve):console.trace("* warning: Quagga.registerReader called with no reader, ignoring"):console.trace("* warning: Quagga.registerReader called with no name, ignoring")},registerResultCollector:function(de){de&&"function"==typeof de.addResult&&(Po.resultCollector=de)},get canvas(){return Po.canvasContainer},decodeSingle:function(de,ve){var $=this,O=new ha;return(de=k()({inputStream:{type:"ImageStream",sequence:!1,size:800,src:de.src},numOfWorkers:1,locator:{halfSample:!1}},de)).numOfWorkers>0&&(de.numOfWorkers=0),de.numOfWorkers>0&&("undefined"==typeof Blob||"undefined"==typeof Worker)&&(console.warn("* no Worker and/or Blob support - forcing numOfWorkers to 0"),de.numOfWorkers=0),new Promise(function(B,U){try{$.init(de,function(){Yr.once("processed",function(Y){O.stop(),ve&&ve.call(null,Y),B(Y)},!0),O.start()},null,O)}catch(Y){U(Y)}})},get default(){return lo},Readers:b,CameraAccess:Qt,ImageDebug:W.a,ImageWrapper:F.a,ResultCollector:ki};M.default=lo}]).default},3854:(nt,D,M)=>{"use strict";M.d(D,{BH:()=>be,LL:()=>ge,ZR:()=>_e,gQ:()=>Qi,zI:()=>K,hu:()=>b,g5:()=>v,US:()=>k,tV:()=>j,h$:()=>F,$s:()=>Dr,r3:()=>Ht,Sg:()=>we,ne:()=>zr,p$:()=>H,vZ:()=>Hn,ZB:()=>Z,gK:()=>Rt,pd:()=>bs,m9:()=>Rr,z$:()=>Re,GJ:()=>vn,jU:()=>Q,ru:()=>ue,d:()=>Ve,xb:()=>xt,w1:()=>ze,hl:()=>ie,uI:()=>Me,UG:()=>le,Yr:()=>Ie,b$:()=>Ee,G6:()=>ke,Mn:()=>xe,w9:()=>tn,cI:()=>wt,UI:()=>gn,xO:()=>lr,zd:()=>Vs,DV:()=>Vt,ug:()=>Dn,dS:()=>Ai,Pz:()=>st,Dv:()=>Ii,Wj:()=>hn,lb:()=>fn,eu:()=>pe});const b=function(Ae,Se){if(!Ae)throw v(Se)},v=function(Ae){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+Ae)},T=function(Ae){const Se=[];let Oe=0;for(let tt=0;tt<Ae.length;tt++){let qe=Ae.charCodeAt(tt);qe<128?Se[Oe++]=qe:qe<2048?(Se[Oe++]=qe>>6|192,Se[Oe++]=63&qe|128):55296==(64512&qe)&&tt+1<Ae.length&&56320==(64512&Ae.charCodeAt(tt+1))?(qe=65536+((1023&qe)<<10)+(1023&Ae.charCodeAt(++tt)),Se[Oe++]=qe>>18|240,Se[Oe++]=qe>>12&63|128,Se[Oe++]=qe>>6&63|128,Se[Oe++]=63&qe|128):(Se[Oe++]=qe>>12|224,Se[Oe++]=qe>>6&63|128,Se[Oe++]=63&qe|128)}return Se},k={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Ae,Se){if(!Array.isArray(Ae))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Oe=Se?this.byteToCharMapWebSafe_:this.byteToCharMap_,tt=[];for(let qe=0;qe<Ae.length;qe+=3){const Dt=Ae[qe],Zt=qe+1<Ae.length,rn=Zt?Ae[qe+1]:0,Rn=qe+2<Ae.length,Wn=Rn?Ae[qe+2]:0;let oi=(15&rn)<<2|Wn>>6,ei=63&Wn;Rn||(ei=64,Zt||(oi=64)),tt.push(Oe[Dt>>2],Oe[(3&Dt)<<4|rn>>4],Oe[oi],Oe[ei])}return tt.join("")},encodeString(Ae,Se){return this.HAS_NATIVE_SUPPORT&&!Se?btoa(Ae):this.encodeByteArray(T(Ae),Se)},decodeString(Ae,Se){return this.HAS_NATIVE_SUPPORT&&!Se?atob(Ae):function(Ae){const Se=[];let Oe=0,tt=0;for(;Oe<Ae.length;){const qe=Ae[Oe++];if(qe<128)Se[tt++]=String.fromCharCode(qe);else if(qe>191&&qe<224){const Dt=Ae[Oe++];Se[tt++]=String.fromCharCode((31&qe)<<6|63&Dt)}else if(qe>239&&qe<365){const Rn=((7&qe)<<18|(63&Ae[Oe++])<<12|(63&Ae[Oe++])<<6|63&Ae[Oe++])-65536;Se[tt++]=String.fromCharCode(55296+(Rn>>10)),Se[tt++]=String.fromCharCode(56320+(1023&Rn))}else{const Dt=Ae[Oe++],Zt=Ae[Oe++];Se[tt++]=String.fromCharCode((15&qe)<<12|(63&Dt)<<6|63&Zt)}}return Se.join("")}(this.decodeStringToByteArray(Ae,Se))},decodeStringToByteArray(Ae,Se){this.init_();const Oe=Se?this.charToByteMapWebSafe_:this.charToByteMap_,tt=[];for(let qe=0;qe<Ae.length;){const Dt=Oe[Ae.charAt(qe++)],rn=qe<Ae.length?Oe[Ae.charAt(qe)]:0;++qe;const Wn=qe<Ae.length?Oe[Ae.charAt(qe)]:64;++qe;const ln=qe<Ae.length?Oe[Ae.charAt(qe)]:64;if(++qe,null==Dt||null==rn||null==Wn||null==ln)throw Error();tt.push(Dt<<2|rn>>4),64!==Wn&&(tt.push(rn<<4&240|Wn>>2),64!==ln&&tt.push(Wn<<6&192|ln))}return tt},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Ae=0;Ae<this.ENCODED_VALS.length;Ae++)this.byteToCharMap_[Ae]=this.ENCODED_VALS.charAt(Ae),this.charToByteMap_[this.byteToCharMap_[Ae]]=Ae,this.byteToCharMapWebSafe_[Ae]=this.ENCODED_VALS_WEBSAFE.charAt(Ae),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Ae]]=Ae,Ae>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Ae)]=Ae,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Ae)]=Ae)}}},F=function(Ae){const Se=T(Ae);return k.encodeByteArray(Se,!0)},L=function(Ae){return F(Ae).replace(/\./g,"")},j=function(Ae){try{return k.decodeString(Ae,!0)}catch(Se){console.error("base64Decode failed: ",Se)}return null};function H(Ae){return Z(void 0,Ae)}function Z(Ae,Se){if(!(Se instanceof Object))return Se;switch(Se.constructor){case Date:return new Date(Se.getTime());case Object:void 0===Ae&&(Ae={});break;case Array:Ae=[];break;default:return Se}for(const Oe in Se)!Se.hasOwnProperty(Oe)||!W(Oe)||(Ae[Oe]=Z(Ae[Oe],Se[Oe]));return Ae}function W(Ae){return"__proto__"!==Ae}class be{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((Se,Oe)=>{this.resolve=Se,this.reject=Oe})}wrapCallback(Se){return(Oe,tt)=>{Oe?this.reject(Oe):this.resolve(tt),"function"==typeof Se&&(this.promise.catch(()=>{}),1===Se.length?Se(Oe):Se(Oe,tt))}}}function we(Ae,Se){if(Ae.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const tt=Se||"demo-project",qe=Ae.iat||0,Dt=Ae.sub||Ae.user_id;if(!Dt)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Zt=Object.assign({iss:`https://securetoken.google.com/${tt}`,aud:tt,iat:qe,exp:qe+3600,auth_time:qe,sub:Dt,user_id:Dt,firebase:{sign_in_provider:"custom",identities:{}}},Ae);return[L(JSON.stringify({alg:"none",type:"JWT"})),L(JSON.stringify(Zt)),""].join(".")}function Re(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Me(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Re())}function le(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(Ae){return!1}}function Q(){return"object"==typeof self&&self.self===self}function ue(){const Ae="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Ae&&void 0!==Ae.id}function Ee(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Ve(){return Re().indexOf("Electron/")>=0}function ze(){const Ae=Re();return Ae.indexOf("MSIE ")>=0||Ae.indexOf("Trident/")>=0}function xe(){return Re().indexOf("MSAppHost/")>=0}function Ie(){return!1}function ke(){return!le()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ie(){return"object"==typeof indexedDB}function pe(){return new Promise((Ae,Se)=>{try{let Oe=!0;const tt="validate-browser-context-for-indexeddb-analytics-module",qe=self.indexedDB.open(tt);qe.onsuccess=()=>{qe.result.close(),Oe||self.indexedDB.deleteDatabase(tt),Ae(!0)},qe.onupgradeneeded=()=>{Oe=!1},qe.onerror=()=>{var Dt;Se((null===(Dt=qe.error)||void 0===Dt?void 0:Dt.message)||"")}}catch(Oe){Se(Oe)}})}function K(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class _e extends Error{constructor(Se,Oe,tt){super(Oe),this.code=Se,this.customData=tt,this.name="FirebaseError",Object.setPrototypeOf(this,_e.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ge.prototype.create)}}class ge{constructor(Se,Oe,tt){this.service=Se,this.serviceName=Oe,this.errors=tt}create(Se,...Oe){const tt=Oe[0]||{},qe=`${this.service}/${Se}`,Dt=this.errors[Se],Zt=Dt?function(Ae,Se){return Ae.replace(ot,(Oe,tt)=>{const qe=Se[tt];return null!=qe?String(qe):`<${tt}?>`})}(Dt,tt):"Error";return new _e(qe,`${this.serviceName}: ${Zt} (${qe}).`,tt)}}const ot=/\{\$([^}]+)}/g;function wt(Ae){return JSON.parse(Ae)}function st(Ae){return JSON.stringify(Ae)}const Xe=function(Ae){let Se={},Oe={},tt={},qe="";try{const Dt=Ae.split(".");Se=wt(j(Dt[0])||""),Oe=wt(j(Dt[1])||""),qe=Dt[2],tt=Oe.d||{},delete Oe.d}catch(Dt){}return{header:Se,claims:Oe,data:tt,signature:qe}},tn=function(Ae){const Oe=Xe(Ae).claims;return!!Oe&&"object"==typeof Oe&&Oe.hasOwnProperty("iat")},vn=function(Ae){const Se=Xe(Ae).claims;return"object"==typeof Se&&!0===Se.admin};function Ht(Ae,Se){return Object.prototype.hasOwnProperty.call(Ae,Se)}function Vt(Ae,Se){if(Object.prototype.hasOwnProperty.call(Ae,Se))return Ae[Se]}function xt(Ae){for(const Se in Ae)if(Object.prototype.hasOwnProperty.call(Ae,Se))return!1;return!0}function gn(Ae,Se,Oe){const tt={};for(const qe in Ae)Object.prototype.hasOwnProperty.call(Ae,qe)&&(tt[qe]=Se.call(Oe,Ae[qe],qe,Ae));return tt}function Hn(Ae,Se){if(Ae===Se)return!0;const Oe=Object.keys(Ae),tt=Object.keys(Se);for(const qe of Oe){if(!tt.includes(qe))return!1;const Dt=Ae[qe],Zt=Se[qe];if(xi(Dt)&&xi(Zt)){if(!Hn(Dt,Zt))return!1}else if(Dt!==Zt)return!1}for(const qe of tt)if(!Oe.includes(qe))return!1;return!0}function xi(Ae){return null!==Ae&&"object"==typeof Ae}function lr(Ae){const Se=[];for(const[Oe,tt]of Object.entries(Ae))Array.isArray(tt)?tt.forEach(qe=>{Se.push(encodeURIComponent(Oe)+"="+encodeURIComponent(qe))}):Se.push(encodeURIComponent(Oe)+"="+encodeURIComponent(tt));return Se.length?"&"+Se.join("&"):""}function Vs(Ae){const Se={};return Ae.replace(/^\?/,"").split("&").forEach(tt=>{if(tt){const[qe,Dt]=tt.split("=");Se[decodeURIComponent(qe)]=decodeURIComponent(Dt)}}),Se}function bs(Ae){const Se=Ae.indexOf("?");if(!Se)return"";const Oe=Ae.indexOf("#",Se);return Ae.substring(Se,Oe>0?Oe:void 0)}class Qi{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let Se=1;Se<this.blockSize;++Se)this.pad_[Se]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(Se,Oe){Oe||(Oe=0);const tt=this.W_;if("string"==typeof Se)for(let ln=0;ln<16;ln++)tt[ln]=Se.charCodeAt(Oe)<<24|Se.charCodeAt(Oe+1)<<16|Se.charCodeAt(Oe+2)<<8|Se.charCodeAt(Oe+3),Oe+=4;else for(let ln=0;ln<16;ln++)tt[ln]=Se[Oe]<<24|Se[Oe+1]<<16|Se[Oe+2]<<8|Se[Oe+3],Oe+=4;for(let ln=16;ln<80;ln++){const oi=tt[ln-3]^tt[ln-8]^tt[ln-14]^tt[ln-16];tt[ln]=4294967295&(oi<<1|oi>>>31)}let Wn,ur,qe=this.chain_[0],Dt=this.chain_[1],Zt=this.chain_[2],rn=this.chain_[3],Rn=this.chain_[4];for(let ln=0;ln<80;ln++){ln<40?ln<20?(Wn=rn^Dt&(Zt^rn),ur=1518500249):(Wn=Dt^Zt^rn,ur=1859775393):ln<60?(Wn=Dt&Zt|rn&(Dt|Zt),ur=2400959708):(Wn=Dt^Zt^rn,ur=3395469782);const oi=(qe<<5|qe>>>27)+Wn+Rn+ur+tt[ln]&4294967295;Rn=rn,rn=Zt,Zt=4294967295&(Dt<<30|Dt>>>2),Dt=qe,qe=oi}this.chain_[0]=this.chain_[0]+qe&4294967295,this.chain_[1]=this.chain_[1]+Dt&4294967295,this.chain_[2]=this.chain_[2]+Zt&4294967295,this.chain_[3]=this.chain_[3]+rn&4294967295,this.chain_[4]=this.chain_[4]+Rn&4294967295}update(Se,Oe){if(null==Se)return;void 0===Oe&&(Oe=Se.length);const tt=Oe-this.blockSize;let qe=0;const Dt=this.buf_;let Zt=this.inbuf_;for(;qe<Oe;){if(0===Zt)for(;qe<=tt;)this.compress_(Se,qe),qe+=this.blockSize;if("string"==typeof Se){for(;qe<Oe;)if(Dt[Zt]=Se.charCodeAt(qe),++Zt,++qe,Zt===this.blockSize){this.compress_(Dt),Zt=0;break}}else for(;qe<Oe;)if(Dt[Zt]=Se[qe],++Zt,++qe,Zt===this.blockSize){this.compress_(Dt),Zt=0;break}}this.inbuf_=Zt,this.total_+=Oe}digest(){const Se=[];let Oe=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let qe=this.blockSize-1;qe>=56;qe--)this.buf_[qe]=255&Oe,Oe/=256;this.compress_(this.buf_);let tt=0;for(let qe=0;qe<5;qe++)for(let Dt=24;Dt>=0;Dt-=8)Se[tt]=this.chain_[qe]>>Dt&255,++tt;return Se}}function zr(Ae,Se){const Oe=new Gr(Ae,Se);return Oe.subscribe.bind(Oe)}class Gr{constructor(Se,Oe){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Oe,this.task.then(()=>{Se(this)}).catch(tt=>{this.error(tt)})}next(Se){this.forEachObserver(Oe=>{Oe.next(Se)})}error(Se){this.forEachObserver(Oe=>{Oe.error(Se)}),this.close(Se)}complete(){this.forEachObserver(Se=>{Se.complete()}),this.close()}subscribe(Se,Oe,tt){let qe;if(void 0===Se&&void 0===Oe&&void 0===tt)throw new Error("Missing Observer.");qe=function(Ae,Se){if("object"!=typeof Ae||null===Ae)return!1;for(const Oe of["next","error","complete"])if(Oe in Ae&&"function"==typeof Ae[Oe])return!0;return!1}(Se)?Se:{next:Se,error:Oe,complete:tt},void 0===qe.next&&(qe.next=Li),void 0===qe.error&&(qe.error=Li),void 0===qe.complete&&(qe.complete=Li);const Dt=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?qe.error(this.finalError):qe.complete()}catch(Zt){}}),this.observers.push(qe),Dt}unsubscribeOne(Se){void 0===this.observers||void 0===this.observers[Se]||(delete this.observers[Se],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(Se){if(!this.finalized)for(let Oe=0;Oe<this.observers.length;Oe++)this.sendOne(Oe,Se)}sendOne(Se,Oe){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[Se])try{Oe(this.observers[Se])}catch(tt){"undefined"!=typeof console&&console.error&&console.error(tt)}})}close(Se){this.finalized||(this.finalized=!0,void 0!==Se&&(this.finalError=Se),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Li(){}const Ii=function(Ae,Se,Oe,tt){let qe;if(tt<Se?qe="at least "+Se:tt>Oe&&(qe=0===Oe?"none":"no more than "+Oe),qe)throw new Error(Ae+" failed: Was called with "+tt+(1===tt?" argument.":" arguments.")+" Expects "+qe+".")};function Rt(Ae,Se){return`${Ae} failed: ${Se} argument `}function hn(Ae,Se,Oe,tt){if((!tt||Oe)&&"function"!=typeof Oe)throw new Error(Rt(Ae,Se)+"must be a valid function.")}function fn(Ae,Se,Oe,tt){if((!tt||Oe)&&("object"!=typeof Oe||null===Oe))throw new Error(Rt(Ae,Se)+"must be a valid context object.")}const Ai=function(Ae){const Se=[];let Oe=0;for(let tt=0;tt<Ae.length;tt++){let qe=Ae.charCodeAt(tt);if(qe>=55296&&qe<=56319){const Dt=qe-55296;tt++,b(tt<Ae.length,"Surrogate pair missing trail surrogate."),qe=65536+(Dt<<10)+(Ae.charCodeAt(tt)-56320)}qe<128?Se[Oe++]=qe:qe<2048?(Se[Oe++]=qe>>6|192,Se[Oe++]=63&qe|128):qe<65536?(Se[Oe++]=qe>>12|224,Se[Oe++]=qe>>6&63|128,Se[Oe++]=63&qe|128):(Se[Oe++]=qe>>18|240,Se[Oe++]=qe>>12&63|128,Se[Oe++]=qe>>6&63|128,Se[Oe++]=63&qe|128)}return Se},Dn=function(Ae){let Se=0;for(let Oe=0;Oe<Ae.length;Oe++){const tt=Ae.charCodeAt(Oe);tt<128?Se++:tt<2048?Se+=2:tt>=55296&&tt<=56319?(Se+=4,Oe++):Se+=3}return Se};function Dr(Ae,Se=1e3,Oe=2){const tt=Se*Math.pow(Oe,Ae),qe=Math.round(.5*tt*(Math.random()-.5)*2);return Math.min(144e5,tt+qe)}function Rr(Ae){return Ae&&Ae._delegate?Ae._delegate:Ae}},8333:nt=>{"use strict";var D={single_source_shortest_paths:function(M,r,b){var v={},T={};T[r]=0;var k,F,L,j,H,W,S=D.PriorityQueue.make();for(S.push(r,0);!S.empty();)for(L in j=(k=S.pop()).cost,H=M[F=k.value]||{})H.hasOwnProperty(L)&&(W=j+H[L],(void 0===T[L]||T[L]>W)&&(T[L]=W,S.push(L,W),v[L]=F));if(void 0!==b&&void 0===T[b]){var Re=["Could not find a path from ",r," to ",b,"."].join("");throw new Error(Re)}return v},extract_shortest_path_from_predecessor_list:function(M,r){for(var b=[],v=r;v;)b.push(v),v=M[v];return b.reverse(),b},find_path:function(M,r,b){var v=D.single_source_shortest_paths(M,r,b);return D.extract_shortest_path_from_predecessor_list(v,b)},PriorityQueue:{make:function(M){var v,r=D.PriorityQueue,b={};for(v in M=M||{},r)r.hasOwnProperty(v)&&(b[v]=r[v]);return b.queue=[],b.sorter=M.sorter||r.default_sorter,b},default_sorter:function(M,r){return M.cost-r.cost},push:function(M,r){this.queue.push({value:M,cost:r}),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return 0===this.queue.length}}};nt.exports=D},1522:nt=>{"use strict";nt.exports=function(M){for(var r=[],b=M.length,v=0;v<b;v++){var T=M.charCodeAt(v);if(T>=55296&&T<=56319&&b>v+1){var S=M.charCodeAt(v+1);S>=56320&&S<=57343&&(T=1024*(T-55296)+S-56320+65536,v+=1)}T<128?r.push(T):T<2048?(r.push(T>>6|192),r.push(63&T|128)):T<55296||T>=57344&&T<65536?(r.push(T>>12|224),r.push(T>>6&63|128),r.push(63&T|128)):T>=65536&&T<=1114111?(r.push(T>>18|240),r.push(T>>12&63|128),r.push(T>>6&63|128),r.push(63&T|128)):r.push(239,191,189)}return new Uint8Array(r).buffer}},2329:(nt,D,M)=>{"use strict";M.d(D,{Mq:()=>r.getApp,C6:()=>r.getApps});var r=M(8026);(0,r.registerVersion)("firebase","9.6.5","app")},7841:(nt,D,M)=>{"use strict";M.d(D,{Z:()=>r.Z});var r=M(3394);r.Z.registerVersion("firebase","9.6.5","app-compat")},1390:(nt,D,M)=>{"use strict";M.r(D);var r=M(8239),b=M(3394),v=M(3854),T=M(8026),S=M(4762),k=M(5422),F=M(3910);const Re=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Me=function(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},le=new v.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),ue=new k.Yd("@firebase/auth");function Ee(E,...m){ue.logLevel<=k.in.ERROR&&ue.error(`Auth (${T.SDK_VERSION}): ${E}`,...m)}function Ve(E,...m){throw ke(E,...m)}function ze(E,...m){return ke(E,...m)}function xe(E,m,_){const I=Object.assign(Object.assign({},Me()),{[m]:_});return new v.LL("auth","Firebase",I).create(m,{appName:E.name})}function Ie(E,m,_){if(!(m instanceof _))throw _.name!==m.constructor.name&&Ve(E,"argument-error"),xe(E,"argument-error",`Type of ${m.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function ke(E,...m){if("string"!=typeof E){const _=m[0],I=[...m.slice(1)];return I[0]&&(I[0].appName=E.name),E._errorFactory.create(_,...I)}return le.create(E,...m)}function ie(E,m,..._){if(!E)throw ke(m,..._)}function pe(E){const m="INTERNAL ASSERTION FAILED: "+E;throw Ee(m),new Error(m)}function K(E,m){E||pe(m)}const te=new Map;function ae(E){K(E instanceof Function,"Expected a class definition");let m=te.get(E);return m?(K(m instanceof E,"Instance stored in cache mismatched with class"),m):(m=new E,te.set(E,m),m)}function Ze(){var E;return"undefined"!=typeof self&&(null===(E=self.location)||void 0===E?void 0:E.href)||""}function ot(){return"http:"===wt()||"https:"===wt()}function wt(){var E;return"undefined"!=typeof self&&(null===(E=self.location)||void 0===E?void 0:E.protocol)||null}class Qe{constructor(m,_){this.shortDelay=m,this.longDelay=_,K(_>m,"Short delay should be less than long delay!"),this.isMobile=(0,v.uI)()||(0,v.b$)()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(ot()||(0,v.ru)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function St(E,m){K(E.emulator,"Emulator should always be set here");const{url:_}=E.emulator;return m?`${_}${m.startsWith("/")?m.slice(1):m}`:_}class tn{static initialize(m,_,I){this.fetchImpl=m,_&&(this.headersImpl=_),I&&(this.responseImpl=I)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void pe("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void pe("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void pe("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const vn={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Ht=new Qe(3e4,6e4);function Vt(E,m){return E.tenantId&&!m.tenantId?Object.assign(Object.assign({},m),{tenantId:E.tenantId}):m}function xt(E,m,_,I){return gn.apply(this,arguments)}function gn(){return(gn=(0,r.Z)(function*(E,m,_,I,z={}){return Hn(E,z,(0,r.Z)(function*(){let re={},Le={};I&&("GET"===m?Le=I:re={body:JSON.stringify(I)});const $e=(0,v.xO)(Object.assign({key:E.config.apiKey},Le)).slice(1),vt=yield E._getAdditionalHeaders();return vt["Content-Type"]="application/json",E.languageCode&&(vt["X-Firebase-Locale"]=E.languageCode),tn.fetch()(bs(E,E.config.apiHost,_,$e),Object.assign({method:m,headers:vt,referrerPolicy:"no-referrer"},re))}))})).apply(this,arguments)}function Hn(E,m,_){return xi.apply(this,arguments)}function xi(){return(xi=(0,r.Z)(function*(E,m,_){E._canInitEmulator=!1;const I=Object.assign(Object.assign({},vn),m);try{const z=new Qi(E),re=yield Promise.race([_(),z.promise]);z.clearNetworkTimeout();const Le=yield re.json();if("needConfirmation"in Le)throw zr(E,"account-exists-with-different-credential",Le);if(re.ok&&!("errorMessage"in Le))return Le;{const $e=re.ok?Le.errorMessage:Le.error.message,[vt,Ft]=$e.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===vt)throw zr(E,"credential-already-in-use",Le);if("EMAIL_EXISTS"===vt)throw zr(E,"email-already-in-use",Le);const Xt=I[vt]||vt.toLowerCase().replace(/[_\s]+/g,"-");if(Ft)throw xe(E,Xt,Ft);Ve(E,Xt)}}catch(z){if(z instanceof v.ZR)throw z;Ve(E,"network-request-failed")}})).apply(this,arguments)}function lr(E,m,_,I){return Vs.apply(this,arguments)}function Vs(){return(Vs=(0,r.Z)(function*(E,m,_,I,z={}){const re=yield xt(E,m,_,I,z);return"mfaPendingCredential"in re&&Ve(E,"multi-factor-auth-required",{_serverResponse:re}),re})).apply(this,arguments)}function bs(E,m,_,I){const z=`${m}${_}?${I}`;return E.config.emulator?St(E.config,z):`${E.config.apiScheme}://${z}`}class Qi{constructor(m){this.auth=m,this.timer=null,this.promise=new Promise((_,I)=>{this.timer=setTimeout(()=>I(ze(this.auth,"network-request-failed")),Ht.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function zr(E,m,_){const I={appName:E.name};_.email&&(I.email=_.email),_.phoneNumber&&(I.phoneNumber=_.phoneNumber);const z=ze(E,m,I);return z.customData._tokenResponse=_,z}function It(){return(It=(0,r.Z)(function*(E,m){return xt(E,"POST","/v1/accounts:delete",m)})).apply(this,arguments)}function Zn(E,m){return Li.apply(this,arguments)}function Li(){return(Li=(0,r.Z)(function*(E,m){return xt(E,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function Ii(E,m){return Rt.apply(this,arguments)}function Rt(){return(Rt=(0,r.Z)(function*(E,m){return xt(E,"POST","/v1/accounts:lookup",m)})).apply(this,arguments)}function Lt(E){if(E)try{const m=new Date(Number(E));if(!isNaN(m.getTime()))return m.toUTCString()}catch(m){}}function Ai(){return(Ai=(0,r.Z)(function*(E,m=!1){const _=(0,v.m9)(E),I=yield _.getIdToken(m),z=pt(I);ie(z&&z.exp&&z.auth_time&&z.iat,_.auth,"internal-error");const re="object"==typeof z.firebase?z.firebase:void 0,Le=null==re?void 0:re.sign_in_provider;return{claims:z,token:I,authTime:Lt(Dn(z.auth_time)),issuedAtTime:Lt(Dn(z.iat)),expirationTime:Lt(Dn(z.exp)),signInProvider:Le||null,signInSecondFactor:(null==re?void 0:re.sign_in_second_factor)||null}})).apply(this,arguments)}function Dn(E){return 1e3*Number(E)}function pt(E){const[m,_,I]=E.split(".");if(void 0===m||void 0===_||void 0===I)return Ee("JWT malformed, contained fewer than 3 sections"),null;try{const z=(0,v.tV)(_);return z?JSON.parse(z):(Ee("Failed to decode base64 JWT payload"),null)}catch(z){return Ee("Caught error parsing JWT payload as JSON",z),null}}function Er(E,m){return $r.apply(this,arguments)}function $r(){return($r=(0,r.Z)(function*(E,m,_=!1){if(_)return m;try{return yield m}catch(I){throw I instanceof v.ZR&&Dr(I)&&E.auth.currentUser===E&&(yield E.auth.signOut()),I}})).apply(this,arguments)}function Dr({code:E}){return"auth/user-disabled"===E||"auth/user-token-expired"===E}class Fn{constructor(m){this.user=m,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(m){var _;if(m){const I=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),I}{this.errorBackoff=3e4;const z=(null!==(_=this.user.stsTokenManager.expirationTime)&&void 0!==_?_:0)-Date.now()-3e5;return Math.max(0,z)}}schedule(m=!1){var _=this;if(!this.isRunning)return;const I=this.getInterval(m);this.timerId=setTimeout((0,r.Z)(function*(){yield _.iteration()}),I)}iteration(){var m=this;return(0,r.Z)(function*(){try{yield m.user.getIdToken(!0)}catch(_){return void("auth/network-request-failed"===_.code&&m.schedule(!0))}m.schedule()})()}}class cr{constructor(m,_){this.createdAt=m,this.lastLoginAt=_,this._initializeTime()}_initializeTime(){this.lastSignInTime=Lt(this.lastLoginAt),this.creationTime=Lt(this.createdAt)}_copy(m){this.createdAt=m.createdAt,this.lastLoginAt=m.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Rr(E){return Ae.apply(this,arguments)}function Ae(){return(Ae=(0,r.Z)(function*(E){var m;const _=E.auth,I=yield E.getIdToken(),z=yield Er(E,Ii(_,{idToken:I}));ie(null==z?void 0:z.users.length,_,"internal-error");const re=z.users[0];E._notifyReloadListener(re);const Le=(null===(m=re.providerUserInfo)||void 0===m?void 0:m.length)?qe(re.providerUserInfo):[],$e=tt(E.providerData,Le),Xt=!!E.isAnonymous&&!(E.email&&re.passwordHash||(null==$e?void 0:$e.length)),zt={uid:re.localId,displayName:re.displayName||null,photoURL:re.photoUrl||null,email:re.email||null,emailVerified:re.emailVerified||!1,phoneNumber:re.phoneNumber||null,tenantId:re.tenantId||null,providerData:$e,metadata:new cr(re.createdAt,re.lastLoginAt),isAnonymous:Xt};Object.assign(E,zt)})).apply(this,arguments)}function Oe(){return(Oe=(0,r.Z)(function*(E){const m=(0,v.m9)(E);yield Rr(m),yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)})).apply(this,arguments)}function tt(E,m){return[...E.filter(I=>!m.some(z=>z.providerId===I.providerId)),...m]}function qe(E){return E.map(m=>{var{providerId:_}=m,I=(0,S._T)(m,["providerId"]);return{providerId:_,uid:I.rawId||"",displayName:I.displayName||null,email:I.email||null,phoneNumber:I.phoneNumber||null,photoURL:I.photoUrl||null}})}function Zt(){return(Zt=(0,r.Z)(function*(E,m){const _=yield Hn(E,{},(0,r.Z)(function*(){const I=(0,v.xO)({grant_type:"refresh_token",refresh_token:m}).slice(1),{tokenApiHost:z,apiKey:re}=E.config,Le=bs(E,z,"/v1/token",`key=${re}`),$e=yield E._getAdditionalHeaders();return $e["Content-Type"]="application/x-www-form-urlencoded",tn.fetch()(Le,{method:"POST",headers:$e,body:I})}));return{accessToken:_.access_token,expiresIn:_.expires_in,refreshToken:_.refresh_token}})).apply(this,arguments)}class rn{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(m){ie(m.idToken,"internal-error"),ie(void 0!==m.idToken,"internal-error"),ie(void 0!==m.refreshToken,"internal-error");const _="expiresIn"in m&&void 0!==m.expiresIn?Number(m.expiresIn):function(E){const m=pt(E);return ie(m,"internal-error"),ie(void 0!==m.exp,"internal-error"),ie(void 0!==m.iat,"internal-error"),Number(m.exp)-Number(m.iat)}(m.idToken);this.updateTokensAndExpiration(m.idToken,m.refreshToken,_)}getToken(m,_=!1){var I=this;return(0,r.Z)(function*(){return ie(!I.accessToken||I.refreshToken,m,"user-token-expired"),_||!I.accessToken||I.isExpired?I.refreshToken?(yield I.refresh(m,I.refreshToken),I.accessToken):null:I.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(m,_){var I=this;return(0,r.Z)(function*(){const{accessToken:z,refreshToken:re,expiresIn:Le}=yield function(E,m){return Zt.apply(this,arguments)}(m,_);I.updateTokensAndExpiration(z,re,Number(Le))})()}updateTokensAndExpiration(m,_,I){this.refreshToken=_||null,this.accessToken=m||null,this.expirationTime=Date.now()+1e3*I}static fromJSON(m,_){const{refreshToken:I,accessToken:z,expirationTime:re}=_,Le=new rn;return I&&(ie("string"==typeof I,"internal-error",{appName:m}),Le.refreshToken=I),z&&(ie("string"==typeof z,"internal-error",{appName:m}),Le.accessToken=z),re&&(ie("number"==typeof re,"internal-error",{appName:m}),Le.expirationTime=re),Le}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(m){this.accessToken=m.accessToken,this.refreshToken=m.refreshToken,this.expirationTime=m.expirationTime}_clone(){return Object.assign(new rn,this.toJSON())}_performRefresh(){return pe("not implemented")}}function Rn(E,m){ie("string"==typeof E||void 0===E,"internal-error",{appName:m})}class Wn{constructor(m){var{uid:_,auth:I,stsTokenManager:z}=m,re=(0,S._T)(m,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new Fn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=_,this.auth=I,this.stsTokenManager=z,this.accessToken=z.accessToken,this.displayName=re.displayName||null,this.email=re.email||null,this.emailVerified=re.emailVerified||!1,this.phoneNumber=re.phoneNumber||null,this.photoURL=re.photoURL||null,this.isAnonymous=re.isAnonymous||!1,this.tenantId=re.tenantId||null,this.metadata=new cr(re.createdAt||void 0,re.lastLoginAt||void 0)}getIdToken(m){var _=this;return(0,r.Z)(function*(){const I=yield Er(_,_.stsTokenManager.getToken(_.auth,m));return ie(I,_.auth,"internal-error"),_.accessToken!==I&&(_.accessToken=I,yield _.auth._persistUserIfCurrent(_),_.auth._notifyListenersIfCurrent(_)),I})()}getIdTokenResult(m){return function(E){return Ai.apply(this,arguments)}(this,m)}reload(){return function(E){return Oe.apply(this,arguments)}(this)}_assign(m){this!==m&&(ie(this.uid===m.uid,this.auth,"internal-error"),this.displayName=m.displayName,this.photoURL=m.photoURL,this.email=m.email,this.emailVerified=m.emailVerified,this.phoneNumber=m.phoneNumber,this.isAnonymous=m.isAnonymous,this.tenantId=m.tenantId,this.providerData=m.providerData.map(_=>Object.assign({},_)),this.metadata._copy(m.metadata),this.stsTokenManager._assign(m.stsTokenManager))}_clone(m){return new Wn(Object.assign(Object.assign({},this),{auth:m,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(m){ie(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=m,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(m){this.reloadListener?this.reloadListener(m):this.reloadUserInfo=m}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(m,_=!1){var I=this;return(0,r.Z)(function*(){let z=!1;m.idToken&&m.idToken!==I.stsTokenManager.accessToken&&(I.stsTokenManager.updateFromServerResponse(m),z=!0),_&&(yield Rr(I)),yield I.auth._persistUserIfCurrent(I),z&&I.auth._notifyListenersIfCurrent(I)})()}delete(){var m=this;return(0,r.Z)(function*(){const _=yield m.getIdToken();return yield Er(m,function(E,m){return It.apply(this,arguments)}(m.auth,{idToken:_})),m.stsTokenManager.clearRefreshToken(),m.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(m=>Object.assign({},m)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(m,_){var I,z,re,Le,$e,vt,Ft,Xt;const zt=null!==(I=_.displayName)&&void 0!==I?I:void 0,$i=null!==(z=_.email)&&void 0!==z?z:void 0,qo=null!==(re=_.phoneNumber)&&void 0!==re?re:void 0,Jf=null!==(Le=_.photoURL)&&void 0!==Le?Le:void 0,mu=null!==($e=_.tenantId)&&void 0!==$e?$e:void 0,Jg=null!==(vt=_._redirectEventId)&&void 0!==vt?vt:void 0,_u=null!==(Ft=_.createdAt)&&void 0!==Ft?Ft:void 0,Ta=null!==(Xt=_.lastLoginAt)&&void 0!==Xt?Xt:void 0,{uid:Sy,emailVerified:rC,isAnonymous:Xg,providerData:xy,stsTokenManager:Sa}=_;ie(Sy&&Sa,m,"internal-error");const em=rn.fromJSON(this.name,Sa);ie("string"==typeof Sy,m,"internal-error"),Rn(zt,m.name),Rn($i,m.name),ie("boolean"==typeof rC,m,"internal-error"),ie("boolean"==typeof Xg,m,"internal-error"),Rn(qo,m.name),Rn(Jf,m.name),Rn(mu,m.name),Rn(Jg,m.name),Rn(_u,m.name),Rn(Ta,m.name);const hd=new Wn({uid:Sy,auth:m,email:$i,emailVerified:rC,displayName:zt,isAnonymous:Xg,photoURL:Jf,phoneNumber:qo,tenantId:mu,stsTokenManager:em,createdAt:_u,lastLoginAt:Ta});return xy&&Array.isArray(xy)&&(hd.providerData=xy.map(sC=>Object.assign({},sC))),Jg&&(hd._redirectEventId=Jg),hd}static _fromIdTokenResponse(m,_,I=!1){return(0,r.Z)(function*(){const z=new rn;z.updateFromServerResponse(_);const re=new Wn({uid:_.localId,auth:m,stsTokenManager:z,isAnonymous:I});return yield Rr(re),re})()}}const ln=(()=>{class E{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,r.Z)(function*(){return!0})()}_set(_,I){var z=this;return(0,r.Z)(function*(){z.storage[_]=I})()}_get(_){var I=this;return(0,r.Z)(function*(){const z=I.storage[_];return void 0===z?null:z})()}_remove(_){var I=this;return(0,r.Z)(function*(){delete I.storage[_]})()}_addListener(_,I){}_removeListener(_,I){}}return E.type="NONE",E})();function oi(E,m,_){return`firebase:${E}:${m}:${_}`}class ei{constructor(m,_,I){this.persistence=m,this.auth=_,this.userKey=I;const{config:z,name:re}=this.auth;this.fullUserKey=oi(this.userKey,z.apiKey,re),this.fullPersistenceKey=oi("persistence",z.apiKey,re),this.boundEventHandler=_._onStorageEvent.bind(_),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(m){return this.persistence._set(this.fullUserKey,m.toJSON())}getCurrentUser(){var m=this;return(0,r.Z)(function*(){const _=yield m.persistence._get(m.fullUserKey);return _?Wn._fromJSON(m.auth,_):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(m){var _=this;return(0,r.Z)(function*(){if(_.persistence===m)return;const I=yield _.getCurrentUser();return yield _.removeCurrentUser(),_.persistence=m,I?_.setCurrentUser(I):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(m,_,I="authUser"){return(0,r.Z)(function*(){if(!_.length)return new ei(ae(ln),m,I);const z=(yield Promise.all(_.map(function(){var Ft=(0,r.Z)(function*(Xt){if(yield Xt._isAvailable())return Xt});return function(Xt){return Ft.apply(this,arguments)}}()))).filter(Ft=>Ft);let re=z[0]||ae(ln);const Le=oi(I,m.config.apiKey,m.name);let $e=null;for(const Ft of _)try{const Xt=yield Ft._get(Le);if(Xt){const zt=Wn._fromJSON(m,Xt);Ft!==re&&($e=zt),re=Ft;break}}catch(Xt){}const vt=z.filter(Ft=>Ft._shouldAllowMigration);return re._shouldAllowMigration&&vt.length?(re=vt[0],$e&&(yield re._set(Le,$e.toJSON())),yield Promise.all(_.map(function(){var Ft=(0,r.Z)(function*(Xt){if(Xt!==re)try{yield Xt._remove(Le)}catch(zt){}});return function(Xt){return Ft.apply(this,arguments)}}())),new ei(re,m,I)):new ei(re,m,I)})()}}function Yr(E){const m=E.toLowerCase();if(m.includes("opera/")||m.includes("opr/")||m.includes("opios/"))return"Opera";if(Zr(m))return"IEMobile";if(m.includes("msie")||m.includes("trident/"))return"IE";if(m.includes("edge/"))return"Edge";if(Mo(m))return"Firefox";if(m.includes("silk/"))return"Silk";if(Mi(m))return"Blackberry";if(dr(m))return"Webos";if(ro(m))return"Safari";if((m.includes("chrome/")||ra(m))&&!m.includes("edge/"))return"Chrome";if(Tr(m))return"Android";{const I=E.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==I?void 0:I.length))return I[1]}return"Other"}function Mo(E=(0,v.z$)()){return/firefox\//i.test(E)}function ro(E=(0,v.z$)()){const m=E.toLowerCase();return m.includes("safari/")&&!m.includes("chrome/")&&!m.includes("crios/")&&!m.includes("android")}function ra(E=(0,v.z$)()){return/crios\//i.test(E)}function Zr(E=(0,v.z$)()){return/iemobile/i.test(E)}function Tr(E=(0,v.z$)()){return/android/i.test(E)}function Mi(E=(0,v.z$)()){return/blackberry/i.test(E)}function dr(E=(0,v.z$)()){return/webos/i.test(E)}function Vi(E=(0,v.z$)()){return/iphone|ipad|ipod/i.test(E)}function bt(E=(0,v.z$)()){return Vi(E)||Tr(E)||dr(E)||Mi(E)||/windows phone/i.test(E)||Zr(E)}function In(E,m=[]){let _;switch(E){case"Browser":_=Yr((0,v.z$)());break;case"Worker":_=`${Yr((0,v.z$)())}-${E}`;break;default:_=E}const I=m.length?m.join(","):"FirebaseCore-web";return`${_}/JsCore/${T.SDK_VERSION}/${I}`}class hr{constructor(m,_){this.app=m,this.config=_,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new _i(this),this.idTokenSubscription=new _i(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=le,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=m.name,this.clientVersion=_.sdkClientVersion}_initializeWithPersistence(m,_){var I=this;return _&&(this._popupRedirectResolver=ae(_)),this._initializationPromise=this.queue((0,r.Z)(function*(){var z,re;if(!I._deleted&&(I.persistenceManager=yield ei.create(I,m),!I._deleted)){if(null===(z=I._popupRedirectResolver)||void 0===z?void 0:z._shouldInitProactively)try{yield I._popupRedirectResolver._initialize(I)}catch(Le){}yield I.initializeCurrentUser(_),I.lastNotifiedUid=(null===(re=I.currentUser)||void 0===re?void 0:re.uid)||null,!I._deleted&&(I._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var m=this;return(0,r.Z)(function*(){if(m._deleted)return;const _=yield m.assertedPersistence.getCurrentUser();if(m.currentUser||_){if(m.currentUser&&_&&m.currentUser.uid===_.uid)return m._currentUser._assign(_),void(yield m.currentUser.getIdToken());yield m._updateCurrentUser(_)}})()}initializeCurrentUser(m){var _=this;return(0,r.Z)(function*(){var I;let z=yield _.assertedPersistence.getCurrentUser();if(m&&_.config.authDomain){yield _.getOrInitRedirectPersistenceManager();const re=null===(I=_.redirectUser)||void 0===I?void 0:I._redirectEventId,Le=null==z?void 0:z._redirectEventId,$e=yield _.tryRedirectSignIn(m);(!re||re===Le)&&(null==$e?void 0:$e.user)&&(z=$e.user)}return z?z._redirectEventId?(ie(_._popupRedirectResolver,_,"argument-error"),yield _.getOrInitRedirectPersistenceManager(),_.redirectUser&&_.redirectUser._redirectEventId===z._redirectEventId?_.directlySetCurrentUser(z):_.reloadAndSetCurrentUserOrClear(z)):_.reloadAndSetCurrentUserOrClear(z):_.directlySetCurrentUser(null)})()}tryRedirectSignIn(m){var _=this;return(0,r.Z)(function*(){let I=null;try{I=yield _._popupRedirectResolver._completeRedirectFn(_,m,!0)}catch(z){yield _._setRedirectUser(null)}return I})()}reloadAndSetCurrentUserOrClear(m){var _=this;return(0,r.Z)(function*(){try{yield Rr(m)}catch(I){if("auth/network-request-failed"!==I.code)return _.directlySetCurrentUser(null)}return _.directlySetCurrentUser(m)})()}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const E=navigator;return E.languages&&E.languages[0]||E.language||null}()}_delete(){var m=this;return(0,r.Z)(function*(){m._deleted=!0})()}updateCurrentUser(m){var _=this;return(0,r.Z)(function*(){const I=m?(0,v.m9)(m):null;return I&&ie(I.auth.config.apiKey===_.config.apiKey,_,"invalid-user-token"),_._updateCurrentUser(I&&I._clone(_))})()}_updateCurrentUser(m){var _=this;return(0,r.Z)(function*(){if(!_._deleted)return m&&ie(_.tenantId===m.tenantId,_,"tenant-id-mismatch"),_.queue((0,r.Z)(function*(){yield _.directlySetCurrentUser(m),_.notifyAuthListeners()}))})()}signOut(){var m=this;return(0,r.Z)(function*(){return(m.redirectPersistenceManager||m._popupRedirectResolver)&&(yield m._setRedirectUser(null)),m._updateCurrentUser(null)})()}setPersistence(m){var _=this;return this.queue((0,r.Z)(function*(){yield _.assertedPersistence.setPersistence(ae(m))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(m){this._errorFactory=new v.LL("auth","Firebase",m())}onAuthStateChanged(m,_,I){return this.registerStateListener(this.authStateSubscription,m,_,I)}onIdTokenChanged(m,_,I){return this.registerStateListener(this.idTokenSubscription,m,_,I)}toJSON(){var m;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(m=this._currentUser)||void 0===m?void 0:m.toJSON()}}_setRedirectUser(m,_){var I=this;return(0,r.Z)(function*(){const z=yield I.getOrInitRedirectPersistenceManager(_);return null===m?z.removeCurrentUser():z.setCurrentUser(m)})()}getOrInitRedirectPersistenceManager(m){var _=this;return(0,r.Z)(function*(){if(!_.redirectPersistenceManager){const I=m&&ae(m)||_._popupRedirectResolver;ie(I,_,"argument-error"),_.redirectPersistenceManager=yield ei.create(_,[ae(I._redirectPersistence)],"redirectUser"),_.redirectUser=yield _.redirectPersistenceManager.getCurrentUser()}return _.redirectPersistenceManager})()}_redirectUserForId(m){var _=this;return(0,r.Z)(function*(){var I,z;return _._isInitialized&&(yield _.queue((0,r.Z)(function*(){}))),(null===(I=_._currentUser)||void 0===I?void 0:I._redirectEventId)===m?_._currentUser:(null===(z=_.redirectUser)||void 0===z?void 0:z._redirectEventId)===m?_.redirectUser:null})()}_persistUserIfCurrent(m){var _=this;return(0,r.Z)(function*(){if(m===_.currentUser)return _.queue((0,r.Z)(function*(){return _.directlySetCurrentUser(m)}))})()}_notifyListenersIfCurrent(m){m===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var m,_;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const I=null!==(_=null===(m=this.currentUser)||void 0===m?void 0:m.uid)&&void 0!==_?_:null;this.lastNotifiedUid!==I&&(this.lastNotifiedUid=I,this.authStateSubscription.next(this.currentUser))}registerStateListener(m,_,I,z){if(this._deleted)return()=>{};const re="function"==typeof _?_:_.next.bind(_),Le=this._isInitialized?Promise.resolve():this._initializationPromise;return ie(Le,this,"internal-error"),Le.then(()=>re(this.currentUser)),"function"==typeof _?m.addObserver(_,I,z):m.addObserver(_)}directlySetCurrentUser(m){var _=this;return(0,r.Z)(function*(){_.currentUser&&_.currentUser!==m&&(_._currentUser._stopProactiveRefresh(),m&&_.isProactiveRefreshEnabled&&m._startProactiveRefresh()),_.currentUser=m,m?yield _.assertedPersistence.setCurrentUser(m):yield _.assertedPersistence.removeCurrentUser()})()}queue(m){return this.operations=this.operations.then(m,m),this.operations}get assertedPersistence(){return ie(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(m){!m||this.frameworks.includes(m)||(this.frameworks.push(m),this.frameworks.sort(),this.clientVersion=In(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var m=this;return(0,r.Z)(function*(){const _={"X-Client-Version":m.clientVersion};return m.app.options.appId&&(_["X-Firebase-gmpid"]=m.app.options.appId),_})()}}function qn(E){return(0,v.m9)(E)}class _i{constructor(m){this.auth=m,this.observer=null,this.addObserver=(0,v.ne)(_=>this.observer=_)}get next(){return ie(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function ti(E){const m=E.indexOf(":");return m<0?"":E.substr(0,m+1)}function fr(E){if(!E)return null;const m=Number(E);return isNaN(m)?null:m}class ki{constructor(m,_){this.providerId=m,this.signInMethod=_}toJSON(){return pe("not implemented")}_getIdTokenResponse(m){return pe("not implemented")}_linkToIdToken(m,_){return pe("not implemented")}_getReauthenticationResolver(m){return pe("not implemented")}}function Cs(E,m){return zn.apply(this,arguments)}function zn(){return(zn=(0,r.Z)(function*(E,m){return xt(E,"POST","/v1/accounts:resetPassword",Vt(E,m))})).apply(this,arguments)}function so(E,m){return wi.apply(this,arguments)}function wi(){return(wi=(0,r.Z)(function*(E,m){return xt(E,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function Or(E,m){return Qr.apply(this,arguments)}function Qr(){return(Qr=(0,r.Z)(function*(E,m){return xt(E,"POST","/v1/accounts:update",Vt(E,m))})).apply(this,arguments)}function un(){return(un=(0,r.Z)(function*(E,m){return lr(E,"POST","/v1/accounts:signInWithPassword",Vt(E,m))})).apply(this,arguments)}function qa(E,m){return ko.apply(this,arguments)}function ko(){return(ko=(0,r.Z)(function*(E,m){return xt(E,"POST","/v1/accounts:sendOobCode",Vt(E,m))})).apply(this,arguments)}function On(E,m){return oa.apply(this,arguments)}function oa(){return(oa=(0,r.Z)(function*(E,m){return qa(E,m)})).apply(this,arguments)}function Ro(E,m){return is.apply(this,arguments)}function is(){return(is=(0,r.Z)(function*(E,m){return qa(E,m)})).apply(this,arguments)}function xr(E,m){return ni.apply(this,arguments)}function ni(){return(ni=(0,r.Z)(function*(E,m){return qa(E,m)})).apply(this,arguments)}function aa(E,m){return Pr.apply(this,arguments)}function Pr(){return(Pr=(0,r.Z)(function*(E,m){return qa(E,m)})).apply(this,arguments)}function la(){return(la=(0,r.Z)(function*(E,m){return lr(E,"POST","/v1/accounts:signInWithEmailLink",Vt(E,m))})).apply(this,arguments)}function ws(){return(ws=(0,r.Z)(function*(E,m){return lr(E,"POST","/v1/accounts:signInWithEmailLink",Vt(E,m))})).apply(this,arguments)}class Xi extends ki{constructor(m,_,I,z=null){super("password",I),this._email=m,this._password=_,this._tenantId=z}static _fromEmailAndPassword(m,_){return new Xi(m,_,"password")}static _fromEmailAndCode(m,_,I=null){return new Xi(m,_,"emailLink",I)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(m){const _="string"==typeof m?JSON.parse(m):m;if((null==_?void 0:_.email)&&(null==_?void 0:_.password)){if("password"===_.signInMethod)return this._fromEmailAndPassword(_.email,_.password);if("emailLink"===_.signInMethod)return this._fromEmailAndCode(_.email,_.password,_.tenantId)}return null}_getIdTokenResponse(m){var _=this;return(0,r.Z)(function*(){switch(_.signInMethod){case"password":return function(E,m){return un.apply(this,arguments)}(m,{returnSecureToken:!0,email:_._email,password:_._password});case"emailLink":return function(E,m){return la.apply(this,arguments)}(m,{email:_._email,oobCode:_._password});default:Ve(m,"internal-error")}})()}_linkToIdToken(m,_){var I=this;return(0,r.Z)(function*(){switch(I.signInMethod){case"password":return so(m,{idToken:_,returnSecureToken:!0,email:I._email,password:I._password});case"emailLink":return function(E,m){return ws.apply(this,arguments)}(m,{idToken:_,email:I._email,oobCode:I._password});default:Ve(m,"internal-error")}})()}_getReauthenticationResolver(m){return this._getIdTokenResponse(m)}}function yi(E,m){return bl.apply(this,arguments)}function bl(){return(bl=(0,r.Z)(function*(E,m){return lr(E,"POST","/v1/accounts:signInWithIdp",Vt(E,m))})).apply(this,arguments)}class Ir extends ki{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(m){const _=new Ir(m.providerId,m.signInMethod);return m.idToken||m.accessToken?(m.idToken&&(_.idToken=m.idToken),m.accessToken&&(_.accessToken=m.accessToken),m.nonce&&!m.pendingToken&&(_.nonce=m.nonce),m.pendingToken&&(_.pendingToken=m.pendingToken)):m.oauthToken&&m.oauthTokenSecret?(_.accessToken=m.oauthToken,_.secret=m.oauthTokenSecret):Ve("argument-error"),_}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(m){const _="string"==typeof m?JSON.parse(m):m,{providerId:I,signInMethod:z}=_,re=(0,S._T)(_,["providerId","signInMethod"]);if(!I||!z)return null;const Le=new Ir(I,z);return Le.idToken=re.idToken||void 0,Le.accessToken=re.accessToken||void 0,Le.secret=re.secret,Le.nonce=re.nonce,Le.pendingToken=re.pendingToken||null,Le}_getIdTokenResponse(m){return yi(m,this.buildRequest())}_linkToIdToken(m,_){const I=this.buildRequest();return I.idToken=_,yi(m,I)}_getReauthenticationResolver(m){const _=this.buildRequest();return _.autoCreate=!1,yi(m,_)}buildRequest(){const m={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)m.pendingToken=this.pendingToken;else{const _={};this.idToken&&(_.id_token=this.idToken),this.accessToken&&(_.access_token=this.accessToken),this.secret&&(_.oauth_token_secret=this.secret),_.providerId=this.providerId,this.nonce&&!this.pendingToken&&(_.nonce=this.nonce),m.postBody=(0,v.xO)(_)}return m}}function Es(E,m){return ua.apply(this,arguments)}function ua(){return(ua=(0,r.Z)(function*(E,m){return xt(E,"POST","/v1/accounts:sendVerificationCode",Vt(E,m))})).apply(this,arguments)}function da(){return(da=(0,r.Z)(function*(E,m){return lr(E,"POST","/v1/accounts:signInWithPhoneNumber",Vt(E,m))})).apply(this,arguments)}function Oo(){return(Oo=(0,r.Z)(function*(E,m){const _=yield lr(E,"POST","/v1/accounts:signInWithPhoneNumber",Vt(E,m));if(_.temporaryProof)throw zr(E,"account-exists-with-different-credential",_);return _})).apply(this,arguments)}const ha={USER_NOT_FOUND:"user-not-found"};function Po(){return(Po=(0,r.Z)(function*(E,m){return lr(E,"POST","/v1/accounts:signInWithPhoneNumber",Vt(E,Object.assign(Object.assign({},m),{operation:"REAUTH"})),ha)})).apply(this,arguments)}class lo extends ki{constructor(m){super("phone","phone"),this.params=m}static _fromVerification(m,_){return new lo({verificationId:m,verificationCode:_})}static _fromTokenResponse(m,_){return new lo({phoneNumber:m,temporaryProof:_})}_getIdTokenResponse(m){return function(E,m){return da.apply(this,arguments)}(m,this._makeVerificationRequest())}_linkToIdToken(m,_){return function(E,m){return Oo.apply(this,arguments)}(m,Object.assign({idToken:_},this._makeVerificationRequest()))}_getReauthenticationResolver(m){return function(E,m){return Po.apply(this,arguments)}(m,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:m,phoneNumber:_,verificationId:I,verificationCode:z}=this.params;return m&&_?{temporaryProof:m,phoneNumber:_}:{sessionInfo:I,code:z}}toJSON(){const m={providerId:this.providerId};return this.params.phoneNumber&&(m.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(m.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(m.verificationCode=this.params.verificationCode),this.params.verificationId&&(m.verificationId=this.params.verificationId),m}static fromJSON(m){"string"==typeof m&&(m=JSON.parse(m));const{verificationId:_,verificationCode:I,phoneNumber:z,temporaryProof:re}=m;return I||_||z||re?new lo({verificationId:_,verificationCode:I,phoneNumber:z,temporaryProof:re}):null}}class ${constructor(m){var _,I,z,re,Le,$e;const vt=(0,v.zd)((0,v.pd)(m)),Ft=null!==(_=vt.apiKey)&&void 0!==_?_:null,Xt=null!==(I=vt.oobCode)&&void 0!==I?I:null,zt=function(E){switch(E){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(z=vt.mode)&&void 0!==z?z:null);ie(Ft&&Xt&&zt,"argument-error"),this.apiKey=Ft,this.operation=zt,this.code=Xt,this.continueUrl=null!==(re=vt.continueUrl)&&void 0!==re?re:null,this.languageCode=null!==(Le=vt.languageCode)&&void 0!==Le?Le:null,this.tenantId=null!==($e=vt.tenantId)&&void 0!==$e?$e:null}static parseLink(m){const _=function(E){const m=(0,v.zd)((0,v.pd)(E)).link,_=m?(0,v.zd)((0,v.pd)(m)).deep_link_id:null,I=(0,v.zd)((0,v.pd)(E)).deep_link_id;return(I?(0,v.zd)((0,v.pd)(I)).link:null)||I||_||m||E}(m);try{return new $(_)}catch(I){return null}}}let B=(()=>{class E{constructor(){this.providerId=E.PROVIDER_ID}static credential(_,I){return Xi._fromEmailAndPassword(_,I)}static credentialWithLink(_,I){const z=$.parseLink(I);return ie(z,"argument-error"),Xi._fromEmailAndCode(_,z.code,z.tenantId)}}return E.PROVIDER_ID="password",E.EMAIL_PASSWORD_SIGN_IN_METHOD="password",E.EMAIL_LINK_SIGN_IN_METHOD="emailLink",E})();class U{constructor(m){this.providerId=m,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(m){this.defaultLanguageCode=m}setCustomParameters(m){return this.customParameters=m,this}getCustomParameters(){return this.customParameters}}class Y extends U{constructor(){super(...arguments),this.scopes=[]}addScope(m){return this.scopes.includes(m)||this.scopes.push(m),this}getScopes(){return[...this.scopes]}}class se extends Y{static credentialFromJSON(m){const _="string"==typeof m?JSON.parse(m):m;return ie("providerId"in _&&"signInMethod"in _,"argument-error"),Ir._fromParams(_)}credential(m){return this._credential(Object.assign(Object.assign({},m),{nonce:m.rawNonce}))}_credential(m){return ie(m.idToken||m.accessToken,"argument-error"),Ir._fromParams(Object.assign(Object.assign({},m),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(m){return se.oauthCredentialFromTaggedObject(m)}static credentialFromError(m){return se.oauthCredentialFromTaggedObject(m.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:_,oauthAccessToken:I,oauthTokenSecret:z,pendingToken:re,nonce:Le,providerId:$e}=m;if(!I&&!z&&!_&&!re||!$e)return null;try{return new se($e)._credential({idToken:_,accessToken:I,nonce:Le,pendingToken:re})}catch(vt){return null}}}let fe=(()=>{class E extends Y{constructor(){super("facebook.com")}static credential(_){return Ir._fromParams({providerId:E.PROVIDER_ID,signInMethod:E.FACEBOOK_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return E.credentialFromTaggedObject(_)}static credentialFromError(_){return E.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return E.credential(_.oauthAccessToken)}catch(I){return null}}}return E.FACEBOOK_SIGN_IN_METHOD="facebook.com",E.PROVIDER_ID="facebook.com",E})(),me=(()=>{class E extends Y{constructor(){super("google.com"),this.addScope("profile")}static credential(_,I){return Ir._fromParams({providerId:E.PROVIDER_ID,signInMethod:E.GOOGLE_SIGN_IN_METHOD,idToken:_,accessToken:I})}static credentialFromResult(_){return E.credentialFromTaggedObject(_)}static credentialFromError(_){return E.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthIdToken:I,oauthAccessToken:z}=_;if(!I&&!z)return null;try{return E.credential(I,z)}catch(re){return null}}}return E.GOOGLE_SIGN_IN_METHOD="google.com",E.PROVIDER_ID="google.com",E})(),De=(()=>{class E extends Y{constructor(){super("github.com")}static credential(_){return Ir._fromParams({providerId:E.PROVIDER_ID,signInMethod:E.GITHUB_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return E.credentialFromTaggedObject(_)}static credentialFromError(_){return E.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return E.credential(_.oauthAccessToken)}catch(I){return null}}}return E.GITHUB_SIGN_IN_METHOD="github.com",E.PROVIDER_ID="github.com",E})();class We extends ki{constructor(m,_){super(m,m),this.pendingToken=_}_getIdTokenResponse(m){return yi(m,this.buildRequest())}_linkToIdToken(m,_){const I=this.buildRequest();return I.idToken=_,yi(m,I)}_getReauthenticationResolver(m){const _=this.buildRequest();return _.autoCreate=!1,yi(m,_)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(m){const _="string"==typeof m?JSON.parse(m):m,{providerId:I,signInMethod:z,pendingToken:re}=_;return I&&z&&re&&I===z?new We(I,re):null}static _create(m,_){return new We(m,_)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class X extends U{constructor(m){ie(m.startsWith("saml."),"argument-error"),super(m)}static credentialFromResult(m){return X.samlCredentialFromTaggedObject(m)}static credentialFromError(m){return X.samlCredentialFromTaggedObject(m.customData||{})}static credentialFromJSON(m){const _=We.fromJSON(m);return ie(_,"argument-error"),_}static samlCredentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{pendingToken:_,providerId:I}=m;if(!_||!I)return null;try{return We._create(I,_)}catch(z){return null}}}let ye=(()=>{class E extends Y{constructor(){super("twitter.com")}static credential(_,I){return Ir._fromParams({providerId:E.PROVIDER_ID,signInMethod:E.TWITTER_SIGN_IN_METHOD,oauthToken:_,oauthTokenSecret:I})}static credentialFromResult(_){return E.credentialFromTaggedObject(_)}static credentialFromError(_){return E.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthAccessToken:I,oauthTokenSecret:z}=_;if(!I||!z)return null;try{return E.credential(I,z)}catch(re){return null}}}return E.TWITTER_SIGN_IN_METHOD="twitter.com",E.PROVIDER_ID="twitter.com",E})();function Ne(E,m){return it.apply(this,arguments)}function it(){return(it=(0,r.Z)(function*(E,m){return lr(E,"POST","/v1/accounts:signUp",Vt(E,m))})).apply(this,arguments)}class ut{constructor(m){this.user=m.user,this.providerId=m.providerId,this._tokenResponse=m._tokenResponse,this.operationType=m.operationType}static _fromIdTokenResponse(m,_,I,z=!1){return(0,r.Z)(function*(){const re=yield Wn._fromIdTokenResponse(m,I,z),Le=Yt(I);return new ut({user:re,providerId:Le,_tokenResponse:I,operationType:_})})()}static _forOperation(m,_,I){return(0,r.Z)(function*(){yield m._updateTokensIfNecessary(I,!0);const z=Yt(I);return new ut({user:m,providerId:z,_tokenResponse:I,operationType:_})})()}}function Yt(E){return E.providerId?E.providerId:"phoneNumber"in E?"phone":null}function jt(){return(jt=(0,r.Z)(function*(E){var m;const _=qn(E);if(yield _._initializationPromise,null===(m=_.currentUser)||void 0===m?void 0:m.isAnonymous)return new ut({user:_.currentUser,providerId:null,operationType:"signIn"});const I=yield Ne(_,{returnSecureToken:!0}),z=yield ut._fromIdTokenResponse(_,"signIn",I,!0);return yield _._updateCurrentUser(z.user),z})).apply(this,arguments)}class Tn extends v.ZR{constructor(m,_,I,z){var re;super(_.code,_.message),this.operationType=I,this.user=z,Object.setPrototypeOf(this,Tn.prototype),this.customData={appName:m.name,tenantId:null!==(re=m.tenantId)&&void 0!==re?re:void 0,_serverResponse:_.customData._serverResponse,operationType:I}}static _fromErrorAndOperation(m,_,I,z){return new Tn(m,_,I,z)}}function Ui(E,m,_,I){return("reauthenticate"===m?_._getReauthenticationResolver(E):_._getIdTokenResponse(E)).catch(re=>{throw"auth/multi-factor-auth-required"===re.code?Tn._fromErrorAndOperation(E,re,m,I):re})}function Nr(E){return new Set(E.map(({providerId:m})=>m).filter(m=>!!m))}function fa(){return(fa=(0,r.Z)(function*(E,m){const _=(0,v.m9)(E);yield co(!0,_,m);const{providerUserInfo:I}=yield Zn(_.auth,{idToken:yield _.getIdToken(),deleteProvider:[m]}),z=Nr(I||[]);return _.providerData=_.providerData.filter(re=>z.has(re.providerId)),z.has("phone")||(_.phoneNumber=null),yield _.auth._persistUserIfCurrent(_),_})).apply(this,arguments)}function Vn(E,m){return za.apply(this,arguments)}function za(){return(za=(0,r.Z)(function*(E,m,_=!1){const I=yield Er(E,m._linkToIdToken(E.auth,yield E.getIdToken()),_);return ut._forOperation(E,"link",I)})).apply(this,arguments)}function co(E,m,_){return Hc.apply(this,arguments)}function Hc(){return(Hc=(0,r.Z)(function*(E,m,_){yield Rr(m);const z=!1===E?"provider-already-linked":"no-such-provider";ie(Nr(m.providerData).has(_)===E,m.auth,z)})).apply(this,arguments)}function ai(E,m){return Gd.apply(this,arguments)}function Gd(){return(Gd=(0,r.Z)(function*(E,m,_=!1){const{auth:I}=E,z="reauthenticate";try{const re=yield Er(E,Ui(I,z,m,E),_);ie(re.idToken,I,"internal-error");const Le=pt(re.idToken);ie(Le,I,"internal-error");const{sub:$e}=Le;return ie(E.uid===$e,I,"user-mismatch"),ut._forOperation(E,z,re)}catch(re){throw"auth/user-not-found"===(null==re?void 0:re.code)&&Ve(I,"user-mismatch"),re}})).apply(this,arguments)}function $u(E,m){return Ga.apply(this,arguments)}function Ga(){return(Ga=(0,r.Z)(function*(E,m,_=!1){const I="signIn",z=yield Ui(E,I,m),re=yield ut._fromIdTokenResponse(E,I,z);return _||(yield E._updateCurrentUser(re.user)),re})).apply(this,arguments)}function Jr(E,m){return Ri.apply(this,arguments)}function Ri(){return(Ri=(0,r.Z)(function*(E,m){return $u(qn(E),m)})).apply(this,arguments)}function Yu(E,m){return No.apply(this,arguments)}function No(){return(No=(0,r.Z)(function*(E,m){const _=(0,v.m9)(E);return yield co(!1,_,m.providerId),Vn(_,m)})).apply(this,arguments)}function ss(E,m){return qc.apply(this,arguments)}function qc(){return(qc=(0,r.Z)(function*(E,m){return ai((0,v.m9)(E),m)})).apply(this,arguments)}function $d(E,m){return $a.apply(this,arguments)}function $a(){return($a=(0,r.Z)(function*(E,m){return lr(E,"POST","/v1/accounts:signInWithCustomToken",Vt(E,m))})).apply(this,arguments)}function oc(){return(oc=(0,r.Z)(function*(E,m){const _=qn(E),I=yield $d(_,{token:m,returnSecureToken:!0}),z=yield ut._fromIdTokenResponse(_,"signIn",I);return yield _._updateCurrentUser(z.user),z})).apply(this,arguments)}class Ya{constructor(m,_){this.factorId=m,this.uid=_.mfaEnrollmentId,this.enrollmentTime=new Date(_.enrolledAt).toUTCString(),this.displayName=_.displayName}static _fromServerResponse(m,_){return"phoneInfo"in _?Jt._fromServerResponse(m,_):Ve(m,"internal-error")}}class Jt extends Ya{constructor(m){super("phone",m),this.phoneNumber=m.phoneInfo}static _fromServerResponse(m,_){return new Jt(_)}}function Zu(E,m,_){var I;ie((null===(I=_.url)||void 0===I?void 0:I.length)>0,E,"invalid-continue-uri"),ie(void 0===_.dynamicLinkDomain||_.dynamicLinkDomain.length>0,E,"invalid-dynamic-link-domain"),m.continueUrl=_.url,m.dynamicLinkDomain=_.dynamicLinkDomain,m.canHandleCodeInApp=_.handleCodeInApp,_.iOS&&(ie(_.iOS.bundleId.length>0,E,"missing-ios-bundle-id"),m.iOSBundleId=_.iOS.bundleId),_.android&&(ie(_.android.packageName.length>0,E,"missing-android-pkg-name"),m.androidInstallApp=_.android.installApp,m.androidMinimumVersionCode=_.android.minimumVersion,m.androidPackageName=_.android.packageName)}function zc(){return(zc=(0,r.Z)(function*(E,m,_){const I=(0,v.m9)(E),z={requestType:"PASSWORD_RESET",email:m};_&&Zu(I,z,_),yield Ro(I,z)})).apply(this,arguments)}function Gc(){return(Gc=(0,r.Z)(function*(E,m,_){yield Cs((0,v.m9)(E),{oobCode:m,newPassword:_})})).apply(this,arguments)}function ga(){return(ga=(0,r.Z)(function*(E,m){yield Or((0,v.m9)(E),{oobCode:m})})).apply(this,arguments)}function rt(E,m){return mn.apply(this,arguments)}function mn(){return(mn=(0,r.Z)(function*(E,m){const _=(0,v.m9)(E),I=yield Cs(_,{oobCode:m}),z=I.requestType;switch(ie(z,_,"internal-error"),z){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ie(I.newEmail,_,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ie(I.mfaInfo,_,"internal-error");default:ie(I.email,_,"internal-error")}let re=null;return I.mfaInfo&&(re=Ya._fromServerResponse(qn(_),I.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===I.requestType?I.newEmail:I.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===I.requestType?I.email:I.newEmail)||null,multiFactorInfo:re},operation:z}})).apply(this,arguments)}function ii(){return(ii=(0,r.Z)(function*(E,m){const{data:_}=yield rt((0,v.m9)(E),m);return _.email})).apply(this,arguments)}function Fo(){return(Fo=(0,r.Z)(function*(E,m,_){const I=qn(E),z=yield Ne(I,{returnSecureToken:!0,email:m,password:_}),re=yield ut._fromIdTokenResponse(I,"signIn",z);return yield I._updateCurrentUser(re.user),re})).apply(this,arguments)}function ac(){return(ac=(0,r.Z)(function*(E,m,_){const I=(0,v.m9)(E),z={requestType:"EMAIL_SIGNIN",email:m};ie(_.handleCodeInApp,I,"argument-error"),_&&Zu(I,z,_),yield xr(I,z)})).apply(this,arguments)}function lc(){return(lc=(0,r.Z)(function*(E,m,_){const I=(0,v.m9)(E),z=B.credentialWithLink(m,_||Ze());return ie(z._tenantId===(I.tenantId||null),I,"tenant-id-mismatch"),Jr(I,z)})).apply(this,arguments)}function cc(E,m){return ji.apply(this,arguments)}function ji(){return(ji=(0,r.Z)(function*(E,m){return xt(E,"POST","/v1/accounts:createAuthUri",Vt(E,m))})).apply(this,arguments)}function $c(){return($c=(0,r.Z)(function*(E,m){const I={identifier:m,continueUri:ot()?Ze():"http://localhost"},{signinMethods:z}=yield cc((0,v.m9)(E),I);return z||[]})).apply(this,arguments)}function Xr(){return(Xr=(0,r.Z)(function*(E,m){const _=(0,v.m9)(E),z={requestType:"VERIFY_EMAIL",idToken:yield E.getIdToken()};m&&Zu(_.auth,z,m);const{email:re}=yield On(_.auth,z);re!==E.email&&(yield E.reload())})).apply(this,arguments)}function uc(){return(uc=(0,r.Z)(function*(E,m,_){const I=(0,v.m9)(E),re={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield E.getIdToken(),newEmail:m};_&&Zu(I.auth,re,_);const{email:Le}=yield aa(I.auth,re);Le!==E.email&&(yield E.reload())})).apply(this,arguments)}function Wd(E,m){return Yc.apply(this,arguments)}function Yc(){return(Yc=(0,r.Z)(function*(E,m){return xt(E,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function Cl(){return(Cl=(0,r.Z)(function*(E,{displayName:m,photoURL:_}){if(void 0===m&&void 0===_)return;const I=(0,v.m9)(E),re={idToken:yield I.getIdToken(),displayName:m,photoUrl:_,returnSecureToken:!0},Le=yield Er(I,Wd(I.auth,re));I.displayName=Le.displayName||null,I.photoURL=Le.photoUrl||null;const $e=I.providerData.find(({providerId:vt})=>"password"===vt);$e&&($e.displayName=I.displayName,$e.photoURL=I.photoURL),yield I._updateTokensIfNecessary(Le)})).apply(this,arguments)}function Wc(E,m,_){return Kc.apply(this,arguments)}function Kc(){return(Kc=(0,r.Z)(function*(E,m,_){const{auth:I}=E,re={idToken:yield E.getIdToken(),returnSecureToken:!0};m&&(re.email=m),_&&(re.password=_);const Le=yield Er(E,so(I,re));yield E._updateTokensIfNecessary(Le,!0)})).apply(this,arguments)}class wl{constructor(m,_,I={}){this.isNewUser=m,this.providerId=_,this.profile=I}}class Cf extends wl{constructor(m,_,I,z){super(m,_,I),this.username=z}}class wf extends wl{constructor(m,_){super(m,"facebook.com",_)}}class Ef extends Cf{constructor(m,_){super(m,"github.com",_,"string"==typeof(null==_?void 0:_.login)?null==_?void 0:_.login:null)}}class El extends wl{constructor(m,_){super(m,"google.com",_)}}class Rg extends Cf{constructor(m,_,I){super(m,"twitter.com",_,I)}}function Qd(E){const{user:m,_tokenResponse:_}=E;return m.isAnonymous&&!_?{providerId:null,isNewUser:!1,profile:null}:function(E){var m,_;if(!E)return null;const{providerId:I}=E,z=E.rawUserInfo?JSON.parse(E.rawUserInfo):{},re=E.isNewUser||"identitytoolkit#SignupNewUserResponse"===E.kind;if(!I&&(null==E?void 0:E.idToken)){const Le=null===(_=null===(m=pt(E.idToken))||void 0===m?void 0:m.firebase)||void 0===_?void 0:_.sign_in_provider;if(Le)return new wl(re,"anonymous"!==Le&&"custom"!==Le?Le:null)}if(!I)return null;switch(I){case"facebook.com":return new wf(re,z);case"github.com":return new Ef(re,z);case"google.com":return new El(re,z);case"twitter.com":return new Rg(re,z,E.screenName||null);case"custom":case"anonymous":return new wl(re,null);default:return new wl(re,I,z)}}(_)}class js{constructor(m,_){this.type=m,this.credential=_}static _fromIdtoken(m){return new js("enroll",m)}static _fromMfaPendingCredential(m){return new js("signin",m)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(m){var _,I;if(null==m?void 0:m.multiFactorSession){if(null===(_=m.multiFactorSession)||void 0===_?void 0:_.pendingCredential)return js._fromMfaPendingCredential(m.multiFactorSession.pendingCredential);if(null===(I=m.multiFactorSession)||void 0===I?void 0:I.idToken)return js._fromIdtoken(m.multiFactorSession.idToken)}return null}}class dc{constructor(m,_,I){this.session=m,this.hints=_,this.signInResolver=I}static _fromError(m,_){const I=qn(m),z=_.customData._serverResponse,re=(z.mfaInfo||[]).map($e=>Ya._fromServerResponse(I,$e));ie(z.mfaPendingCredential,I,"internal-error");const Le=js._fromMfaPendingCredential(z.mfaPendingCredential);return new dc(Le,re,function(){var $e=(0,r.Z)(function*(vt){const Ft=yield vt._process(I,Le);delete z.mfaInfo,delete z.mfaPendingCredential;const Xt=Object.assign(Object.assign({},z),{idToken:Ft.idToken,refreshToken:Ft.refreshToken});switch(_.operationType){case"signIn":const zt=yield ut._fromIdTokenResponse(I,_.operationType,Xt);return yield I._updateCurrentUser(zt.user),zt;case"reauthenticate":return ie(_.user,I,"internal-error"),ut._forOperation(_.user,_.operationType,Xt);default:Ve(I,"internal-error")}});return function(vt){return $e.apply(this,arguments)}}())}resolveSignIn(m){var _=this;return(0,r.Z)(function*(){return _.signInResolver(m)})()}}function Xc(E,m){return xt(E,"POST","/v2/accounts/mfaEnrollment:start",Vt(E,m))}class th{constructor(m){this.user=m,this.enrolledFactors=[],m._onReload(_=>{_.mfaInfo&&(this.enrolledFactors=_.mfaInfo.map(I=>Ya._fromServerResponse(m.auth,I)))})}static _fromUser(m){return new th(m)}getSession(){var m=this;return(0,r.Z)(function*(){return js._fromIdtoken(yield m.user.getIdToken())})()}enroll(m,_){var I=this;return(0,r.Z)(function*(){const z=m,re=yield I.getSession(),Le=yield Er(I.user,z._process(I.user.auth,re,_));return yield I.user._updateTokensIfNecessary(Le),I.user.reload()})()}unenroll(m){var _=this;return(0,r.Z)(function*(){const I="string"==typeof m?m:m.uid,z=yield _.user.getIdToken(),re=yield Er(_.user,function(E,m){return xt(E,"POST","/v2/accounts/mfaEnrollment:withdraw",Vt(E,m))}(_.user.auth,{idToken:z,mfaEnrollmentId:I}));_.enrolledFactors=_.enrolledFactors.filter(({uid:Le})=>Le!==I),yield _.user._updateTokensIfNecessary(re);try{yield _.user.reload()}catch(Le){if("auth/user-token-expired"!==Le.code)throw Le}})()}}const Lo=new WeakMap,eu="__sak";class Tf{constructor(m,_){this.storageRetriever=m,this.type=_}_isAvailable(){try{return this.storage?(this.storage.setItem(eu,"1"),this.storage.removeItem(eu),Promise.resolve(!0)):Promise.resolve(!1)}catch(m){return Promise.resolve(!1)}}_set(m,_){return this.storage.setItem(m,JSON.stringify(_)),Promise.resolve()}_get(m){const _=this.storage.getItem(m);return Promise.resolve(_?JSON.parse(_):null)}_remove(m){return this.storage.removeItem(m),Promise.resolve()}get storage(){return this.storageRetriever()}}const rh=(()=>{class E extends Tf{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(_,I)=>this.onStorageEvent(_,I),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const E=(0,v.z$)();return ro(E)||Vi(E)}()&&function(){try{return!(!window||window===window.top)}catch(E){return!1}}(),this.fallbackToPolling=bt(),this._shouldAllowMigration=!0}forAllChangedKeys(_){for(const I of Object.keys(this.listeners)){const z=this.storage.getItem(I),re=this.localCache[I];z!==re&&_(I,re,z)}}onStorageEvent(_,I=!1){if(!_.key)return void this.forAllChangedKeys(($e,vt,Ft)=>{this.notifyListeners($e,Ft)});const z=_.key;if(I?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const $e=this.storage.getItem(z);if(_.newValue!==$e)null!==_.newValue?this.storage.setItem(z,_.newValue):this.storage.removeItem(z);else if(this.localCache[z]===_.newValue&&!I)return}const re=()=>{const $e=this.storage.getItem(z);!I&&this.localCache[z]===$e||this.notifyListeners(z,$e)},Le=this.storage.getItem(z);(0,v.w1)()&&10===document.documentMode&&Le!==_.newValue&&_.newValue!==_.oldValue?setTimeout(re,10):re()}notifyListeners(_,I){this.localCache[_]=I;const z=this.listeners[_];if(z)for(const re of Array.from(z))re(I&&JSON.parse(I))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((_,I,z)=>{this.onStorageEvent(new StorageEvent("storage",{key:_,oldValue:I,newValue:z}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(_,I){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[_]||(this.listeners[_]=new Set,this.localCache[_]=this.storage.getItem(_)),this.listeners[_].add(I)}_removeListener(_,I){this.listeners[_]&&(this.listeners[_].delete(I),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(_,I){var z=()=>super._set,re=this;return(0,r.Z)(function*(){yield z().call(re,_,I),re.localCache[_]=JSON.stringify(I)})()}_get(_){var I=()=>super._get,z=this;return(0,r.Z)(function*(){const re=yield I().call(z,_);return z.localCache[_]=JSON.stringify(re),re})()}_remove(_){var I=()=>super._remove,z=this;return(0,r.Z)(function*(){yield I().call(z,_),delete z.localCache[_]})()}}return E.type="LOCAL",E})(),Bo=(()=>{class E extends Tf{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(_,I){}_removeListener(_,I){}}return E.type="SESSION",E})();let Uo=(()=>{class E{constructor(_){this.eventTarget=_,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(_){const I=this.receivers.find(re=>re.isListeningto(_));if(I)return I;const z=new E(_);return this.receivers.push(z),z}isListeningto(_){return this.eventTarget===_}handleEvent(_){var I=this;return(0,r.Z)(function*(){const z=_,{eventId:re,eventType:Le,data:$e}=z.data,vt=I.handlersMap[Le];if(!(null==vt?void 0:vt.size))return;z.ports[0].postMessage({status:"ack",eventId:re,eventType:Le});const Ft=Array.from(vt).map(function(){var zt=(0,r.Z)(function*($i){return $i(z.origin,$e)});return function($i){return zt.apply(this,arguments)}}()),Xt=yield function(E){return Promise.all(E.map(function(){var m=(0,r.Z)(function*(_){try{return{fulfilled:!0,value:yield _}}catch(I){return{fulfilled:!1,reason:I}}});return function(_){return m.apply(this,arguments)}}()))}(Ft);z.ports[0].postMessage({status:"done",eventId:re,eventType:Le,response:Xt})})()}_subscribe(_,I){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[_]||(this.handlersMap[_]=new Set),this.handlersMap[_].add(I)}_unsubscribe(_,I){this.handlersMap[_]&&I&&this.handlersMap[_].delete(I),(!I||0===this.handlersMap[_].size)&&delete this.handlersMap[_],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return E.receivers=[],E})();function _a(E="",m=10){let _="";for(let I=0;I<m;I++)_+=Math.floor(10*Math.random());return E+_}class xf{constructor(m){this.target=m,this.handlers=new Set}removeMessageHandler(m){m.messageChannel&&(m.messageChannel.port1.removeEventListener("message",m.onMessage),m.messageChannel.port1.close()),this.handlers.delete(m)}_send(m,_,I=50){var z=this;return(0,r.Z)(function*(){const re="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!re)throw new Error("connection_unavailable");let Le,$e;return new Promise((vt,Ft)=>{const Xt=_a("",20);re.port1.start();const zt=setTimeout(()=>{Ft(new Error("unsupported_event"))},I);$e={messageChannel:re,onMessage($i){const qo=$i;if(qo.data.eventId===Xt)switch(qo.data.status){case"ack":clearTimeout(zt),Le=setTimeout(()=>{Ft(new Error("timeout"))},3e3);break;case"done":clearTimeout(Le),vt(qo.data.response);break;default:clearTimeout(zt),clearTimeout(Le),Ft(new Error("invalid_response"))}}},z.handlers.add($e),re.port1.addEventListener("message",$e.onMessage),z.target.postMessage({eventType:m,eventId:Xt,data:_},[re.port2])}).finally(()=>{$e&&z.removeMessageHandler($e)})})()}}function Ei(){return window}function If(){return void 0!==Ei().WorkerGlobalScope&&"function"==typeof Ei().importScripts}function tu(){return(tu=(0,r.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(E){return null}})).apply(this,arguments)}const sh="firebaseLocalStorageDb",oh="firebaseLocalStorage",ah="fbase_key";class va{constructor(m){this.request=m}toPromise(){return new Promise((m,_)=>{this.request.addEventListener("success",()=>{m(this.request.result)}),this.request.addEventListener("error",()=>{_(this.request.error)})})}}function Sl(E,m){return E.transaction([oh],m?"readwrite":"readonly").objectStore(oh)}function ft(){const E=indexedDB.open(sh,1);return new Promise((m,_)=>{E.addEventListener("error",()=>{_(E.error)}),E.addEventListener("upgradeneeded",()=>{const I=E.result;try{I.createObjectStore(oh,{keyPath:ah})}catch(z){_(z)}}),E.addEventListener("success",(0,r.Z)(function*(){const I=E.result;I.objectStoreNames.contains(oh)?m(I):(I.close(),yield function(){const E=indexedDB.deleteDatabase(sh);return new va(E).toPromise()}(),m(yield ft()))}))})}function yt(E,m,_){return nu.apply(this,arguments)}function nu(){return(nu=(0,r.Z)(function*(E,m,_){const I=Sl(E,!0).put({[ah]:m,value:_});return new va(I).toPromise()})).apply(this,arguments)}function Za(){return(Za=(0,r.Z)(function*(E,m){const _=Sl(E,!1).get(m),I=yield new va(_).toPromise();return void 0===I?null:I.value})).apply(this,arguments)}function xl(E,m){const _=Sl(E,!0).delete(m);return new va(_).toPromise()}const ba=(()=>{class E{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var _=this;return(0,r.Z)(function*(){return _.db||(_.db=yield ft()),_.db})()}_withRetries(_){var I=this;return(0,r.Z)(function*(){let z=0;for(;;)try{const re=yield I._openDb();return yield _(re)}catch(re){if(z++>3)throw re;I.db&&(I.db.close(),I.db=void 0)}})()}initializeServiceWorkerMessaging(){var _=this;return(0,r.Z)(function*(){return If()?_.initializeReceiver():_.initializeSender()})()}initializeReceiver(){var _=this;return(0,r.Z)(function*(){_.receiver=Uo._getInstance(If()?self:null),_.receiver._subscribe("keyChanged",function(){var I=(0,r.Z)(function*(z,re){return{keyProcessed:(yield _._poll()).includes(re.key)}});return function(z,re){return I.apply(this,arguments)}}()),_.receiver._subscribe("ping",function(){var I=(0,r.Z)(function*(z,re){return["keyChanged"]});return function(z,re){return I.apply(this,arguments)}}())})()}initializeSender(){var _=this;return(0,r.Z)(function*(){var I,z;if(_.activeServiceWorker=yield function(){return tu.apply(this,arguments)}(),!_.activeServiceWorker)return;_.sender=new xf(_.activeServiceWorker);const re=yield _.sender._send("ping",{},800);!re||(null===(I=re[0])||void 0===I?void 0:I.fulfilled)&&(null===(z=re[0])||void 0===z?void 0:z.value.includes("keyChanged"))&&(_.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(_){var I=this;return(0,r.Z)(function*(){if(I.sender&&I.activeServiceWorker&&function(){var E;return(null===(E=null==navigator?void 0:navigator.serviceWorker)||void 0===E?void 0:E.controller)||null}()===I.activeServiceWorker)try{yield I.sender._send("keyChanged",{key:_},I.serviceWorkerReceiverAvailable?800:50)}catch(z){}})()}_isAvailable(){return(0,r.Z)(function*(){try{if(!indexedDB)return!1;const _=yield ft();return yield yt(_,eu,"1"),yield xl(_,eu),!0}catch(_){}return!1})()}_withPendingWrite(_){var I=this;return(0,r.Z)(function*(){I.pendingWrites++;try{yield _()}finally{I.pendingWrites--}})()}_set(_,I){var z=this;return(0,r.Z)(function*(){return z._withPendingWrite((0,r.Z)(function*(){return yield z._withRetries(re=>yt(re,_,I)),z.localCache[_]=I,z.notifyServiceWorker(_)}))})()}_get(_){var I=this;return(0,r.Z)(function*(){const z=yield I._withRetries(re=>function(E,m){return Za.apply(this,arguments)}(re,_));return I.localCache[_]=z,z})()}_remove(_){var I=this;return(0,r.Z)(function*(){return I._withPendingWrite((0,r.Z)(function*(){return yield I._withRetries(z=>xl(z,_)),delete I.localCache[_],I.notifyServiceWorker(_)}))})()}_poll(){var _=this;return(0,r.Z)(function*(){const I=yield _._withRetries(Le=>{const $e=Sl(Le,!1).getAll();return new va($e).toPromise()});if(!I)return[];if(0!==_.pendingWrites)return[];const z=[],re=new Set;for(const{fbase_key:Le,value:$e}of I)re.add(Le),JSON.stringify(_.localCache[Le])!==JSON.stringify($e)&&(_.notifyListeners(Le,$e),z.push(Le));for(const Le of Object.keys(_.localCache))_.localCache[Le]&&!re.has(Le)&&(_.notifyListeners(Le,null),z.push(Le));return z})()}notifyListeners(_,I){this.localCache[_]=I;const z=this.listeners[_];if(z)for(const re of Array.from(z))re(I)}startPolling(){var _=this;this.stopPolling(),this.pollTimer=setInterval((0,r.Z)(function*(){return _._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(_,I){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[_]||(this.listeners[_]=new Set,this._get(_)),this.listeners[_].add(I)}_removeListener(_,I){this.listeners[_]&&(this.listeners[_].delete(I),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return E.type="LOCAL",E})();function Bn(E,m){return xt(E,"POST","/v2/accounts/mfaSignIn:start",Vt(E,m))}function iu(){return(iu=(0,r.Z)(function*(E){return(yield xt(E,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function lh(E){return new Promise((m,_)=>{const I=document.createElement("script");I.setAttribute("src",E),I.onload=m,I.onerror=z=>{const re=ze("internal-error");re.customData=z,_(re)},I.type="text/javascript",I.charset="UTF-8",function(){var E,m;return null!==(m=null===(E=document.getElementsByTagName("head"))||void 0===E?void 0:E[0])&&void 0!==m?m:document}().appendChild(I)})}function pc(E){return`__${E}${Math.floor(1e6*Math.random())}`}const qs=1e12;class Wa{constructor(m){this.auth=m,this.counter=qs,this._widgets=new Map}render(m,_){const I=this.counter;return this._widgets.set(I,new Ka(m,this.auth.name,_||{})),this.counter++,I}reset(m){var _;const I=m||qs;null===(_=this._widgets.get(I))||void 0===_||_.delete(),this._widgets.delete(I)}getResponse(m){var _;return(null===(_=this._widgets.get(m||qs))||void 0===_?void 0:_.getResponse())||""}execute(m){var _=this;return(0,r.Z)(function*(){var I;return null===(I=_._widgets.get(m||qs))||void 0===I||I.execute(),""})()}}class Ka{constructor(m,_,I){this.params=I,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const z="string"==typeof m?document.getElementById(m):m;ie(z,"argument-error",{appName:_}),this.container=z,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function(E){const m=[],_="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let I=0;I<50;I++)m.push(_.charAt(Math.floor(Math.random()*_.length)));return m.join("")}();const{callback:m,"expired-callback":_}=this.params;if(m)try{m(this.responseToken)}catch(I){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,_)try{_()}catch(I){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const os=pc("rcb"),kf=new Qe(3e4,6e4);class ho{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!Ei().grecaptcha}load(m,_=""){return ie((E=_).length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(E),m,"argument-error"),this.shouldResolveImmediately(_)?Promise.resolve(Ei().grecaptcha):new Promise((I,z)=>{const re=Ei().setTimeout(()=>{z(ze(m,"network-request-failed"))},kf.get());Ei()[os]=()=>{Ei().clearTimeout(re),delete Ei()[os];const $e=Ei().grecaptcha;if(!$e)return void z(ze(m,"internal-error"));const vt=$e.render;$e.render=(Ft,Xt)=>{const zt=vt(Ft,Xt);return this.counter++,zt},this.hostLanguage=_,I($e)},lh(`https://www.google.com/recaptcha/api.js??${(0,v.xO)({onload:os,render:"explicit",hl:_})}`).catch(()=>{clearTimeout(re),z(ze(m,"internal-error"))})});var E}clearedOneInstance(){this.counter--}shouldResolveImmediately(m){return!!Ei().grecaptcha&&(m===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class ty{load(m){return(0,r.Z)(function*(){return new Wa(m)})()}clearedOneInstance(){}}const vi="recaptcha",Pg={theme:"light",type:"image"};class Xu{constructor(m,_=Object.assign({},Pg),I){this.parameters=_,this.type=vi,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=qn(I),this.isInvisible="invisible"===this.parameters.size,ie("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const z="string"==typeof m?document.getElementById(m):m;ie(z,this.auth,"argument-error"),this.container=z,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new ty:new ho,this.validateStartingState()}verify(){var m=this;return(0,r.Z)(function*(){m.assertNotDestroyed();const _=yield m.render(),I=m.getAssertedRecaptcha();return I.getResponse(_)||new Promise(re=>{const Le=$e=>{!$e||(m.tokenChangeListeners.delete(Le),re($e))};m.tokenChangeListeners.add(Le),m.isInvisible&&I.execute(_)})})()}render(){try{this.assertNotDestroyed()}catch(m){return Promise.reject(m)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(m=>{throw this.renderPromise=null,m})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(m=>{this.container.removeChild(m)})}validateStartingState(){ie(!this.parameters.sitekey,this.auth,"argument-error"),ie(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ie("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(m){return _=>{if(this.tokenChangeListeners.forEach(I=>I(_)),"function"==typeof m)m(_);else if("string"==typeof m){const I=Ei()[m];"function"==typeof I&&I(_)}}}assertNotDestroyed(){ie(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var m=this;return(0,r.Z)(function*(){if(yield m.init(),!m.widgetId){let _=m.container;if(!m.isInvisible){const I=document.createElement("div");_.appendChild(I),_=I}m.widgetId=m.getAssertedRecaptcha().render(_,m.parameters)}return m.widgetId})()}init(){var m=this;return(0,r.Z)(function*(){ie(ot()&&!If(),m.auth,"internal-error"),yield function(){let E=null;return new Promise(m=>{"complete"!==document.readyState?(E=()=>m(),window.addEventListener("load",E)):m()}).catch(m=>{throw E&&window.removeEventListener("load",E),m})}(),m.recaptcha=yield m._recaptchaLoader.load(m.auth,m.auth.languageCode||void 0);const _=yield function(E){return iu.apply(this,arguments)}(m.auth);ie(_,m.auth,"internal-error"),m.parameters.sitekey=_})()}getAssertedRecaptcha(){return ie(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Rf{constructor(m,_){this.verificationId=m,this.onConfirmation=_}confirm(m){const _=lo._fromVerification(this.verificationId,m);return this.onConfirmation(_)}}function Di(){return(Di=(0,r.Z)(function*(E,m,_){const I=qn(E),z=yield ru(I,m,(0,v.m9)(_));return new Rf(z,re=>Jr(I,re))})).apply(this,arguments)}function Of(){return(Of=(0,r.Z)(function*(E,m,_){const I=(0,v.m9)(E);yield co(!1,I,"phone");const z=yield ru(I.auth,m,(0,v.m9)(_));return new Rf(z,re=>Yu(I,re))})).apply(this,arguments)}function xn(){return(xn=(0,r.Z)(function*(E,m,_){const I=(0,v.m9)(E),z=yield ru(I.auth,m,(0,v.m9)(_));return new Rf(z,re=>ss(I,re))})).apply(this,arguments)}function ru(E,m,_){return Qa.apply(this,arguments)}function Qa(){return(Qa=(0,r.Z)(function*(E,m,_){var I;const z=yield _.verify();try{let re;if(ie("string"==typeof z,E,"argument-error"),ie(_.type===vi,E,"argument-error"),re="string"==typeof m?{phoneNumber:m}:m,"session"in re){const Le=re.session;if("phoneNumber"in re)return ie("enroll"===Le.type,E,"internal-error"),(yield Xc(E,{idToken:Le.credential,phoneEnrollmentInfo:{phoneNumber:re.phoneNumber,recaptchaToken:z}})).phoneSessionInfo.sessionInfo;{ie("signin"===Le.type,E,"internal-error");const $e=(null===(I=re.multiFactorHint)||void 0===I?void 0:I.uid)||re.multiFactorUid;return ie($e,E,"missing-multi-factor-info"),(yield Bn(E,{mfaPendingCredential:Le.credential,mfaEnrollmentId:$e,phoneSignInInfo:{recaptchaToken:z}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Le}=yield Es(E,{phoneNumber:re.phoneNumber,recaptchaToken:z});return Le}}finally{_._reset()}})).apply(this,arguments)}function Ti(){return(Ti=(0,r.Z)(function*(E,m){yield Vn((0,v.m9)(E),m)})).apply(this,arguments)}let jo=(()=>{class E{constructor(_){this.providerId=E.PROVIDER_ID,this.auth=qn(_)}verifyPhoneNumber(_,I){return ru(this.auth,_,(0,v.m9)(I))}static credential(_,I){return lo._fromVerification(_,I)}static credentialFromResult(_){return E.credentialFromTaggedObject(_)}static credentialFromError(_){return E.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{phoneNumber:I,temporaryProof:z}=_;return I&&z?lo._fromTokenResponse(I,z):null}}return E.PROVIDER_ID="phone",E.PHONE_SIGN_IN_METHOD="phone",E})();function ci(E,m){return m?ae(m):(ie(E._popupRedirectResolver,E,"argument-error"),E._popupRedirectResolver)}class gc extends ki{constructor(m){super("custom","custom"),this.params=m}_getIdTokenResponse(m){return yi(m,this._buildIdpRequest())}_linkToIdToken(m,_){return yi(m,this._buildIdpRequest(_))}_getReauthenticationResolver(m){return yi(m,this._buildIdpRequest())}_buildIdpRequest(m){const _={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return m&&(_.idToken=m),_}}function Pf(E){return $u(E.auth,new gc(E),E.bypassAuthState)}function fo(E){const{auth:m,user:_}=E;return ie(_,m,"internal-error"),ai(_,new gc(E),E.bypassAuthState)}function Ho(E){return Al.apply(this,arguments)}function Al(){return(Al=(0,r.Z)(function*(E){const{auth:m,user:_}=E;return ie(_,m,"internal-error"),Vn(_,new gc(E),E.bypassAuthState)})).apply(this,arguments)}class Ds{constructor(m,_,I,z,re=!1){this.auth=m,this.resolver=I,this.user=z,this.bypassAuthState=re,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(_)?_:[_]}execute(){var m=this;return new Promise(function(){var _=(0,r.Z)(function*(I,z){m.pendingPromise={resolve:I,reject:z};try{m.eventManager=yield m.resolver._initialize(m.auth),yield m.onExecution(),m.eventManager.registerConsumer(m)}catch(re){m.reject(re)}});return function(I,z){return _.apply(this,arguments)}}())}onAuthEvent(m){var _=this;return(0,r.Z)(function*(){const{urlResponse:I,sessionId:z,postBody:re,tenantId:Le,error:$e,type:vt}=m;if($e)return void _.reject($e);const Ft={auth:_.auth,requestUri:I,sessionId:z,tenantId:Le||void 0,postBody:re||void 0,user:_.user,bypassAuthState:_.bypassAuthState};try{_.resolve(yield _.getIdpTask(vt)(Ft))}catch(Xt){_.reject(Xt)}})()}onError(m){this.reject(m)}getIdpTask(m){switch(m){case"signInViaPopup":case"signInViaRedirect":return Pf;case"linkViaPopup":case"linkViaRedirect":return Ho;case"reauthViaPopup":case"reauthViaRedirect":return fo;default:Ve(this.auth,"internal-error")}}resolve(m){K(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(m),this.unregisterAndCleanUp()}reject(m){K(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(m),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const wa=new Qe(2e3,1e4);function ed(){return(ed=(0,r.Z)(function*(E,m,_){const I=qn(E);Ie(E,m,U);const z=ci(I,_);return new qi(I,"signInViaPopup",m,z).executeNotNull()})).apply(this,arguments)}function Ff(){return(Ff=(0,r.Z)(function*(E,m,_){const I=(0,v.m9)(E);Ie(I.auth,m,U);const z=ci(I.auth,_);return new qi(I.auth,"reauthViaPopup",m,z,I).executeNotNull()})).apply(this,arguments)}function td(){return(td=(0,r.Z)(function*(E,m,_){const I=(0,v.m9)(E);Ie(I.auth,m,U);const z=ci(I.auth,_);return new qi(I.auth,"linkViaPopup",m,z,I).executeNotNull()})).apply(this,arguments)}let qi=(()=>{class E extends Ds{constructor(_,I,z,re,Le){super(_,I,re,Le),this.provider=z,this.authWindow=null,this.pollId=null,E.currentPopupAction&&E.currentPopupAction.cancel(),E.currentPopupAction=this}executeNotNull(){var _=this;return(0,r.Z)(function*(){const I=yield _.execute();return ie(I,_.auth,"internal-error"),I})()}onExecution(){var _=this;return(0,r.Z)(function*(){K(1===_.filter.length,"Popup operations only handle one event");const I=_a();_.authWindow=yield _.resolver._openPopup(_.auth,_.provider,_.filter[0],I),_.authWindow.associatedEvent=I,_.resolver._originValidation(_.auth).catch(z=>{_.reject(z)}),_.resolver._isIframeWebStorageSupported(_.auth,z=>{z||_.reject(ze(_.auth,"web-storage-unsupported"))}),_.pollUserCancellation()})()}get eventId(){var _;return(null===(_=this.authWindow)||void 0===_?void 0:_.associatedEvent)||null}cancel(){this.reject(ze(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,E.currentPopupAction=null}pollUserCancellation(){const _=()=>{var I,z;this.pollId=(null===(z=null===(I=this.authWindow)||void 0===I?void 0:I.window)||void 0===z?void 0:z.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(ze(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(_,wa.get())};_()}}return E.currentPopupAction=null,E})();const Ea=new Map;class Qn extends Ds{constructor(m,_,I=!1){super(m,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],_,void 0,I),this.eventId=null}execute(){var m=()=>super.execute,_=this;return(0,r.Z)(function*(){let I=Ea.get(_.auth._key());if(!I){try{const re=(yield function(E,m){return P.apply(this,arguments)}(_.resolver,_.auth))?yield m().call(_):null;I=()=>Promise.resolve(re)}catch(z){I=()=>Promise.reject(z)}Ea.set(_.auth._key(),I)}return _.bypassAuthState||Ea.set(_.auth._key(),()=>Promise.resolve(null)),I()})()}onAuthEvent(m){var _=()=>super.onAuthEvent,I=this;return(0,r.Z)(function*(){if("signInViaRedirect"===m.type)return _().call(I,m);if("unknown"!==m.type){if(m.eventId){const z=yield I.auth._redirectUserForId(m.eventId);if(z)return I.user=z,_().call(I,m);I.resolve(null)}}else I.resolve(null)})()}onExecution(){return(0,r.Z)(function*(){})()}cleanUp(){}}function P(){return(P=(0,r.Z)(function*(E,m){const _=Ye(m),I=Be(E);if(!(yield I._isAvailable()))return!1;const z="true"===(yield I._get(_));return yield I._remove(_),z})).apply(this,arguments)}function V(E,m){return J.apply(this,arguments)}function J(){return(J=(0,r.Z)(function*(E,m){return Be(E)._set(Ye(m),"true")})).apply(this,arguments)}function Be(E){return ae(E._redirectPersistence)}function Ye(E){return oi("pendingRedirect",E.config.apiKey,E.name)}function kt(){return(kt=(0,r.Z)(function*(E,m,_){const I=qn(E);Ie(E,m,U);const z=ci(I,_);return yield V(z,I),z._openRedirect(I,m,"signInViaRedirect")})).apply(this,arguments)}function zi(){return(zi=(0,r.Z)(function*(E,m,_){const I=(0,v.m9)(E);Ie(I.auth,m,U);const z=ci(I.auth,_);yield V(z,I.auth);const re=yield sn(I);return z._openRedirect(I.auth,m,"reauthViaRedirect",re)})).apply(this,arguments)}function mc(){return(mc=(0,r.Z)(function*(E,m,_){const I=(0,v.m9)(E);Ie(I.auth,m,U);const z=ci(I.auth,_);yield co(!1,I,m.providerId),yield V(z,I.auth);const re=yield sn(I);return z._openRedirect(I.auth,m,"linkViaRedirect",re)})).apply(this,arguments)}function _c(){return(_c=(0,r.Z)(function*(E,m){return yield qn(E)._initializationPromise,Gs(E,m,!1)})).apply(this,arguments)}function Gs(E,m){return Ss.apply(this,arguments)}function Ss(){return(Ss=(0,r.Z)(function*(E,m,_=!1){const I=qn(E),z=ci(I,m),Le=yield new Qn(I,z,_).execute();return Le&&!_&&(delete Le.user._redirectEventId,yield I._persistUserIfCurrent(Le.user),yield I._setRedirectUser(null,m)),Le})).apply(this,arguments)}function sn(E){return Ng.apply(this,arguments)}function Ng(){return(Ng=(0,r.Z)(function*(E){const m=_a(`${E.uid}:::`);return E._redirectEventId=m,yield E.auth._setRedirectUser(E),yield E.auth._persistUserIfCurrent(E),m})).apply(this,arguments)}class Lf{constructor(m){this.auth=m,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(m){this.consumers.add(m),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,m)&&(this.sendToConsumer(this.queuedRedirectEvent,m),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(m){this.consumers.delete(m)}onEvent(m){if(this.hasEventBeenHandled(m))return!1;let _=!1;return this.consumers.forEach(I=>{this.isEventForConsumer(m,I)&&(_=!0,this.sendToConsumer(m,I),this.saveEventToCache(m))}),this.hasHandledPotentialRedirect||!function(E){switch(E.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return yc(E);default:return!1}}(m)||(this.hasHandledPotentialRedirect=!0,_||(this.queuedRedirectEvent=m,_=!0)),_}sendToConsumer(m,_){var I;if(m.error&&!yc(m)){const z=(null===(I=m.error.code)||void 0===I?void 0:I.split("auth/")[1])||"internal-error";_.onError(ze(this.auth,z))}else _.onAuthEvent(m)}isEventForConsumer(m,_){const I=null===_.eventId||!!m.eventId&&m.eventId===_.eventId;return _.filter.includes(m.type)&&I}hasEventBeenHandled(m){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Vf(m))}saveEventToCache(m){this.cachedEventUids.add(Vf(m)),this.lastProcessedEventTime=Date.now()}}function Vf(E){return[E.type,E.eventId,E.sessionId,E.tenantId].filter(m=>m).join("-")}function yc({type:E,error:m}){return"unknown"===E&&"auth/no-auth-event"===(null==m?void 0:m.code)}function ry(E){return po.apply(this,arguments)}function po(){return(po=(0,r.Z)(function*(E,m={}){return xt(E,"GET","/v1/projects",m)})).apply(this,arguments)}const Fg=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,G0=/^https?/;function Ja(){return(Ja=(0,r.Z)(function*(E){if(E.config.emulator)return;const{authorizedDomains:m}=yield ry(E);for(const _ of m)try{if(gr(_))return}catch(I){}Ve(E,"unauthorized-domain")})).apply(this,arguments)}function gr(E){const m=Ze(),{protocol:_,hostname:I}=new URL(m);if(E.startsWith("chrome-extension://")){const Le=new URL(E);return""===Le.hostname&&""===I?"chrome-extension:"===_&&E.replace("chrome-extension://","")===m.replace("chrome-extension://",""):"chrome-extension:"===_&&Le.hostname===I}if(!G0.test(_))return!1;if(Fg.test(E))return I===E;const z=E.replace(/\./g,"\\.");return new RegExp("^(.+\\."+z+"|"+z+")$","i").test(I)}const ts=new Qe(3e4,6e4);function sy(){const E=Ei().___jsl;if(null==E?void 0:E.H)for(const m of Object.keys(E.H))if(E.H[m].r=E.H[m].r||[],E.H[m].L=E.H[m].L||[],E.H[m].r=[...E.H[m].L],E.CP)for(let _=0;_<E.CP.length;_++)E.CP[_]=null}let au=null;function dh(E){return au=au||function(E){return new Promise((m,_)=>{var I,z,re;function Le(){sy(),gapi.load("gapi.iframes",{callback:()=>{m(gapi.iframes.getContext())},ontimeout:()=>{sy(),_(ze(E,"network-request-failed"))},timeout:ts.get()})}if(null===(z=null===(I=Ei().gapi)||void 0===I?void 0:I.iframes)||void 0===z?void 0:z.Iframe)m(gapi.iframes.getContext());else{if(!(null===(re=Ei().gapi)||void 0===re?void 0:re.load)){const $e=pc("iframefcb");return Ei()[$e]=()=>{gapi.load?Le():_(ze(E,"network-request-failed"))},lh(`https://apis.google.com/js/api.js?onload=${$e}`).catch(vt=>_(vt))}Le()}}).catch(m=>{throw au=null,m})}(E),au}const ay=new Qe(5e3,15e3),lu={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},nd=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Bf(E){const m=E.config;ie(m.authDomain,E,"auth-domain-config-required");const _=m.emulator?St(m,"emulator/auth/iframe"):`https://${E.config.authDomain}/__/auth/iframe`,I={apiKey:m.apiKey,appName:E.name,v:T.SDK_VERSION},z=nd.get(E.config.apiHost);z&&(I.eid=z);const re=E._getFrameworks();return re.length&&(I.fw=re.join(",")),`${_}?${(0,v.xO)(I).slice(1)}`}function Cn(){return(Cn=(0,r.Z)(function*(E){const m=yield dh(E),_=Ei().gapi;return ie(_,E,"internal-error"),m.open({where:document.body,url:Bf(E),messageHandlersFilter:_.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:lu,dontclear:!0},I=>new Promise(function(){var z=(0,r.Z)(function*(re,Le){yield I.restyle({setHideOnLeave:!1});const $e=ze(E,"network-request-failed"),vt=Ei().setTimeout(()=>{Le($e)},ay.get());function Ft(){Ei().clearTimeout(vt),re(I)}I.ping(Ft).then(Ft,()=>{Le($e)})});return function(re,Le){return z.apply(this,arguments)}}()))})).apply(this,arguments)}const hh={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class rd{constructor(m){this.window=m,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(m){}}}function ph(E,m,_,I,z,re){ie(E.config.authDomain,E,"auth-domain-config-required"),ie(E.config.apiKey,E,"invalid-api-key");const Le={apiKey:E.config.apiKey,appName:E.name,authType:_,redirectUrl:I,v:T.SDK_VERSION,eventId:z};if(m instanceof U){m.setDefaultLanguage(E.languageCode),Le.providerId=m.providerId||"",(0,v.xb)(m.getCustomParameters())||(Le.customParameters=JSON.stringify(m.getCustomParameters()));for(const[vt,Ft]of Object.entries(re||{}))Le[vt]=Ft}if(m instanceof Y){const vt=m.getScopes().filter(Ft=>""!==Ft);vt.length>0&&(Le.scopes=vt.join(","))}E.tenantId&&(Le.tid=E.tenantId);const $e=Le;for(const vt of Object.keys($e))void 0===$e[vt]&&delete $e[vt];return`${function({config:E}){return E.emulator?St(E,"emulator/auth/handler"):`https://${E.authDomain}/__/auth/handler`}(E)}?${(0,v.xO)($e).slice(1)}`}const uu="webStorageSupport";class Ol extends class{constructor(m){this.factorId=m}_process(m,_,I){switch(_.type){case"enroll":return this._finalizeEnroll(m,_.credential,I);case"signin":return this._finalizeSignIn(m,_.credential);default:return pe("unexpected MultiFactorSessionType")}}}{constructor(m){super("phone"),this.credential=m}static _fromCredential(m){return new Ol(m)}_finalizeEnroll(m,_,I){return function(E,m){return xt(E,"POST","/v2/accounts/mfaEnrollment:finalize",Vt(E,m))}(m,{idToken:_,displayName:I,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(m,_){return function(E,m){return xt(E,"POST","/v2/accounts/mfaSignIn:finalize",Vt(E,m))}(m,{mfaPendingCredential:_,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Z0=(()=>{class E{constructor(){}static assertion(_){return Ol._fromCredential(_)}}return E.FACTOR_ID="phone",E})();var E,uy="@firebase/auth";class W0{constructor(m){this.auth=m,this.internalListeners=new Map}getUid(){var m;return this.assertAuthConfigured(),(null===(m=this.auth.currentUser)||void 0===m?void 0:m.uid)||null}getToken(m){var _=this;return(0,r.Z)(function*(){return _.assertAuthConfigured(),yield _.auth._initializationPromise,_.auth.currentUser?{accessToken:yield _.auth.currentUser.getIdToken(m)}:null})()}addAuthTokenListener(m){if(this.assertAuthConfigured(),this.internalListeners.has(m))return;const _=this.auth.onIdTokenChanged(I=>{var z;m((null===(z=I)||void 0===z?void 0:z.stsTokenManager.accessToken)||null)});this.internalListeners.set(m,_),this.updateProactiveRefresh()}removeAuthTokenListener(m){this.assertAuthConfigured();const _=this.internalListeners.get(m);!_||(this.internalListeners.delete(m),_(),this.updateProactiveRefresh())}assertAuthConfigured(){ie(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function vc(){return window}function yh(){return(yh=(0,r.Z)(function*(E,m,_){var I;const{BuildInfo:z}=vc();K(m.sessionId,"AuthEvent did not contain a session ID");const re=yield fy(m.sessionId),Le={};return Vi()?Le.ibi=z.packageName:Tr()?Le.apn=z.packageName:Ve(E,"operation-not-supported-in-this-environment"),z.displayName&&(Le.appDisplayName=z.displayName),Le.sessionId=re,ph(E,_,m.type,void 0,null!==(I=m.eventId)&&void 0!==I?I:void 0,Le)})).apply(this,arguments)}function du(){return(du=(0,r.Z)(function*(E){const{BuildInfo:m}=vc(),_={};Vi()?_.iosBundleId=m.packageName:Tr()?_.androidPackageName=m.packageName:Ve(E,"operation-not-supported-in-this-environment"),yield ry(E,_)})).apply(this,arguments)}function Hg(){return(Hg=(0,r.Z)(function*(E,m,_){const{cordova:I}=vc();let z=()=>{};try{yield new Promise((re,Le)=>{let $e=null;function vt(){var zt;re();const $i=null===(zt=I.plugins.browsertab)||void 0===zt?void 0:zt.close;"function"==typeof $i&&$i(),"function"==typeof(null==_?void 0:_.close)&&_.close()}function Ft(){$e||($e=window.setTimeout(()=>{Le(ze(E,"redirect-cancelled-by-user"))},2e3))}function Xt(){"visible"===(null==document?void 0:document.visibilityState)&&Ft()}m.addPassiveListener(vt),document.addEventListener("resume",Ft,!1),Tr()&&document.addEventListener("visibilitychange",Xt,!1),z=()=>{m.removePassiveListener(vt),document.removeEventListener("resume",Ft,!1),document.removeEventListener("visibilitychange",Xt,!1),$e&&window.clearTimeout($e)}})}finally{z()}})).apply(this,arguments)}function fy(E){return py.apply(this,arguments)}function py(){return(py=(0,r.Z)(function*(E){const m=Hf(E),_=yield crypto.subtle.digest("SHA-256",m);return Array.from(new Uint8Array(_)).map(z=>z.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Hf(E){if(K(/[0-9a-zA-Z]+/.test(E),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(E);const m=new ArrayBuffer(E.length),_=new Uint8Array(m);for(let I=0;I<E.length;I++)_[I]=E.charCodeAt(I);return _}E="Browser",(0,T._registerComponent)(new F.wA("auth",(m,{options:_})=>{const I=m.getProvider("app").getImmediate(),{apiKey:z,authDomain:re}=I.options;return(Le=>{ie(z&&!z.includes(":"),"invalid-api-key",{appName:Le.name}),ie(!(null==re?void 0:re.includes(":")),"argument-error",{appName:Le.name});const $e={apiKey:z,authDomain:re,clientPlatform:E,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:In(E)},vt=new hr(Le,$e);return function(E,m){const _=(null==m?void 0:m.persistence)||[],I=(Array.isArray(_)?_:[_]).map(ae);(null==m?void 0:m.errorMap)&&E._updateErrorMap(m.errorMap),E._initializeWithPersistence(I,null==m?void 0:m.popupRedirectResolver)}(vt,_),vt})(I)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((m,_,I)=>{m.getProvider("auth-internal").initialize()})),(0,T._registerComponent)(new F.wA("auth-internal",m=>{const _=qn(m.getProvider("auth").getImmediate());return new W0(_)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,T.registerVersion)(uy,"0.19.7",void 0),(0,T.registerVersion)(uy,"0.19.7","esm2017");class qf extends Lf{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(m=>{this.resolveInialized=m})}addPassiveListener(m){this.passiveListeners.add(m)}removePassiveListener(m){this.passiveListeners.delete(m)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(m){return this.resolveInialized(),this.passiveListeners.forEach(_=>_(m)),super.onEvent(m)}initialized(){var m=this;return(0,r.Z)(function*(){yield m.initPromise})()}}function vh(E){return zf.apply(this,arguments)}function zf(){return(zf=(0,r.Z)(function*(E){const m=yield gy()._get(my(E));return m&&(yield gy()._remove(my(E))),m})).apply(this,arguments)}function Q0(){const E=[],m="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let _=0;_<20;_++){const I=Math.floor(Math.random()*m.length);E.push(m.charAt(I))}return E.join("")}function gy(){return ae(rh)}function my(E){return oi("authEvent",E.config.apiKey,E.name)}function Xa(E){if(!(null==E?void 0:E.includes("?")))return{};const[m,..._]=E.split("?");return(0,v.zd)(_.join("?"))}function yy(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:ze("no-auth-event")}}function bc(){var E;return(null===(E=null==self?void 0:self.location)||void 0===E?void 0:E.protocol)||null}function Gf(E=(0,v.z$)()){return!("file:"!==bc()&&"ionic:"!==bc()||!E.toLowerCase().match(/iphone|ipad|ipod|android/))}function $f(){try{const E=self.localStorage,m=_a();if(E)return E.setItem(m,"1"),E.removeItem(m),!function(E=(0,v.z$)()){return(0,v.w1)()&&11===(null==document?void 0:document.documentMode)||function(E=(0,v.z$)()){return/Edge\/\d+/.test(E)}(E)}()||(0,v.hl)()}catch(E){return Yf()&&(0,v.hl)()}return!1}function Yf(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function Zf(){return("http:"===bc()||"https:"===bc()||(0,v.ru)()||Gf())&&!((0,v.b$)()||(0,v.UG)())&&$f()&&!Yf()}function Cy(){return Gf()&&"undefined"!=typeof document}function el(){return(el=(0,r.Z)(function*(){return!!Cy()&&new Promise(E=>{const m=setTimeout(()=>{E(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(m),E(!0)})})})).apply(this,arguments)}const Fr={LOCAL:"local",NONE:"none",SESSION:"session"},Wf=ie,ad="persistence";function wh(E){return Cc.apply(this,arguments)}function Cc(){return(Cc=(0,r.Z)(function*(E){yield E._initializationPromise;const m=Lr(),_=oi(ad,E.config.apiKey,E.name);m&&m.setItem(_,E._getPersistence())})).apply(this,arguments)}function Lr(){var E;try{return(null===(E="undefined"!=typeof window?window:null)||void 0===E?void 0:E.sessionStorage)||null}catch(m){return null}}const cd=ie;class tl{constructor(){this.browserResolver=ae(class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Bo,this._completeRedirectFn=Gs}_openPopup(m,_,I,z){var re=this;return(0,r.Z)(function*(){var Le;K(null===(Le=re.eventManagers[m._key()])||void 0===Le?void 0:Le.manager,"_initialize() not called before _openPopup()");const $e=ph(m,_,I,Ze(),z);return function(E,m,_,I=500,z=600){const re=Math.max((window.screen.availHeight-z)/2,0).toString(),Le=Math.max((window.screen.availWidth-I)/2,0).toString();let $e="";const vt=Object.assign(Object.assign({},hh),{width:I.toString(),height:z.toString(),top:re,left:Le}),Ft=(0,v.z$)().toLowerCase();_&&($e=ra(Ft)?"_blank":_),Mo(Ft)&&(m=m||"http://localhost",vt.scrollbars="yes");const Xt=Object.entries(vt).reduce(($i,[qo,Jf])=>`${$i}${qo}=${Jf},`,"");if(function(E=(0,v.z$)()){var m;return Vi(E)&&!!(null===(m=window.navigator)||void 0===m?void 0:m.standalone)}(Ft)&&"_self"!==$e)return function(E,m){const _=document.createElement("a");_.href=E,_.target=m;const I=document.createEvent("MouseEvent");I.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),_.dispatchEvent(I)}(m||"",$e),new rd(null);const zt=window.open(m||"",$e,Xt);ie(zt,E,"popup-blocked");try{zt.focus()}catch($i){}return new rd(zt)}(m,$e,_a())})()}_openRedirect(m,_,I,z){var re=this;return(0,r.Z)(function*(){return yield re._originValidation(m),E=ph(m,_,I,Ze(),z),Ei().location.href=E,new Promise(()=>{});var E})()}_initialize(m){const _=m._key();if(this.eventManagers[_]){const{manager:z,promise:re}=this.eventManagers[_];return z?Promise.resolve(z):(K(re,"If manager is not set, promise should be"),re)}const I=this.initAndGetManager(m);return this.eventManagers[_]={promise:I},I.catch(()=>{delete this.eventManagers[_]}),I}initAndGetManager(m){var _=this;return(0,r.Z)(function*(){const I=yield function(E){return Cn.apply(this,arguments)}(m),z=new Lf(m);return I.register("authEvent",re=>(ie(null==re?void 0:re.authEvent,m,"invalid-auth-event"),{status:z.onEvent(re.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),_.eventManagers[m._key()]={manager:z},_.iframes[m._key()]=I,z})()}_isIframeWebStorageSupported(m,_){this.iframes[m._key()].send(uu,{type:uu},z=>{var re;const Le=null===(re=null==z?void 0:z[0])||void 0===re?void 0:re[uu];void 0!==Le&&_(!!Le),Ve(m,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(m){const _=m._key();return this.originValidationPromises[_]||(this.originValidationPromises[_]=function(E){return Ja.apply(this,arguments)}(m)),this.originValidationPromises[_]}get _shouldInitProactively(){return bt()||ro()||Vi()}}),this.cordovaResolver=ae(class{constructor(){this._redirectPersistence=Bo,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Gs}_initialize(m){var _=this;return(0,r.Z)(function*(){const I=m._key();let z=_.eventManagers.get(I);return z||(z=new qf(m),_.eventManagers.set(I,z),_.attachCallbackListeners(m,z)),z})()}_openPopup(m){Ve(m,"operation-not-supported-in-this-environment")}_openRedirect(m,_,I,z){var re=this;return(0,r.Z)(function*(){!function(E){var m,_,I,z,re,Le,$e,vt,Ft,Xt;const zt=vc();ie("function"==typeof(null===(m=null==zt?void 0:zt.universalLinks)||void 0===m?void 0:m.subscribe),E,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),ie(void 0!==(null===(_=null==zt?void 0:zt.BuildInfo)||void 0===_?void 0:_.packageName),E,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),ie("function"==typeof(null===(re=null===(z=null===(I=null==zt?void 0:zt.cordova)||void 0===I?void 0:I.plugins)||void 0===z?void 0:z.browsertab)||void 0===re?void 0:re.openUrl),E,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ie("function"==typeof(null===(vt=null===($e=null===(Le=null==zt?void 0:zt.cordova)||void 0===Le?void 0:Le.plugins)||void 0===$e?void 0:$e.browsertab)||void 0===vt?void 0:vt.isAvailable),E,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ie("function"==typeof(null===(Xt=null===(Ft=null==zt?void 0:zt.cordova)||void 0===Ft?void 0:Ft.InAppBrowser)||void 0===Xt?void 0:Xt.open),E,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(m);const Le=yield re._initialize(m);yield Le.initialized(),Le.resetRedirect(),Ea.clear(),yield re._originValidation(m);const $e=function(E,m,_=null){return{type:m,eventId:_,urlResponse:null,sessionId:Q0(),postBody:null,tenantId:E.tenantId,error:ze(E,"no-auth-event")}}(m,I,z);yield function(E,m){return gy()._set(my(E),m)}(m,$e);const vt=yield function(E,m,_){return yh.apply(this,arguments)}(m,$e,_),Ft=yield function(E){const{cordova:m}=vc();return new Promise(_=>{m.plugins.browsertab.isAvailable(I=>{let z=null;I?m.plugins.browsertab.openUrl(E):z=m.InAppBrowser.open(E,function(E=(0,v.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(E)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(E)}()?"_blank":"_system","location=yes"),_(z)})})}(vt);return function(E,m,_){return Hg.apply(this,arguments)}(m,Le,Ft)})()}_isIframeWebStorageSupported(m,_){throw new Error("Method not implemented.")}_originValidation(m){const _=m._key();return this.originValidationPromises[_]||(this.originValidationPromises[_]=function(E){return du.apply(this,arguments)}(m)),this.originValidationPromises[_]}attachCallbackListeners(m,_){const{universalLinks:I,handleOpenURL:z,BuildInfo:re}=vc(),Le=setTimeout((0,r.Z)(function*(){yield vh(m),_.onEvent(yy())}),500),$e=function(){var Xt=(0,r.Z)(function*(zt){clearTimeout(Le);const $i=yield vh(m);let qo=null;$i&&(null==zt?void 0:zt.url)&&(qo=function(E,m){var _,I;const z=function(E){const m=Xa(E),_=m.link?decodeURIComponent(m.link):void 0,I=Xa(_).link,z=m.deep_link_id?decodeURIComponent(m.deep_link_id):void 0;return Xa(z).link||z||I||_||E}(m);if(z.includes("/__/auth/callback")){const re=Xa(z),Le=re.firebaseError?function(E){try{return JSON.parse(E)}catch(m){return null}}(decodeURIComponent(re.firebaseError)):null,$e=null===(I=null===(_=null==Le?void 0:Le.code)||void 0===_?void 0:_.split("auth/"))||void 0===I?void 0:I[1],vt=$e?ze($e):null;return vt?{type:E.type,eventId:E.eventId,tenantId:E.tenantId,error:vt,urlResponse:null,sessionId:null,postBody:null}:{type:E.type,eventId:E.eventId,tenantId:E.tenantId,sessionId:E.sessionId,urlResponse:z,postBody:null}}return null}($i,zt.url)),_.onEvent(qo||yy())});return function($i){return Xt.apply(this,arguments)}}();void 0!==I&&"function"==typeof I.subscribe&&I.subscribe(null,$e);const vt=z,Ft=`${re.packageName.toLowerCase()}://`;vc().handleOpenURL=function(){var Xt=(0,r.Z)(function*(zt){if(zt.toLowerCase().startsWith(Ft)&&$e({url:zt}),"function"==typeof vt)try{vt(zt)}catch($i){console.error($i)}});return function(zt){return Xt.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=Bo,this._completeRedirectFn=Gs}_initialize(m){var _=this;return(0,r.Z)(function*(){return yield _.selectUnderlyingResolver(),_.assertedUnderlyingResolver._initialize(m)})()}_openPopup(m,_,I,z){var re=this;return(0,r.Z)(function*(){return yield re.selectUnderlyingResolver(),re.assertedUnderlyingResolver._openPopup(m,_,I,z)})()}_openRedirect(m,_,I,z){var re=this;return(0,r.Z)(function*(){return yield re.selectUnderlyingResolver(),re.assertedUnderlyingResolver._openRedirect(m,_,I,z)})()}_isIframeWebStorageSupported(m,_){this.assertedUnderlyingResolver._isIframeWebStorageSupported(m,_)}_originValidation(m){return this.assertedUnderlyingResolver._originValidation(m)}get _shouldInitProactively(){return Cy()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return cd(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var m=this;return(0,r.Z)(function*(){if(m.underlyingResolver)return;const _=yield function(){return el.apply(this,arguments)}();m.underlyingResolver=_?m.cordovaResolver:m.browserResolver})()}}function wy(E){return E.unwrap()}function go(E){return Kf(E)}function Kf(E){const{_tokenResponse:m}=E instanceof v.ZR?E.customData:E;if(!m)return null;if(!(E instanceof v.ZR)&&"temporaryProof"in m&&"phoneNumber"in m)return jo.credentialFromResult(E);const _=m.providerId;if(!_||"password"===_)return null;let I;switch(_){case"google.com":I=me;break;case"facebook.com":I=fe;break;case"github.com":I=De;break;case"twitter.com":I=ye;break;default:const{oauthIdToken:z,oauthAccessToken:re,oauthTokenSecret:Le,pendingToken:$e,nonce:vt}=m;return re||Le||z||$e?$e?_.startsWith("saml.")?We._create(_,$e):Ir._fromParams({providerId:_,signInMethod:_,pendingToken:$e,idToken:z,accessToken:re}):new se(_).credential({idToken:z,accessToken:re,rawNonce:vt}):null}return E instanceof v.ZR?I.credentialFromError(E):I.credentialFromResult(E)}function ns(E,m){return m.catch(_=>{throw _ instanceof v.ZR&&function(E,m){var _;const I=null===(_=m.customData)||void 0===_?void 0:_._tokenResponse;if("auth/multi-factor-auth-required"===m.code)m.resolver=new nC(E,function(E,m){var _;const I=(0,v.m9)(E),z=m;return ie(m.customData.operationType,I,"argument-error"),ie(null===(_=z.customData._serverResponse)||void 0===_?void 0:_.mfaPendingCredential,I,"argument-error"),dc._fromError(I,z)}(E,m));else if(I){const z=Kf(m),re=m;z&&(re.credential=z,re.tenantId=I.tenantId||void 0,re.email=I.email||void 0,re.phoneNumber=I.phoneNumber||void 0)}}(E,_),_}).then(_=>{const z=_.user;return{operationType:_.operationType,credential:go(_),additionalUserInfo:Qd(_),user:Fl.getOrCreate(z)}})}function fu(E,m){return Kg.apply(this,arguments)}function Kg(){return(Kg=(0,r.Z)(function*(E,m){const _=yield m;return{verificationId:_.verificationId,confirm:I=>ns(E,_.confirm(I))}})).apply(this,arguments)}class nC{constructor(m,_){this.resolver=_,this.auth=function(E){return E.wrapped()}(m)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(m){return ns(wy(this.auth),this.resolver.resolveSignIn(m))}}class Fl{constructor(m){this._delegate=m,this.multiFactor=function(E){const m=(0,v.m9)(E);return Lo.has(m)||Lo.set(m,th._fromUser(m)),Lo.get(m)}(m)}static getOrCreate(m){return Fl.USER_MAP.has(m)||Fl.USER_MAP.set(m,new Fl(m)),Fl.USER_MAP.get(m)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(m){return this._delegate.getIdTokenResult(m)}getIdToken(m){return this._delegate.getIdToken(m)}linkAndRetrieveDataWithCredential(m){return this.linkWithCredential(m)}linkWithCredential(m){var _=this;return(0,r.Z)(function*(){return ns(_.auth,Yu(_._delegate,m))})()}linkWithPhoneNumber(m,_){var I=this;return(0,r.Z)(function*(){return fu(I.auth,function(E,m,_){return Of.apply(this,arguments)}(I._delegate,m,_))})()}linkWithPopup(m){var _=this;return(0,r.Z)(function*(){return ns(_.auth,function(E,m,_){return td.apply(this,arguments)}(_._delegate,m,tl))})()}linkWithRedirect(m){var _=this;return(0,r.Z)(function*(){return yield wh(qn(_.auth)),function(E,m,_){return function(E,m,_){return mc.apply(this,arguments)}(E,m,_)}(_._delegate,m,tl)})()}reauthenticateAndRetrieveDataWithCredential(m){return this.reauthenticateWithCredential(m)}reauthenticateWithCredential(m){var _=this;return(0,r.Z)(function*(){return ns(_.auth,ss(_._delegate,m))})()}reauthenticateWithPhoneNumber(m,_){return fu(this.auth,function(E,m,_){return xn.apply(this,arguments)}(this._delegate,m,_))}reauthenticateWithPopup(m){return ns(this.auth,function(E,m,_){return Ff.apply(this,arguments)}(this._delegate,m,tl))}reauthenticateWithRedirect(m){var _=this;return(0,r.Z)(function*(){return yield wh(qn(_.auth)),function(E,m,_){return function(E,m,_){return zi.apply(this,arguments)}(E,m,_)}(_._delegate,m,tl)})()}sendEmailVerification(m){return function(E,m){return Xr.apply(this,arguments)}(this._delegate,m)}unlink(m){var _=this;return(0,r.Z)(function*(){return yield function(E,m){return fa.apply(this,arguments)}(_._delegate,m),_})()}updateEmail(m){return function(E,m){return Wc((0,v.m9)(E),m,null)}(this._delegate,m)}updatePassword(m){return function(E,m){return Wc((0,v.m9)(E),null,m)}(this._delegate,m)}updatePhoneNumber(m){return function(E,m){return Ti.apply(this,arguments)}(this._delegate,m)}updateProfile(m){return function(E,m){return Cl.apply(this,arguments)}(this._delegate,m)}verifyBeforeUpdateEmail(m,_){return function(E,m,_){return uc.apply(this,arguments)}(this._delegate,m,_)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Fl.USER_MAP=new WeakMap;const ud=ie;let pu=(()=>{class E{constructor(_,I){if(this.app=_,I.isInitialized())return this._delegate=I.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:z}=_.options;ud(z,"invalid-api-key",{appName:_.name}),ud(z,"invalid-api-key",{appName:_.name});const re="undefined"!=typeof window?tl:void 0;this._delegate=I.initialize({options:{persistence:Dy(z,_.name),popupRedirectResolver:re}}),this._delegate._updateErrorMap(Re),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Fl.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(_){this._delegate.languageCode=_}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(_){this._delegate.tenantId=_}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(_,I){!function(E,m,_){const I=qn(E);ie(I._canInitEmulator,I,"emulator-config-failed"),ie(/^https?:\/\//.test(m),I,"invalid-emulator-scheme");const z=!!(null==_?void 0:_.disableWarnings),re=ti(m),{host:Le,port:$e}=function(E){const m=ti(E),_=/(\/\/)?([^?#/]+)/.exec(E.substr(m.length));if(!_)return{host:"",port:null};const I=_[2].split("@").pop()||"",z=/^(\[[^\]]+\])(:|$)/.exec(I);if(z){const re=z[1];return{host:re,port:fr(I.substr(re.length+1))}}{const[re,Le]=I.split(":");return{host:re,port:fr(Le)}}}(m);I.config.emulator={url:`${re}//${Le}${null===$e?"":`:${$e}`}/`},I.settings.appVerificationDisabledForTesting=!0,I.emulatorConfig=Object.freeze({host:Le,port:$e,protocol:re.replace(":",""),options:Object.freeze({disableWarnings:z})}),z||function(){function E(){const m=document.createElement("p"),_=m.style;m.innerText="Running in emulator mode. Do not use with production credentials.",_.position="fixed",_.width="100%",_.backgroundColor="#ffffff",_.border=".1em solid #000000",_.color="#b50000",_.bottom="0px",_.left="0px",_.margin="0px",_.zIndex="10000",_.textAlign="center",m.classList.add("firebase-emulator-warning"),document.body.appendChild(m)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",E):E())}()}(this._delegate,_,I)}applyActionCode(_){return function(E,m){return ga.apply(this,arguments)}(this._delegate,_)}checkActionCode(_){return rt(this._delegate,_)}confirmPasswordReset(_,I){return function(E,m,_){return Gc.apply(this,arguments)}(this._delegate,_,I)}createUserWithEmailAndPassword(_,I){var z=this;return(0,r.Z)(function*(){return ns(z._delegate,function(E,m,_){return Fo.apply(this,arguments)}(z._delegate,_,I))})()}fetchProvidersForEmail(_){return this.fetchSignInMethodsForEmail(_)}fetchSignInMethodsForEmail(_){return function(E,m){return $c.apply(this,arguments)}(this._delegate,_)}isSignInWithEmailLink(_){return function(E,m){const _=$.parseLink(m);return"EMAIL_SIGNIN"===(null==_?void 0:_.operation)}(0,_)}getRedirectResult(){var _=this;return(0,r.Z)(function*(){ud(Zf(),_._delegate,"operation-not-supported-in-this-environment");const I=yield function(E,m){return _c.apply(this,arguments)}(_._delegate,tl);return I?ns(_._delegate,Promise.resolve(I)):{credential:null,user:null}})()}addFrameworkForLogging(_){!function(E,m){qn(E)._logFramework(m)}(this._delegate,_)}onAuthStateChanged(_,I,z){const{next:re,error:Le,complete:$e}=Qf(_,I,z);return this._delegate.onAuthStateChanged(re,Le,$e)}onIdTokenChanged(_,I,z){const{next:re,error:Le,complete:$e}=Qf(_,I,z);return this._delegate.onIdTokenChanged(re,Le,$e)}sendSignInLinkToEmail(_,I){return function(E,m,_){return ac.apply(this,arguments)}(this._delegate,_,I)}sendPasswordResetEmail(_,I){return function(E,m,_){return zc.apply(this,arguments)}(this._delegate,_,I||void 0)}setPersistence(_){var I=this;return(0,r.Z)(function*(){let z;switch(function(E,m){Wf(Object.values(Fr).includes(m),E,"invalid-persistence-type"),(0,v.b$)()?Wf(m!==Fr.SESSION,E,"unsupported-persistence-type"):(0,v.UG)()?Wf(m===Fr.NONE,E,"unsupported-persistence-type"):Yf()?Wf(m===Fr.NONE||m===Fr.LOCAL&&(0,v.hl)(),E,"unsupported-persistence-type"):Wf(m===Fr.NONE||$f(),E,"unsupported-persistence-type")}(I._delegate,_),_){case Fr.SESSION:z=Bo;break;case Fr.LOCAL:z=(yield ae(ba)._isAvailable())?ba:rh;break;case Fr.NONE:z=ln;break;default:return Ve("argument-error",{appName:I._delegate.name})}return I._delegate.setPersistence(z)})()}signInAndRetrieveDataWithCredential(_){return this.signInWithCredential(_)}signInAnonymously(){return ns(this._delegate,function(E){return jt.apply(this,arguments)}(this._delegate))}signInWithCredential(_){return ns(this._delegate,Jr(this._delegate,_))}signInWithCustomToken(_){return ns(this._delegate,function(E,m){return oc.apply(this,arguments)}(this._delegate,_))}signInWithEmailAndPassword(_,I){return ns(this._delegate,function(E,m,_){return Jr((0,v.m9)(E),B.credential(m,_))}(this._delegate,_,I))}signInWithEmailLink(_,I){return ns(this._delegate,function(E,m,_){return lc.apply(this,arguments)}(this._delegate,_,I))}signInWithPhoneNumber(_,I){return fu(this._delegate,function(E,m,_){return Di.apply(this,arguments)}(this._delegate,_,I))}signInWithPopup(_){var I=this;return(0,r.Z)(function*(){return ud(Zf(),I._delegate,"operation-not-supported-in-this-environment"),ns(I._delegate,function(E,m,_){return ed.apply(this,arguments)}(I._delegate,_,tl))})()}signInWithRedirect(_){var I=this;return(0,r.Z)(function*(){return ud(Zf(),I._delegate,"operation-not-supported-in-this-environment"),yield wh(I._delegate),function(E,m,_){return function(E,m,_){return kt.apply(this,arguments)}(E,m,_)}(I._delegate,_,tl)})()}updateCurrentUser(_){return this._delegate.updateCurrentUser(_)}verifyPasswordResetCode(_){return function(E,m){return ii.apply(this,arguments)}(this._delegate,_)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return E.Persistence=Fr,E})();function Qf(E,m,_){let I=E;"function"!=typeof E&&({next:I,error:m,complete:_}=E);const z=I;return{next:Le=>z(Le&&Fl.getOrCreate(Le)),error:m,complete:_}}function Dy(E,m){const _=function(E,m){const _=Lr();if(!_)return[];const I=oi(ad,E,m);switch(_.getItem(I)){case Fr.NONE:return[ln];case Fr.LOCAL:return[ba,Bo];case Fr.SESSION:return[Bo];default:return[]}}(E,m);if("undefined"!=typeof self&&!_.includes(ba)&&_.push(ba),"undefined"!=typeof window)for(const I of[rh,Bo])_.includes(I)||_.push(I);return _.includes(ln)||_.push(ln),_}class dd{constructor(){this.providerId="phone",this._delegate=new jo(wy(b.Z.auth()))}static credential(m,_){return jo.credential(m,_)}verifyPhoneNumber(m,_){return this._delegate.verifyPhoneNumber(m,_)}unwrap(){return this._delegate}}dd.PHONE_SIGN_IN_METHOD=jo.PHONE_SIGN_IN_METHOD,dd.PROVIDER_ID=jo.PROVIDER_ID;const Qg=ie;class gu{constructor(m,_,I=b.Z.app()){var z;Qg(null===(z=I.options)||void 0===z?void 0:z.apiKey,"invalid-api-key",{appName:I.name}),this._delegate=new Xu(m,_,I.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function(E){E.INTERNAL.registerComponent(new F.wA("auth-compat",m=>{const _=m.getProvider("app-compat").getImmediate(),I=m.getProvider("auth");return new pu(_,I)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:B,FacebookAuthProvider:fe,GithubAuthProvider:De,GoogleAuthProvider:me,OAuthProvider:se,SAMLAuthProvider:X,PhoneAuthProvider:dd,PhoneMultiFactorGenerator:Z0,RecaptchaVerifier:gu,TwitterAuthProvider:ye,Auth:pu,AuthCredential:ki,Error:v.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),E.registerVersion("@firebase/auth-compat","0.2.7")}(b.Z)},6676:function(nt,D){!function(M){"use strict";function r(le){return Array.prototype.slice.call(le)}function b(le){return new Promise(function(Q,ue){le.onsuccess=function(){Q(le.result)},le.onerror=function(){ue(le.error)}})}function v(le,Q,ue){var Ee,Ve=new Promise(function(ze,xe){b(Ee=le[Q].apply(le,ue)).then(ze,xe)});return Ve.request=Ee,Ve}function T(le,Q,ue){var Ee=v(le,Q,ue);return Ee.then(function(Ve){if(Ve)return new H(Ve,Ee.request)})}function S(le,Q,ue){ue.forEach(function(Ee){Object.defineProperty(le.prototype,Ee,{get:function(){return this[Q][Ee]},set:function(Ve){this[Q][Ee]=Ve}})})}function k(le,Q,ue,Ee){Ee.forEach(function(Ve){Ve in ue.prototype&&(le.prototype[Ve]=function(){return v(this[Q],Ve,arguments)})})}function F(le,Q,ue,Ee){Ee.forEach(function(Ve){Ve in ue.prototype&&(le.prototype[Ve]=function(){return this[Q][Ve].apply(this[Q],arguments)})})}function L(le,Q,ue,Ee){Ee.forEach(function(Ve){Ve in ue.prototype&&(le.prototype[Ve]=function(){return T(this[Q],Ve,arguments)})})}function j(le){this._index=le}function H(le,Q){this._cursor=le,this._request=Q}function Z(le){this._store=le}function W(le){this._tx=le,this.complete=new Promise(function(Q,ue){le.oncomplete=function(){Q()},le.onerror=function(){ue(le.error)},le.onabort=function(){ue(le.error)}})}function be(le,Q,ue){this._db=le,this.oldVersion=Q,this.transaction=new W(ue)}function we(le){this._db=le}S(j,"_index",["name","keyPath","multiEntry","unique"]),k(j,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),L(j,"_index",IDBIndex,["openCursor","openKeyCursor"]),S(H,"_cursor",["direction","key","primaryKey","value"]),k(H,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach(function(le){le in IDBCursor.prototype&&(H.prototype[le]=function(){var Q=this,ue=arguments;return Promise.resolve().then(function(){return Q._cursor[le].apply(Q._cursor,ue),b(Q._request).then(function(Ee){if(Ee)return new H(Ee,Q._request)})})})}),Z.prototype.createIndex=function(){return new j(this._store.createIndex.apply(this._store,arguments))},Z.prototype.index=function(){return new j(this._store.index.apply(this._store,arguments))},S(Z,"_store",["name","keyPath","indexNames","autoIncrement"]),k(Z,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),L(Z,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),F(Z,"_store",IDBObjectStore,["deleteIndex"]),W.prototype.objectStore=function(){return new Z(this._tx.objectStore.apply(this._tx,arguments))},S(W,"_tx",["objectStoreNames","mode"]),F(W,"_tx",IDBTransaction,["abort"]),be.prototype.createObjectStore=function(){return new Z(this._db.createObjectStore.apply(this._db,arguments))},S(be,"_db",["name","version","objectStoreNames"]),F(be,"_db",IDBDatabase,["deleteObjectStore","close"]),we.prototype.transaction=function(){return new W(this._db.transaction.apply(this._db,arguments))},S(we,"_db",["name","version","objectStoreNames"]),F(we,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach(function(le){[Z,j].forEach(function(Q){le in Q.prototype&&(Q.prototype[le.replace("open","iterate")]=function(){var ue=r(arguments),Ee=ue[ue.length-1],Ve=this._store||this._index,ze=Ve[le].apply(Ve,ue.slice(0,-1));ze.onsuccess=function(){Ee(ze.result)}})})}),[j,Z].forEach(function(le){le.prototype.getAll||(le.prototype.getAll=function(Q,ue){var Ee=this,Ve=[];return new Promise(function(ze){Ee.iterateCursor(Q,function(xe){xe?(Ve.push(xe.value),void 0===ue||Ve.length!=ue?xe.continue():ze(Ve)):ze(Ve)})})})}),M.openDb=function(le,Q,ue){var Ee=v(indexedDB,"open",[le,Q]),Ve=Ee.request;return Ve&&(Ve.onupgradeneeded=function(ze){ue&&ue(new be(Ve.result,ze.oldVersion,Ve.transaction))}),Ee.then(function(ze){return new we(ze)})},M.deleteDb=function(le){return v(indexedDB,"deleteDatabase",[le])},Object.defineProperty(M,"__esModule",{value:!0})}(D)},9339:(nt,D,M)=>{nt=M.nmd(nt);var b="__lodash_hash_undefined__",S=9007199254740991,k="[object Arguments]",W="[object Function]",le="[object Object]",st=/^\[object .+?Constructor\]$/,Xe=/^(?:0|[1-9]\d*)$/,Qe={};Qe["[object Float32Array]"]=Qe["[object Float64Array]"]=Qe["[object Int8Array]"]=Qe["[object Int16Array]"]=Qe["[object Int32Array]"]=Qe["[object Uint8Array]"]=Qe["[object Uint8ClampedArray]"]=Qe["[object Uint16Array]"]=Qe["[object Uint32Array]"]=!0,Qe[k]=Qe["[object Array]"]=Qe["[object ArrayBuffer]"]=Qe["[object Boolean]"]=Qe["[object DataView]"]=Qe["[object Date]"]=Qe["[object Error]"]=Qe[W]=Qe["[object Map]"]=Qe["[object Number]"]=Qe[le]=Qe["[object RegExp]"]=Qe["[object Set]"]=Qe["[object String]"]=Qe["[object WeakMap]"]=!1;var St="object"==typeof global&&global&&global.Object===Object&&global,tn="object"==typeof self&&self&&self.Object===Object&&self,vn=St||tn||Function("return this")(),Ht=D&&!D.nodeType&&D,Vt=Ht&&nt&&!nt.nodeType&&nt,xt=Vt&&Vt.exports===Ht,gn=xt&&St.process,Hn=function(){try{return Vt&&Vt.require&&Vt.require("util").types||gn&&gn.binding&&gn.binding("util")}catch(ye){}}(),xi=Hn&&Hn.isTypedArray;function lr(X,ye,Ne){switch(Ne.length){case 0:return X.call(ye);case 1:return X.call(ye,Ne[0]);case 2:return X.call(ye,Ne[0],Ne[1]);case 3:return X.call(ye,Ne[0],Ne[1],Ne[2])}return X.apply(ye,Ne)}var X,Gr=Array.prototype,Zn=Object.prototype,Li=vn["__core-js_shared__"],Ii=Function.prototype.toString,Rt=Zn.hasOwnProperty,Lt=(X=/[^.]+$/.exec(Li&&Li.keys&&Li.keys.IE_PROTO||""))?"Symbol(src)_1."+X:"",hn=Zn.toString,fn=Ii.call(Object),Ai=RegExp("^"+Ii.call(Rt).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Dn=xt?vn.Buffer:void 0,pt=vn.Symbol,Nt=vn.Uint8Array,$r=function(X,ye){return function(Ne){return X(ye(Ne))}}(Object.getPrototypeOf,Object),Dr=Object.create,Fn=Zn.propertyIsEnumerable,cr=Gr.splice,Rr=pt?pt.toStringTag:void 0,Ae=function(){try{var X=Pr(Object,"defineProperty");return X({},"",{}),X}catch(ye){}}(),Se=Dn?Dn.isBuffer:void 0,Oe=Math.max,tt=Date.now,qe=Pr(vn,"Map"),Dt=Pr(Object,"create"),Zt=function(){function X(){}return function(ye){if(!O(ye))return{};if(Dr)return Dr(ye);X.prototype=ye;var Ne=new X;return X.prototype=void 0,Ne}}();function rn(X){var ye=-1,Ne=null==X?0:X.length;for(this.clear();++ye<Ne;){var it=X[ye];this.set(it[0],it[1])}}function ei(X){var ye=-1,Ne=null==X?0:X.length;for(this.clear();++ye<Ne;){var it=X[ye];this.set(it[0],it[1])}}function Tr(X){var ye=-1,Ne=null==X?0:X.length;for(this.clear();++ye<Ne;){var it=X[ye];this.set(it[0],it[1])}}function mi(X){var ye=this.__data__=new ei(X);this.size=ye.size}function Wr(X,ye,Ne){(void 0!==Ne&&!Oo(X[ye],Ne)||void 0===Ne&&!(ye in X))&&fr(X,ye,Ne)}function ti(X,ye,Ne){var it=X[ye];(!Rt.call(X,ye)||!Oo(it,Ne)||void 0===Ne&&!(ye in X))&&fr(X,ye,Ne)}function Kr(X,ye){for(var Ne=X.length;Ne--;)if(Oo(X[Ne][0],ye))return Ne;return-1}function fr(X,ye,Ne){"__proto__"==ye&&Ae?Ae(X,ye,{configurable:!0,enumerable:!0,value:Ne,writable:!0}):X[ye]=Ne}rn.prototype.clear=function(){this.__data__=Dt?Dt(null):{},this.size=0},rn.prototype.delete=function(X){var ye=this.has(X)&&delete this.__data__[X];return this.size-=ye?1:0,ye},rn.prototype.get=function(X){var ye=this.__data__;if(Dt){var Ne=ye[X];return Ne===b?void 0:Ne}return Rt.call(ye,X)?ye[X]:void 0},rn.prototype.has=function(X){var ye=this.__data__;return Dt?void 0!==ye[X]:Rt.call(ye,X)},rn.prototype.set=function(X,ye){var Ne=this.__data__;return this.size+=this.has(X)?0:1,Ne[X]=Dt&&void 0===ye?b:ye,this},ei.prototype.clear=function(){this.__data__=[],this.size=0},ei.prototype.delete=function(X){var ye=this.__data__,Ne=Kr(ye,X);return!(Ne<0||(Ne==ye.length-1?ye.pop():cr.call(ye,Ne,1),--this.size,0))},ei.prototype.get=function(X){var ye=this.__data__,Ne=Kr(ye,X);return Ne<0?void 0:ye[Ne][1]},ei.prototype.has=function(X){return Kr(this.__data__,X)>-1},ei.prototype.set=function(X,ye){var Ne=this.__data__,it=Kr(Ne,X);return it<0?(++this.size,Ne.push([X,ye])):Ne[it][1]=ye,this},Tr.prototype.clear=function(){this.size=0,this.__data__={hash:new rn,map:new(qe||ei),string:new rn}},Tr.prototype.delete=function(X){var ye=aa(this,X).delete(X);return this.size-=ye?1:0,ye},Tr.prototype.get=function(X){return aa(this,X).get(X)},Tr.prototype.has=function(X){return aa(this,X).has(X)},Tr.prototype.set=function(X,ye){var Ne=aa(this,X),it=Ne.size;return Ne.set(X,ye),this.size+=Ne.size==it?0:1,this},mi.prototype.clear=function(){this.__data__=new ei,this.size=0},mi.prototype.delete=function(X){var ye=this.__data__,Ne=ye.delete(X);return this.size=ye.size,Ne},mi.prototype.get=function(X){return this.__data__.get(X)},mi.prototype.has=function(X){return this.__data__.has(X)},mi.prototype.set=function(X,ye){var Ne=this.__data__;if(Ne instanceof ei){var it=Ne.__data__;if(!qe||it.length<199)return it.push([X,ye]),this.size=++Ne.size,this;Ne=this.__data__=new Tr(it)}return Ne.set(X,ye),this.size=Ne.size,this};var Qt=function(ye,Ne,it){for(var ut=-1,Yt=Object(ye),Ut=it(ye),jt=Ut.length;jt--;){var Tn=Ut[++ut];if(!1===Ne(Yt[Tn],Tn,Yt))break}return ye};function ki(X){return null==X?void 0===X?"[object Undefined]":"[object Null]":Rr&&Rr in Object(X)?function(X){var ye=Rt.call(X,Rr),Ne=X[Rr];try{X[Rr]=void 0;var it=!0}catch(Yt){}var ut=hn.call(X);return it&&(ye?X[Rr]=Ne:delete X[Rr]),ut}(X):function(X){return hn.call(X)}(X)}function Cs(X){return B(X)&&ki(X)==k}function Or(X,ye,Ne,it,ut){X!==ye&&Qt(ye,function(Yt,Ut){if(ut||(ut=new mi),O(Yt))!function(X,ye,Ne,it,ut,Yt,Ut){var jt=ua(X,Ne),Tn=ua(ye,Ne),Ui=Ut.get(Tn);if(Ui)Wr(X,Ne,Ui);else{var Nr=Yt?Yt(jt,Tn,Ne+"",X,ye,Ut):void 0,rs=void 0===Nr;if(rs){var fa=ao(Tn),Vn=!fa&&de(Tn),za=!fa&&!Vn&&Y(Tn);Nr=Tn,fa||Vn||za?ao(jt)?Nr=jt:function(X){return B(X)&&Po(X)}(jt)?Nr=function(X,ye){var Ne=-1,it=X.length;for(ye||(ye=Array(it));++Ne<it;)ye[Ne]=X[Ne];return ye}(jt):Vn?(rs=!1,Nr=function(X,ye){return X.slice()}(Tn)):za?(rs=!1,Nr=function(X,ye){var Ne=function(X){var ye=new X.constructor(X.byteLength);return new Nt(ye).set(new Nt(X)),ye}(X.buffer);return new X.constructor(Ne,X.byteOffset,X.length)}(Tn)):Nr=[]:function(X){if(!B(X)||ki(X)!=le)return!1;var ye=$r(X);if(null===ye)return!0;var Ne=Rt.call(ye,"constructor")&&ye.constructor;return"function"==typeof Ne&&Ne instanceof Ne&&Ii.call(Ne)==fn}(Tn)||ha(Tn)?(Nr=jt,ha(jt)?Nr=function(X){return function(X,ye,Ne,it){var ut=!Ne;Ne||(Ne={});for(var Yt=-1,Ut=ye.length;++Yt<Ut;){var jt=ye[Yt],Tn=void 0;void 0===Tn&&(Tn=X[jt]),ut?fr(Ne,jt,Tn):ti(Ne,jt,Tn)}return Ne}(X,me(X))}(jt):(!O(jt)||ve(jt))&&(Nr=function(X){return"function"!=typeof X.constructor||bl(X)?{}:Zt($r(X))}(Tn))):rs=!1}rs&&(Ut.set(Tn,Nr),ut(Nr,Tn,it,Yt,Ut),Ut.delete(Tn)),Wr(X,Ne,Nr)}}(X,ye,Ut,Ne,Or,it,ut);else{var jt=it?it(ua(X,Ut),Yt,Ut+"",X,ye,ut):void 0;void 0===jt&&(jt=Yt),Wr(X,Ut,jt)}},me)}function Sr(X,ye){return Gu(function(X,ye,Ne){return ye=Oe(void 0===ye?X.length-1:ye,0),function(){for(var it=arguments,ut=-1,Yt=Oe(it.length-ye,0),Ut=Array(Yt);++ut<Yt;)Ut[ut]=it[ye+ut];ut=-1;for(var jt=Array(ye+1);++ut<ye;)jt[ut]=it[ut];return jt[ye]=Ne(Ut),lr(X,this,jt)}}(X,ye,We),X+"")}function ni(X,ye,Ne,it,ut,Yt){return O(X)&&O(ye)&&(Yt.set(ye,X),Or(X,ye,void 0,ni,Yt),Yt.delete(ye)),X}function aa(X,ye){var Ne=X.__data__;return function(X){var ye=typeof X;return"string"==ye||"number"==ye||"symbol"==ye||"boolean"==ye?"__proto__"!==X:null===X}(ye)?Ne["string"==typeof ye?"string":"hash"]:Ne.map}function Pr(X,ye){var Ne=function(X,ye){return null==X?void 0:X[ye]}(X,ye);return function(X){return!(!O(X)||function(X){return!!Lt&&Lt in X}(X))&&(ve(X)?Ai:st).test(function(X){if(null!=X){try{return Ii.call(X)}catch(ye){}try{return X+""}catch(ye){}}return""}(X))}(Ne)?Ne:void 0}function ca(X,ye){var Ne=typeof X;return!!(ye=null==ye?S:ye)&&("number"==Ne||"symbol"!=Ne&&Xe.test(X))&&X>-1&&X%1==0&&X<ye}function bl(X){var ye=X&&X.constructor;return X===("function"==typeof ye&&ye.prototype||Zn)}function ua(X,ye){if(("constructor"!==ye||"function"!=typeof X[ye])&&"__proto__"!=ye)return X[ye]}var Gu=function(X){var ye=0,Ne=0;return function(){var it=tt(),ut=16-(it-Ne);if(Ne=it,ut>0){if(++ye>=800)return arguments[0]}else ye=0;return X.apply(void 0,arguments)}}(Ae?function(X,ye){return Ae(X,"toString",{configurable:!0,enumerable:!1,value:Ue(ye),writable:!0})}:We);function Oo(X,ye){return X===ye||X!=X&&ye!=ye}var ha=Cs(function(){return arguments}())?Cs:function(X){return B(X)&&Rt.call(X,"callee")&&!Fn.call(X,"callee")},ao=Array.isArray;function Po(X){return null!=X&&$(X.length)&&!ve(X)}var de=Se||function(){return!1};function ve(X){if(!O(X))return!1;var ye=ki(X);return ye==W||"[object GeneratorFunction]"==ye||"[object AsyncFunction]"==ye||"[object Proxy]"==ye}function $(X){return"number"==typeof X&&X>-1&&X%1==0&&X<=S}function O(X){var ye=typeof X;return null!=X&&("object"==ye||"function"==ye)}function B(X){return null!=X&&"object"==typeof X}var Y=xi?function(X){return function(ye){return X(ye)}}(xi):function(X){return B(X)&&$(X.length)&&!!Qe[ki(X)]},fe=Sr(function(X){return X.push(void 0,ni),lr(De,void 0,X)});function me(X){return Po(X)?function(X,ye){var Ne=ao(X),it=!Ne&&ha(X),ut=!Ne&&!it&&de(X),Yt=!Ne&&!it&&!ut&&Y(X),Ut=Ne||it||ut||Yt,jt=Ut?function(X,ye){for(var Ne=-1,it=Array(X);++Ne<X;)it[Ne]=ye(Ne);return it}(X.length,String):[],Tn=jt.length;for(var Ui in X)(ye||Rt.call(X,Ui))&&(!Ut||!("length"==Ui||ut&&("offset"==Ui||"parent"==Ui)||Yt&&("buffer"==Ui||"byteLength"==Ui||"byteOffset"==Ui)||ca(Ui,Tn)))&&jt.push(Ui);return jt}(X,!0):function(X){if(!O(X))return function(X){var ye=[];if(null!=X)for(var Ne in Object(X))ye.push(Ne);return ye}(X);var ye=bl(X),Ne=[];for(var it in X)"constructor"==it&&(ye||!Rt.call(X,it))||Ne.push(it);return Ne}(X)}var De=function(X){return Sr(function(ye,Ne){var it=-1,ut=Ne.length,Yt=ut>1?Ne[ut-1]:void 0,Ut=ut>2?Ne[2]:void 0;for(Yt=X.length>3&&"function"==typeof Yt?(ut--,Yt):void 0,Ut&&function(X,ye,Ne){if(!O(Ne))return!1;var it=typeof ye;return!!("number"==it?Po(Ne)&&ca(ye,Ne.length):"string"==it&&ye in Ne)&&Oo(Ne[ye],X)}(Ne[0],Ne[1],Ut)&&(Yt=ut<3?void 0:Yt,ut=1),ye=Object(ye);++it<ut;){var jt=Ne[it];jt&&X(ye,jt,it,Yt)}return ye})}(function(X,ye,Ne,it){Or(X,ye,Ne,it)});function Ue(X){return function(){return X}}function We(X){return X}nt.exports=fe},6877:(nt,D,M)=>{const r=M(436),b=M(1191),v=M(2158),T=M(173);function S(k,F,L,j,H){const Z=[].slice.call(arguments,1),W=Z.length,be="function"==typeof Z[W-1];if(!be&&!r())throw new Error("Callback required as last argument");if(!be){if(W<1)throw new Error("Too few arguments provided");return 1===W?(L=F,F=j=void 0):2===W&&!F.getContext&&(j=L,L=F,F=void 0),new Promise(function(we,Re){try{const Me=b.create(L,j);we(k(Me,F,j))}catch(Me){Re(Me)}})}if(W<2)throw new Error("Too few arguments provided");2===W?(H=L,L=F,F=j=void 0):3===W&&(F.getContext&&void 0===H?(H=j,j=void 0):(H=j,j=L,L=F,F=void 0));try{const we=b.create(L,j);H(null,k(we,F,j))}catch(we){H(we)}}D.create=b.create,D.toCanvas=S.bind(null,v.render),D.toDataURL=S.bind(null,v.renderToDataURL),D.toString=S.bind(null,function(k,F,L){return T.render(k,L)})},436:nt=>{nt.exports=function(){return"function"==typeof Promise&&Promise.prototype&&Promise.prototype.then}},6448:(nt,D,M)=>{const r=M(5402).getSymbolSize;D.getRowColCoords=function(v){if(1===v)return[];const T=Math.floor(v/7)+2,S=r(v),k=145===S?26:2*Math.ceil((S-13)/(2*T-2)),F=[S-7];for(let L=1;L<T-1;L++)F[L]=F[L-1]-k;return F.push(6),F.reverse()},D.getPositions=function(v){const T=[],S=D.getRowColCoords(v),k=S.length;for(let F=0;F<k;F++)for(let L=0;L<k;L++)0===F&&0===L||0===F&&L===k-1||F===k-1&&0===L||T.push([S[F],S[L]]);return T}},2793:(nt,D,M)=>{const r=M(3141),b=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function v(T){this.mode=r.ALPHANUMERIC,this.data=T}v.getBitsLength=function(S){return 11*Math.floor(S/2)+S%2*6},v.prototype.getLength=function(){return this.data.length},v.prototype.getBitsLength=function(){return v.getBitsLength(this.data.length)},v.prototype.write=function(S){let k;for(k=0;k+2<=this.data.length;k+=2){let F=45*b.indexOf(this.data[k]);F+=b.indexOf(this.data[k+1]),S.put(F,11)}this.data.length%2&&S.put(b.indexOf(this.data[k]),6)},nt.exports=v},7258:nt=>{function D(){this.buffer=[],this.length=0}D.prototype={get:function(M){const r=Math.floor(M/8);return 1==(this.buffer[r]>>>7-M%8&1)},put:function(M,r){for(let b=0;b<r;b++)this.putBit(1==(M>>>r-b-1&1))},getLengthInBits:function(){return this.length},putBit:function(M){const r=Math.floor(this.length/8);this.buffer.length<=r&&this.buffer.push(0),M&&(this.buffer[r]|=128>>>this.length%8),this.length++}},nt.exports=D},8104:nt=>{function D(M){if(!M||M<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=M,this.data=new Uint8Array(M*M),this.reservedBit=new Uint8Array(M*M)}D.prototype.set=function(M,r,b,v){const T=M*this.size+r;this.data[T]=b,v&&(this.reservedBit[T]=!0)},D.prototype.get=function(M,r){return this.data[M*this.size+r]},D.prototype.xor=function(M,r,b){this.data[M*this.size+r]^=b},D.prototype.isReserved=function(M,r){return this.reservedBit[M*this.size+r]},nt.exports=D},2860:(nt,D,M)=>{const r=M(1522),b=M(3141);function v(T){this.mode=b.BYTE,this.data=new Uint8Array(r(T))}v.getBitsLength=function(S){return 8*S},v.prototype.getLength=function(){return this.data.length},v.prototype.getBitsLength=function(){return v.getBitsLength(this.data.length)},v.prototype.write=function(T){for(let S=0,k=this.data.length;S<k;S++)T.put(this.data[S],8)},nt.exports=v},7291:(nt,D,M)=>{const r=M(3997),b=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],v=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];D.getBlocksCount=function(S,k){switch(k){case r.L:return b[4*(S-1)+0];case r.M:return b[4*(S-1)+1];case r.Q:return b[4*(S-1)+2];case r.H:return b[4*(S-1)+3];default:return}},D.getTotalCodewordsCount=function(S,k){switch(k){case r.L:return v[4*(S-1)+0];case r.M:return v[4*(S-1)+1];case r.Q:return v[4*(S-1)+2];case r.H:return v[4*(S-1)+3];default:return}}},3997:(nt,D)=>{D.L={bit:1},D.M={bit:0},D.Q={bit:3},D.H={bit:2},D.isValid=function(b){return b&&void 0!==b.bit&&b.bit>=0&&b.bit<4},D.from=function(b,v){if(D.isValid(b))return b;try{return function(r){if("string"!=typeof r)throw new Error("Param is not a string");switch(r.toLowerCase()){case"l":case"low":return D.L;case"m":case"medium":return D.M;case"q":case"quartile":return D.Q;case"h":case"high":return D.H;default:throw new Error("Unknown EC Level: "+r)}}(b)}catch(T){return v}}},1224:(nt,D,M)=>{const r=M(5402).getSymbolSize;D.getPositions=function(T){const S=r(T);return[[0,0],[S-7,0],[0,S-7]]}},4482:(nt,D,M)=>{const r=M(5402),T=r.getBCHDigit(1335);D.getEncodedBits=function(k,F){const L=k.bit<<3|F;let j=L<<10;for(;r.getBCHDigit(j)-T>=0;)j^=1335<<r.getBCHDigit(j)-T;return 21522^(L<<10|j)}},567:(nt,D)=>{const M=new Uint8Array(512),r=new Uint8Array(256);(function(){let v=1;for(let T=0;T<255;T++)M[T]=v,r[v]=T,v<<=1,256&v&&(v^=285);for(let T=255;T<512;T++)M[T]=M[T-255]})(),D.log=function(v){if(v<1)throw new Error("log("+v+")");return r[v]},D.exp=function(v){return M[v]},D.mul=function(v,T){return 0===v||0===T?0:M[r[v]+r[T]]}},1909:(nt,D,M)=>{const r=M(3141),b=M(5402);function v(T){this.mode=r.KANJI,this.data=T}v.getBitsLength=function(S){return 13*S},v.prototype.getLength=function(){return this.data.length},v.prototype.getBitsLength=function(){return v.getBitsLength(this.data.length)},v.prototype.write=function(T){let S;for(S=0;S<this.data.length;S++){let k=b.toSJIS(this.data[S]);if(k>=33088&&k<=40956)k-=33088;else{if(!(k>=57408&&k<=60351))throw new Error("Invalid SJIS character: "+this.data[S]+"\nMake sure your charset is UTF-8");k-=49472}k=192*(k>>>8&255)+(255&k),T.put(k,13)}},nt.exports=v},1976:(nt,D)=>{D.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};function r(b,v,T){switch(b){case D.Patterns.PATTERN000:return(v+T)%2==0;case D.Patterns.PATTERN001:return v%2==0;case D.Patterns.PATTERN010:return T%3==0;case D.Patterns.PATTERN011:return(v+T)%3==0;case D.Patterns.PATTERN100:return(Math.floor(v/2)+Math.floor(T/3))%2==0;case D.Patterns.PATTERN101:return v*T%2+v*T%3==0;case D.Patterns.PATTERN110:return(v*T%2+v*T%3)%2==0;case D.Patterns.PATTERN111:return(v*T%3+(v+T)%2)%2==0;default:throw new Error("bad maskPattern:"+b)}}D.isValid=function(v){return null!=v&&""!==v&&!isNaN(v)&&v>=0&&v<=7},D.from=function(v){return D.isValid(v)?parseInt(v,10):void 0},D.getPenaltyN1=function(v){const T=v.size;let S=0,k=0,F=0,L=null,j=null;for(let H=0;H<T;H++){k=F=0,L=j=null;for(let Z=0;Z<T;Z++){let W=v.get(H,Z);W===L?k++:(k>=5&&(S+=k-5+3),L=W,k=1),W=v.get(Z,H),W===j?F++:(F>=5&&(S+=F-5+3),j=W,F=1)}k>=5&&(S+=k-5+3),F>=5&&(S+=F-5+3)}return S},D.getPenaltyN2=function(v){const T=v.size;let S=0;for(let k=0;k<T-1;k++)for(let F=0;F<T-1;F++){const L=v.get(k,F)+v.get(k,F+1)+v.get(k+1,F)+v.get(k+1,F+1);(4===L||0===L)&&S++}return 3*S},D.getPenaltyN3=function(v){const T=v.size;let S=0,k=0,F=0;for(let L=0;L<T;L++){k=F=0;for(let j=0;j<T;j++)k=k<<1&2047|v.get(L,j),j>=10&&(1488===k||93===k)&&S++,F=F<<1&2047|v.get(j,L),j>=10&&(1488===F||93===F)&&S++}return 40*S},D.getPenaltyN4=function(v){let T=0;const S=v.data.length;for(let F=0;F<S;F++)T+=v.data[F];return 10*Math.abs(Math.ceil(100*T/S/5)-10)},D.applyMask=function(v,T){const S=T.size;for(let k=0;k<S;k++)for(let F=0;F<S;F++)T.isReserved(F,k)||T.xor(F,k,r(v,F,k))},D.getBestMask=function(v,T){const S=Object.keys(D.Patterns).length;let k=0,F=1/0;for(let L=0;L<S;L++){T(L),D.applyMask(L,v);const j=D.getPenaltyN1(v)+D.getPenaltyN2(v)+D.getPenaltyN3(v)+D.getPenaltyN4(v);D.applyMask(L,v),j<F&&(F=j,k=L)}return k}},3141:(nt,D,M)=>{const r=M(4200),b=M(2679);D.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},D.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},D.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},D.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},D.MIXED={bit:-1},D.getCharCountIndicator=function(S,k){if(!S.ccBits)throw new Error("Invalid mode: "+S);if(!r.isValid(k))throw new Error("Invalid version: "+k);return k>=1&&k<10?S.ccBits[0]:k<27?S.ccBits[1]:S.ccBits[2]},D.getBestModeForData=function(S){return b.testNumeric(S)?D.NUMERIC:b.testAlphanumeric(S)?D.ALPHANUMERIC:b.testKanji(S)?D.KANJI:D.BYTE},D.toString=function(S){if(S&&S.id)return S.id;throw new Error("Invalid mode")},D.isValid=function(S){return S&&S.bit&&S.ccBits},D.from=function(S,k){if(D.isValid(S))return S;try{return function(T){if("string"!=typeof T)throw new Error("Param is not a string");switch(T.toLowerCase()){case"numeric":return D.NUMERIC;case"alphanumeric":return D.ALPHANUMERIC;case"kanji":return D.KANJI;case"byte":return D.BYTE;default:throw new Error("Unknown mode: "+T)}}(S)}catch(F){return k}}},580:(nt,D,M)=>{const r=M(3141);function b(v){this.mode=r.NUMERIC,this.data=v.toString()}b.getBitsLength=function(T){return 10*Math.floor(T/3)+(T%3?T%3*3+1:0)},b.prototype.getLength=function(){return this.data.length},b.prototype.getBitsLength=function(){return b.getBitsLength(this.data.length)},b.prototype.write=function(T){let S,k,F;for(S=0;S+3<=this.data.length;S+=3)k=this.data.substr(S,3),F=parseInt(k,10),T.put(F,10);const L=this.data.length-S;L>0&&(k=this.data.substr(S),F=parseInt(k,10),T.put(F,3*L+1))},nt.exports=b},830:(nt,D,M)=>{const r=M(567);D.mul=function(v,T){const S=new Uint8Array(v.length+T.length-1);for(let k=0;k<v.length;k++)for(let F=0;F<T.length;F++)S[k+F]^=r.mul(v[k],T[F]);return S},D.mod=function(v,T){let S=new Uint8Array(v);for(;S.length-T.length>=0;){const k=S[0];for(let L=0;L<T.length;L++)S[L]^=r.mul(T[L],k);let F=0;for(;F<S.length&&0===S[F];)F++;S=S.slice(F)}return S},D.generateECPolynomial=function(v){let T=new Uint8Array([1]);for(let S=0;S<v;S++)T=D.mul(T,new Uint8Array([1,r.exp(S)]));return T}},1191:(nt,D,M)=>{const r=M(5402),b=M(3997),v=M(7258),T=M(8104),S=M(6448),k=M(1224),F=M(1976),L=M(7291),j=M(6041),H=M(160),Z=M(4482),W=M(3141),be=M(1769);function Q(xe,Ie,ke){const ie=xe.size,pe=Z.getEncodedBits(Ie,ke);let K,te;for(K=0;K<15;K++)te=1==(pe>>K&1),xe.set(K<6?K:K<8?K+1:ie-15+K,8,te,!0),xe.set(8,K<8?ie-K-1:K<9?15-K-1+1:15-K-1,te,!0);xe.set(ie-8,8,1,!0)}function ze(xe,Ie,ke,ie){let pe;if(Array.isArray(xe))pe=be.fromArray(xe);else{if("string"!=typeof xe)throw new Error("Invalid data");{let ge=Ie;if(!ge){const Ze=be.rawSplit(xe);ge=H.getBestVersionForData(Ze,ke)}pe=be.fromString(xe,ge||40)}}const K=H.getBestVersionForData(pe,ke);if(!K)throw new Error("The amount of data is too big to be stored in a QR Code");if(Ie){if(Ie<K)throw new Error("\nThe chosen QR Code version cannot contain this amount of data.\nMinimum version required to store current data is: "+K+".\n")}else Ie=K;const te=function(xe,Ie,ke){const ie=new v;ke.forEach(function(_e){ie.put(_e.mode.bit,4),ie.put(_e.getLength(),W.getCharCountIndicator(_e.mode,xe)),_e.write(ie)});const te=8*(r.getSymbolTotalCodewords(xe)-L.getTotalCodewordsCount(xe,Ie));for(ie.getLengthInBits()+4<=te&&ie.put(0,4);ie.getLengthInBits()%8!=0;)ie.putBit(0);const ae=(te-ie.getLengthInBits())/8;for(let _e=0;_e<ae;_e++)ie.put(_e%2?17:236,8);return function(xe,Ie,ke){const ie=r.getSymbolTotalCodewords(Ie),K=ie-L.getTotalCodewordsCount(Ie,ke),te=L.getBlocksCount(Ie,ke),_e=te-ie%te,ge=Math.floor(ie/te),Ze=Math.floor(K/te),ot=Ze+1,wt=ge-Ze,st=new j(wt);let Xe=0;const Qe=new Array(te),St=new Array(te);let tn=0;const vn=new Uint8Array(xe.buffer);for(let Hn=0;Hn<te;Hn++){const xi=Hn<_e?Ze:ot;Qe[Hn]=vn.slice(Xe,Xe+xi),St[Hn]=st.encode(Qe[Hn]),Xe+=xi,tn=Math.max(tn,xi)}const Ht=new Uint8Array(ie);let xt,gn,Vt=0;for(xt=0;xt<tn;xt++)for(gn=0;gn<te;gn++)xt<Qe[gn].length&&(Ht[Vt++]=Qe[gn][xt]);for(xt=0;xt<wt;xt++)for(gn=0;gn<te;gn++)Ht[Vt++]=St[gn][xt];return Ht}(ie,xe,Ie)}(Ie,ke,pe),ae=r.getSymbolSize(Ie),_e=new T(ae);return function(xe,Ie){const ke=xe.size,ie=k.getPositions(Ie);for(let pe=0;pe<ie.length;pe++){const K=ie[pe][0],te=ie[pe][1];for(let ae=-1;ae<=7;ae++)if(!(K+ae<=-1||ke<=K+ae))for(let _e=-1;_e<=7;_e++)te+_e<=-1||ke<=te+_e||xe.set(K+ae,te+_e,ae>=0&&ae<=6&&(0===_e||6===_e)||_e>=0&&_e<=6&&(0===ae||6===ae)||ae>=2&&ae<=4&&_e>=2&&_e<=4,!0)}}(_e,Ie),function(xe){const Ie=xe.size;for(let ke=8;ke<Ie-8;ke++){const ie=ke%2==0;xe.set(ke,6,ie,!0),xe.set(6,ke,ie,!0)}}(_e),function(xe,Ie){const ke=S.getPositions(Ie);for(let ie=0;ie<ke.length;ie++){const pe=ke[ie][0],K=ke[ie][1];for(let te=-2;te<=2;te++)for(let ae=-2;ae<=2;ae++)xe.set(pe+te,K+ae,-2===te||2===te||-2===ae||2===ae||0===te&&0===ae,!0)}}(_e,Ie),Q(_e,ke,0),Ie>=7&&function(xe,Ie){const ke=xe.size,ie=H.getEncodedBits(Ie);let pe,K,te;for(let ae=0;ae<18;ae++)pe=Math.floor(ae/3),K=ae%3+ke-8-3,te=1==(ie>>ae&1),xe.set(pe,K,te,!0),xe.set(K,pe,te,!0)}(_e,Ie),function(xe,Ie){const ke=xe.size;let ie=-1,pe=ke-1,K=7,te=0;for(let ae=ke-1;ae>0;ae-=2)for(6===ae&&ae--;;){for(let _e=0;_e<2;_e++)if(!xe.isReserved(pe,ae-_e)){let ge=!1;te<Ie.length&&(ge=1==(Ie[te]>>>K&1)),xe.set(pe,ae-_e,ge),K--,-1===K&&(te++,K=7)}if(pe+=ie,pe<0||ke<=pe){pe-=ie,ie=-ie;break}}}(_e,te),isNaN(ie)&&(ie=F.getBestMask(_e,Q.bind(null,_e,ke))),F.applyMask(ie,_e),Q(_e,ke,ie),{modules:_e,version:Ie,errorCorrectionLevel:ke,maskPattern:ie,segments:pe}}D.create=function(Ie,ke){if(void 0===Ie||""===Ie)throw new Error("No input text");let pe,K,ie=b.M;return void 0!==ke&&(ie=b.from(ke.errorCorrectionLevel,b.M),pe=H.from(ke.version),K=F.from(ke.maskPattern),ke.toSJISFunc&&r.setToSJISFunction(ke.toSJISFunc)),ze(Ie,pe,ie,K)}},6041:(nt,D,M)=>{const r=M(830);function b(v){this.genPoly=void 0,this.degree=v,this.degree&&this.initialize(this.degree)}b.prototype.initialize=function(T){this.degree=T,this.genPoly=r.generateECPolynomial(this.degree)},b.prototype.encode=function(T){if(!this.genPoly)throw new Error("Encoder not initialized");const S=new Uint8Array(T.length+this.degree);S.set(T);const k=r.mod(S,this.genPoly),F=this.degree-k.length;if(F>0){const L=new Uint8Array(this.degree);return L.set(k,F),L}return k},nt.exports=b},2679:(nt,D)=>{const M="[0-9]+";let b="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";b=b.replace(/u/g,"\\u");const v="(?:(?![A-Z0-9 $%*+\\-./:]|"+b+")(?:.|[\r\n]))+";D.KANJI=new RegExp(b,"g"),D.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),D.BYTE=new RegExp(v,"g"),D.NUMERIC=new RegExp(M,"g"),D.ALPHANUMERIC=new RegExp("[A-Z $%*+\\-./:]+","g");const T=new RegExp("^"+b+"$"),S=new RegExp("^"+M+"$"),k=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");D.testKanji=function(L){return T.test(L)},D.testNumeric=function(L){return S.test(L)},D.testAlphanumeric=function(L){return k.test(L)}},1769:(nt,D,M)=>{const r=M(3141),b=M(580),v=M(2793),T=M(2860),S=M(1909),k=M(2679),F=M(5402),L=M(8333);function j(le){return unescape(encodeURIComponent(le)).length}function H(le,Q,ue){const Ee=[];let Ve;for(;null!==(Ve=le.exec(ue));)Ee.push({data:Ve[0],index:Ve.index,mode:Q,length:Ve[0].length});return Ee}function Z(le){const Q=H(k.NUMERIC,r.NUMERIC,le),ue=H(k.ALPHANUMERIC,r.ALPHANUMERIC,le);let Ee,Ve;return F.isKanjiModeEnabled()?(Ee=H(k.BYTE,r.BYTE,le),Ve=H(k.KANJI,r.KANJI,le)):(Ee=H(k.BYTE_KANJI,r.BYTE,le),Ve=[]),Q.concat(ue,Ee,Ve).sort(function(xe,Ie){return xe.index-Ie.index}).map(function(xe){return{data:xe.data,mode:xe.mode,length:xe.length}})}function W(le,Q){switch(Q){case r.NUMERIC:return b.getBitsLength(le);case r.ALPHANUMERIC:return v.getBitsLength(le);case r.KANJI:return S.getBitsLength(le);case r.BYTE:return T.getBitsLength(le)}}function Me(le,Q){let ue;const Ee=r.getBestModeForData(le);if(ue=r.from(Q,Ee),ue!==r.BYTE&&ue.bit<Ee.bit)throw new Error('"'+le+'" cannot be encoded with mode '+r.toString(ue)+".\n Suggested mode is: "+r.toString(Ee));switch(ue===r.KANJI&&!F.isKanjiModeEnabled()&&(ue=r.BYTE),ue){case r.NUMERIC:return new b(le);case r.ALPHANUMERIC:return new v(le);case r.KANJI:return new S(le);case r.BYTE:return new T(le)}}D.fromArray=function(Q){return Q.reduce(function(ue,Ee){return"string"==typeof Ee?ue.push(Me(Ee,null)):Ee.data&&ue.push(Me(Ee.data,Ee.mode)),ue},[])},D.fromString=function(Q,ue){const ze=function(le,Q){const ue={},Ee={start:{}};let Ve=["start"];for(let ze=0;ze<le.length;ze++){const xe=le[ze],Ie=[];for(let ke=0;ke<xe.length;ke++){const ie=xe[ke],pe=""+ze+ke;Ie.push(pe),ue[pe]={node:ie,lastCount:0},Ee[pe]={};for(let K=0;K<Ve.length;K++){const te=Ve[K];ue[te]&&ue[te].node.mode===ie.mode?(Ee[te][pe]=W(ue[te].lastCount+ie.length,ie.mode)-W(ue[te].lastCount,ie.mode),ue[te].lastCount+=ie.length):(ue[te]&&(ue[te].lastCount=ie.length),Ee[te][pe]=W(ie.length,ie.mode)+4+r.getCharCountIndicator(ie.mode,Q))}}Ve=Ie}for(let ze=0;ze<Ve.length;ze++)Ee[Ve[ze]].end=0;return{map:Ee,table:ue}}(function(le){const Q=[];for(let ue=0;ue<le.length;ue++){const Ee=le[ue];switch(Ee.mode){case r.NUMERIC:Q.push([Ee,{data:Ee.data,mode:r.ALPHANUMERIC,length:Ee.length},{data:Ee.data,mode:r.BYTE,length:Ee.length}]);break;case r.ALPHANUMERIC:Q.push([Ee,{data:Ee.data,mode:r.BYTE,length:Ee.length}]);break;case r.KANJI:Q.push([Ee,{data:Ee.data,mode:r.BYTE,length:j(Ee.data)}]);break;case r.BYTE:Q.push([{data:Ee.data,mode:r.BYTE,length:j(Ee.data)}])}}return Q}(Z(Q,F.isKanjiModeEnabled())),ue),xe=L.find_path(ze.map,"start","end"),Ie=[];for(let ke=1;ke<xe.length-1;ke++)Ie.push(ze.table[xe[ke]].node);return D.fromArray(Ie.reduce(function(Q,ue){const Ee=Q.length-1>=0?Q[Q.length-1]:null;return Ee&&Ee.mode===ue.mode?(Q[Q.length-1].data+=ue.data,Q):(Q.push(ue),Q)},[]))},D.rawSplit=function(Q){return D.fromArray(Z(Q,F.isKanjiModeEnabled()))}},5402:(nt,D)=>{let M;const r=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];D.getSymbolSize=function(v){if(!v)throw new Error('"version" cannot be null or undefined');if(v<1||v>40)throw new Error('"version" should be in range from 1 to 40');return 4*v+17},D.getSymbolTotalCodewords=function(v){return r[v]},D.getBCHDigit=function(b){let v=0;for(;0!==b;)v++,b>>>=1;return v},D.setToSJISFunction=function(v){if("function"!=typeof v)throw new Error('"toSJISFunc" is not a valid function.');M=v},D.isKanjiModeEnabled=function(){return void 0!==M},D.toSJIS=function(v){return M(v)}},4200:(nt,D)=>{D.isValid=function(r){return!isNaN(r)&&r>=1&&r<=40}},160:(nt,D,M)=>{const r=M(5402),b=M(7291),v=M(3997),T=M(3141),S=M(4200),F=r.getBCHDigit(7973);function j(W,be){return T.getCharCountIndicator(W,be)+4}function H(W,be){let we=0;return W.forEach(function(Re){we+=j(Re.mode,be)+Re.getBitsLength()}),we}D.from=function(be,we){return S.isValid(be)?parseInt(be,10):we},D.getCapacity=function(be,we,Re){if(!S.isValid(be))throw new Error("Invalid QR Code version");void 0===Re&&(Re=T.BYTE);const Q=8*(r.getSymbolTotalCodewords(be)-b.getTotalCodewordsCount(be,we));if(Re===T.MIXED)return Q;const ue=Q-j(Re,be);switch(Re){case T.NUMERIC:return Math.floor(ue/10*3);case T.ALPHANUMERIC:return Math.floor(ue/11*2);case T.KANJI:return Math.floor(ue/13);case T.BYTE:default:return Math.floor(ue/8)}},D.getBestVersionForData=function(be,we){let Re;const Me=v.from(we,v.M);if(Array.isArray(be)){if(be.length>1)return function(W,be){for(let we=1;we<=40;we++)if(H(W,we)<=D.getCapacity(we,be,T.MIXED))return we}(be,Me);if(0===be.length)return 1;Re=be[0]}else Re=be;return function(W,be,we){for(let Re=1;Re<=40;Re++)if(be<=D.getCapacity(Re,we,W))return Re}(Re.mode,Re.getLength(),Me)},D.getEncodedBits=function(be){if(!S.isValid(be)||be<7)throw new Error("Invalid QR Code version");let we=be<<12;for(;r.getBCHDigit(we)-F>=0;)we^=7973<<r.getBCHDigit(we)-F;return be<<12|we}},2158:(nt,D,M)=>{const r=M(5726);D.render=function(S,k,F){let L=F,j=k;void 0===L&&(!k||!k.getContext)&&(L=k,k=void 0),k||(j=function(){try{return document.createElement("canvas")}catch(T){throw new Error("You need to specify a canvas element")}}()),L=r.getOptions(L);const H=r.getImageWidth(S.modules.size,L),Z=j.getContext("2d"),W=Z.createImageData(H,H);return r.qrToImageData(W.data,S,L),function(T,S,k){T.clearRect(0,0,S.width,S.height),S.style||(S.style={}),S.height=k,S.width=k,S.style.height=k+"px",S.style.width=k+"px"}(Z,j,H),Z.putImageData(W,0,0),j},D.renderToDataURL=function(S,k,F){let L=F;return void 0===L&&(!k||!k.getContext)&&(L=k,k=void 0),L||(L={}),D.render(S,k,L).toDataURL(L.type||"image/png",(L.rendererOpts||{}).quality)}},173:(nt,D,M)=>{const r=M(5726);function b(S,k){const F=S.a/255,L=k+'="'+S.hex+'"';return F<1?L+" "+k+'-opacity="'+F.toFixed(2).slice(1)+'"':L}function v(S,k,F){let L=S+k;return void 0!==F&&(L+=" "+F),L}D.render=function(k,F,L){const j=r.getOptions(F),H=k.modules.size,Z=k.modules.data,W=H+2*j.margin,be=j.color.light.a?"<path "+b(j.color.light,"fill")+' d="M0 0h'+W+"v"+W+'H0z"/>':"",we="<path "+b(j.color.dark,"stroke")+' d="'+function(S,k,F){let L="",j=0,H=!1,Z=0;for(let W=0;W<S.length;W++){const be=Math.floor(W%k),we=Math.floor(W/k);!be&&!H&&(H=!0),S[W]?(Z++,W>0&&be>0&&S[W-1]||(L+=H?v("M",be+F,.5+we+F):v("m",j,0),j=0,H=!1),be+1<k&&S[W+1]||(L+=v("h",Z),Z=0)):j++}return L}(Z,H,j.margin)+'"/>',le='<svg xmlns="http://www.w3.org/2000/svg" '+(j.width?'width="'+j.width+'" height="'+j.width+'" ':"")+'viewBox="0 0 '+W+" "+W+'" shape-rendering="crispEdges">'+be+we+"</svg>\n";return"function"==typeof L&&L(null,le),le}},5726:(nt,D)=>{function M(r){if("number"==typeof r&&(r=r.toString()),"string"!=typeof r)throw new Error("Color should be defined as hex string");let b=r.slice().replace("#","").split("");if(b.length<3||5===b.length||b.length>8)throw new Error("Invalid hex color: "+r);(3===b.length||4===b.length)&&(b=Array.prototype.concat.apply([],b.map(function(T){return[T,T]}))),6===b.length&&b.push("F","F");const v=parseInt(b.join(""),16);return{r:v>>24&255,g:v>>16&255,b:v>>8&255,a:255&v,hex:"#"+b.slice(0,6).join("")}}D.getOptions=function(b){b||(b={}),b.color||(b.color={});const T=b.width&&b.width>=21?b.width:void 0;return{width:T,scale:T?4:b.scale||4,margin:null==b.margin||b.margin<0?4:b.margin,color:{dark:M(b.color.dark||"#000000ff"),light:M(b.color.light||"#ffffffff")},type:b.type,rendererOpts:b.rendererOpts||{}}},D.getScale=function(b,v){return v.width&&v.width>=b+2*v.margin?v.width/(b+2*v.margin):v.scale},D.getImageWidth=function(b,v){const T=D.getScale(b,v);return Math.floor((b+2*v.margin)*T)},D.qrToImageData=function(b,v,T){const S=v.modules.size,k=v.modules.data,F=D.getScale(S,T),L=Math.floor((S+2*T.margin)*F),j=T.margin*F,H=[T.color.light,T.color.dark];for(let Z=0;Z<L;Z++)for(let W=0;W<L;W++){let be=4*(Z*L+W),we=T.color.light;Z>=j&&W>=j&&Z<L-j&&W<L-j&&(we=H[k[Math.floor((Z-j)/F)*S+Math.floor((W-j)/F)]?1:0]),b[be++]=we.r,b[be++]=we.g,b[be++]=we.b,b[be]=we.a}}},3098:(nt,D,M)=>{"use strict";M.d(D,{P:()=>S});var r=M(9193),b=M(5917),v=M(205);class S{constructor(F,L,j){this.kind=F,this.value=L,this.error=j,this.hasValue="N"===F}observe(F){switch(this.kind){case"N":return F.next&&F.next(this.value);case"E":return F.error&&F.error(this.error);case"C":return F.complete&&F.complete()}}do(F,L,j){switch(this.kind){case"N":return F&&F(this.value);case"E":return L&&L(this.error);case"C":return j&&j()}}accept(F,L,j){return F&&"function"==typeof F.next?this.observe(F):this.do(F,L,j)}toObservable(){switch(this.kind){case"N":return(0,b.of)(this.value);case"E":return(0,v._)(this.error);case"C":return(0,r.c)()}throw new Error("unexpected notification kind value")}static createNext(F){return void 0!==F?new S("N",F):S.undefinedValueNotification}static createError(F){return new S("E",void 0,F)}static createComplete(){return S.completeNotification}}S.completeNotification=new S("C"),S.undefinedValueNotification=new S("N",void 0)},7574:(nt,D,M)=>{"use strict";M.d(D,{y:()=>Z});var r=M(7393),v=M(9181),T=M(6490),k=M(6554),F=M(4487);var H=M(2494);let Z=(()=>{class be{constructor(Re){this._isScalar=!1,Re&&(this._subscribe=Re)}lift(Re){const Me=new be;return Me.source=this,Me.operator=Re,Me}subscribe(Re,Me,le){const{operator:Q}=this,ue=function(be,we,Re){if(be){if(be instanceof r.L)return be;if(be[v.b])return be[v.b]()}return be||we||Re?new r.L(be,we,Re):new r.L(T.c)}(Re,Me,le);if(ue.add(Q?Q.call(ue,this.source):this.source||H.v.useDeprecatedSynchronousErrorHandling&&!ue.syncErrorThrowable?this._subscribe(ue):this._trySubscribe(ue)),H.v.useDeprecatedSynchronousErrorHandling&&ue.syncErrorThrowable&&(ue.syncErrorThrowable=!1,ue.syncErrorThrown))throw ue.syncErrorValue;return ue}_trySubscribe(Re){try{return this._subscribe(Re)}catch(Me){H.v.useDeprecatedSynchronousErrorHandling&&(Re.syncErrorThrown=!0,Re.syncErrorValue=Me),function(be){for(;be;){const{closed:we,destination:Re,isStopped:Me}=be;if(we||Me)return!1;be=Re&&Re instanceof r.L?Re:null}return!0}(Re)?Re.error(Me):console.warn(Me)}}forEach(Re,Me){return new(Me=W(Me))((le,Q)=>{let ue;ue=this.subscribe(Ee=>{try{Re(Ee)}catch(Ve){Q(Ve),ue&&ue.unsubscribe()}},Q,le)})}_subscribe(Re){const{source:Me}=this;return Me&&Me.subscribe(Re)}[k.L](){return this}pipe(...Re){return 0===Re.length?this:function(be){return 0===be.length?F.y:1===be.length?be[0]:function(Re){return be.reduce((Me,le)=>le(Me),Re)}}(Re)(this)}toPromise(Re){return new(Re=W(Re))((Me,le)=>{let Q;this.subscribe(ue=>Q=ue,ue=>le(ue),()=>Me(Q))})}}return be.create=we=>new be(we),be})();function W(be){if(be||(be=H.v.Promise||Promise),!be)throw new Error("no Promise impl found");return be}},6490:(nt,D,M)=>{"use strict";M.d(D,{c:()=>v});var r=M(2494),b=M(4449);const v={closed:!0,next(T){},error(T){if(r.v.useDeprecatedSynchronousErrorHandling)throw T;(0,b.z)(T)},complete(){}}},9765:(nt,D,M)=>{"use strict";M.d(D,{Yc:()=>F,xQ:()=>L});var r=M(7574),b=M(7393),v=M(5319),T=M(7971),S=M(8858),k=M(9181);class F extends b.L{constructor(Z){super(Z),this.destination=Z}}let L=(()=>{class H extends r.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[k.b](){return new F(this)}lift(W){const be=new j(this,this);return be.operator=W,be}next(W){if(this.closed)throw new T.N;if(!this.isStopped){const{observers:be}=this,we=be.length,Re=be.slice();for(let Me=0;Me<we;Me++)Re[Me].next(W)}}error(W){if(this.closed)throw new T.N;this.hasError=!0,this.thrownError=W,this.isStopped=!0;const{observers:be}=this,we=be.length,Re=be.slice();for(let Me=0;Me<we;Me++)Re[Me].error(W);this.observers.length=0}complete(){if(this.closed)throw new T.N;this.isStopped=!0;const{observers:W}=this,be=W.length,we=W.slice();for(let Re=0;Re<be;Re++)we[Re].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(W){if(this.closed)throw new T.N;return super._trySubscribe(W)}_subscribe(W){if(this.closed)throw new T.N;return this.hasError?(W.error(this.thrownError),v.w.EMPTY):this.isStopped?(W.complete(),v.w.EMPTY):(this.observers.push(W),new S.W(this,W))}asObservable(){const W=new r.y;return W.source=this,W}}return H.create=(Z,W)=>new j(Z,W),H})();class j extends L{constructor(Z,W){super(),this.destination=Z,this.source=W}next(Z){const{destination:W}=this;W&&W.next&&W.next(Z)}error(Z){const{destination:W}=this;W&&W.error&&this.destination.error(Z)}complete(){const{destination:Z}=this;Z&&Z.complete&&this.destination.complete()}_subscribe(Z){const{source:W}=this;return W?this.source.subscribe(Z):v.w.EMPTY}}},8858:(nt,D,M)=>{"use strict";M.d(D,{W:()=>b});var r=M(5319);class b extends r.w{constructor(T,S){super(),this.subject=T,this.subscriber=S,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const T=this.subject,S=T.observers;if(this.subject=null,!S||0===S.length||T.isStopped||T.closed)return;const k=S.indexOf(this.subscriber);-1!==k&&S.splice(k,1)}}},7393:(nt,D,M)=>{"use strict";M.d(D,{L:()=>F});var r=M(9105),b=M(6490),v=M(5319),T=M(9181),S=M(2494),k=M(4449);class F extends v.w{constructor(H,Z,W){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=b.c;break;case 1:if(!H){this.destination=b.c;break}if("object"==typeof H){H instanceof F?(this.syncErrorThrowable=H.syncErrorThrowable,this.destination=H,H.add(this)):(this.syncErrorThrowable=!0,this.destination=new L(this,H));break}default:this.syncErrorThrowable=!0,this.destination=new L(this,H,Z,W)}}[T.b](){return this}static create(H,Z,W){const be=new F(H,Z,W);return be.syncErrorThrowable=!1,be}next(H){this.isStopped||this._next(H)}error(H){this.isStopped||(this.isStopped=!0,this._error(H))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(H){this.destination.next(H)}_error(H){this.destination.error(H),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:H}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=H,this}}class L extends F{constructor(H,Z,W,be){super(),this._parentSubscriber=H;let we,Re=this;(0,r.m)(Z)?we=Z:Z&&(we=Z.next,W=Z.error,be=Z.complete,Z!==b.c&&(Re=Object.create(Z),(0,r.m)(Re.unsubscribe)&&this.add(Re.unsubscribe.bind(Re)),Re.unsubscribe=this.unsubscribe.bind(this))),this._context=Re,this._next=we,this._error=W,this._complete=be}next(H){if(!this.isStopped&&this._next){const{_parentSubscriber:Z}=this;S.v.useDeprecatedSynchronousErrorHandling&&Z.syncErrorThrowable?this.__tryOrSetError(Z,this._next,H)&&this.unsubscribe():this.__tryOrUnsub(this._next,H)}}error(H){if(!this.isStopped){const{_parentSubscriber:Z}=this,{useDeprecatedSynchronousErrorHandling:W}=S.v;if(this._error)W&&Z.syncErrorThrowable?(this.__tryOrSetError(Z,this._error,H),this.unsubscribe()):(this.__tryOrUnsub(this._error,H),this.unsubscribe());else if(Z.syncErrorThrowable)W?(Z.syncErrorValue=H,Z.syncErrorThrown=!0):(0,k.z)(H),this.unsubscribe();else{if(this.unsubscribe(),W)throw H;(0,k.z)(H)}}}complete(){if(!this.isStopped){const{_parentSubscriber:H}=this;if(this._complete){const Z=()=>this._complete.call(this._context);S.v.useDeprecatedSynchronousErrorHandling&&H.syncErrorThrowable?(this.__tryOrSetError(H,Z),this.unsubscribe()):(this.__tryOrUnsub(Z),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(H,Z){try{H.call(this._context,Z)}catch(W){if(this.unsubscribe(),S.v.useDeprecatedSynchronousErrorHandling)throw W;(0,k.z)(W)}}__tryOrSetError(H,Z,W){if(!S.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{Z.call(this._context,W)}catch(be){return S.v.useDeprecatedSynchronousErrorHandling?(H.syncErrorValue=be,H.syncErrorThrown=!0,!0):((0,k.z)(be),!0)}return!1}_unsubscribe(){const{_parentSubscriber:H}=this;this._context=null,this._parentSubscriber=null,H.unsubscribe()}}},5319:(nt,D,M)=>{"use strict";M.d(D,{w:()=>k});var r=M(9796),b=M(1555),v=M(9105);const S=(()=>{function L(j){return Error.call(this),this.message=j?`${j.length} errors occurred during unsubscription:\n${j.map((H,Z)=>`${Z+1}) ${H.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=j,this}return L.prototype=Object.create(Error.prototype),L})();class k{constructor(j){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,j&&(this._ctorUnsubscribe=!0,this._unsubscribe=j)}unsubscribe(){let j;if(this.closed)return;let{_parentOrParents:H,_ctorUnsubscribe:Z,_unsubscribe:W,_subscriptions:be}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,H instanceof k)H.remove(this);else if(null!==H)for(let we=0;we<H.length;++we)H[we].remove(this);if((0,v.m)(W)){Z&&(this._unsubscribe=void 0);try{W.call(this)}catch(we){j=we instanceof S?F(we.errors):[we]}}if((0,r.k)(be)){let we=-1,Re=be.length;for(;++we<Re;){const Me=be[we];if((0,b.K)(Me))try{Me.unsubscribe()}catch(le){j=j||[],le instanceof S?j=j.concat(F(le.errors)):j.push(le)}}}if(j)throw new S(j)}add(j){let H=j;if(!j)return k.EMPTY;switch(typeof j){case"function":H=new k(j);case"object":if(H===this||H.closed||"function"!=typeof H.unsubscribe)return H;if(this.closed)return H.unsubscribe(),H;if(!(H instanceof k)){const be=H;H=new k,H._subscriptions=[be]}break;default:throw new Error("unrecognized teardown "+j+" added to Subscription.")}let{_parentOrParents:Z}=H;if(null===Z)H._parentOrParents=this;else if(Z instanceof k){if(Z===this)return H;H._parentOrParents=[Z,this]}else{if(-1!==Z.indexOf(this))return H;Z.push(this)}const W=this._subscriptions;return null===W?this._subscriptions=[H]:W.push(H),H}remove(j){const H=this._subscriptions;if(H){const Z=H.indexOf(j);-1!==Z&&H.splice(Z,1)}}}var L;function F(L){return L.reduce((j,H)=>j.concat(H instanceof S?H.errors:H),[])}k.EMPTY=((L=new k).closed=!0,L)},2494:(nt,D,M)=>{"use strict";M.d(D,{v:()=>b});let r=!1;const b={Promise:void 0,set useDeprecatedSynchronousErrorHandling(v){if(v){const T=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+T.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=v},get useDeprecatedSynchronousErrorHandling(){return r}}},5345:(nt,D,M)=>{"use strict";M.d(D,{IY:()=>T,Ds:()=>k,ft:()=>L});var r=M(7393),b=M(7574),v=M(7444);class T extends r.L{constructor(H){super(),this.parent=H}_next(H){this.parent.notifyNext(H)}_error(H){this.parent.notifyError(H),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class k extends r.L{notifyNext(H){this.destination.next(H)}notifyError(H){this.destination.error(H)}notifyComplete(){this.destination.complete()}}function L(j,H){if(H.closed)return;if(j instanceof b.y)return j.subscribe(H);let Z;try{Z=(0,v.s)(j)(H)}catch(W){H.error(W)}return Z}},2441:(nt,D,M)=>{"use strict";M.d(D,{c:()=>S,N:()=>k});var r=M(9765),b=M(7574),v=M(5319),T=M(1307);class S extends b.y{constructor(Z,W){super(),this.source=Z,this.subjectFactory=W,this._refCount=0,this._isComplete=!1}_subscribe(Z){return this.getSubject().subscribe(Z)}getSubject(){const Z=this._subject;return(!Z||Z.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let Z=this._connection;return Z||(this._isComplete=!1,Z=this._connection=new v.w,Z.add(this.source.subscribe(new F(this.getSubject(),this))),Z.closed&&(this._connection=null,Z=v.w.EMPTY)),Z}refCount(){return(0,T.x)()(this)}}const k=(()=>{const H=S.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:H._subscribe},_isComplete:{value:H._isComplete,writable:!0},getSubject:{value:H.getSubject},connect:{value:H.connect},refCount:{value:H.refCount}}})();class F extends r.Yc{constructor(Z,W){super(Z),this.connectable=W}_error(Z){this._unsubscribe(),super._error(Z)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const Z=this.connectable;if(Z){this.connectable=null;const W=Z._connection;Z._refCount=0,Z._subject=null,Z._connection=null,W&&W.unsubscribe()}}}},9193:(nt,D,M)=>{"use strict";M.d(D,{E:()=>b,c:()=>v});var r=M(7574);const b=new r.y(S=>S.complete());function v(S){return S?function(S){return new r.y(k=>S.schedule(()=>k.complete()))}(S):b}},4402:(nt,D,M)=>{"use strict";M.d(D,{D:()=>Re});var r=M(7574),b=M(7444),v=M(5319),T=M(6554),F=M(4087),L=M(377),Z=M(4072),W=M(9489);function Re(Me,le){return le?function(Me,le){if(null!=Me){if(function(Me){return Me&&"function"==typeof Me[T.L]}(Me))return function(Me,le){return new r.y(Q=>{const ue=new v.w;return ue.add(le.schedule(()=>{const Ee=Me[T.L]();ue.add(Ee.subscribe({next(Ve){ue.add(le.schedule(()=>Q.next(Ve)))},error(Ve){ue.add(le.schedule(()=>Q.error(Ve)))},complete(){ue.add(le.schedule(()=>Q.complete()))}}))})),ue})}(Me,le);if((0,Z.t)(Me))return function(Me,le){return new r.y(Q=>{const ue=new v.w;return ue.add(le.schedule(()=>Me.then(Ee=>{ue.add(le.schedule(()=>{Q.next(Ee),ue.add(le.schedule(()=>Q.complete()))}))},Ee=>{ue.add(le.schedule(()=>Q.error(Ee)))}))),ue})}(Me,le);if((0,W.z)(Me))return(0,F.r)(Me,le);if(function(Me){return Me&&"function"==typeof Me[L.hZ]}(Me)||"string"==typeof Me)return function(Me,le){if(!Me)throw new Error("Iterable cannot be null");return new r.y(Q=>{const ue=new v.w;let Ee;return ue.add(()=>{Ee&&"function"==typeof Ee.return&&Ee.return()}),ue.add(le.schedule(()=>{Ee=Me[L.hZ](),ue.add(le.schedule(function(){if(Q.closed)return;let Ve,ze;try{const xe=Ee.next();Ve=xe.value,ze=xe.done}catch(xe){return void Q.error(xe)}ze?Q.complete():(Q.next(Ve),this.schedule())}))})),ue})}(Me,le)}throw new TypeError((null!==Me&&typeof Me||Me)+" is not observable")}(Me,le):Me instanceof r.y?Me:new r.y((0,b.s)(Me))}},6693:(nt,D,M)=>{"use strict";M.d(D,{n:()=>T});var r=M(7574),b=M(5015),v=M(4087);function T(S,k){return k?(0,v.r)(S,k):new r.y((0,b.V)(S))}},6682:(nt,D,M)=>{"use strict";M.d(D,{T:()=>S});var r=M(7574),b=M(4869),v=M(3282),T=M(6693);function S(...k){let F=Number.POSITIVE_INFINITY,L=null,j=k[k.length-1];return(0,b.K)(j)?(L=k.pop(),k.length>1&&"number"==typeof k[k.length-1]&&(F=k.pop())):"number"==typeof j&&(F=k.pop()),null===L&&1===k.length&&k[0]instanceof r.y?k[0]:(0,v.J)(F)((0,T.n)(k,L))}},5917:(nt,D,M)=>{"use strict";M.d(D,{of:()=>T});var r=M(4869),b=M(6693),v=M(4087);function T(...S){let k=S[S.length-1];return(0,r.K)(k)?(S.pop(),(0,v.r)(S,k)):(0,b.n)(S)}},205:(nt,D,M)=>{"use strict";M.d(D,{_:()=>b});var r=M(7574);function b(T,S){return new r.y(S?k=>S.schedule(v,0,{error:T,subscriber:k}):k=>k.error(T))}function v({error:T,subscriber:S}){S.error(T)}},8002:(nt,D,M)=>{"use strict";M.d(D,{U:()=>b});var r=M(7393);function b(S,k){return function(L){if("function"!=typeof S)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return L.lift(new v(S,k))}}class v{constructor(k,F){this.project=k,this.thisArg=F}call(k,F){return F.subscribe(new T(k,this.project,this.thisArg))}}class T extends r.L{constructor(k,F,L){super(k),this.project=F,this.count=0,this.thisArg=L||this}_next(k){let F;try{F=this.project.call(this.thisArg,k,this.count++)}catch(L){return void this.destination.error(L)}this.destination.next(F)}}},3282:(nt,D,M)=>{"use strict";M.d(D,{J:()=>v});var r=M(9773),b=M(4487);function v(T=Number.POSITIVE_INFINITY){return(0,r.zg)(b.y,T)}},9773:(nt,D,M)=>{"use strict";M.d(D,{zg:()=>T});var r=M(8002),b=M(4402),v=M(5345);function T(L,j,H=Number.POSITIVE_INFINITY){return"function"==typeof j?Z=>Z.pipe(T((W,be)=>(0,b.D)(L(W,be)).pipe((0,r.U)((we,Re)=>j(W,we,be,Re))),H)):("number"==typeof j&&(H=j),Z=>Z.lift(new S(L,H)))}class S{constructor(j,H=Number.POSITIVE_INFINITY){this.project=j,this.concurrent=H}call(j,H){return H.subscribe(new k(j,this.project,this.concurrent))}}class k extends v.Ds{constructor(j,H,Z=Number.POSITIVE_INFINITY){super(j),this.project=H,this.concurrent=Z,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(j){this.active<this.concurrent?this._tryNext(j):this.buffer.push(j)}_tryNext(j){let H;const Z=this.index++;try{H=this.project(j,Z)}catch(W){return void this.destination.error(W)}this.active++,this._innerSub(H)}_innerSub(j){const H=new v.IY(this),Z=this.destination;Z.add(H);const W=(0,v.ft)(j,H);W!==H&&Z.add(W)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(j){this.destination.next(j)}notifyComplete(){const j=this.buffer;this.active--,j.length>0?this._next(j.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},4458:(nt,D,M)=>{"use strict";M.d(D,{O:()=>b});var r=M(2441);function b(T,S){return function(F){let L;if(L="function"==typeof T?T:function(){return T},"function"==typeof S)return F.lift(new v(L,S));const j=Object.create(F,r.N);return j.source=F,j.subjectFactory=L,j}}class v{constructor(S,k){this.subjectFactory=S,this.selector=k}call(S,k){const{selector:F}=this,L=this.subjectFactory(),j=F(L).subscribe(S);return j.add(k.subscribe(L)),j}}},9746:(nt,D,M)=>{"use strict";M.d(D,{QV:()=>v,ht:()=>S});var r=M(7393),b=M(3098);function v(F,L=0){return function(H){return H.lift(new T(F,L))}}class T{constructor(L,j=0){this.scheduler=L,this.delay=j}call(L,j){return j.subscribe(new S(L,this.scheduler,this.delay))}}class S extends r.L{constructor(L,j,H=0){super(L),this.scheduler=j,this.delay=H}static dispatch(L){const{notification:j,destination:H}=L;j.observe(H),this.unsubscribe()}scheduleMessage(L){this.destination.add(this.scheduler.schedule(S.dispatch,this.delay,new k(L,this.destination)))}_next(L){this.scheduleMessage(b.P.createNext(L))}_error(L){this.scheduleMessage(b.P.createError(L)),this.unsubscribe()}_complete(){this.scheduleMessage(b.P.createComplete()),this.unsubscribe()}}class k{constructor(L,j){this.notification=L,this.destination=j}}},1307:(nt,D,M)=>{"use strict";M.d(D,{x:()=>b});var r=M(7393);function b(){return function(k){return k.lift(new v(k))}}class v{constructor(k){this.connectable=k}call(k,F){const{connectable:L}=this;L._refCount++;const j=new T(k,L),H=F.subscribe(j);return j.closed||(j.connection=L.connect()),H}}class T extends r.L{constructor(k,F){super(k),this.connectable=F}_unsubscribe(){const{connectable:k}=this;if(!k)return void(this.connection=null);this.connectable=null;const F=k._refCount;if(F<=0)return void(this.connection=null);if(k._refCount=F-1,F>1)return void(this.connection=null);const{connection:L}=this,j=k._connection;this.connection=null,j&&(!L||j===L)&&j.unsubscribe()}}},8345:(nt,D,M)=>{"use strict";M.d(D,{B:()=>S});var r=M(4458),b=M(1307),v=M(9765);function T(){return new v.xQ}function S(){return k=>(0,b.x)()((0,r.O)(T)(k))}},9673:(nt,D,M)=>{"use strict";M.d(D,{R:()=>S});var r=M(7574),b=M(4581),v=M(6561);class T extends r.y{constructor(L,j=0,H=b.e){super(),this.source=L,this.delayTime=j,this.scheduler=H,(!(0,v.k)(j)||j<0)&&(this.delayTime=0),(!H||"function"!=typeof H.schedule)&&(this.scheduler=b.e)}static create(L,j=0,H=b.e){return new T(L,j,H)}static dispatch(L){const{source:j,subscriber:H}=L;return this.add(j.subscribe(H))}_subscribe(L){return this.scheduler.schedule(T.dispatch,this.delayTime,{source:this.source,subscriber:L})}}function S(F,L=0){return function(H){return H.lift(new k(F,L))}}class k{constructor(L,j){this.scheduler=L,this.delay=j}call(L,j){return new T(j,this.delay,this.scheduler).subscribe(L)}}},8307:(nt,D,M)=>{"use strict";M.d(D,{b:()=>T});var r=M(7393),b=M(8640),v=M(9105);function T(F,L,j){return function(Z){return Z.lift(new S(F,L,j))}}class S{constructor(L,j,H){this.nextOrObserver=L,this.error=j,this.complete=H}call(L,j){return j.subscribe(new k(L,this.nextOrObserver,this.error,this.complete))}}class k extends r.L{constructor(L,j,H,Z){super(L),this._tapNext=b.Z,this._tapError=b.Z,this._tapComplete=b.Z,this._tapError=H||b.Z,this._tapComplete=Z||b.Z,(0,v.m)(j)?(this._context=this,this._tapNext=j):j&&(this._context=j,this._tapNext=j.next||b.Z,this._tapError=j.error||b.Z,this._tapComplete=j.complete||b.Z)}_next(L){try{this._tapNext.call(this._context,L)}catch(j){return void this.destination.error(j)}this.destination.next(L)}_error(L){try{this._tapError.call(this._context,L)}catch(j){return void this.destination.error(j)}this.destination.error(L)}_complete(){try{this._tapComplete.call(this._context)}catch(L){return void this.destination.error(L)}return this.destination.complete()}}},4087:(nt,D,M)=>{"use strict";M.d(D,{r:()=>v});var r=M(7574),b=M(5319);function v(T,S){return new r.y(k=>{const F=new b.w;let L=0;return F.add(S.schedule(function(){L!==T.length?(k.next(T[L++]),k.closed||F.add(this.schedule())):k.complete()})),F})}},6465:(nt,D,M)=>{"use strict";M.d(D,{o:()=>v});var r=M(5319);class b extends r.w{constructor(S,k){super()}schedule(S,k=0){return this}}class v extends b{constructor(S,k){super(S,k),this.scheduler=S,this.work=k,this.pending=!1}schedule(S,k=0){if(this.closed)return this;this.state=S;const F=this.id,L=this.scheduler;return null!=F&&(this.id=this.recycleAsyncId(L,F,k)),this.pending=!0,this.delay=k,this.id=this.id||this.requestAsyncId(L,this.id,k),this}requestAsyncId(S,k,F=0){return setInterval(S.flush.bind(S,this),F)}recycleAsyncId(S,k,F=0){if(null!==F&&this.delay===F&&!1===this.pending)return k;clearInterval(k)}execute(S,k){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const F=this._execute(S,k);if(F)return F;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(S,k){let L,F=!1;try{this.work(S)}catch(j){F=!0,L=!!j&&j||new Error(j)}if(F)return this.unsubscribe(),L}_unsubscribe(){const S=this.id,k=this.scheduler,F=k.actions,L=F.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==L&&F.splice(L,1),null!=S&&(this.id=this.recycleAsyncId(k,S,null)),this.delay=null}}},6102:(nt,D,M)=>{"use strict";M.d(D,{v:()=>b});let r=(()=>{class v{constructor(S,k=v.now){this.SchedulerAction=S,this.now=k}schedule(S,k=0,F){return new this.SchedulerAction(this,S).schedule(F,k)}}return v.now=()=>Date.now(),v})();class b extends r{constructor(T,S=r.now){super(T,()=>b.delegate&&b.delegate!==this?b.delegate.now():S()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(T,S=0,k){return b.delegate&&b.delegate!==this?b.delegate.schedule(T,S,k):super.schedule(T,S,k)}flush(T){const{actions:S}=this;if(this.active)return void S.push(T);let k;this.active=!0;do{if(k=T.execute(T.state,T.delay))break}while(T=S.shift());if(this.active=!1,k){for(;T=S.shift();)T.unsubscribe();throw k}}}},4581:(nt,D,M)=>{"use strict";M.d(D,{e:()=>W,E:()=>Z});let r=1;const b=Promise.resolve(),v={};function T(be){return be in v&&(delete v[be],!0)}const S={setImmediate(be){const we=r++;return v[we]=!0,b.then(()=>T(we)&&be()),we},clearImmediate(be){T(be)}};var F=M(6465),j=M(6102);const Z=new class extends j.v{flush(we){this.active=!0,this.scheduled=void 0;const{actions:Re}=this;let Me,le=-1,Q=Re.length;we=we||Re.shift();do{if(Me=we.execute(we.state,we.delay))break}while(++le<Q&&(we=Re.shift()));if(this.active=!1,Me){for(;++le<Q&&(we=Re.shift());)we.unsubscribe();throw Me}}}(class extends F.o{constructor(we,Re){super(we,Re),this.scheduler=we,this.work=Re}requestAsyncId(we,Re,Me=0){return null!==Me&&Me>0?super.requestAsyncId(we,Re,Me):(we.actions.push(this),we.scheduled||(we.scheduled=S.setImmediate(we.flush.bind(we,null))))}recycleAsyncId(we,Re,Me=0){if(null!==Me&&Me>0||null===Me&&this.delay>0)return super.recycleAsyncId(we,Re,Me);0===we.actions.length&&(S.clearImmediate(Re),we.scheduled=void 0)}}),W=Z},3637:(nt,D,M)=>{"use strict";M.d(D,{z:()=>v,P:()=>T});var r=M(6465);const v=new(M(6102).v)(r.o),T=v},7771:(nt,D,M)=>{"use strict";M.d(D,{c:()=>k,N:()=>S});var r=M(6465),v=M(6102);const S=new class extends v.v{}(class extends r.o{constructor(L,j){super(L,j),this.scheduler=L,this.work=j}schedule(L,j=0){return j>0?super.schedule(L,j):(this.delay=j,this.state=L,this.scheduler.flush(this),this)}execute(L,j){return j>0||this.closed?super.execute(L,j):this._execute(L,j)}requestAsyncId(L,j,H=0){return null!==H&&H>0||null===H&&this.delay>0?super.requestAsyncId(L,j,H):L.flush(this)}}),k=S},377:(nt,D,M)=>{"use strict";M.d(D,{hZ:()=>b});const b="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},6554:(nt,D,M)=>{"use strict";M.d(D,{L:()=>r});const r="function"==typeof Symbol&&Symbol.observable||"@@observable"},9181:(nt,D,M)=>{"use strict";M.d(D,{b:()=>r});const r="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},7971:(nt,D,M)=>{"use strict";M.d(D,{N:()=>b});const b=(()=>{function v(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return v.prototype=Object.create(Error.prototype),v})()},4449:(nt,D,M)=>{"use strict";function r(b){setTimeout(()=>{throw b},0)}M.d(D,{z:()=>r})},4487:(nt,D,M)=>{"use strict";function r(b){return b}M.d(D,{y:()=>r})},9796:(nt,D,M)=>{"use strict";M.d(D,{k:()=>r});const r=Array.isArray||(b=>b&&"number"==typeof b.length)},9489:(nt,D,M)=>{"use strict";M.d(D,{z:()=>r});const r=b=>b&&"number"==typeof b.length&&"function"!=typeof b},9105:(nt,D,M)=>{"use strict";function r(b){return"function"==typeof b}M.d(D,{m:()=>r})},6561:(nt,D,M)=>{"use strict";M.d(D,{k:()=>b});var r=M(9796);function b(v){return!(0,r.k)(v)&&v-parseFloat(v)+1>=0}},1555:(nt,D,M)=>{"use strict";function r(b){return null!==b&&"object"==typeof b}M.d(D,{K:()=>r})},4072:(nt,D,M)=>{"use strict";function r(b){return!!b&&"function"!=typeof b.subscribe&&"function"==typeof b.then}M.d(D,{t:()=>r})},4869:(nt,D,M)=>{"use strict";function r(b){return b&&"function"==typeof b.schedule}M.d(D,{K:()=>r})},8640:(nt,D,M)=>{"use strict";function r(){}M.d(D,{Z:()=>r})},7444:(nt,D,M)=>{"use strict";M.d(D,{s:()=>Z});var r=M(5015),b=M(4449),T=M(377),k=M(6554),L=M(9489),j=M(4072),H=M(1555);const Z=W=>{if(W&&"function"==typeof W[k.L])return(W=>be=>{const we=W[k.L]();if("function"!=typeof we.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return we.subscribe(be)})(W);if((0,L.z)(W))return(0,r.V)(W);if((0,j.t)(W))return(W=>be=>(W.then(we=>{be.closed||(be.next(we),be.complete())},we=>be.error(we)).then(null,b.z),be))(W);if(W&&"function"==typeof W[T.hZ])return(W=>be=>{const we=W[T.hZ]();for(;;){let Re;try{Re=we.next()}catch(Me){return be.error(Me),be}if(Re.done){be.complete();break}if(be.next(Re.value),be.closed)break}return"function"==typeof we.return&&be.add(()=>{we.return&&we.return()}),be})(W);{const we=`You provided ${(0,H.K)(W)?"an invalid object":`'${W}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(we)}}},5015:(nt,D,M)=>{"use strict";M.d(D,{V:()=>r});const r=b=>v=>{for(let T=0,S=b.length;T<S&&!v.closed;T++)v.next(b[T]);v.complete()}},5521:(nt,D,M)=>{"use strict";var r=M(7716);let b=null;function v(){return b}const F=new r.OlP("DocumentToken");let L=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=(0,r.Yz7)({factory:j,token:n,providedIn:"platform"}),n})();function j(){return(0,r.LFG)(Z)}const H=new r.OlP("Location Initialized");let Z=(()=>{class n extends L{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return v().getBaseHref(this._doc)}onPopState(e){const i=v().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){const i=v().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,i,s){W()?this._history.pushState(e,i,s):this.location.hash=s}replaceState(e,i,s){W()?this._history.replaceState(e,i,s):this.location.hash=s}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(F))},n.\u0275prov=(0,r.Yz7)({factory:be,token:n,providedIn:"platform"}),n})();function W(){return!!window.history.pushState}function be(){return new Z((0,r.LFG)(F))}function we(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function Re(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function Me(n){return n&&"?"!==n[0]?"?"+n:n}let le=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=(0,r.Yz7)({factory:Q,token:n,providedIn:"root"}),n})();function Q(n){const t=(0,r.LFG)(F).location;return new Ee((0,r.LFG)(L),t&&t.origin||"")}const ue=new r.OlP("appBaseHref");let Ee=(()=>{class n extends le{constructor(e,i){if(super(),this._platformLocation=e,this._removeListenerFns=[],null==i&&(i=this._platformLocation.getBaseHrefFromDOM()),null==i)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=i}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return we(this._baseHref,e)}path(e=!1){const i=this._platformLocation.pathname+Me(this._platformLocation.search),s=this._platformLocation.hash;return s&&e?`${i}${s}`:i}pushState(e,i,s,a){const u=this.prepareExternalUrl(s+Me(a));this._platformLocation.pushState(e,i,u)}replaceState(e,i,s,a){const u=this.prepareExternalUrl(s+Me(a));this._platformLocation.replaceState(e,i,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var i,s;null===(s=(i=this._platformLocation).historyGo)||void 0===s||s.call(i,e)}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(L),r.LFG(ue,8))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac}),n})(),Ve=(()=>{class n extends le{constructor(e,i){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(e){const i=we(this._baseHref,e);return i.length>0?"#"+i:i}pushState(e,i,s,a){let u=this.prepareExternalUrl(s+Me(a));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.pushState(e,i,u)}replaceState(e,i,s,a){let u=this.prepareExternalUrl(s+Me(a));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.replaceState(e,i,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var i,s;null===(s=(i=this._platformLocation).historyGo)||void 0===s||s.call(i,e)}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(L),r.LFG(ue,8))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac}),n})(),ze=(()=>{class n{constructor(e,i){this._subject=new r.vpe,this._urlChangeListeners=[],this._platformStrategy=e;const s=this._platformStrategy.getBaseHref();this._platformLocation=i,this._baseHref=Re(ke(s)),this._platformStrategy.onPopState(a=>{this._subject.emit({url:this.path(!0),pop:!0,state:a.state,type:a.type})})}path(e=!1){return this.normalize(this._platformStrategy.path(e))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+Me(i))}normalize(e){return n.stripTrailingSlash(function(n,t){return n&&t.startsWith(n)?t.substring(n.length):t}(this._baseHref,ke(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}go(e,i="",s=null){this._platformStrategy.pushState(s,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Me(i)),s)}replaceState(e,i="",s=null){this._platformStrategy.replaceState(s,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Me(i)),s)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(e=0){var i,s;null===(s=(i=this._platformStrategy).historyGo)||void 0===s||s.call(i,e)}onUrlChange(e){this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}))}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(s=>s(e,i))}subscribe(e,i,s){return this._subject.subscribe({next:e,error:i,complete:s})}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(le),r.LFG(L))},n.normalizeQueryParams=Me,n.joinWithSlash=we,n.stripTrailingSlash=Re,n.\u0275prov=(0,r.Yz7)({factory:xe,token:n,providedIn:"root"}),n})();function xe(){return new ze((0,r.LFG)(le),(0,r.LFG)(L))}function ke(n){return n.replace(/\/index.html$/,"")}const ie={ADP:[void 0,void 0,0],AFN:[void 0,void 0,0],ALL:[void 0,void 0,0],AMD:[void 0,void 0,2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,"\u0440.",2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:[void 0,"\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RUR:[void 0,"\u0440."],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["CFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]};var pe=(()=>((pe=pe||{})[pe.Decimal=0]="Decimal",pe[pe.Percent=1]="Percent",pe[pe.Currency=2]="Currency",pe[pe.Scientific=3]="Scientific",pe))(),K=(()=>((K=K||{})[K.Zero=0]="Zero",K[K.One=1]="One",K[K.Two=2]="Two",K[K.Few=3]="Few",K[K.Many=4]="Many",K[K.Other=5]="Other",K))(),te=(()=>((te=te||{})[te.Format=0]="Format",te[te.Standalone=1]="Standalone",te))(),ae=(()=>((ae=ae||{})[ae.Narrow=0]="Narrow",ae[ae.Abbreviated=1]="Abbreviated",ae[ae.Wide=2]="Wide",ae[ae.Short=3]="Short",ae))(),_e=(()=>((_e=_e||{})[_e.Short=0]="Short",_e[_e.Medium=1]="Medium",_e[_e.Long=2]="Long",_e[_e.Full=3]="Full",_e))(),ge=(()=>((ge=ge||{})[ge.Decimal=0]="Decimal",ge[ge.Group=1]="Group",ge[ge.List=2]="List",ge[ge.PercentSign=3]="PercentSign",ge[ge.PlusSign=4]="PlusSign",ge[ge.MinusSign=5]="MinusSign",ge[ge.Exponential=6]="Exponential",ge[ge.SuperscriptingExponent=7]="SuperscriptingExponent",ge[ge.PerMille=8]="PerMille",ge[ge.Infinity=9]="Infinity",ge[ge.NaN=10]="NaN",ge[ge.TimeSeparator=11]="TimeSeparator",ge[ge.CurrencyDecimal=12]="CurrencyDecimal",ge[ge.CurrencyGroup=13]="CurrencyGroup",ge))();function vn(n,t){return Zn((0,r.cg1)(n)[r.wAp.DateFormat],t)}function Ht(n,t){return Zn((0,r.cg1)(n)[r.wAp.TimeFormat],t)}function Vt(n,t){return Zn((0,r.cg1)(n)[r.wAp.DateTimeFormat],t)}function xt(n,t){const e=(0,r.cg1)(n),i=e[r.wAp.NumberSymbols][t];if(void 0===i){if(t===ge.CurrencyDecimal)return e[r.wAp.NumberSymbols][ge.Decimal];if(t===ge.CurrencyGroup)return e[r.wAp.NumberSymbols][ge.Group]}return i}const bs=r.kL8;function Qi(n){if(!n[r.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[r.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Zn(n,t){for(let e=t;e>-1;e--)if(void 0!==n[e])return n[e];throw new Error("Locale data API: locale data undefined")}function Li(n){const[t,e]=n.split(":");return{hours:+t,minutes:+e}}const hn=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,fn={},Ai=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Dn=(()=>((Dn=Dn||{})[Dn.Short=0]="Short",Dn[Dn.ShortGMT=1]="ShortGMT",Dn[Dn.Long=2]="Long",Dn[Dn.Extended=3]="Extended",Dn))(),pt=(()=>((pt=pt||{})[pt.FullYear=0]="FullYear",pt[pt.Month=1]="Month",pt[pt.Date=2]="Date",pt[pt.Hours=3]="Hours",pt[pt.Minutes=4]="Minutes",pt[pt.Seconds=5]="Seconds",pt[pt.FractionalSeconds=6]="FractionalSeconds",pt[pt.Day=7]="Day",pt))(),Nt=(()=>((Nt=Nt||{})[Nt.DayPeriods=0]="DayPeriods",Nt[Nt.Days=1]="Days",Nt[Nt.Months=2]="Months",Nt[Nt.Eras=3]="Eras",Nt))();function Er(n,t,e,i){let s=function(n){if(Zr(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[s,a=1,u=1]=n.split("-").map(f=>+f);return $r(s,a-1,u)}const e=parseFloat(n);if(!isNaN(n-e))return new Date(e);let i;if(i=n.match(hn))return function(n){const t=new Date(0);let e=0,i=0;const s=n[8]?t.setUTCFullYear:t.setFullYear,a=n[8]?t.setUTCHours:t.setHours;n[9]&&(e=Number(n[9]+n[10]),i=Number(n[9]+n[11])),s.call(t,Number(n[1]),Number(n[2])-1,Number(n[3]));const u=Number(n[4]||0)-e,f=Number(n[5]||0)-i,g=Number(n[6]||0),C=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return a.call(t,u,f,g,C),t}(i)}const t=new Date(n);if(!Zr(t))throw new Error(`Unable to convert "${n}" into a date`);return t}(n);t=Dr(e,t)||t;let f,u=[];for(;t;){if(f=Ai.exec(t),!f){u.push(t);break}{u=u.concat(f.slice(1));const x=u.pop();if(!x)break;t=x}}let g=s.getTimezoneOffset();i&&(g=ei(i,g),s=function(n,t,e){const s=n.getTimezoneOffset();return function(n,t){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+t),n}(n,-1*(ei(t,s)-s))}(s,i));let C="";return u.forEach(x=>{const R=function(n){if(ln[n])return ln[n];let t;switch(n){case"G":case"GG":case"GGG":t=Oe(Nt.Eras,ae.Abbreviated);break;case"GGGG":t=Oe(Nt.Eras,ae.Wide);break;case"GGGGG":t=Oe(Nt.Eras,ae.Narrow);break;case"y":t=Ae(pt.FullYear,1,0,!1,!0);break;case"yy":t=Ae(pt.FullYear,2,0,!0,!0);break;case"yyy":t=Ae(pt.FullYear,3,0,!1,!0);break;case"yyyy":t=Ae(pt.FullYear,4,0,!1,!0);break;case"Y":t=ur(1);break;case"YY":t=ur(2,!0);break;case"YYY":t=ur(3);break;case"YYYY":t=ur(4);break;case"M":case"L":t=Ae(pt.Month,1,1);break;case"MM":case"LL":t=Ae(pt.Month,2,1);break;case"MMM":t=Oe(Nt.Months,ae.Abbreviated);break;case"MMMM":t=Oe(Nt.Months,ae.Wide);break;case"MMMMM":t=Oe(Nt.Months,ae.Narrow);break;case"LLL":t=Oe(Nt.Months,ae.Abbreviated,te.Standalone);break;case"LLLL":t=Oe(Nt.Months,ae.Wide,te.Standalone);break;case"LLLLL":t=Oe(Nt.Months,ae.Narrow,te.Standalone);break;case"w":t=Wn(1);break;case"ww":t=Wn(2);break;case"W":t=Wn(1,!0);break;case"d":t=Ae(pt.Date,1);break;case"dd":t=Ae(pt.Date,2);break;case"c":case"cc":t=Ae(pt.Day,1);break;case"ccc":t=Oe(Nt.Days,ae.Abbreviated,te.Standalone);break;case"cccc":t=Oe(Nt.Days,ae.Wide,te.Standalone);break;case"ccccc":t=Oe(Nt.Days,ae.Narrow,te.Standalone);break;case"cccccc":t=Oe(Nt.Days,ae.Short,te.Standalone);break;case"E":case"EE":case"EEE":t=Oe(Nt.Days,ae.Abbreviated);break;case"EEEE":t=Oe(Nt.Days,ae.Wide);break;case"EEEEE":t=Oe(Nt.Days,ae.Narrow);break;case"EEEEEE":t=Oe(Nt.Days,ae.Short);break;case"a":case"aa":case"aaa":t=Oe(Nt.DayPeriods,ae.Abbreviated);break;case"aaaa":t=Oe(Nt.DayPeriods,ae.Wide);break;case"aaaaa":t=Oe(Nt.DayPeriods,ae.Narrow);break;case"b":case"bb":case"bbb":t=Oe(Nt.DayPeriods,ae.Abbreviated,te.Standalone,!0);break;case"bbbb":t=Oe(Nt.DayPeriods,ae.Wide,te.Standalone,!0);break;case"bbbbb":t=Oe(Nt.DayPeriods,ae.Narrow,te.Standalone,!0);break;case"B":case"BB":case"BBB":t=Oe(Nt.DayPeriods,ae.Abbreviated,te.Format,!0);break;case"BBBB":t=Oe(Nt.DayPeriods,ae.Wide,te.Format,!0);break;case"BBBBB":t=Oe(Nt.DayPeriods,ae.Narrow,te.Format,!0);break;case"h":t=Ae(pt.Hours,1,-12);break;case"hh":t=Ae(pt.Hours,2,-12);break;case"H":t=Ae(pt.Hours,1);break;case"HH":t=Ae(pt.Hours,2);break;case"m":t=Ae(pt.Minutes,1);break;case"mm":t=Ae(pt.Minutes,2);break;case"s":t=Ae(pt.Seconds,1);break;case"ss":t=Ae(pt.Seconds,2);break;case"S":t=Ae(pt.FractionalSeconds,1);break;case"SS":t=Ae(pt.FractionalSeconds,2);break;case"SSS":t=Ae(pt.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":t=qe(Dn.Short);break;case"ZZZZZ":t=qe(Dn.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=qe(Dn.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":t=qe(Dn.Long);break;default:return null}return ln[n]=t,t}(x);C+=R?R(s,e,g):"''"===x?"'":x.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),C}function $r(n,t,e){const i=new Date(0);return i.setFullYear(n,t,e),i.setHours(0,0,0),i}function Dr(n,t){const e=function(n){return(0,r.cg1)(n)[r.wAp.LocaleId]}(n);if(fn[e]=fn[e]||{},fn[e][t])return fn[e][t];let i="";switch(t){case"shortDate":i=vn(n,_e.Short);break;case"mediumDate":i=vn(n,_e.Medium);break;case"longDate":i=vn(n,_e.Long);break;case"fullDate":i=vn(n,_e.Full);break;case"shortTime":i=Ht(n,_e.Short);break;case"mediumTime":i=Ht(n,_e.Medium);break;case"longTime":i=Ht(n,_e.Long);break;case"fullTime":i=Ht(n,_e.Full);break;case"short":const s=Dr(n,"shortTime"),a=Dr(n,"shortDate");i=Fn(Vt(n,_e.Short),[s,a]);break;case"medium":const u=Dr(n,"mediumTime"),f=Dr(n,"mediumDate");i=Fn(Vt(n,_e.Medium),[u,f]);break;case"long":const g=Dr(n,"longTime"),C=Dr(n,"longDate");i=Fn(Vt(n,_e.Long),[g,C]);break;case"full":const x=Dr(n,"fullTime"),R=Dr(n,"fullDate");i=Fn(Vt(n,_e.Full),[x,R])}return i&&(fn[e][t]=i),i}function Fn(n,t){return t&&(n=n.replace(/\{([^}]+)}/g,function(e,i){return null!=t&&i in t?t[i]:e})),n}function cr(n,t,e="-",i,s){let a="";(n<0||s&&n<=0)&&(s?n=1-n:(n=-n,a=e));let u=String(n);for(;u.length<t;)u="0"+u;return i&&(u=u.substr(u.length-t)),a+u}function Ae(n,t,e=0,i=!1,s=!1){return function(a,u){let f=function(n,t){switch(n){case pt.FullYear:return t.getFullYear();case pt.Month:return t.getMonth();case pt.Date:return t.getDate();case pt.Hours:return t.getHours();case pt.Minutes:return t.getMinutes();case pt.Seconds:return t.getSeconds();case pt.FractionalSeconds:return t.getMilliseconds();case pt.Day:return t.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,a);if((e>0||f>-e)&&(f+=e),n===pt.Hours)0===f&&-12===e&&(f=12);else if(n===pt.FractionalSeconds)return function(n,t){return cr(n,3).substr(0,t)}(f,t);const g=xt(u,ge.MinusSign);return cr(f,t,g,i,s)}}function Oe(n,t,e=te.Format,i=!1){return function(s,a){return function(n,t,e,i,s,a){switch(e){case Nt.Months:return function(n,t,e){const i=(0,r.cg1)(n),a=Zn([i[r.wAp.MonthsFormat],i[r.wAp.MonthsStandalone]],t);return Zn(a,e)}(t,s,i)[n.getMonth()];case Nt.Days:return function(n,t,e){const i=(0,r.cg1)(n),a=Zn([i[r.wAp.DaysFormat],i[r.wAp.DaysStandalone]],t);return Zn(a,e)}(t,s,i)[n.getDay()];case Nt.DayPeriods:const u=n.getHours(),f=n.getMinutes();if(a){const C=function(n){const t=(0,r.cg1)(n);return Qi(t),(t[r.wAp.ExtraData][2]||[]).map(i=>"string"==typeof i?Li(i):[Li(i[0]),Li(i[1])])}(t),x=function(n,t,e){const i=(0,r.cg1)(n);Qi(i);const a=Zn([i[r.wAp.ExtraData][0],i[r.wAp.ExtraData][1]],t)||[];return Zn(a,e)||[]}(t,s,i),R=C.findIndex(G=>{if(Array.isArray(G)){const[ee,he]=G,Fe=u>=ee.hours&&f>=ee.minutes,He=u<he.hours||u===he.hours&&f<he.minutes;if(ee.hours<he.hours){if(Fe&&He)return!0}else if(Fe||He)return!0}else if(G.hours===u&&G.minutes===f)return!0;return!1});if(-1!==R)return x[R]}return function(n,t,e){const i=(0,r.cg1)(n),a=Zn([i[r.wAp.DayPeriodsFormat],i[r.wAp.DayPeriodsStandalone]],t);return Zn(a,e)}(t,s,i)[u<12?0:1];case Nt.Eras:return function(n,t){return Zn((0,r.cg1)(n)[r.wAp.Eras],t)}(t,i)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${e}`)}}(s,a,n,t,e,i)}}function qe(n){return function(t,e,i){const s=-1*i,a=xt(e,ge.MinusSign),u=s>0?Math.floor(s/60):Math.ceil(s/60);switch(n){case Dn.Short:return(s>=0?"+":"")+cr(u,2,a)+cr(Math.abs(s%60),2,a);case Dn.ShortGMT:return"GMT"+(s>=0?"+":"")+cr(u,1,a);case Dn.Long:return"GMT"+(s>=0?"+":"")+cr(u,2,a)+":"+cr(Math.abs(s%60),2,a);case Dn.Extended:return 0===i?"Z":(s>=0?"+":"")+cr(u,2,a)+":"+cr(Math.abs(s%60),2,a);default:throw new Error(`Unknown zone width "${n}"`)}}}function Rn(n){return $r(n.getFullYear(),n.getMonth(),n.getDate()+(4-n.getDay()))}function Wn(n,t=!1){return function(e,i){let s;if(t){const a=new Date(e.getFullYear(),e.getMonth(),1).getDay()-1,u=e.getDate();s=1+Math.floor((u+a)/7)}else{const a=Rn(e),u=function(n){const t=$r(n,0,1).getDay();return $r(n,0,1+(t<=4?4:11)-t)}(a.getFullYear()),f=a.getTime()-u.getTime();s=1+Math.round(f/6048e5)}return cr(s,n,xt(i,ge.MinusSign))}}function ur(n,t=!1){return function(e,i){return cr(Rn(e).getFullYear(),n,xt(i,ge.MinusSign),t)}}const ln={};function ei(n,t){n=n.replace(/:/g,"");const e=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(e)?t:e}function Zr(n){return n instanceof Date&&!isNaN(n.valueOf())}const Tr=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function hr(n,t,e,i,s){const u=function(n,t="-"){const e={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},i=n.split(";"),s=i[0],a=i[1],u=-1!==s.indexOf(".")?s.split("."):[s.substring(0,s.lastIndexOf("0")+1),s.substring(s.lastIndexOf("0")+1)],f=u[0],g=u[1]||"";e.posPre=f.substr(0,f.indexOf("#"));for(let x=0;x<g.length;x++){const R=g.charAt(x);"0"===R?e.minFrac=e.maxFrac=x+1:"#"===R?e.maxFrac=x+1:e.posSuf+=R}const C=f.split(",");if(e.gSize=C[1]?C[1].length:0,e.lgSize=C[2]||C[1]?(C[2]||C[1]).length:0,a){const x=s.length-e.posPre.length-e.posSuf.length,R=a.indexOf("#");e.negPre=a.substr(0,R).replace(/'/g,""),e.negSuf=a.substr(R+x).replace(/'/g,"")}else e.negPre=t+e.posPre,e.negSuf=e.posSuf;return e}(function(n,t){return(0,r.cg1)(n)[r.wAp.NumberFormats][t]}(t,pe.Currency),xt(t,ge.MinusSign));return u.minFrac=function(n){let t;const e=ie[n];return e&&(t=e[2]),"number"==typeof t?t:2}(i),u.maxFrac=u.minFrac,function(n,t,e,i,s,a,u=!1){let f="",g=!1;if(isFinite(n)){let C=function(n){let i,s,a,u,f,t=Math.abs(n)+"",e=0;for((s=t.indexOf("."))>-1&&(t=t.replace(".","")),(a=t.search(/e/i))>0?(s<0&&(s=a),s+=+t.slice(a+1),t=t.substring(0,a)):s<0&&(s=t.length),a=0;"0"===t.charAt(a);a++);if(a===(f=t.length))i=[0],s=1;else{for(f--;"0"===t.charAt(f);)f--;for(s-=a,i=[],u=0;a<=f;a++,u++)i[u]=Number(t.charAt(a))}return s>22&&(i=i.splice(0,21),e=s-1,s=1),{digits:i,exponent:e,integerLen:s}}(n);u&&(C=function(n){if(0===n.digits[0])return n;const t=n.digits.length-n.integerLen;return n.exponent?n.exponent+=2:(0===t?n.digits.push(0,0):1===t&&n.digits.push(0),n.integerLen+=2),n}(C));let x=t.minInt,R=t.minFrac,G=t.maxFrac;if(a){const mt=a.match(Tr);if(null===mt)throw new Error(`${a} is not a valid digit info`);const Et=mt[1],Ct=mt[3],Ln=mt[5];null!=Et&&(x=Qt(Et)),null!=Ct&&(R=Qt(Ct)),null!=Ln?G=Qt(Ln):null!=Ct&&R>G&&(G=R)}!function(n,t,e){if(t>e)throw new Error(`The minimum number of digits after fraction (${t}) is higher than the maximum (${e}).`);let i=n.digits,s=i.length-n.integerLen;const a=Math.min(Math.max(t,s),e);let u=a+n.integerLen,f=i[u];if(u>0){i.splice(Math.max(n.integerLen,u));for(let R=u;R<i.length;R++)i[R]=0}else{s=Math.max(0,s),n.integerLen=1,i.length=Math.max(1,u=a+1),i[0]=0;for(let R=1;R<u;R++)i[R]=0}if(f>=5)if(u-1<0){for(let R=0;R>u;R--)i.unshift(0),n.integerLen++;i.unshift(1),n.integerLen++}else i[u-1]++;for(;s<Math.max(0,a);s++)i.push(0);let g=0!==a;const C=t+n.integerLen,x=i.reduceRight(function(R,G,ee,he){return he[ee]=(G+=R)<10?G:G-10,g&&(0===he[ee]&&ee>=C?he.pop():g=!1),G>=10?1:0},0);x&&(i.unshift(x),n.integerLen++)}(C,R,G);let ee=C.digits,he=C.integerLen;const Fe=C.exponent;let He=[];for(g=ee.every(mt=>!mt);he<x;he++)ee.unshift(0);for(;he<0;he++)ee.unshift(0);he>0?He=ee.splice(he,ee.length):(He=ee,ee=[0]);const ht=[];for(ee.length>=t.lgSize&&ht.unshift(ee.splice(-t.lgSize,ee.length).join(""));ee.length>t.gSize;)ht.unshift(ee.splice(-t.gSize,ee.length).join(""));ee.length&&ht.unshift(ee.join("")),f=ht.join(xt(e,i)),He.length&&(f+=xt(e,s)+He.join("")),Fe&&(f+=xt(e,ge.Exponential)+"+"+Fe)}else f=xt(e,ge.Infinity);return f=n<0&&!g?t.negPre+f+t.negSuf:t.posPre+f+t.posSuf,f}(n,u,t,ge.CurrencyGroup,ge.CurrencyDecimal,s).replace("\xa4",e).replace("\xa4","").trim()}function Qt(n){const t=parseInt(n);if(isNaN(t))throw new Error("Invalid integer literal when parsing "+n);return t}class ki{}let zn=(()=>{class n extends ki{constructor(e){super(),this.locale=e}getPluralCategory(e,i){switch(bs(i||this.locale)(e)){case K.Zero:return"zero";case K.One:return"one";case K.Two:return"two";case K.Few:return"few";case K.Many:return"many";default:return"other"}}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(r.soG))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac}),n})();function wi(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const i=e.indexOf("="),[s,a]=-1==i?[e,""]:[e.slice(0,i),e.slice(i+1)];if(s.trim()===t)return decodeURIComponent(a)}return null}let Or=(()=>{class n{constructor(e,i,s,a){this._iterableDiffers=e,this._keyValueDiffers=i,this._ngEl=s,this._renderer=a,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&((0,r.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){const e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}_applyKeyValueChanges(e){e.forEachAddedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachChangedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachRemovedItem(i=>{i.previousValue&&this._toggleClass(i.key,!1)})}_applyIterableChanges(e){e.forEachAddedItem(i=>{if("string"!=typeof i.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,r.AaK)(i.item)}`);this._toggleClass(i.item,!0)}),e.forEachRemovedItem(i=>this._toggleClass(i.item,!1))}_applyClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!0)):Object.keys(e).forEach(i=>this._toggleClass(i,!!e[i])))}_removeClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!1)):Object.keys(e).forEach(i=>this._toggleClass(i,!1)))}_toggleClass(e,i){(e=e.trim())&&e.split(/\s+/g).forEach(s=>{i?this._renderer.addClass(this._ngEl.nativeElement,s):this._renderer.removeClass(this._ngEl.nativeElement,s)})}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(r.ZZ4),r.Y36(r.aQg),r.Y36(r.SBq),r.Y36(r.Qsj))},n.\u0275dir=r.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),n})();class Sr{constructor(t,e,i,s){this.$implicit=t,this.ngForOf=e,this.index=i,this.count=s}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let un=(()=>{class n{constructor(e,i,s){this._viewContainer=e,this._template=i,this._differs=s,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;if(!this._differ&&e)try{this._differ=this._differs.find(e).create(this.ngForTrackBy)}catch(i){throw new Error(`Cannot find a differ supporting object '${e}' of type '${function(n){return n.name||typeof n}(e)}'. NgFor only supports binding to Iterables such as Arrays.`)}}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const i=[];e.forEachOperation((s,a,u)=>{if(null==s.previousIndex){const f=this._viewContainer.createEmbeddedView(this._template,new Sr(null,this._ngForOf,-1,-1),null===u?void 0:u),g=new qa(s,f);i.push(g)}else if(null==u)this._viewContainer.remove(null===a?void 0:a);else if(null!==a){const f=this._viewContainer.get(a);this._viewContainer.move(f,u);const g=new qa(s,f);i.push(g)}});for(let s=0;s<i.length;s++)this._perViewChange(i[s].view,i[s].record);for(let s=0,a=this._viewContainer.length;s<a;s++){const u=this._viewContainer.get(s);u.context.index=s,u.context.count=a,u.context.ngForOf=this._ngForOf}e.forEachIdentityChange(s=>{this._viewContainer.get(s.currentIndex).context.$implicit=s.item})}_perViewChange(e,i){e.context.$implicit=i.item}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(r.s_b),r.Y36(r.Rgc),r.Y36(r.ZZ4))},n.\u0275dir=r.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();class qa{constructor(t,e){this.record=t,this.view=e}}let On=(()=>{class n{constructor(e,i){this._viewContainer=e,this._context=new oa,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){Ro("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){Ro("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(r.s_b),r.Y36(r.Rgc))},n.\u0275dir=r.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class oa{constructor(){this.$implicit=null,this.ngIf=null}}function Ro(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,r.AaK)(t)}'.`)}class is{constructor(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let xr=(()=>{class n{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(e)}_matchCase(e){const i=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||i,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),i}_updateDefaultCases(e){if(this._defaultViews&&e!==this._defaultUsed){this._defaultUsed=e;for(let i=0;i<this._defaultViews.length;i++)this._defaultViews[i].enforceState(e)}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=r.lG2({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),n})(),ni=(()=>{class n{constructor(e,i,s){this.ngSwitch=s,s._addCase(),this._view=new is(e,i)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(r.s_b),r.Y36(r.Rgc),r.Y36(xr,9))},n.\u0275dir=r.lG2({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),n})(),aa=(()=>{class n{constructor(e,i,s){s._addDefault(new is(e,i))}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(r.s_b),r.Y36(r.Rgc),r.Y36(xr,9))},n.\u0275dir=r.lG2({type:n,selectors:[["","ngSwitchDefault",""]]}),n})();function yi(n,t){return Error(`InvalidPipeArgument: '${t}' for pipe '${(0,r.AaK)(n)}'`)}class bl{createSubscription(t,e){return t.subscribe({next:e,error:i=>{throw i}})}dispose(t){t.unsubscribe()}onDestroy(t){t.unsubscribe()}}class sc{createSubscription(t,e){return t.then(e,i=>{throw i})}dispose(t){}onDestroy(t){}}const Ir=new sc,Es=new bl;let ua=(()=>{class n{constructor(e){this._ref=e,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(e){return this._obj?e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue:(e&&this._subscribe(e),this._latestValue)}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,i=>this._updateLatestValue(e,i))}_selectStrategy(e){if((0,r.QGY)(e))return Ir;if((0,r.F4k)(e))return Es;throw yi(n,e)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,i){e===this._obj&&(this._latestValue=i,this._ref.markForCheck())}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(r.sBO,16))},n.\u0275pipe=r.Yjl({name:"async",type:n,pure:!1}),n})(),ha=(()=>{class n{constructor(e){this.locale=e}transform(e,i="mediumDate",s,a){if(null==e||""===e||e!=e)return null;try{return Er(e,i,a||this.locale,s)}catch(u){throw yi(n,u.message)}}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(r.soG,16))},n.\u0275pipe=r.Yjl({name:"date",type:n,pure:!0}),n})(),Y=(()=>{class n{constructor(e,i="USD"){this._locale=e,this._defaultCurrencyCode=i}transform(e,i=this._defaultCurrencyCode,s="symbol",a,u){if(!function(n){return!(null==n||""===n||n!=n)}(e))return null;u=u||this._locale,"boolean"==typeof s&&(s=s?"symbol":"code");let f=i||this._defaultCurrencyCode;"code"!==s&&(f="symbol"===s||"symbol-narrow"===s?function(n,t,e="en"){const i=function(n){return(0,r.cg1)(n)[r.wAp.Currencies]}(e)[n]||ie[n]||[],s=i[1];return"narrow"===t&&"string"==typeof s?s:i[0]||n}(f,"symbol"===s?"wide":"narrow",u):s);try{return hr(function(n){if("string"==typeof n&&!isNaN(Number(n)-parseFloat(n)))return Number(n);if("number"!=typeof n)throw new Error(`${n} is not a number`);return n}(e),u,f,i,a)}catch(g){throw yi(n,g.message)}}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(r.soG,16),r.Y36(r.EJc,16))},n.\u0275pipe=r.Yjl({name:"currency",type:n,pure:!0}),n})();let Ue=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({providers:[{provide:ki,useClass:zn}]}),n})();function Ne(n){return"browser"===n}function it(n){return"server"===n}let jt=(()=>{class n{}return n.\u0275prov=(0,r.Yz7)({token:n,providedIn:"root",factory:()=>new Tn((0,r.LFG)(F),window)}),n})();class Tn{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let s=i.currentNode;for(;s;){const a=s.shadowRoot;if(a){const u=a.getElementById(t)||a.querySelector(`[name="${t}"]`);if(u)return u}s=i.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),this.attemptFocus(e))}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),i=e.left+this.window.pageXOffset,s=e.top+this.window.pageYOffset,a=this.offset();this.window.scrollTo(i-a[0],s-a[1])}attemptFocus(t){return t.focus(),this.document.activeElement===t}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=Ui(this.window.history)||Ui(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}function Ui(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class fa{}class za extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){var n;n=new za,b||(b=n)}onAndCancel(t,e,i){return t.addEventListener(e,i,!1),()=>{t.removeEventListener(e,i,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=(co=co||document.querySelector("base"),co?co.getAttribute("href"):null);return null==e?null:function(n){ai=ai||document.createElement("a"),ai.setAttribute("href",n);const t=ai.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){co=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return wi(document.cookie,t)}}let ai,co=null;const $u=new r.OlP("TRANSITION_ID"),Jr=[{provide:r.ip1,useFactory:function(n,t,e){return()=>{e.get(r.CZH).donePromise.then(()=>{const i=v(),s=t.querySelectorAll(`style[ng-transition="${n}"]`);for(let a=0;a<s.length;a++)i.remove(s[a])})}},deps:[$u,F,r.zs3],multi:!0}];class Ri{static init(){(0,r.VLi)(new Ri)}addToWindow(t){r.dqk.getAngularTestability=(i,s=!0)=>{const a=t.findTestabilityInTree(i,s);if(null==a)throw new Error("Could not find testability for element.");return a},r.dqk.getAllAngularTestabilities=()=>t.getAllTestabilities(),r.dqk.getAllAngularRootElements=()=>t.getAllRootElements(),r.dqk.frameworkStabilizers||(r.dqk.frameworkStabilizers=[]),r.dqk.frameworkStabilizers.push(i=>{const s=r.dqk.getAllAngularTestabilities();let a=s.length,u=!1;const f=function(g){u=u||g,a--,0==a&&i(u)};s.forEach(function(g){g.whenStable(f)})})}findTestabilityInTree(t,e,i){if(null==e)return null;const s=t.getTestability(e);return null!=s?s:i?v().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}let Yu=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac}),n})();const ga=new r.OlP("EventManagerPlugins");let rt=(()=>{class n{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(s=>s.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,i,s){return this._findPluginFor(i).addEventListener(e,i,s)}addGlobalEventListener(e,i,s){return this._findPluginFor(i).addGlobalEventListener(e,i,s)}getZone(){return this._zone}_findPluginFor(e){const i=this._eventNameToPlugin.get(e);if(i)return i;const s=this._plugins;for(let a=0;a<s.length;a++){const u=s[a];if(u.supports(e))return this._eventNameToPlugin.set(e,u),u}throw new Error(`No event manager plugin found for event ${e}`)}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(ga),r.LFG(r.R0b))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac}),n})();class mn{constructor(t){this._doc=t}addGlobalEventListener(t,e,i){const s=v().getGlobalEventTarget(this._doc,t);if(!s)throw new Error(`Unsupported event target ${s} for event ${e}`);return this.addEventListener(s,e,i)}}let Yd=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(e){const i=new Set;e.forEach(s=>{this._stylesSet.has(s)||(this._stylesSet.add(s),i.add(s))}),this.onStylesAdded(i)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac}),n})(),ii=(()=>{class n extends Yd{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,i,s){e.forEach(a=>{const u=this._doc.createElement("style");u.textContent=a,s.push(i.appendChild(u))})}addHost(e){const i=[];this._addStylesToHost(this._stylesSet,e,i),this._hostNodes.set(e,i)}removeHost(e){const i=this._hostNodes.get(e);i&&i.forEach(Zd),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((i,s)=>{this._addStylesToHost(e,s,i)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(Zd))}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(F))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac}),n})();function Zd(n){v().remove(n)}const Fo={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Bs=/%COMP%/g;function ji(n,t,e){for(let i=0;i<t.length;i++){let s=t[i];Array.isArray(s)?ji(n,s,e):(s=s.replace(Bs,n),e.push(s))}return e}function Us(n){return t=>{if("__ngUnwrap__"===t)return n;!1===n(t)&&(t.preventDefault(),t.returnValue=!1)}}let ma=(()=>{class n{constructor(e,i,s){this.eventManager=e,this.sharedStylesHost=i,this.appId=s,this.rendererByCompId=new Map,this.defaultRenderer=new Xr(e)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;switch(i.encapsulation){case r.ifc.Emulated:{let s=this.rendererByCompId.get(i.id);return s||(s=new Yc(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,s)),s.applyToHost(e),s}case 1:case r.ifc.ShadowDom:return new Kd(this.eventManager,this.sharedStylesHost,e,i);default:if(!this.rendererByCompId.has(i.id)){const s=ji(i.id,i.styles,[]);this.sharedStylesHost.addStyles(s),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(rt),r.LFG(ii),r.LFG(r.AFp))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac}),n})();class Xr{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(Fo[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,i){t&&t.insertBefore(e,i)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let i="string"==typeof t?document.querySelector(t):t;if(!i)throw new Error(`The selector "${t}" did not match any elements`);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,s){if(s){e=s+":"+e;const a=Fo[s];a?t.setAttributeNS(a,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){const s=Fo[i];s?t.removeAttributeNS(s,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,s){s&(r.JOm.DashCase|r.JOm.Important)?t.style.setProperty(e,i,s&r.JOm.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&r.JOm.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){t[e]=i}setValue(t,e){t.nodeValue=e}listen(t,e,i){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,Us(i)):this.eventManager.addEventListener(t,e,Us(i))}}class Yc extends Xr{constructor(t,e,i,s){super(t),this.component=i;const a=ji(s+"-"+i.id,i.styles,[]);e.addStyles(a),this.contentAttr="_ngcontent-%COMP%".replace(Bs,s+"-"+i.id),this.hostAttr="_nghost-%COMP%".replace(Bs,s+"-"+i.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}}class Kd extends Xr{constructor(t,e,i,s){super(t),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const a=ji(s.id,s.styles,[]);for(let u=0;u<a.length;u++){const f=document.createElement("style");f.textContent=a[u],this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let Cl=(()=>{class n extends mn{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,s){return e.addEventListener(i,s,!1),()=>this.removeEventListener(e,i,s)}removeEventListener(e,i,s){return e.removeEventListener(i,s)}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(F))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac}),n})();const El=["alt","control","meta","shift"],Qd={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},es={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},ey={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Jd=(()=>{class n extends mn{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,i,s){const a=n.parseEventName(i),u=n.eventCallback(a.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>v().onAndCancel(e,a.domEventName,u))}static parseEventName(e){const i=e.toLowerCase().split("."),s=i.shift();if(0===i.length||"keydown"!==s&&"keyup"!==s)return null;const a=n._normalizeKey(i.pop());let u="";if(El.forEach(g=>{const C=i.indexOf(g);C>-1&&(i.splice(C,1),u+=g+".")}),u+=a,0!=i.length||0===a.length)return null;const f={};return f.domEventName=s,f.fullKey=u,f}static getEventFullKey(e){let i="",s=function(n){let t=n.key;if(null==t){if(t=n.keyIdentifier,null==t)return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===n.location&&es.hasOwnProperty(t)&&(t=es[t]))}return Qd[t]||t}(e);return s=s.toLowerCase()," "===s?s="space":"."===s&&(s="dot"),El.forEach(a=>{a!=s&&ey[a](e)&&(i+=a+".")}),i+=s,i}static eventCallback(e,i,s){return a=>{n.getEventFullKey(a)===e&&s.runGuarded(()=>i(a))}}static _normalizeKey(e){switch(e){case"esc":return"escape";default:return e}}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(F))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac}),n})(),js=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=(0,r.Yz7)({factory:function(){return(0,r.LFG)(hc)},token:n,providedIn:"root"}),n})(),hc=(()=>{class n extends js{constructor(e){super(),this._doc=e}sanitize(e,i){if(null==i)return null;switch(e){case r.q3G.NONE:return i;case r.q3G.HTML:return(0,r.qzn)(i,"HTML")?(0,r.z3N)(i):(0,r.EiD)(this._doc,String(i)).toString();case r.q3G.STYLE:return(0,r.qzn)(i,"Style")?(0,r.z3N)(i):i;case r.q3G.SCRIPT:if((0,r.qzn)(i,"Script"))return(0,r.z3N)(i);throw new Error("unsafe value used in a script context");case r.q3G.URL:return(0,r.yhl)(i),(0,r.qzn)(i,"URL")?(0,r.z3N)(i):(0,r.mCW)(String(i));case r.q3G.RESOURCE_URL:if((0,r.qzn)(i,"ResourceURL"))return(0,r.z3N)(i);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${e} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(e){return(0,r.JVY)(e)}bypassSecurityTrustStyle(e){return(0,r.L6k)(e)}bypassSecurityTrustScript(e){return(0,r.eBb)(e)}bypassSecurityTrustUrl(e){return(0,r.LAX)(e)}bypassSecurityTrustResourceUrl(e){return(0,r.pB0)(e)}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(F))},n.\u0275prov=(0,r.Yz7)({factory:function(){return function(n){return new hc(n.get(F))}((0,r.LFG)(r.gxx))},token:n,providedIn:"root"}),n})();const Dl=(0,r.eFA)(r._c5,"browser",[{provide:r.Lbi,useValue:"browser"},{provide:r.g9A,useValue:function(){za.makeCurrent(),Ri.init()},multi:!0},{provide:F,useFactory:function(){return(0,r.RDi)(document),document},deps:[]}]),nh=[[],{provide:r.zSh,useValue:"root"},{provide:r.qLn,useFactory:function(){return new r.qLn},deps:[]},{provide:ga,useClass:Cl,multi:!0,deps:[F,r.R0b,r.Lbi]},{provide:ga,useClass:Jd,multi:!0,deps:[F]},[],{provide:ma,useClass:ma,deps:[rt,ii,r.AFp]},{provide:r.FYo,useExisting:ma},{provide:Yd,useExisting:ii},{provide:ii,useClass:ii,deps:[F]},{provide:r.dDg,useClass:r.dDg,deps:[r.R0b]},{provide:rt,useClass:rt,deps:[ga,r.R0b]},{provide:fa,useClass:Yu,deps:[]},[]];let ih=(()=>{class n{constructor(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:n,providers:[{provide:r.AFp,useValue:e.appId},{provide:$u,useExisting:r.AFp},Jr]}}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(n,12))},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({providers:nh,imports:[Ue,r.hGG]}),n})();"undefined"!=typeof window&&window;var Gn=M(4402),ft=M(5917),yt=M(9765),nu=M(7971);class Hi extends yt.xQ{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new nu.N;return this._value}next(t){super.next(this._value=t)}}var Za=M(4869),xl=M(9796),Oi=M(7393);class Qu extends Oi.L{notifyNext(t,e,i,s,a){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}class z0 extends Oi.L{constructor(t,e,i){super(),this.parent=t,this.outerValue=e,this.outerIndex=i,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var ba=M(7444),Bn=M(7574);function Af(n,t,e,i,s=new z0(n,e,i)){if(!s.closed)return t instanceof Bn.y?t.subscribe(s):(0,ba.s)(t)(s)}var Ju=M(6693);const iu={};function Hs(...n){let t,e;return(0,Za.K)(n[n.length-1])&&(e=n.pop()),"function"==typeof n[n.length-1]&&(t=n.pop()),1===n.length&&(0,xl.k)(n[0])&&(n=n[0]),(0,Ju.n)(n,e).lift(new lh(t))}class lh{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new pc(t,this.resultSelector))}}class pc extends Qu{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(iu),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let i=0;i<e;i++)this.add(Af(this,t[i],void 0,i))}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,i){const s=this.values,u=this.toRespond?s[i]===iu?--this.toRespond:this.toRespond:0;s[i]=e,0===u&&(this.resultSelector?this._tryResultSelector(s):this.destination.next(s.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(i){return void this.destination.error(i)}this.destination.next(e)}}const uo=(()=>{function n(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return n.prototype=Object.create(Error.prototype),n})();var qs=M(3282);function Ka(...n){return(0,qs.J)(1)((0,ft.of)(...n))}var zs=M(9193);function os(n){return new Bn.y(t=>{let e;try{e=n()}catch(s){return void t.error(s)}return(e?(0,Gn.D)(e):(0,zs.c)()).subscribe(t)})}var kf=M(2441),At=M(8002),ho=M(5345);function li(n,t){return"function"==typeof t?e=>e.pipe(li((i,s)=>(0,Gn.D)(n(i,s)).pipe((0,At.U)((a,u)=>t(i,a,s,u))))):e=>e.lift(new ty(n))}class ty{constructor(t){this.project=t}call(t,e){return e.subscribe(new vi(t,this.project))}}class vi extends ho.Ds{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const i=this.index++;try{e=this.project(t,i)}catch(s){return void this.destination.error(s)}this._innerSub(e)}_innerSub(t){const e=this.innerSubscription;e&&e.unsubscribe();const i=new ho.IY(this),s=this.destination;s.add(i),this.innerSubscription=(0,ho.ft)(t,i),this.innerSubscription!==i&&s.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;(!t||t.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(t){this.destination.next(t)}}const Xu=(()=>{function n(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return n.prototype=Object.create(Error.prototype),n})();function Kn(n){return t=>0===n?(0,zs.c)():t.lift(new Rf(n))}class Rf{constructor(t){if(this.total=t,this.total<0)throw new Xu}call(t,e){return e.subscribe(new ny(t,this.total))}}class ny extends Oi.L{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,i=++this.count;i<=e&&(this.destination.next(t),i===e&&(this.destination.complete(),this.unsubscribe()))}}function Di(...n){const t=n[n.length-1];return(0,Za.K)(t)?(n.pop(),e=>Ka(n,e,t)):e=>Ka(n,e)}function Il(n,t){let e=!1;return arguments.length>=2&&(e=!0),function(s){return s.lift(new Of(n,t,e))}}class Of{constructor(t,e,i=!1){this.accumulator=t,this.seed=e,this.hasSeed=i}call(t,e){return e.subscribe(new iy(t,this.accumulator,this.seed,this.hasSeed))}}class iy extends Oi.L{constructor(t,e,i,s){super(t),this.accumulator=e,this._seed=i,this.hasSeed=s,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let i;try{i=this.accumulator(this.seed,t,e)}catch(s){this.destination.error(s)}this.seed=i,this.destination.next(i)}}function xn(n,t){return function(i){return i.lift(new ru(n,t))}}class ru{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new Qa(t,this.predicate,this.thisArg))}}class Qa extends Oi.L{constructor(t,e,i){super(t),this.predicate=e,this.thisArg=i,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(i){return void this.destination.error(i)}e&&this.destination.next(t)}}function Ca(n){return function(e){const i=new Ti(n),s=e.lift(i);return i.caught=s}}class Ti{constructor(t){this.selector=t}call(t,e){return e.subscribe(new jo(t,this.selector,this.caught))}}class jo extends ho.Ds{constructor(t,e,i){super(t),this.selector=e,this.caught=i}error(t){if(!this.isStopped){let e;try{e=this.selector(t,this.caught)}catch(a){return void super.error(a)}this._unsubscribeAndRecycle();const i=new ho.IY(this);this.add(i);const s=(0,ho.ft)(e,i);s!==i&&this.add(s)}}}var ci=M(9773);function gc(n,t){return(0,ci.zg)(n,t,1)}function Pf(n){return function(e){return 0===n?(0,zs.c)():e.lift(new fo(n))}}class fo{constructor(t){if(this.total=t,this.total<0)throw new Xu}call(t,e){return e.subscribe(new Ho(t,this.total))}}class Ho extends Oi.L{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,i=this.total,s=this.count++;e.length<i?e.push(t):e[s%i]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const i=this.count>=this.total?this.total:this.count,s=this.ring;for(let a=0;a<i;a++){const u=e++%i;t.next(s[u])}}t.complete()}}function Al(n=Nf){return t=>t.lift(new Ds(n))}class Ds{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new wa(t,this.errorFactory))}}class wa extends Oi.L{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let t;try{t=this.errorFactory()}catch(e){t=e}this.destination.error(t)}}}function Nf(){return new uo}function ed(n=null){return t=>t.lift(new Ml(n))}class Ml{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new Ff(t,this.defaultValue))}}class Ff extends Oi.L{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var kl=M(4487);function qi(n,t){const e=arguments.length>=2;return i=>i.pipe(n?xn((s,a)=>n(s,a,i)):kl.y,Kn(1),e?ed(t):Al(()=>new uo))}var Pi=M(8307),Ea=M(1307),Qn=M(5319);function ch(n){return t=>t.lift(new P(n))}class P{constructor(t){this.callback=t}call(t,e){return e.subscribe(new V(t,this.callback))}}class V extends Oi.L{constructor(t,e){super(t),this.add(new Qn.w(e))}}class J{constructor(t,e){this.id=t,this.url=e}}class Ce extends J{constructor(t,e,i="imperative",s=null){super(t,e),this.navigationTrigger=i,this.restoredState=s}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Be extends J{constructor(t,e,i){super(t,e),this.urlAfterRedirects=i}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Ye extends J{constructor(t,e,i){super(t,e),this.reason=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class at extends J{constructor(t,e,i){super(t,e),this.error=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Mt extends J{constructor(t,e,i,s){super(t,e),this.urlAfterRedirects=i,this.state=s}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class kt extends J{constructor(t,e,i,s){super(t,e),this.urlAfterRedirects=i,this.state=s}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Sn extends J{constructor(t,e,i,s,a){super(t,e),this.urlAfterRedirects=i,this.state=s,this.shouldActivate=a}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Jn extends J{constructor(t,e,i,s){super(t,e),this.urlAfterRedirects=i,this.state=s}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class zi extends J{constructor(t,e,i,s){super(t,e),this.urlAfterRedirects=i,this.state=s}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ts{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class pr{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class mc{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class su{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class _c{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Gs{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ss{constructor(t,e,i){this.routerEvent=t,this.position=e,this.anchor=i}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const sn="primary";class Ng{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function pi(n){return new Ng(n)}const Lf="ngNavigationCancelingError";function Vf(n){const t=Error("NavigationCancelingError: "+n);return t[Lf]=!0,t}function uh(n,t,e){const i=e.path.split("/");if(i.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||i.length<n.length))return null;const s={};for(let a=0;a<i.length;a++){const u=i[a],f=n[a];if(u.startsWith(":"))s[u.substring(1)]=f;else if(u!==f.path)return null}return{consumed:n.slice(0,i.length),posParams:s}}function po(n,t){const e=n?Object.keys(n):void 0,i=t?Object.keys(t):void 0;if(!e||!i||e.length!=i.length)return!1;let s;for(let a=0;a<e.length;a++)if(s=e[a],!Fg(n[s],t[s]))return!1;return!0}function Fg(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),i=[...t].sort();return e.every((s,a)=>i[a]===s)}return n===t}function G0(n){return Array.prototype.concat.apply([],n)}function ou(n){return n.length>0?n[n.length-1]:null}function gr(n,t){for(const e in n)n.hasOwnProperty(e)&&t(n[e],e)}function ts(n){return(0,r.CqO)(n)?n:(0,r.QGY)(n)?(0,Gn.D)(Promise.resolve(n)):(0,ft.of)(n)}const oy={exact:function ly(n,t,e){if(!cu(n.segments,t.segments)||!Bf(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const i in t.children)if(!n.children[i]||!ly(n.children[i],t.children[i],e))return!1;return!0},subset:lu},au={exact:function(n,t){return po(n,t)},subset:function(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>Fg(n[e],t[e]))},ignored:()=>!0};function dh(n,t,e){return oy[e.paths](n.root,t.root,e.matrixParams)&&au[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function lu(n,t,e){return nd(n,t,t.segments,e)}function nd(n,t,e,i){if(n.segments.length>e.length){const s=n.segments.slice(0,e.length);return!(!cu(s,e)||t.hasChildren()||!Bf(s,e,i))}if(n.segments.length===e.length){if(!cu(n.segments,e)||!Bf(n.segments,e,i))return!1;for(const s in t.children)if(!n.children[s]||!lu(n.children[s],t.children[s],i))return!1;return!0}{const s=e.slice(0,n.segments.length),a=e.slice(n.segments.length);return!!(cu(n.segments,s)&&Bf(n.segments,s,i)&&n.children[sn])&&nd(n.children[sn],t,a,i)}}function Bf(n,t,e){return t.every((i,s)=>au[e](n[s].parameters,i.parameters))}class id{constructor(t,e,i){this.root=t,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=pi(this.queryParams)),this._queryParamMap}toString(){return Vg.serialize(this)}}class Cn{constructor(t,e){this.segments=t,this.children=e,this.parent=null,gr(e,(i,s)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Rl(this)}}class hh{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=pi(this.parameters)),this._parameterMap}toString(){return Bg(this)}}function cu(n,t){return n.length===t.length&&n.every((e,i)=>e.path===t[i].path)}class Lg{}class rd{parse(t){const e=new vc(t);return new id(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){var n;return`${`/${fh(t.root,!0)}`}${function(n){const t=Object.keys(n).map(e=>{const i=n[e];return Array.isArray(i)?i.map(s=>`${ph(e)}=${ph(s)}`).join("&"):`${ph(e)}=${ph(i)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams)}${"string"==typeof t.fragment?`#${n=t.fragment,encodeURI(n)}`:""}`}}const Vg=new rd;function Rl(n){return n.segments.map(t=>Bg(t)).join("/")}function fh(n,t){if(!n.hasChildren())return Rl(n);if(t){const e=n.children[sn]?fh(n.children[sn],!1):"",i=[];return gr(n.children,(s,a)=>{a!==sn&&i.push(`${a}:${fh(s,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}{const e=function(n,t){let e=[];return gr(n.children,(i,s)=>{s===sn&&(e=e.concat(t(i,s)))}),gr(n.children,(i,s)=>{s!==sn&&(e=e.concat(t(i,s)))}),e}(n,(i,s)=>s===sn?[fh(n.children[sn],!1)]:[`${s}:${fh(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[sn]?`${Rl(n)}/${e[0]}`:`${Rl(n)}/(${e.join("//")})`}}function cy(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ph(n){return cy(n).replace(/%3B/gi,";")}function uu(n){return cy(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function gh(n){return decodeURIComponent(n)}function jf(n){return gh(n.replace(/\+/g,"%20"))}function Bg(n){return`${uu(n.path)}${function(n){return Object.keys(n).map(t=>`;${uu(t)}=${uu(n[t])}`).join("")}(n.parameters)}`}const uy=/^[^\/()?;=#]+/;function mh(n){const t=n.match(uy);return t?t[0]:""}const W0=/^[^=?&#]+/,Pl=/^[^?&#]+/;class vc{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Cn([],{}):new Cn([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(i[sn]=new Cn(t,e)),i}parseSegment(){const t=mh(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new hh(gh(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=mh(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const s=mh(this.remaining);s&&(i=s,this.capture(i))}t[gh(e)]=gh(i)}parseQueryParam(t){const e=function(n){const t=n.match(W0);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const u=function(n){const t=n.match(Pl);return t?t[0]:""}(this.remaining);u&&(i=u,this.capture(i))}const s=jf(e),a=jf(i);if(t.hasOwnProperty(s)){let u=t[s];Array.isArray(u)||(u=[u],t[s]=u),u.push(a)}else t[s]=a}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=mh(this.remaining),s=this.remaining[i.length];if("/"!==s&&")"!==s&&";"!==s)throw new Error(`Cannot parse url '${this.url}'`);let a;i.indexOf(":")>-1?(a=i.substr(0,i.indexOf(":")),this.capture(a),this.capture(":")):t&&(a=sn);const u=this.parseChildren();e[a]=1===Object.keys(u).length?u[sn]:new Cn([],u),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class dy{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=Ug(t,this._root);return e?e.children.map(i=>i.value):[]}firstChild(t){const e=Ug(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=yh(t,this._root);return e.length<2?[]:e[e.length-2].children.map(s=>s.value).filter(s=>s!==t)}pathFromRoot(t){return yh(t,this._root).map(e=>e.value)}}function Ug(n,t){if(n===t.value)return t;for(const e of t.children){const i=Ug(n,e);if(i)return i}return null}function yh(n,t){if(n===t.value)return[t];for(const e of t.children){const i=yh(n,e);if(i.length)return i.unshift(t),i}return[]}class Nl{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function du(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class jg extends dy{constructor(t,e){super(t),this.snapshot=e,qf(this,t)}toString(){return this.snapshot.toString()}}function hy(n,t){const e=function(n,t){const u=new Hf([],{},{},"",{},sn,t,null,n.root,-1,{});return new sd("",new Nl(u,[]))}(n,t),i=new Hi([new hh("",{})]),s=new Hi({}),a=new Hi({}),u=new Hi({}),f=new Hi(""),g=new xs(i,s,u,f,a,sn,t,e.root);return g.snapshot=e.root,new jg(new Nl(g,[]),e)}class xs{constructor(t,e,i,s,a,u,f,g){this.url=t,this.params=e,this.queryParams=i,this.fragment=s,this.data=a,this.outlet=u,this.component=f,this._futureSnapshot=g}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,At.U)(t=>pi(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,At.U)(t=>pi(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function fy(n,t="emptyOnly"){const e=n.pathFromRoot;let i=0;if("always"!==t)for(i=e.length-1;i>=1;){const s=e[i],a=e[i-1];if(s.routeConfig&&""===s.routeConfig.path)i--;else{if(a.component)break;i--}}return function(n){return n.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(e.slice(i))}class Hf{constructor(t,e,i,s,a,u,f,g,C,x,R){this.url=t,this.params=e,this.queryParams=i,this.fragment=s,this.data=a,this.outlet=u,this.component=f,this.routeConfig=g,this._urlSegment=C,this._lastPathIndex=x,this._resolve=R}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=pi(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=pi(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class sd extends dy{constructor(t,e){super(e),this.url=t,qf(this,e)}toString(){return Da(this._root)}}function qf(n,t){t.value._routerState=n,t.children.forEach(e=>qf(n,e))}function Da(n){const t=n.children.length>0?` { ${n.children.map(Da).join(", ")} } `:"";return`${n.value}${t}`}function hu(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,po(t.queryParams,e.queryParams)||n.queryParams.next(e.queryParams),t.fragment!==e.fragment&&n.fragment.next(e.fragment),po(t.params,e.params)||n.params.next(e.params),function(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!po(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.url.next(e.url),po(t.data,e.data)||n.data.next(e.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function vh(n,t){return po(n.params,t.params)&&function(n,t){return cu(n,t)&&n.every((e,i)=>po(e.parameters,t[i].parameters))}(n.url,t.url)&&!(!n.parent!=!t.parent)&&(!n.parent||vh(n.parent,t.parent))}function bh(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const i=e.value;i._futureSnapshot=t.value;const s=function(n,t,e){return t.children.map(i=>{for(const s of e.children)if(n.shouldReuseRoute(i.value,s.value.snapshot))return bh(n,i,s);return bh(n,i)})}(n,t,e);return new Nl(i,s)}{if(n.shouldAttach(t.value)){const a=n.retrieve(t.value);if(null!==a){const u=a.route;return Q0(t,u),u}}const i=function(n){return new xs(new Hi(n.url),new Hi(n.params),new Hi(n.queryParams),new Hi(n.fragment),new Hi(n.data),n.outlet,n.component,n)}(t.value),s=t.children.map(a=>bh(n,a));return new Nl(i,s)}}function Q0(n,t){if(n.value.routeConfig!==t.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(n.children.length!==t.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");t.value._futureSnapshot=n.value;for(let e=0;e<n.children.length;++e)Q0(n.children[e],t.children[e])}function od(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Xa(n){return"object"==typeof n&&null!=n&&n.outlets}function _y(n,t,e,i,s){let a={};return i&&gr(i,(u,f)=>{a[f]=Array.isArray(u)?u.map(g=>`${g}`):`${u}`}),new id(e.root===n?t:J0(e.root,n,t),a,s)}function J0(n,t,e){const i={};return gr(n.children,(s,a)=>{i[a]=s===t?e:J0(s,t,e)}),new Cn(n.segments,i)}class zg{constructor(t,e,i){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=i,t&&i.length>0&&od(i[0]))throw new Error("Root segment cannot have matrix parameters");const s=i.find(Xa);if(s&&s!==ou(i))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Gg{constructor(t,e,i){this.segmentGroup=t,this.processChildren=e,this.index=i}}function bc(n,t,e){if(n||(n=new Cn([],{})),0===n.segments.length&&n.hasChildren())return Ch(n,t,e);const i=function(n,t,e){let i=0,s=t;const a={match:!1,pathIndex:0,commandIndex:0};for(;s<n.segments.length;){if(i>=e.length)return a;const u=n.segments[s],f=e[i];if(Xa(f))break;const g=`${f}`,C=i<e.length-1?e[i+1]:null;if(s>0&&void 0===g)break;if(g&&C&&"object"==typeof C&&void 0===C.outlets){if(!by(g,C,u))return a;i+=2}else{if(!by(g,{},u))return a;i++}s++}return{match:!0,pathIndex:s,commandIndex:i}}(n,t,e),s=e.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const a=new Cn(n.segments.slice(0,i.pathIndex),{});return a.children[sn]=new Cn(n.segments.slice(i.pathIndex),n.children),Ch(a,0,s)}return i.match&&0===s.length?new Cn(n.segments,{}):i.match&&!n.hasChildren()?$g(n,t,e):i.match?Ch(n,0,s):$g(n,t,e)}function Ch(n,t,e){if(0===e.length)return new Cn(n.segments,{});{const i=function(n){return Xa(n[0])?n[0].outlets:{[sn]:n}}(e),s={};return gr(i,(a,u)=>{"string"==typeof a&&(a=[a]),null!==a&&(s[u]=bc(n.children[u],t,a))}),gr(n.children,(a,u)=>{void 0===i[u]&&(s[u]=a)}),new Cn(n.segments,s)}}function $g(n,t,e){const i=n.segments.slice(0,t);let s=0;for(;s<e.length;){const a=e[s];if(Xa(a)){const g=Gi(a.outlets);return new Cn(i,g)}if(0===s&&od(e[0])){i.push(new hh(n.segments[t].path,Yg(e[0]))),s++;continue}const u=Xa(a)?a.outlets[sn]:`${a}`,f=s<e.length-1?e[s+1]:null;u&&f&&od(f)?(i.push(new hh(u,Yg(f))),s+=2):(i.push(new hh(u,{})),s++)}return new Cn(i,{})}function Gi(n){const t={};return gr(n,(e,i)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[i]=$g(new Cn([],{}),0,e))}),t}function Yg(n){const t={};return gr(n,(e,i)=>t[i]=`${e}`),t}function by(n,t,e){return n==e.path&&po(t,e.parameters)}class Yf{constructor(t,e,i,s){this.routeReuseStrategy=t,this.futureState=e,this.currState=i,this.forwardEvent=s}activate(t){const e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,t),hu(this.futureState.root),this.activateChildRoutes(e,i,t)}deactivateChildRoutes(t,e,i){const s=du(e);t.children.forEach(a=>{const u=a.value.outlet;this.deactivateRoutes(a,s[u],i),delete s[u]}),gr(s,(a,u)=>{this.deactivateRouteAndItsChildren(a,i)})}deactivateRoutes(t,e,i){const s=t.value,a=e?e.value:null;if(s===a)if(s.component){const u=i.getContext(s.outlet);u&&this.deactivateChildRoutes(t,e,u.children)}else this.deactivateChildRoutes(t,e,i);else a&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const i=e.getContext(t.value.outlet);if(i&&i.outlet){const s=i.outlet.detach(),a=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:s,route:t,contexts:a})}}deactivateRouteAndOutlet(t,e){const i=e.getContext(t.value.outlet),s=i&&t.value.component?i.children:e,a=du(t);for(const u of Object.keys(a))this.deactivateRouteAndItsChildren(a[u],s);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(t,e,i){const s=du(e);t.children.forEach(a=>{this.activateRoutes(a,s[a.value.outlet],i),this.forwardEvent(new Gs(a.value.snapshot))}),t.children.length&&this.forwardEvent(new su(t.value.snapshot))}activateRoutes(t,e,i){const s=t.value,a=e?e.value:null;if(hu(s),s===a)if(s.component){const u=i.getOrCreateContext(s.outlet);this.activateChildRoutes(t,e,u.children)}else this.activateChildRoutes(t,e,i);else if(s.component){const u=i.getOrCreateContext(s.outlet);if(this.routeReuseStrategy.shouldAttach(s.snapshot)){const f=this.routeReuseStrategy.retrieve(s.snapshot);this.routeReuseStrategy.store(s.snapshot,null),u.children.onOutletReAttached(f.contexts),u.attachRef=f.componentRef,u.route=f.route.value,u.outlet&&u.outlet.attach(f.componentRef,f.route.value),Zf(f.route)}else{const f=function(n){for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig;if(e&&e.component)return null}return null}(s.snapshot),g=f?f.module.componentFactoryResolver:null;u.attachRef=null,u.route=s,u.resolver=g,u.outlet&&u.outlet.activateWith(s,g),this.activateChildRoutes(t,null,u.children)}}else this.activateChildRoutes(t,null,i)}}function Zf(n){hu(n.value),n.children.forEach(Zf)}class Zg{constructor(t,e){this.routes=t,this.module=e}}function el(n){return"function"==typeof n}function Fr(n){return n instanceof id}const Cc=Symbol("INITIAL_VALUE");function ld(){return li(n=>Hs(n.map(t=>t.pipe(Kn(1),Di(Cc)))).pipe(Il((t,e)=>{let i=!1;return e.reduce((s,a,u)=>s!==Cc?s:(a===Cc&&(i=!0),i||!1!==a&&u!==e.length-1&&!Fr(a)?s:a),t)},Cc),xn(t=>t!==Cc),(0,At.U)(t=>Fr(t)?t:!0===t),Kn(1)))}let Lr=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=r.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,i){1&e&&r._UZ(0,"router-outlet")},directives:function(){return[Xf]},encapsulation:2}),n})();function cd(n,t=""){for(let e=0;e<n.length;e++){const i=n[e];tl(i,wy(t,i))}}function tl(n,t){n.children&&cd(n.children,t)}function wy(n,t){return t?n||t.path?n&&!t.path?`${n}/`:!n&&t.path?t.path:`${n}/${t.path}`:"":n}function Wg(n){const t=n.children&&n.children.map(Wg),e=t?Object.assign(Object.assign({},n),{children:t}):Object.assign({},n);return!e.component&&(t||e.loadChildren)&&e.outlet&&e.outlet!==sn&&(e.component=Lr),e}function go(n){return n.outlet||sn}function Ey(n,t){const e=n.filter(i=>go(i)===t);return e.push(...n.filter(i=>go(i)!==t)),e}const Kf={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function ns(n,t,e){var i;if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?Object.assign({},Kf):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const a=(t.matcher||uh)(e,n,t);if(!a)return Object.assign({},Kf);const u={};gr(a.posParams,(g,C)=>{u[C]=g.path});const f=a.consumed.length>0?Object.assign(Object.assign({},u),a.consumed[a.consumed.length-1].parameters):u;return{matched:!0,consumedSegments:a.consumed,lastChild:a.consumed.length,parameters:f,positionalParamSegments:null!==(i=a.posParams)&&void 0!==i?i:{}}}function fu(n,t,e,i,s="corrected"){if(e.length>0&&function(n,t,e){return e.some(i=>pu(n,t,i)&&go(i)!==sn)}(n,e,i)){const u=new Cn(t,function(n,t,e,i){const s={};s[sn]=i,i._sourceSegment=n,i._segmentIndexShift=t.length;for(const a of e)if(""===a.path&&go(a)!==sn){const u=new Cn([],{});u._sourceSegment=n,u._segmentIndexShift=t.length,s[go(a)]=u}return s}(n,t,i,new Cn(e,n.children)));return u._sourceSegment=n,u._segmentIndexShift=t.length,{segmentGroup:u,slicedSegments:[]}}if(0===e.length&&function(n,t,e){return e.some(i=>pu(n,t,i))}(n,e,i)){const u=new Cn(n.segments,function(n,t,e,i,s,a){const u={};for(const f of i)if(pu(n,e,f)&&!s[go(f)]){const g=new Cn([],{});g._sourceSegment=n,g._segmentIndexShift="legacy"===a?n.segments.length:t.length,u[go(f)]=g}return Object.assign(Object.assign({},s),u)}(n,t,e,i,n.children,s));return u._sourceSegment=n,u._segmentIndexShift=t.length,{segmentGroup:u,slicedSegments:e}}const a=new Cn(n.segments,n.children);return a._sourceSegment=n,a._segmentIndexShift=t.length,{segmentGroup:a,slicedSegments:e}}function pu(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}function Qf(n,t,e,i){return!!(go(n)===i||i!==sn&&pu(t,e,n))&&("**"===n.path||ns(t,n,e).matched)}function Dy(n,t,e){return 0===t.length&&!n.children[e]}class dd{constructor(t){this.segmentGroup=t||null}}class Qg{constructor(t){this.urlTree=t}}function gu(n){return new Bn.y(t=>t.error(new dd(n)))}function Ty(n){return new Bn.y(t=>t.error(new Qg(n)))}function iC(n){return new Bn.y(t=>t.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${n}'`)))}class _{constructor(t,e,i,s,a){this.configLoader=e,this.urlSerializer=i,this.urlTree=s,this.config=a,this.allowRedirects=!0,this.ngModule=t.get(r.h0i)}apply(){const t=fu(this.urlTree.root,[],[],this.config).segmentGroup,e=new Cn(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,e,sn).pipe((0,At.U)(a=>this.createUrlTree(z(a),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Ca(a=>{if(a instanceof Qg)return this.allowRedirects=!1,this.match(a.urlTree);throw a instanceof dd?this.noMatchError(a):a}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,sn).pipe((0,At.U)(s=>this.createUrlTree(z(s),t.queryParams,t.fragment))).pipe(Ca(s=>{throw s instanceof dd?this.noMatchError(s):s}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,i){const s=t.segments.length>0?new Cn([],{[sn]:t}):t;return new id(s,e,i)}expandSegmentGroup(t,e,i,s){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(t,e,i).pipe((0,At.U)(a=>new Cn([],a))):this.expandSegment(t,i,e,i.segments,s,!0)}expandChildren(t,e,i){const s=[];for(const a of Object.keys(i.children))"primary"===a?s.unshift(a):s.push(a);return(0,Gn.D)(s).pipe(gc(a=>{const u=i.children[a],f=Ey(e,a);return this.expandSegmentGroup(t,f,u,a).pipe((0,At.U)(g=>({segment:g,outlet:a})))}),Il((a,u)=>(a[u.outlet]=u.segment,a),{}),function(n,t){const e=arguments.length>=2;return i=>i.pipe(n?xn((s,a)=>n(s,a,i)):kl.y,Pf(1),e?ed(t):Al(()=>new uo))}())}expandSegment(t,e,i,s,a,u){return(0,Gn.D)(i).pipe(gc(f=>this.expandSegmentAgainstRoute(t,e,i,f,s,a,u).pipe(Ca(C=>{if(C instanceof dd)return(0,ft.of)(null);throw C}))),qi(f=>!!f),Ca((f,g)=>{if(f instanceof uo||"EmptyError"===f.name){if(Dy(e,s,a))return(0,ft.of)(new Cn([],{}));throw new dd(e)}throw f}))}expandSegmentAgainstRoute(t,e,i,s,a,u,f){return Qf(s,e,a,u)?void 0===s.redirectTo?this.matchSegmentAgainstRoute(t,e,s,a,u):f&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,i,s,a,u):gu(e):gu(e)}expandSegmentAgainstRouteUsingRedirect(t,e,i,s,a,u){return"**"===s.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,i,s,u):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,s,a,u)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,i,s){const a=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?Ty(a):this.lineralizeSegments(i,a).pipe((0,ci.zg)(u=>{const f=new Cn(u,{});return this.expandSegment(t,f,e,u,s,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,s,a,u){const{matched:f,consumedSegments:g,lastChild:C,positionalParamSegments:x}=ns(e,s,a);if(!f)return gu(e);const R=this.applyRedirectCommands(g,s.redirectTo,x);return s.redirectTo.startsWith("/")?Ty(R):this.lineralizeSegments(s,R).pipe((0,ci.zg)(G=>this.expandSegment(t,e,i,G.concat(a.slice(C)),u,!1)))}matchSegmentAgainstRoute(t,e,i,s,a){if("**"===i.path)return i.loadChildren?(i._loadedConfig?(0,ft.of)(i._loadedConfig):this.configLoader.load(t.injector,i)).pipe((0,At.U)(G=>(i._loadedConfig=G,new Cn(s,{})))):(0,ft.of)(new Cn(s,{}));const{matched:u,consumedSegments:f,lastChild:g}=ns(e,i,s);if(!u)return gu(e);const C=s.slice(g);return this.getChildConfig(t,i,s).pipe((0,ci.zg)(R=>{const G=R.module,ee=R.routes,{segmentGroup:he,slicedSegments:Fe}=fu(e,f,C,ee),He=new Cn(he.segments,he.children);if(0===Fe.length&&He.hasChildren())return this.expandChildren(G,ee,He).pipe((0,At.U)(Ct=>new Cn(f,Ct)));if(0===ee.length&&0===Fe.length)return(0,ft.of)(new Cn(f,{}));const ht=go(i)===a;return this.expandSegment(G,He,ee,Fe,ht?sn:a,!0).pipe((0,At.U)(Et=>new Cn(f.concat(Et.segments),Et.children)))}))}getChildConfig(t,e,i){return e.children?(0,ft.of)(new Zg(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?(0,ft.of)(e._loadedConfig):this.runCanLoadGuards(t.injector,e,i).pipe((0,ci.zg)(s=>{return s?this.configLoader.load(t.injector,e).pipe((0,At.U)(a=>(e._loadedConfig=a,a))):(n=e,new Bn.y(t=>t.error(Vf(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))));var n})):(0,ft.of)(new Zg([],t))}runCanLoadGuards(t,e,i){const s=e.canLoad;if(!s||0===s.length)return(0,ft.of)(!0);const a=s.map(u=>{const f=t.get(u);let g;if((n=f)&&el(n.canLoad))g=f.canLoad(e,i);else{if(!el(f))throw new Error("Invalid CanLoad guard");g=f(e,i)}var n;return ts(g)});return(0,ft.of)(a).pipe(ld(),(0,Pi.b)(u=>{if(!Fr(u))return;const f=Vf(`Redirecting to "${this.urlSerializer.serialize(u)}"`);throw f.url=u,f}),(0,At.U)(u=>!0===u))}lineralizeSegments(t,e){let i=[],s=e.root;for(;;){if(i=i.concat(s.segments),0===s.numberOfChildren)return(0,ft.of)(i);if(s.numberOfChildren>1||!s.children[sn])return iC(t.redirectTo);s=s.children[sn]}}applyRedirectCommands(t,e,i){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,i)}applyRedirectCreatreUrlTree(t,e,i,s){const a=this.createSegmentGroup(t,e.root,i,s);return new id(a,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const i={};return gr(t,(s,a)=>{if("string"==typeof s&&s.startsWith(":")){const f=s.substring(1);i[a]=e[f]}else i[a]=s}),i}createSegmentGroup(t,e,i,s){const a=this.createSegments(t,e.segments,i,s);let u={};return gr(e.children,(f,g)=>{u[g]=this.createSegmentGroup(t,f,i,s)}),new Cn(a,u)}createSegments(t,e,i,s){return e.map(a=>a.path.startsWith(":")?this.findPosParam(t,a,s):this.findOrReturn(a,i))}findPosParam(t,e,i){const s=i[e.path.substring(1)];if(!s)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return s}findOrReturn(t,e){let i=0;for(const s of e){if(s.path===t.path)return e.splice(i),s;i++}return t}}function z(n){const t={};for(const i of Object.keys(n.children)){const a=z(n.children[i]);(a.segments.length>0||a.hasChildren())&&(t[i]=a)}return function(n){if(1===n.numberOfChildren&&n.children[sn]){const t=n.children[sn];return new Cn(n.segments.concat(t.segments),t.children)}return n}(new Cn(n.segments,t))}class Le{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class $e{constructor(t,e){this.component=t,this.route=e}}function vt(n,t,e){const i=n._root;return $i(i,t?t._root:null,e,[i.value])}function Xt(n,t,e){const i=function(n){if(!n)return null;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig}return null}(t);return(i?i.module.injector:e).get(n)}function $i(n,t,e,i,s={canDeactivateChecks:[],canActivateChecks:[]}){const a=du(t);return n.children.forEach(u=>{(function(n,t,e,i,s={canDeactivateChecks:[],canActivateChecks:[]}){const a=n.value,u=t?t.value:null,f=e?e.getContext(n.value.outlet):null;if(u&&a.routeConfig===u.routeConfig){const g=function(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!cu(n.url,t.url);case"pathParamsOrQueryParamsChange":return!cu(n.url,t.url)||!po(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!vh(n,t)||!po(n.queryParams,t.queryParams);case"paramsChange":default:return!vh(n,t)}}(u,a,a.routeConfig.runGuardsAndResolvers);g?s.canActivateChecks.push(new Le(i)):(a.data=u.data,a._resolvedData=u._resolvedData),$i(n,t,a.component?f?f.children:null:e,i,s),g&&f&&f.outlet&&f.outlet.isActivated&&s.canDeactivateChecks.push(new $e(f.outlet.component,u))}else u&&mu(t,f,s),s.canActivateChecks.push(new Le(i)),$i(n,null,a.component?f?f.children:null:e,i,s)})(u,a[u.value.outlet],e,i.concat([u.value]),s),delete a[u.value.outlet]}),gr(a,(u,f)=>mu(u,e.getContext(f),s)),s}function mu(n,t,e){const i=du(n),s=n.value;gr(i,(a,u)=>{mu(a,s.component?t?t.children.getContext(u):null:t,e)}),e.canDeactivateChecks.push(new $e(s.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,s))}class em{}function hd(n){return new Bn.y(t=>t.error(n))}class oS{constructor(t,e,i,s,a,u){this.rootComponentType=t,this.config=e,this.urlTree=i,this.url=s,this.paramsInheritanceStrategy=a,this.relativeLinkResolution=u}recognize(){const t=fu(this.urlTree.root,[],[],this.config.filter(u=>void 0===u.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,sn);if(null===e)return null;const i=new Hf([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},sn,this.rootComponentType,null,this.urlTree.root,-1,{}),s=new Nl(i,e),a=new sd(this.url,s);return this.inheritParamsAndData(a._root),a}inheritParamsAndData(t){const e=t.value,i=fy(e,this.paramsInheritanceStrategy);e.params=Object.freeze(i.params),e.data=Object.freeze(i.data),t.children.forEach(s=>this.inheritParamsAndData(s))}processSegmentGroup(t,e,i){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,i)}processChildren(t,e){const i=[];for(const a of Object.keys(e.children)){const u=e.children[a],f=Ey(t,a),g=this.processSegmentGroup(f,u,a);if(null===g)return null;i.push(...g)}const s=Iy(i);return s.sort((t,e)=>t.value.outlet===sn?-1:e.value.outlet===sn?1:t.value.outlet.localeCompare(e.value.outlet)),s}processSegment(t,e,i,s){for(const a of t){const u=this.processSegmentAgainstRoute(a,e,i,s);if(null!==u)return u}return Dy(e,i,s)?[]:null}processSegmentAgainstRoute(t,e,i,s){if(t.redirectTo||!Qf(t,e,i,s))return null;let a,u=[],f=[];if("**"===t.path){const ee=i.length>0?ou(i).parameters:{};a=new Hf(i,ee,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Eh(t),go(t),t.component,t,oC(e),bk(e)+i.length,Ay(t))}else{const ee=ns(e,t,i);if(!ee.matched)return null;u=ee.consumedSegments,f=i.slice(ee.lastChild),a=new Hf(u,ee.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Eh(t),go(t),t.component,t,oC(e),bk(e)+u.length,Ay(t))}const g=(n=t).children?n.children:n.loadChildren?n._loadedConfig.routes:[],{segmentGroup:C,slicedSegments:x}=fu(e,u,f,g.filter(ee=>void 0===ee.redirectTo),this.relativeLinkResolution);var n;if(0===x.length&&C.hasChildren()){const ee=this.processChildren(g,C);return null===ee?null:[new Nl(a,ee)]}if(0===g.length&&0===x.length)return[new Nl(a,[])];const R=go(t)===s,G=this.processSegment(g,C,x,R?sn:s);return null===G?null:[new Nl(a,G)]}}function lS(n){const t=n.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function Iy(n){const t=[],e=new Set;for(const i of n){if(!lS(i)){t.push(i);continue}const s=t.find(a=>i.value.routeConfig===a.value.routeConfig);void 0!==s?(s.children.push(...i.children),e.add(s)):t.push(i)}for(const i of e){const s=Iy(i.children);t.push(new Nl(i.value,s))}return t.filter(i=>!e.has(i))}function oC(n){let t=n;for(;t._sourceSegment;)t=t._sourceSegment;return t}function bk(n){let t=n,e=t._segmentIndexShift?t._segmentIndexShift:0;for(;t._sourceSegment;)t=t._sourceSegment,e+=t._segmentIndexShift?t._segmentIndexShift:0;return e-1}function Eh(n){return n.data||{}}function Ay(n){return n.resolve||{}}function lC(n){return li(t=>{const e=n(t);return e?(0,Gn.D)(e).pipe((0,At.U)(()=>t)):(0,ft.of)(t)})}class Sk extends class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const My=new r.OlP("ROUTES");class ky{constructor(t,e,i,s){this.loader=t,this.compiler=e,this.onLoadStartListener=i,this.onLoadEndListener=s}load(t,e){if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);const s=this.loadModuleFactory(e.loadChildren).pipe((0,At.U)(a=>{this.onLoadEndListener&&this.onLoadEndListener(e);const u=a.create(t);return new Zg(G0(u.injector.get(My,void 0,r.XFs.Self|r.XFs.Optional)).map(Wg),u)}),Ca(a=>{throw e._loader$=void 0,a}));return e._loader$=new kf.c(s,()=>new yt.xQ).pipe((0,Ea.x)()),e._loader$}loadModuleFactory(t){return"string"==typeof t?(0,Gn.D)(this.loader.load(t)):ts(t()).pipe((0,ci.zg)(e=>e instanceof r.YKP?(0,ft.of)(e):(0,Gn.D)(this.compiler.compileModuleAsync(e))))}}class dS{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new fd,this.attachRef=null}}class fd{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const i=this.getOrCreateContext(t);i.outlet=e,this.contexts.set(t,i)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null,e.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new dS,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}class Ik{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function hS(n){throw n}function fS(n,t,e){return t.parse("/")}function pd(n,t){return(0,ft.of)(null)}const pS={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},gS={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let nr=(()=>{class n{constructor(e,i,s,a,u,f,g,C){this.rootComponentType=e,this.urlSerializer=i,this.rootContexts=s,this.location=a,this.config=C,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new yt.xQ,this.errorHandler=hS,this.malformedUriErrorHandler=fS,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:pd,afterPreactivation:pd},this.urlHandlingStrategy=new Ik,this.routeReuseStrategy=new Sk,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=u.get(r.h0i),this.console=u.get(r.c2e);const G=u.get(r.R0b);this.isNgZoneEnabled=G instanceof r.R0b&&r.R0b.isInAngularZone(),this.resetConfig(C),this.currentUrlTree=new id(new Cn([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new ky(f,g,ee=>this.triggerEvent(new Ts(ee)),ee=>this.triggerEvent(new pr(ee))),this.routerState=hy(this.currentUrlTree,this.rootComponentType),this.transitions=new Hi({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var e;return null===(e=this.location.getState())||void 0===e?void 0:e.\u0275routerPageId}setupNavigations(e){const i=this.events;return e.pipe(xn(s=>0!==s.id),(0,At.U)(s=>Object.assign(Object.assign({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),li(s=>{let a=!1,u=!1;return(0,ft.of)(s).pipe((0,Pi.b)(f=>{this.currentNavigation={id:f.id,initialUrl:f.currentRawUrl,extractedUrl:f.extractedUrl,trigger:f.source,extras:f.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),li(f=>{const g=this.browserUrlTree.toString(),C=!this.navigated||f.extractedUrl.toString()!==g||g!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||C)&&this.urlHandlingStrategy.shouldProcessUrl(f.rawUrl))return Oy(f.source)&&(this.browserUrlTree=f.extractedUrl),(0,ft.of)(f).pipe(li(R=>{const G=this.transitions.getValue();return i.next(new Ce(R.id,this.serializeUrl(R.extractedUrl),R.source,R.restoredState)),G!==this.transitions.getValue()?zs.E:Promise.resolve(R)}),function(n,t,e,i){return li(s=>function(n,t,e,i,s){return new _(n,t,e,i,s).apply()}(n,t,e,s.extractedUrl,i).pipe((0,At.U)(a=>Object.assign(Object.assign({},s),{urlAfterRedirects:a}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Pi.b)(R=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:R.urlAfterRedirects})}),function(n,t,e,i,s){return(0,ci.zg)(a=>function(n,t,e,i,s="emptyOnly",a="legacy"){try{const u=new oS(n,t,e,i,s,a).recognize();return null===u?hd(new em):(0,ft.of)(u)}catch(u){return hd(u)}}(n,t,a.urlAfterRedirects,e(a.urlAfterRedirects),i,s).pipe((0,At.U)(u=>Object.assign(Object.assign({},a),{targetSnapshot:u}))))}(this.rootComponentType,this.config,R=>this.serializeUrl(R),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Pi.b)(R=>{"eager"===this.urlUpdateStrategy&&(R.extras.skipLocationChange||this.setBrowserUrl(R.urlAfterRedirects,R),this.browserUrlTree=R.urlAfterRedirects);const G=new Mt(R.id,this.serializeUrl(R.extractedUrl),this.serializeUrl(R.urlAfterRedirects),R.targetSnapshot);i.next(G)}));if(C&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:G,extractedUrl:ee,source:he,restoredState:Fe,extras:He}=f,ht=new Ce(G,this.serializeUrl(ee),he,Fe);i.next(ht);const mt=hy(ee,this.rootComponentType).snapshot;return(0,ft.of)(Object.assign(Object.assign({},f),{targetSnapshot:mt,urlAfterRedirects:ee,extras:Object.assign(Object.assign({},He),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=f.rawUrl,this.browserUrlTree=f.urlAfterRedirects,f.resolve(null),zs.E}),lC(f=>{const{targetSnapshot:g,id:C,extractedUrl:x,rawUrl:R,extras:{skipLocationChange:G,replaceUrl:ee}}=f;return this.hooks.beforePreactivation(g,{navigationId:C,appliedUrlTree:x,rawUrlTree:R,skipLocationChange:!!G,replaceUrl:!!ee})}),(0,Pi.b)(f=>{const g=new kt(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(f.urlAfterRedirects),f.targetSnapshot);this.triggerEvent(g)}),(0,At.U)(f=>Object.assign(Object.assign({},f),{guards:vt(f.targetSnapshot,f.currentSnapshot,this.rootContexts)})),function(n,t){return(0,ci.zg)(e=>{const{targetSnapshot:i,currentSnapshot:s,guards:{canActivateChecks:a,canDeactivateChecks:u}}=e;return 0===u.length&&0===a.length?(0,ft.of)(Object.assign(Object.assign({},e),{guardsResult:!0})):function(n,t,e,i){return(0,Gn.D)(n).pipe((0,ci.zg)(s=>function(n,t,e,i,s){const a=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!a||0===a.length)return(0,ft.of)(!0);const u=a.map(f=>{const g=Xt(f,t,s);let C;if(function(n){return n&&el(n.canDeactivate)}(g))C=ts(g.canDeactivate(n,t,e,i));else{if(!el(g))throw new Error("Invalid CanDeactivate guard");C=ts(g(n,t,e,i))}return C.pipe(qi())});return(0,ft.of)(u).pipe(ld())}(s.component,s.route,e,t,i)),qi(s=>!0!==s,!0))}(u,i,s,n).pipe((0,ci.zg)(f=>f&&function(n){return"boolean"==typeof n}(f)?function(n,t,e,i){return(0,Gn.D)(t).pipe(gc(s=>Ka(function(n,t){return null!==n&&t&&t(new mc(n)),(0,ft.of)(!0)}(s.route.parent,i),function(n,t){return null!==n&&t&&t(new _c(n)),(0,ft.of)(!0)}(s.route,i),function(n,t,e){const i=t[t.length-1],a=t.slice(0,t.length-1).reverse().map(u=>function(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(u)).filter(u=>null!==u).map(u=>os(()=>{const f=u.guards.map(g=>{const C=Xt(g,u.node,e);let x;if(function(n){return n&&el(n.canActivateChild)}(C))x=ts(C.canActivateChild(i,n));else{if(!el(C))throw new Error("Invalid CanActivateChild guard");x=ts(C(i,n))}return x.pipe(qi())});return(0,ft.of)(f).pipe(ld())}));return(0,ft.of)(a).pipe(ld())}(n,s.path,e),function(n,t,e){const i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||0===i.length)return(0,ft.of)(!0);const s=i.map(a=>os(()=>{const u=Xt(a,t,e);let f;if(function(n){return n&&el(n.canActivate)}(u))f=ts(u.canActivate(t,n));else{if(!el(u))throw new Error("Invalid CanActivate guard");f=ts(u(t,n))}return f.pipe(qi())}));return(0,ft.of)(s).pipe(ld())}(n,s.route,e))),qi(s=>!0!==s,!0))}(i,a,n,t):(0,ft.of)(f)),(0,At.U)(f=>Object.assign(Object.assign({},e),{guardsResult:f})))})}(this.ngModule.injector,f=>this.triggerEvent(f)),(0,Pi.b)(f=>{if(Fr(f.guardsResult)){const C=Vf(`Redirecting to "${this.serializeUrl(f.guardsResult)}"`);throw C.url=f.guardsResult,C}const g=new Sn(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(f.urlAfterRedirects),f.targetSnapshot,!!f.guardsResult);this.triggerEvent(g)}),xn(f=>!!f.guardsResult||(this.restoreHistory(f),this.cancelNavigationTransition(f,""),!1)),lC(f=>{if(f.guards.canActivateChecks.length)return(0,ft.of)(f).pipe((0,Pi.b)(g=>{const C=new Jn(g.id,this.serializeUrl(g.extractedUrl),this.serializeUrl(g.urlAfterRedirects),g.targetSnapshot);this.triggerEvent(C)}),li(g=>{let C=!1;return(0,ft.of)(g).pipe(function(n,t){return(0,ci.zg)(e=>{const{targetSnapshot:i,guards:{canActivateChecks:s}}=e;if(!s.length)return(0,ft.of)(e);let a=0;return(0,Gn.D)(s).pipe(gc(u=>function(n,t,e,i){return function(n,t,e,i){const s=Object.keys(n);if(0===s.length)return(0,ft.of)({});const a={};return(0,Gn.D)(s).pipe((0,ci.zg)(u=>function(n,t,e,i){const s=Xt(n,t,i);return ts(s.resolve?s.resolve(t,e):s(t,e))}(n[u],t,e,i).pipe((0,Pi.b)(f=>{a[u]=f}))),Pf(1),(0,ci.zg)(()=>Object.keys(a).length===s.length?(0,ft.of)(a):zs.E))}(n._resolve,n,t,i).pipe((0,At.U)(a=>(n._resolvedData=a,n.data=Object.assign(Object.assign({},n.data),fy(n,e).resolve),null)))}(u.route,i,n,t)),(0,Pi.b)(()=>a++),Pf(1),(0,ci.zg)(u=>a===s.length?(0,ft.of)(e):zs.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Pi.b)({next:()=>C=!0,complete:()=>{C||(this.restoreHistory(g),this.cancelNavigationTransition(g,"At least one route resolver didn't emit any value."))}}))}),(0,Pi.b)(g=>{const C=new zi(g.id,this.serializeUrl(g.extractedUrl),this.serializeUrl(g.urlAfterRedirects),g.targetSnapshot);this.triggerEvent(C)}))}),lC(f=>{const{targetSnapshot:g,id:C,extractedUrl:x,rawUrl:R,extras:{skipLocationChange:G,replaceUrl:ee}}=f;return this.hooks.afterPreactivation(g,{navigationId:C,appliedUrlTree:x,rawUrlTree:R,skipLocationChange:!!G,replaceUrl:!!ee})}),(0,At.U)(f=>{const g=function(n,t,e){const i=bh(n,t._root,e?e._root:void 0);return new jg(i,t)}(this.routeReuseStrategy,f.targetSnapshot,f.currentRouterState);return Object.assign(Object.assign({},f),{targetRouterState:g})}),(0,Pi.b)(f=>{this.currentUrlTree=f.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(f.urlAfterRedirects,f.rawUrl),this.routerState=f.targetRouterState,"deferred"===this.urlUpdateStrategy&&(f.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,f),this.browserUrlTree=f.urlAfterRedirects)}),((n,t,e)=>(0,At.U)(i=>(new Yf(t,i.targetRouterState,i.currentRouterState,e).activate(n),i)))(this.rootContexts,this.routeReuseStrategy,f=>this.triggerEvent(f)),(0,Pi.b)({next(){a=!0},complete(){a=!0}}),ch(()=>{var f;if(!a&&!u){const g=`Navigation ID ${s.id} is not equal to the current navigation id ${this.navigationId}`;"replace"===this.canceledNavigationResolution?(this.restoreHistory(s),this.cancelNavigationTransition(s,g)):this.cancelNavigationTransition(s,g)}(null===(f=this.currentNavigation)||void 0===f?void 0:f.id)===s.id&&(this.currentNavigation=null)}),Ca(f=>{if(u=!0,function(n){return n&&n[Lf]}(f)){const g=Fr(f.url);g||(this.navigated=!0,this.restoreHistory(s,!0));const C=new Ye(s.id,this.serializeUrl(s.extractedUrl),f.message);i.next(C),g?setTimeout(()=>{const x=this.urlHandlingStrategy.merge(f.url,this.rawUrlTree),R={skipLocationChange:s.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Oy(s.source)};this.scheduleNavigation(x,"imperative",null,R,{resolve:s.resolve,reject:s.reject,promise:s.promise})},0):s.resolve(!1)}else{this.restoreHistory(s,!0);const g=new at(s.id,this.serializeUrl(s.extractedUrl),f);i.next(g);try{s.resolve(this.errorHandler(f))}catch(C){s.reject(C)}}return zs.E}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}getTransition(){const e=this.transitions.value;return e.urlAfterRedirects=this.browserUrlTree,e}setTransition(e){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),e))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const i=this.extractLocationChangeInfoFromEvent(e);this.shouldScheduleNavigation(this.lastLocationChangeInfo,i)&&setTimeout(()=>{const{source:s,state:a,urlTree:u}=i,f={replaceUrl:!0};if(a){const g=Object.assign({},a);delete g.navigationId,delete g.\u0275routerPageId,0!==Object.keys(g).length&&(f.state=g)}this.scheduleNavigation(u,s,a,f)},0),this.lastLocationChangeInfo=i}))}extractLocationChangeInfoFromEvent(e){var i;return{source:"popstate"===e.type?"popstate":"hashchange",urlTree:this.parseUrl(e.url),state:(null===(i=e.state)||void 0===i?void 0:i.navigationId)?e.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(e,i){if(!e)return!0;const s=i.urlTree.toString()===e.urlTree.toString();return i.transitionId!==e.transitionId||!s||!("hashchange"===i.source&&"popstate"===e.source||"popstate"===i.source&&"hashchange"===e.source)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){cd(e),this.config=e.map(Wg),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,i={}){const{relativeTo:s,queryParams:a,fragment:u,queryParamsHandling:f,preserveFragment:g}=i,C=s||this.routerState.root,x=g?this.currentUrlTree.fragment:u;let R=null;switch(f){case"merge":R=Object.assign(Object.assign({},this.currentUrlTree.queryParams),a);break;case"preserve":R=this.currentUrlTree.queryParams;break;default:R=a||null}return null!==R&&(R=this.removeEmptyProps(R)),function(n,t,e,i,s){if(0===e.length)return _y(t.root,t.root,t,i,s);const a=function(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new zg(!0,0,n);let t=0,e=!1;const i=n.reduce((s,a,u)=>{if("object"==typeof a&&null!=a){if(a.outlets){const f={};return gr(a.outlets,(g,C)=>{f[C]="string"==typeof g?g.split("/"):g}),[...s,{outlets:f}]}if(a.segmentPath)return[...s,a.segmentPath]}return"string"!=typeof a?[...s,a]:0===u?(a.split("/").forEach((f,g)=>{0==g&&"."===f||(0==g&&""===f?e=!0:".."===f?t++:""!=f&&s.push(f))}),s):[...s,a]},[]);return new zg(e,t,i)}(e);if(a.toRoot())return _y(t.root,new Cn([],{}),t,i,s);const u=function(n,t,e){if(n.isAbsolute)return new Gg(t.root,!0,0);if(-1===e.snapshot._lastPathIndex){const a=e.snapshot._urlSegment;return new Gg(a,a===t.root,0)}const i=od(n.commands[0])?0:1;return function(n,t,e){let i=n,s=t,a=e;for(;a>s;){if(a-=s,i=i.parent,!i)throw new Error("Invalid number of '../'");s=i.segments.length}return new Gg(i,!1,s-a)}(e.snapshot._urlSegment,e.snapshot._lastPathIndex+i,n.numberOfDoubleDots)}(a,t,n),f=u.processChildren?Ch(u.segmentGroup,u.index,a.commands):bc(u.segmentGroup,u.index,a.commands);return _y(u.segmentGroup,f,t,i,s)}(C,this.currentUrlTree,e,R,null!=x?x:null)}navigateByUrl(e,i={skipLocationChange:!1}){const s=Fr(e)?e:this.parseUrl(e),a=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(a,"imperative",null,i)}navigate(e,i={skipLocationChange:!1}){return function(n){for(let t=0;t<n.length;t++){const e=n[t];if(null==e)throw new Error(`The requested path contains ${e} segment at index ${t}`)}}(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let i;try{i=this.urlSerializer.parse(e)}catch(s){i=this.malformedUriErrorHandler(s,this.urlSerializer,e)}return i}isActive(e,i){let s;if(s=!0===i?Object.assign({},pS):!1===i?Object.assign({},gS):i,Fr(e))return dh(this.currentUrlTree,e,s);const a=this.parseUrl(e);return dh(this.currentUrlTree,a,s)}removeEmptyProps(e){return Object.keys(e).reduce((i,s)=>{const a=e[s];return null!=a&&(i[s]=a),i},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new Be(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,e.resolve(!0)},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}scheduleNavigation(e,i,s,a,u){var f,g;if(this.disposed)return Promise.resolve(!1);const C=this.getTransition(),x=Oy(i)&&C&&!Oy(C.source),ee=(this.lastSuccessfulId===C.id||this.currentNavigation?C.rawUrl:C.urlAfterRedirects).toString()===e.toString();if(x&&ee)return Promise.resolve(!0);let he,Fe,He;u?(he=u.resolve,Fe=u.reject,He=u.promise):He=new Promise((Et,Ct)=>{he=Et,Fe=Ct});const ht=++this.navigationId;let mt;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(s=this.location.getState()),mt=s&&s.\u0275routerPageId?s.\u0275routerPageId:a.replaceUrl||a.skipLocationChange?null!==(f=this.browserPageId)&&void 0!==f?f:0:(null!==(g=this.browserPageId)&&void 0!==g?g:0)+1):mt=0,this.setTransition({id:ht,targetPageId:mt,source:i,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:a,resolve:he,reject:Fe,promise:He,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),He.catch(Et=>Promise.reject(Et))}setBrowserUrl(e,i){const s=this.urlSerializer.serialize(e),a=Object.assign(Object.assign({},i.extras.state),this.generateNgRouterState(i.id,i.targetPageId));this.location.isCurrentPathEqualTo(s)||i.extras.replaceUrl?this.location.replaceState(s,"",a):this.location.go(s,"",a)}restoreHistory(e,i=!1){var s,a;if("computed"===this.canceledNavigationResolution){const u=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(s=this.currentNavigation)||void 0===s?void 0:s.finalUrl)||0===u?this.currentUrlTree===(null===(a=this.currentNavigation)||void 0===a?void 0:a.finalUrl)&&0===u&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(u)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,i){const s=new Ye(e.id,this.serializeUrl(e.extractedUrl),i);this.triggerEvent(s),e.resolve(!1)}generateNgRouterState(e,i){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(r.DyG),r.LFG(Lg),r.LFG(fd),r.LFG(ze),r.LFG(r.zs3),r.LFG(r.v3s),r.LFG(r.Sil),r.LFG(void 0))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac}),n})();function Oy(n){return"imperative"!==n}let Xf=(()=>{class n{constructor(e,i,s,a,u){this.parentContexts=e,this.location=i,this.resolver=s,this.changeDetector=u,this.activated=null,this._activatedRoute=null,this.activateEvents=new r.vpe,this.deactivateEvents=new r.vpe,this.name=a||sn,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;const u=(i=i||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),f=this.parentContexts.getOrCreateContext(this.name).children,g=new Fy(e,f,this.location.injector);this.activated=this.location.createComponent(u,this.location.length,g),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(fd),r.Y36(r.s_b),r.Y36(r._Vd),r.$8M("name"),r.Y36(r.sBO))},n.\u0275dir=r.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),n})();class Fy{constructor(t,e,i){this.route=t,this.childContexts=e,this.parent=i}get(t,e){return t===xs?this.route:t===fd?this.childContexts:this.parent.get(t,e)}}class uC{}class hC{preload(t,e){return(0,ft.of)(null)}}let Ly=(()=>{class n{constructor(e,i,s,a,u){this.router=e,this.injector=a,this.preloadingStrategy=u,this.loader=new ky(i,s,C=>e.triggerEvent(new Ts(C)),C=>e.triggerEvent(new pr(C)))}setUpPreloading(){this.subscription=this.router.events.pipe(xn(e=>e instanceof Be),gc(()=>this.preload())).subscribe(()=>{})}preload(){const e=this.injector.get(r.h0i);return this.processRoutes(e,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){const s=[];for(const a of i)if(a.loadChildren&&!a.canLoad&&a._loadedConfig){const u=a._loadedConfig;s.push(this.processRoutes(u.module,u.routes))}else a.loadChildren&&!a.canLoad?s.push(this.preloadConfig(e,a)):a.children&&s.push(this.processRoutes(e,a.children));return(0,Gn.D)(s).pipe((0,qs.J)(),(0,At.U)(a=>{}))}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>(i._loadedConfig?(0,ft.of)(i._loadedConfig):this.loader.load(e.injector,i)).pipe((0,ci.zg)(a=>(i._loadedConfig=a,this.processRoutes(a.module,a.routes)))))}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(nr),r.LFG(r.v3s),r.LFG(r.Sil),r.LFG(r.zs3),r.LFG(uC))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac}),n})(),Th=(()=>{class n{constructor(e,i,s={}){this.router=e,this.viewportScroller=i,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration=s.scrollPositionRestoration||"disabled",s.anchorScrolling=s.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof Ce?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Be&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof Ss&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,i){this.router.triggerEvent(new Ss(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(nr),r.LFG(jt),r.LFG(void 0))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac}),n})();const gd=new r.OlP("ROUTER_CONFIGURATION"),_S=new r.OlP("ROUTER_FORROOT_GUARD"),yS=[ze,{provide:Lg,useClass:rd},{provide:nr,useFactory:function(n,t,e,i,s,a,u,f={},g,C){const x=new nr(null,n,t,e,i,s,a,G0(u));return g&&(x.urlHandlingStrategy=g),C&&(x.routeReuseStrategy=C),function(n,t){n.errorHandler&&(t.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(t.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(t.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(t.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(t.urlUpdateStrategy=n.urlUpdateStrategy)}(f,x),f.enableTracing&&x.events.subscribe(R=>{var G,ee;null===(G=console.group)||void 0===G||G.call(console,`Router Event: ${R.constructor.name}`),console.log(R.toString()),console.log(R),null===(ee=console.groupEnd)||void 0===ee||ee.call(console)}),x},deps:[Lg,fd,ze,r.zs3,r.v3s,r.Sil,My,gd,[class{},new r.FiY],[class{},new r.FiY]]},fd,{provide:xs,useFactory:function(n){return n.routerState.root},deps:[nr]},{provide:r.v3s,useClass:r.EAV},Ly,hC,class{preload(t,e){return e().pipe(Ca(()=>(0,ft.of)(null)))}},{provide:gd,useValue:{enableTracing:!1}}];function fC(){return new r.PXZ("Router",nr)}let pC=(()=>{class n{constructor(e,i){}static forRoot(e,i){return{ngModule:n,providers:[yS,gC(e),{provide:_S,useFactory:Mk,deps:[[nr,new r.FiY,new r.tp0]]},{provide:gd,useValue:i||{}},{provide:le,useFactory:vS,deps:[L,[new r.tBr(ue),new r.FiY],gd]},{provide:Th,useFactory:x3,deps:[nr,jt,gd]},{provide:uC,useExisting:i&&i.preloadingStrategy?i.preloadingStrategy:hC},{provide:r.PXZ,multi:!0,useFactory:fC},[mC,{provide:r.ip1,multi:!0,useFactory:bS,deps:[mC]},{provide:CS,useFactory:Ok,deps:[mC]},{provide:r.tb,multi:!0,useExisting:CS}]]}}static forChild(e){return{ngModule:n,providers:[gC(e)]}}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(_S,8),r.LFG(nr,8))},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({}),n})();function x3(n,t,e){return e.scrollOffset&&t.setOffset(e.scrollOffset),new Th(n,t,e)}function vS(n,t,e={}){return e.useHash?new Ve(n,t):new Ee(n,t)}function Mk(n){return"guarded"}function gC(n){return[{provide:r.deG,multi:!0,useValue:n},{provide:My,multi:!0,useValue:n}]}let mC=(()=>{class n{constructor(e){this.injector=e,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new yt.xQ}appInitializer(){return this.injector.get(H,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let i=null;const s=new Promise(f=>i=f),a=this.injector.get(nr),u=this.injector.get(gd);return"disabled"===u.initialNavigation?(a.setUpLocationChangeListener(),i(!0)):"enabled"===u.initialNavigation||"enabledBlocking"===u.initialNavigation?(a.hooks.afterPreactivation=()=>this.initNavigation?(0,ft.of)(null):(this.initNavigation=!0,i(!0),this.resultOfPreactivationDone),a.initialNavigation()):i(!0),s})}bootstrapListener(e){const i=this.injector.get(gd),s=this.injector.get(Ly),a=this.injector.get(Th),u=this.injector.get(nr),f=this.injector.get(r.z2F);e===f.components[0]&&(("enabledNonBlocking"===i.initialNavigation||void 0===i.initialNavigation)&&u.initialNavigation(),s.setUpPreloading(),a.init(),u.resetRootComponentType(f.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(r.zs3))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac}),n})();function bS(n){return n.appInitializer.bind(n)}function Ok(n){return n.bootstrapListener.bind(n)}const CS=new r.OlP("Router Initializer");function Gt(n){return null!=n&&"false"!=`${n}`}function As(n,t=0){return wS(n)?Number(n):t}function wS(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}function Vy(n){return Array.isArray(n)?n:[n]}function Ot(n){return null==n?"":"string"==typeof n?n:`${n}px`}function wc(n){return n instanceof r.SBq?n.nativeElement:n}var By=M(9105);function md(n,t,e,i){return(0,By.m)(e)&&(i=e,e=void 0),i?md(n,t,e).pipe((0,At.U)(s=>(0,xl.k)(s)?i(...s):i(s))):new Bn.y(s=>{DS(n,t,function(u){s.next(arguments.length>1?Array.prototype.slice.call(arguments):u)},s,e)})}function DS(n,t,e,i,s){let a;if(function(n){return n&&"function"==typeof n.addEventListener&&"function"==typeof n.removeEventListener}(n)){const u=n;n.addEventListener(t,e,s),a=()=>u.removeEventListener(t,e,s)}else if(function(n){return n&&"function"==typeof n.on&&"function"==typeof n.off}(n)){const u=n;n.on(t,e),a=()=>u.off(t,e)}else if(function(n){return n&&"function"==typeof n.addListener&&"function"==typeof n.removeListener}(n)){const u=n;n.addListener(t,e),a=()=>u.removeListener(t,e)}else{if(!n||!n.length)throw new TypeError("Invalid event target");for(let u=0,f=n.length;u<f;u++)DS(n[u],t,e,i,s)}i.add(a)}var TS=M(6465),A3=M(6102);new class extends A3.v{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let i,s=-1,a=e.length;t=t||e.shift();do{if(i=t.execute(t.state,t.delay))break}while(++s<a&&(t=e.shift()));if(this.active=!1,i){for(;++s<a&&(t=e.shift());)t.unsubscribe();throw i}}}(class extends TS.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t.scheduled||(t.scheduled=requestAnimationFrame(()=>t.flush(null))))}recycleAsyncId(t,e,i=0){if(null!==i&&i>0||null===i&&this.delay>0)return super.recycleAsyncId(t,e,i);0===t.actions.length&&(cancelAnimationFrame(e),t.scheduled=void 0)}});var ep=M(4581);function yd(n,t){return e=>e.lift(new k3(n,t))}class k3{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new Nk(t,this.compare,this.keySelector))}}class Nk extends Oi.L{constructor(t,e,i){super(t),this.keySelector=i,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:s}=this;e=s?s(t):t}catch(s){return this.destination.error(s)}let i=!1;if(this.hasKey)try{const{compare:s}=this;i=s(this.key,e)}catch(s){return this.destination.error(s)}else this.hasKey=!0;i||(this.key=e,this.destination.next(t))}}var Sh=M(3637);class Fk{constructor(t){this.durationSelector=t}call(t,e){return e.subscribe(new O3(t,this.durationSelector))}}class O3 extends ho.Ds{constructor(t,e){super(t),this.durationSelector=e,this.hasValue=!1}_next(t){if(this.value=t,this.hasValue=!0,!this.throttled){let e;try{const{durationSelector:s}=this;e=s(t)}catch(s){return this.destination.error(s)}const i=(0,ho.ft)(e,new ho.IY(this));!i||i.closed?this.clearThrottle():this.add(this.throttled=i)}}clearThrottle(){const{value:t,hasValue:e,throttled:i}=this;i&&(this.remove(i),this.throttled=void 0,i.unsubscribe()),e&&(this.value=void 0,this.hasValue=!1,this.destination.next(t))}notifyNext(){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}var bC=M(6561);function Lk(n){const{index:t,period:e,subscriber:i}=n;if(i.next(t),!i.closed){if(-1===e)return i.complete();n.index=t+1,this.schedule(n,e)}}function np(n,t=Sh.P){return function(n){return function(e){return e.lift(new Fk(n))}}(()=>function(n=0,t,e){let i=-1;return(0,bC.k)(t)?i=Number(t)<1?1:Number(t):(0,Za.K)(t)&&(e=t),(0,Za.K)(e)||(e=Sh.P),new Bn.y(s=>{const a=(0,bC.k)(n)?n:+n-e.now();return e.schedule(Lk,a,{index:0,period:i,subscriber:s})})}(n,t))}function ri(n){return t=>t.lift(new P3(n))}class P3{constructor(t){this.notifier=t}call(t,e){const i=new N3(t),s=(0,ho.ft)(this.notifier,new ho.IY(i));return s&&!i.seenValue?(i.add(s),e.subscribe(i)):i}}class N3 extends ho.Ds{constructor(t){super(t),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}function CC(){return n=>n.lift(new F3)}class F3{call(t,e){return e.subscribe(new L3(t))}}class L3 extends Oi.L{constructor(t){super(t),this.hasPrev=!1}_next(t){let e;this.hasPrev?e=[this.prev,t]:this.hasPrev=!0,this.prev=t,e&&this.destination.next(e)}}var V3=M(7771),Uy=M(9746),B3=M(8858);class Vk extends yt.xQ{constructor(t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,i){super(),this.scheduler=i,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=t<1?1:t,this._windowTime=e<1?1:e,e===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(t){if(!this.isStopped){const e=this._events;e.push(t),e.length>this._bufferSize&&e.shift()}super.next(t)}nextTimeWindow(t){this.isStopped||(this._events.push(new U3(this._getNow(),t)),this._trimBufferThenGetEvents()),super.next(t)}_subscribe(t){const e=this._infiniteTimeWindow,i=e?this._events:this._trimBufferThenGetEvents(),s=this.scheduler,a=i.length;let u;if(this.closed)throw new nu.N;if(this.isStopped||this.hasError?u=Qn.w.EMPTY:(this.observers.push(t),u=new B3.W(this,t)),s&&t.add(t=new Uy.ht(t,s)),e)for(let f=0;f<a&&!t.closed;f++)t.next(i[f]);else for(let f=0;f<a&&!t.closed;f++)t.next(i[f].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),u}_getNow(){return(this.scheduler||V3.c).now()}_trimBufferThenGetEvents(){const t=this._getNow(),e=this._bufferSize,i=this._windowTime,s=this._events,a=s.length;let u=0;for(;u<a&&!(t-s[u].time<i);)u++;return a>e&&(u=Math.max(u,a-e)),u>0&&s.splice(0,u),s}}class U3{constructor(t,e){this.time=t,this.value=e}}function Dc(n,t,e){let i;return i=n&&"object"==typeof n?n:{bufferSize:n,windowTime:t,refCount:!1,scheduler:e},s=>s.lift(function({bufferSize:n=Number.POSITIVE_INFINITY,windowTime:t=Number.POSITIVE_INFINITY,refCount:e,scheduler:i}){let s,u,a=0,f=!1,g=!1;return function(x){let R;a++,!s||f?(f=!1,s=new Vk(n,t,i),R=s.subscribe(this),u=x.subscribe({next(G){s.next(G)},error(G){f=!0,s.error(G)},complete(){g=!0,u=void 0,s.complete()}}),g&&(u=void 0)):R=s.subscribe(this),this.add(()=>{a--,R.unsubscribe(),R=void 0,u&&!g&&e&&0===a&&(u.unsubscribe(),u=void 0,s=void 0)})}}(i))}let EC;try{EC="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(n){EC=!1}let Ih,Un=(()=>{class n{constructor(e){this._platformId=e,this.isBrowser=this._platformId?Ne(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!EC)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(r.Lbi))},n.\u0275prov=r.Yz7({factory:function(){return new n(r.LFG(r.Lbi))},token:n,providedIn:"root"}),n})(),xh=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({}),n})();const jy=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function IS(){if(Ih)return Ih;if("object"!=typeof document||!document)return Ih=new Set(jy),Ih;let n=document.createElement("input");return Ih=new Set(jy.filter(t=>(n.setAttribute("type",t),n.type===t))),Ih}let nl,vu,TC;function ip(n){return function(){if(null==nl&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>nl=!0}))}finally{nl=nl||!1}return nl}()?n:!!n.capture}function MS(){if(null==vu){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return vu=!1,vu;if("scrollBehavior"in document.documentElement.style)vu=!0;else{const n=Element.prototype.scrollTo;vu=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return vu}function sp(n){if(function(){if(null==TC){const n="undefined"!=typeof document?document.head:null;TC=!(!n||!n.createShadowRoot&&!n.attachShadow)}return TC}()){const t=n.getRootNode?n.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}function Tc(){let n="undefined"!=typeof document&&document?document.activeElement:null;for(;n&&n.shadowRoot;){const t=n.shadowRoot.activeElement;if(t===n)break;n=t}return n}function bu(n){return n.composedPath?n.composedPath()[0]:n.target}function vd(){return"undefined"!=typeof __karma__&&!!__karma__||"undefined"!=typeof jasmine&&!!jasmine||"undefined"!=typeof jest&&!!jest||"undefined"!=typeof Mocha&&!!Mocha}const op=new r.OlP("cdk-dir-doc",{providedIn:"root",factory:function(){return(0,r.f3M)(F)}});let Ms=(()=>{class n{constructor(e){if(this.value="ltr",this.change=new r.vpe,e){const s=e.documentElement?e.documentElement.dir:null,a=(e.body?e.body.dir:null)||s;this.value="ltr"===a||"rtl"===a?a:"ltr"}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(op,8))},n.\u0275prov=r.Yz7({factory:function(){return new n(r.LFG(op,8))},token:n,providedIn:"root"}),n})(),lp=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({}),n})();function cp(n){return n&&"function"==typeof n.connect}class nm{applyChanges(t,e,i,s,a){t.forEachOperation((u,f,g)=>{let C,x;if(null==u.previousIndex){const R=i(u,f,g);C=e.createEmbeddedView(R.templateRef,R.context,R.index),x=1}else null==g?(e.remove(f),x=3):(C=e.get(f),e.move(C,g),x=2);a&&a({context:null==C?void 0:C.context,operation:x,record:u})})}detach(){}}class RS{constructor(t=!1,e,i=!0){this._multiple=t,this._emitChanges=i,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new yt.xQ,e&&e.length&&(t?e.forEach(s=>this._markSelected(s)):this._markSelected(e[0]),this._selectedToEmit.length=0)}get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}select(...t){this._verifyValueAssignment(t),t.forEach(e=>this._markSelected(e)),this._emitChangeEvent()}deselect(...t){this._verifyValueAssignment(t),t.forEach(e=>this._unmarkSelected(e)),this._emitChangeEvent()}toggle(t){this.isSelected(t)?this.deselect(t):this.select(t)}clear(){this._unmarkAll(),this._emitChangeEvent()}isSelected(t){return this._selection.has(t)}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(t){this._multiple&&this.selected&&this._selected.sort(t)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(t){this.isSelected(t)||(this._multiple||this._unmarkAll(),this._selection.add(t),this._emitChanges&&this._selectedToEmit.push(t))}_unmarkSelected(t){this.isSelected(t)&&(this._selection.delete(t),this._emitChanges&&this._deselectedToEmit.push(t))}_unmarkAll(){this.isEmpty()||this._selection.forEach(t=>this._unmarkSelected(t))}_verifyValueAssignment(t){}}let im=(()=>{class n{constructor(){this._listeners=[]}notify(e,i){for(let s of this._listeners)s(e,i)}listen(e){return this._listeners.push(e),()=>{this._listeners=this._listeners.filter(i=>e!==i)}}ngOnDestroy(){this._listeners=[]}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=r.Yz7({factory:function(){return new n},token:n,providedIn:"root"}),n})();const bd=new r.OlP("_ViewRepeater");let rm=(()=>{class n{constructor(e,i,s){this._ngZone=e,this._platform=i,this._scrolled=new yt.xQ,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=s}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const i=this.scrollContainers.get(e);i&&(i.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new Bn.y(i=>{this._globalSubscription||this._addGlobalListener();const s=e>0?this._scrolled.pipe(np(e)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{s.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,ft.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(e,i){const s=this.getAncestorScrollContainers(e);return this.scrolled(i).pipe(xn(a=>!a||s.indexOf(a)>-1))}getAncestorScrollContainers(e){const i=[];return this.scrollContainers.forEach((s,a)=>{this._scrollableContainsElement(a,e)&&i.push(a)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,i){let s=wc(i),a=e.getElementRef().nativeElement;do{if(s==a)return!0}while(s=s.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>md(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(r.R0b),r.LFG(Un),r.LFG(F,8))},n.\u0275prov=r.Yz7({factory:function(){return new n(r.LFG(r.R0b),r.LFG(Un),r.LFG(F,8))},token:n,providedIn:"root"}),n})(),up=(()=>{class n{constructor(e,i,s){this._platform=e,this._change=new yt.xQ,this._changeListener=a=>{this._change.next(a)},this._document=s,i.runOutsideAngular(()=>{if(e.isBrowser){const a=this._getWindow();a.addEventListener("resize",this._changeListener),a.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:i,height:s}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+s,right:e.left+i,height:s,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,i=this._getWindow(),s=e.documentElement,a=s.getBoundingClientRect();return{top:-a.top||e.body.scrollTop||i.scrollY||s.scrollTop||0,left:-a.left||e.body.scrollLeft||i.scrollX||s.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(np(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(Un),r.LFG(r.R0b),r.LFG(F,8))},n.\u0275prov=r.Yz7({factory:function(){return new n(r.LFG(Un),r.LFG(r.R0b),r.LFG(F,8))},token:n,providedIn:"root"}),n})(),dp=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({}),n})(),qy=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[[lp,xh,dp],lp,dp]}),n})();class IC{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class mo extends IC{constructor(t,e,i,s){super(),this.component=t,this.viewContainerRef=e,this.injector=i,this.componentFactoryResolver=s}}class Sc extends IC{constructor(t,e,i){super(),this.templateRef=t,this.viewContainerRef=e,this.context=i}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class Wk extends IC{constructor(t){super(),this.element=t instanceof r.SBq?t.nativeElement:t}}class AC{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof mo?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof Sc?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof Wk?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class MC extends AC{constructor(t,e,i,s,a){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=i,this._defaultInjector=s,this.attachDomPortal=u=>{const f=u.element,g=this._document.createComment("dom-portal");f.parentNode.insertBefore(g,f),this.outletElement.appendChild(f),this._attachedPortal=u,super.setDisposeFn(()=>{g.parentNode&&g.parentNode.replaceChild(f,g)})},this._document=a}attachComponentPortal(t){const i=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let s;return t.viewContainerRef?(s=t.viewContainerRef.createComponent(i,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector),this.setDisposeFn(()=>s.destroy())):(s=i.create(t.injector||this._defaultInjector),this._appRef.attachView(s.hostView),this.setDisposeFn(()=>{this._appRef.detachView(s.hostView),s.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(s)),this._attachedPortal=t,s}attachTemplatePortal(t){let e=t.viewContainerRef,i=e.createEmbeddedView(t.templateRef,t.context);return i.rootNodes.forEach(s=>this.outletElement.appendChild(s)),i.detectChanges(),this.setDisposeFn(()=>{let s=e.indexOf(i);-1!==s&&e.remove(s)}),this._attachedPortal=t,i}dispose(){super.dispose(),null!=this.outletElement.parentNode&&this.outletElement.parentNode.removeChild(this.outletElement)}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let Cu=(()=>{class n extends AC{constructor(e,i,s){super(),this._componentFactoryResolver=e,this._viewContainerRef=i,this._isInitialized=!1,this.attached=new r.vpe,this.attachDomPortal=a=>{const u=a.element,f=this._document.createComment("dom-portal");a.setAttachedHost(this),u.parentNode.insertBefore(f,u),this._getRootNode().appendChild(u),this._attachedPortal=a,super.setDisposeFn(()=>{f.parentNode&&f.parentNode.replaceChild(u,f)})},this._document=s}get portal(){return this._attachedPortal}set portal(e){this.hasAttached()&&!e&&!this._isInitialized||(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(e){e.setAttachedHost(this);const i=null!=e.viewContainerRef?e.viewContainerRef:this._viewContainerRef,a=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),u=i.createComponent(a,i.length,e.injector||i.injector);return i!==this._viewContainerRef&&this._getRootNode().appendChild(u.hostView.rootNodes[0]),super.setDisposeFn(()=>u.destroy()),this._attachedPortal=e,this._attachedRef=u,this.attached.emit(u),u}attachTemplatePortal(e){e.setAttachedHost(this);const i=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context);return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=i,this.attached.emit(i),i}_getRootNode(){const e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(r._Vd),r.Y36(r.s_b),r.Y36(F))},n.\u0275dir=r.lG2({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[r.qOj]}),n})(),zy=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({}),n})();var ir=M(6682);class RC{constructor(t,e){this.predicate=t,this.inclusive=e}call(t,e){return e.subscribe(new OC(t,this.predicate,this.inclusive))}}class OC extends Oi.L{constructor(t,e,i){super(t),this.predicate=e,this.inclusive=i,this.index=0}_next(t){const e=this.destination;let i;try{i=this.predicate(t,this.index++)}catch(s){return void e.error(s)}this.nextOrComplete(t,i)}nextOrComplete(t,e){const i=this.destination;Boolean(e)?i.next(t):(this.inclusive&&i.next(t),i.complete())}}function ks(n,...t){return t.length?t.some(e=>n[e]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}const Mh=MS();class gp{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=Ot(-this._previousScrollPosition.left),t.style.top=Ot(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,i=t.style,s=this._document.body.style,a=i.scrollBehavior||"",u=s.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),Mh&&(i.scrollBehavior=s.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),Mh&&(i.scrollBehavior=a,s.scrollBehavior=u)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const e=this._document.body,i=this._viewportRuler.getViewportSize();return e.scrollHeight>i.height||e.scrollWidth>i.width}}class tx{constructor(t,e,i,s){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=i,this._config=s,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class VC{enable(){}disable(){}attach(){}}function Wy(n,t){return t.some(e=>n.bottom<e.top||n.top>e.bottom||n.right<e.left||n.left>e.right)}function BC(n,t){return t.some(e=>n.top<e.top||n.bottom>e.bottom||n.left<e.left||n.right>e.right)}class nx{constructor(t,e,i,s){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=i,this._config=s,this._scrollSubscription=null}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:s}=this._viewportRuler.getViewportSize();Wy(e,[{width:i,height:s,bottom:s,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let ix=(()=>{class n{constructor(e,i,s,a){this._scrollDispatcher=e,this._viewportRuler=i,this._ngZone=s,this.noop=()=>new VC,this.close=u=>new tx(this._scrollDispatcher,this._ngZone,this._viewportRuler,u),this.block=()=>new gp(this._viewportRuler,this._document),this.reposition=u=>new nx(this._scrollDispatcher,this._viewportRuler,this._ngZone,u),this._document=a}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(rm),r.LFG(up),r.LFG(r.R0b),r.LFG(F))},n.\u0275prov=r.Yz7({factory:function(){return new n(r.LFG(rm),r.LFG(up),r.LFG(r.R0b),r.LFG(F))},token:n,providedIn:"root"}),n})();class mp{constructor(t){if(this.scrollStrategy=new VC,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const i of e)void 0!==t[i]&&(this[i]=t[i])}}}class rx{constructor(t,e,i,s,a){this.offsetX=i,this.offsetY=s,this.panelClass=a,this.originX=t.originX,this.originY=t.originY,this.overlayX=e.overlayX,this.overlayY=e.overlayY}}class sx{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}let UC=(()=>{class n{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){const i=this._attachedOverlays.indexOf(e);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(F))},n.\u0275prov=r.Yz7({factory:function(){return new n(r.LFG(F))},token:n,providedIn:"root"}),n})(),AR=(()=>{class n extends UC{constructor(e){super(e),this._keydownListener=i=>{const s=this._attachedOverlays;for(let a=s.length-1;a>-1;a--)if(s[a]._keydownEvents.observers.length>0){s[a]._keydownEvents.next(i);break}}}add(e){super.add(e),this._isAttached||(this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(F))},n.\u0275prov=r.Yz7({factory:function(){return new n(r.LFG(F))},token:n,providedIn:"root"}),n})(),SU=(()=>{class n extends UC{constructor(e,i){super(e),this._platform=i,this._cursorStyleIsSet=!1,this._pointerDownListener=s=>{this._pointerDownEventTarget=bu(s)},this._clickListener=s=>{const a=bu(s),u="click"===s.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:a;this._pointerDownEventTarget=null;const f=this._attachedOverlays.slice();for(let g=f.length-1;g>-1;g--){const C=f[g];if(!(C._outsidePointerEvents.observers.length<1)&&C.hasAttached()){if(C.overlayElement.contains(a)||C.overlayElement.contains(u))break;C._outsidePointerEvents.next(s)}}}}add(e){if(super.add(e),!this._isAttached){const i=this._document.body;i.addEventListener("pointerdown",this._pointerDownListener,!0),i.addEventListener("click",this._clickListener,!0),i.addEventListener("auxclick",this._clickListener,!0),i.addEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const e=this._document.body;e.removeEventListener("pointerdown",this._pointerDownListener,!0),e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(F),r.LFG(Un))},n.\u0275prov=r.Yz7({factory:function(){return new n(r.LFG(F),r.LFG(Un))},token:n,providedIn:"root"}),n})(),fm=(()=>{class n{constructor(e,i){this._platform=i,this._document=e}ngOnDestroy(){const e=this._containerElement;e&&e.parentNode&&e.parentNode.removeChild(e)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e="cdk-overlay-container";if(this._platform.isBrowser||vd()){const s=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let a=0;a<s.length;a++)s[a].parentNode.removeChild(s[a])}const i=this._document.createElement("div");i.classList.add(e),vd()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(F),r.LFG(Un))},n.\u0275prov=r.Yz7({factory:function(){return new n(r.LFG(F),r.LFG(Un))},token:n,providedIn:"root"}),n})();class ox{constructor(t,e,i,s,a,u,f,g,C){this._portalOutlet=t,this._host=e,this._pane=i,this._config=s,this._ngZone=a,this._keyboardDispatcher=u,this._document=f,this._location=g,this._outsideClickDispatcher=C,this._backdropElement=null,this._backdropClick=new yt.xQ,this._attachments=new yt.xQ,this._detachments=new yt.xQ,this._locationChanges=Qn.w.EMPTY,this._backdropClickHandler=x=>this._backdropClick.next(x),this._keydownEvents=new yt.xQ,this._outsidePointerEvents=new yt.xQ,s.scrollStrategy&&(this._scrollStrategy=s.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=s.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){let e=this._portalOutlet.attach(t);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(Kn(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host&&this._host.parentNode&&(this._host.parentNode.removeChild(this._host),this._host=null),this._previousHostParent=this._pane=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config=Object.assign(Object.assign({},this._config),t),this._updateElementSize()}setDirection(t){this._config=Object.assign(Object.assign({},this._config),{direction:t}),this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=Ot(this._config.width),t.height=Ot(this._config.height),t.minWidth=Ot(this._config.minWidth),t.minHeight=Ot(this._config.minHeight),t.maxWidth=Ot(this._config.maxWidth),t.maxHeight=Ot(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){const t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const t=this._backdropElement;if(!t)return;let e;const i=()=>{t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",i),this._disposeBackdrop(t)),this._config.backdropClass&&this._toggleClasses(t,this._config.backdropClass,!1),clearTimeout(e)};t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",i)}),t.style.pointerEvents="none",e=this._ngZone.runOutsideAngular(()=>setTimeout(i,500))}_toggleClasses(t,e,i){const s=t.classList;Vy(e).forEach(a=>{a&&(i?s.add(a):s.remove(a))})}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.pipe(ri((0,ir.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._previousHostParent.removeChild(this._host)),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}_disposeBackdrop(t){t&&(t.parentNode&&t.parentNode.removeChild(t),this._backdropElement===t&&(this._backdropElement=null))}}const ax="cdk-overlay-connected-position-bounding-box",lx=/([A-Za-z%]+)$/;class jC{constructor(t,e,i,s,a){this._viewportRuler=e,this._document=i,this._platform=s,this._overlayContainer=a,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new yt.xQ,this._resizeSubscription=Qn.w.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}get positions(){return this._preferredPositions}attach(t){this._validatePositions(),t.hostElement.classList.add(ax),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect();const t=this._originRect,e=this._overlayRect,i=this._viewportRect,s=[];let a;for(let u of this._preferredPositions){let f=this._getOriginPoint(t,u),g=this._getOverlayPoint(f,e,u),C=this._getOverlayFit(g,e,i,u);if(C.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(u,f);this._canFitWithFlexibleDimensions(C,g,i)?s.push({position:u,origin:f,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(f,u)}):(!a||a.overlayFit.visibleArea<C.visibleArea)&&(a={overlayFit:C,overlayPoint:g,originPoint:f,position:u,overlayRect:e})}if(s.length){let u=null,f=-1;for(const g of s){const C=g.boundingBoxRect.width*g.boundingBoxRect.height*(g.position.weight||1);C>f&&(f=C,u=g)}return this._isPushed=!1,void this._applyPosition(u.position,u.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(a.position,a.originPoint);this._applyPosition(a.position,a.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&kh(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(ax),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(!this._isDisposed&&(!this._platform||this._platform.isBrowser)){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect();const t=this._lastPosition||this._preferredPositions[0],e=this._getOriginPoint(this._originRect,t);this._applyPosition(t,e)}}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e){let i,s;if("center"==e.originX)i=t.left+t.width/2;else{const a=this._isRtl()?t.right:t.left,u=this._isRtl()?t.left:t.right;i="start"==e.originX?a:u}return s="center"==e.originY?t.top+t.height/2:"top"==e.originY?t.top:t.bottom,{x:i,y:s}}_getOverlayPoint(t,e,i){let s,a;return s="center"==i.overlayX?-e.width/2:"start"===i.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,a="center"==i.overlayY?-e.height/2:"top"==i.overlayY?0:-e.height,{x:t.x+s,y:t.y+a}}_getOverlayFit(t,e,i,s){const a=cx(e);let{x:u,y:f}=t,g=this._getOffset(s,"x"),C=this._getOffset(s,"y");g&&(u+=g),C&&(f+=C);let G=0-f,ee=f+a.height-i.height,he=this._subtractOverflows(a.width,0-u,u+a.width-i.width),Fe=this._subtractOverflows(a.height,G,ee),He=he*Fe;return{visibleArea:He,isCompletelyWithinViewport:a.width*a.height===He,fitsInViewportVertically:Fe===a.height,fitsInViewportHorizontally:he==a.width}}_canFitWithFlexibleDimensions(t,e,i){if(this._hasFlexibleDimensions){const s=i.bottom-e.y,a=i.right-e.x,u=MR(this._overlayRef.getConfig().minHeight),f=MR(this._overlayRef.getConfig().minWidth),C=t.fitsInViewportHorizontally||null!=f&&f<=a;return(t.fitsInViewportVertically||null!=u&&u<=s)&&C}return!1}_pushOverlayOnScreen(t,e,i){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const s=cx(e),a=this._viewportRect,u=Math.max(t.x+s.width-a.width,0),f=Math.max(t.y+s.height-a.height,0),g=Math.max(a.top-i.top-t.y,0),C=Math.max(a.left-i.left-t.x,0);let x=0,R=0;return x=s.width<=a.width?C||-u:t.x<this._viewportMargin?a.left-i.left-t.x:0,R=s.height<=a.height?g||-f:t.y<this._viewportMargin?a.top-i.top-t.y:0,this._previousPushAmount={x,y:R},{x:t.x+x,y:t.y+R}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const i=this._getScrollVisibility(),s=new sx(t,i);this._positionChanges.next(s)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,s=t.overlayY;i="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let a=0;a<e.length;a++)e[a].style.transformOrigin=`${i} ${s}`}_calculateBoundingBoxRect(t,e){const i=this._viewportRect,s=this._isRtl();let a,u,f,x,R,G;if("top"===e.overlayY)u=t.y,a=i.height-u+this._viewportMargin;else if("bottom"===e.overlayY)f=i.height-t.y+2*this._viewportMargin,a=i.height-f+this._viewportMargin;else{const ee=Math.min(i.bottom-t.y+i.top,t.y),he=this._lastBoundingBoxSize.height;a=2*ee,u=t.y-ee,a>he&&!this._isInitialRender&&!this._growAfterOpen&&(u=t.y-he/2)}if("end"===e.overlayX&&!s||"start"===e.overlayX&&s)G=i.width-t.x+this._viewportMargin,x=t.x-this._viewportMargin;else if("start"===e.overlayX&&!s||"end"===e.overlayX&&s)R=t.x,x=i.right-t.x;else{const ee=Math.min(i.right-t.x+i.left,t.x),he=this._lastBoundingBoxSize.width;x=2*ee,R=t.x-ee,x>he&&!this._isInitialRender&&!this._growAfterOpen&&(R=t.x-he/2)}return{top:u,left:R,bottom:f,right:G,width:x,height:a}}_setBoundingBoxStyles(t,e){const i=this._calculateBoundingBoxRect(t,e);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const s={};if(this._hasExactPosition())s.top=s.left="0",s.bottom=s.right=s.maxHeight=s.maxWidth="",s.width=s.height="100%";else{const a=this._overlayRef.getConfig().maxHeight,u=this._overlayRef.getConfig().maxWidth;s.height=Ot(i.height),s.top=Ot(i.top),s.bottom=Ot(i.bottom),s.width=Ot(i.width),s.left=Ot(i.left),s.right=Ot(i.right),s.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",s.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",a&&(s.maxHeight=Ot(a)),u&&(s.maxWidth=Ot(u))}this._lastBoundingBoxSize=i,kh(this._boundingBox.style,s)}_resetBoundingBoxStyles(){kh(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){kh(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const i={},s=this._hasExactPosition(),a=this._hasFlexibleDimensions,u=this._overlayRef.getConfig();if(s){const x=this._viewportRuler.getViewportScrollPosition();kh(i,this._getExactOverlayY(e,t,x)),kh(i,this._getExactOverlayX(e,t,x))}else i.position="static";let f="",g=this._getOffset(e,"x"),C=this._getOffset(e,"y");g&&(f+=`translateX(${g}px) `),C&&(f+=`translateY(${C}px)`),i.transform=f.trim(),u.maxHeight&&(s?i.maxHeight=Ot(u.maxHeight):a&&(i.maxHeight="")),u.maxWidth&&(s?i.maxWidth=Ot(u.maxWidth):a&&(i.maxWidth="")),kh(this._pane.style,i)}_getExactOverlayY(t,e,i){let s={top:"",bottom:""},a=this._getOverlayPoint(e,this._overlayRect,t);this._isPushed&&(a=this._pushOverlayOnScreen(a,this._overlayRect,i));let u=this._overlayContainer.getContainerElement().getBoundingClientRect().top;return a.y-=u,"bottom"===t.overlayY?s.bottom=this._document.documentElement.clientHeight-(a.y+this._overlayRect.height)+"px":s.top=Ot(a.y),s}_getExactOverlayX(t,e,i){let u,s={left:"",right:""},a=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(a=this._pushOverlayOnScreen(a,this._overlayRect,i)),u=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===u?s.right=this._document.documentElement.clientWidth-(a.x+this._overlayRect.width)+"px":s.left=Ot(a.x),s}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),i=this._scrollables.map(s=>s.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:BC(t,i),isOriginOutsideView:Wy(t,i),isOverlayClipped:BC(e,i),isOverlayOutsideView:Wy(e,i)}}_subtractOverflows(t,...e){return e.reduce((i,s)=>i-Math.max(s,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+t-this._viewportMargin,bottom:i.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&Vy(t).forEach(e=>{""!==e&&-1===this._appliedPanelClasses.indexOf(e)&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof r.SBq)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,i=t.height||0;return{top:t.y,bottom:t.y+i,left:t.x,right:t.x+e,height:i,width:e}}}function kh(n,t){for(let e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}function MR(n){if("number"!=typeof n&&null!=n){const[t,e]=n.split(lx);return e&&"px"!==e?null:parseFloat(t)}return n||null}function cx(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}class ux{constructor(t,e,i,s,a,u,f){this._preferredPositions=[],this._positionStrategy=new jC(i,s,a,u,f).withFlexibleDimensions(!1).withPush(!1).withViewportMargin(0),this.withFallbackPosition(t,e),this.onPositionChange=this._positionStrategy.positionChanges}get positions(){return this._preferredPositions}attach(t){this._overlayRef=t,this._positionStrategy.attach(t),this._direction&&(t.setDirection(this._direction),this._direction=null)}dispose(){this._positionStrategy.dispose()}detach(){this._positionStrategy.detach()}apply(){this._positionStrategy.apply()}recalculateLastPosition(){this._positionStrategy.reapplyLastPosition()}withScrollableContainers(t){this._positionStrategy.withScrollableContainers(t)}withFallbackPosition(t,e,i,s){const a=new rx(t,e,i,s);return this._preferredPositions.push(a),this._positionStrategy.withPositions(this._preferredPositions),this}withDirection(t){return this._overlayRef?this._overlayRef.setDirection(t):this._direction=t,this}withOffsetX(t){return this._positionStrategy.withDefaultOffsetX(t),this}withOffsetY(t){return this._positionStrategy.withDefaultOffsetY(t),this}withLockedPosition(t){return this._positionStrategy.withLockedPosition(t),this}withPositions(t){return this._preferredPositions=t.slice(),this._positionStrategy.withPositions(this._preferredPositions),this}setOrigin(t){return this._positionStrategy.setOrigin(t),this}}const kR="cdk-global-overlay-wrapper";class xU{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(kR),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._rightOffset="",this._leftOffset=t,this._justifyContent="flex-start",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._leftOffset="",this._rightOffset=t,this._justifyContent="flex-end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._justifyContent="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:s,height:a,maxWidth:u,maxHeight:f}=i,g=!("100%"!==s&&"100vw"!==s||u&&"100%"!==u&&"100vw"!==u),C=!("100%"!==a&&"100vh"!==a||f&&"100%"!==f&&"100vh"!==f);t.position=this._cssPosition,t.marginLeft=g?"0":this._leftOffset,t.marginTop=C?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=this._rightOffset,g?e.justifyContent="flex-start":"center"===this._justifyContent?e.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?e.justifyContent="flex-end":"flex-end"===this._justifyContent&&(e.justifyContent="flex-start"):e.justifyContent=this._justifyContent,e.alignItems=C?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,i=e.style;e.classList.remove(kR),i.justifyContent=i.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let IU=(()=>{class n{constructor(e,i,s,a){this._viewportRuler=e,this._document=i,this._platform=s,this._overlayContainer=a}global(){return new xU}connectedTo(e,i,s){return new ux(i,s,e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}flexibleConnectedTo(e){return new jC(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(up),r.LFG(F),r.LFG(Un),r.LFG(fm))},n.\u0275prov=r.Yz7({factory:function(){return new n(r.LFG(up),r.LFG(F),r.LFG(Un),r.LFG(fm))},token:n,providedIn:"root"}),n})(),RR=0,Ia=(()=>{class n{constructor(e,i,s,a,u,f,g,C,x,R,G){this.scrollStrategies=e,this._overlayContainer=i,this._componentFactoryResolver=s,this._positionBuilder=a,this._keyboardDispatcher=u,this._injector=f,this._ngZone=g,this._document=C,this._directionality=x,this._location=R,this._outsideClickDispatcher=G}create(e){const i=this._createHostElement(),s=this._createPaneElement(i),a=this._createPortalOutlet(s),u=new mp(e);return u.direction=u.direction||this._directionality.value,new ox(a,i,s,u,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(e){const i=this._document.createElement("div");return i.id="cdk-overlay-"+RR++,i.classList.add("cdk-overlay-pane"),e.appendChild(i),i}_createHostElement(){const e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(r.z2F)),new MC(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(ix),r.LFG(fm),r.LFG(r._Vd),r.LFG(IU),r.LFG(AR),r.LFG(r.zs3),r.LFG(r.R0b),r.LFG(F),r.LFG(Ms),r.LFG(ze),r.LFG(SU))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac}),n})();const OR=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],dx=new r.OlP("cdk-connected-overlay-scroll-strategy");let HC=(()=>{class n{constructor(e){this.elementRef=e}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(r.SBq))},n.\u0275dir=r.lG2({type:n,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"]}),n})(),Ky=(()=>{class n{constructor(e,i,s,a,u){this._overlay=e,this._dir=u,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=Qn.w.EMPTY,this._attachSubscription=Qn.w.EMPTY,this._detachSubscription=Qn.w.EMPTY,this._positionSubscription=Qn.w.EMPTY,this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.backdropClick=new r.vpe,this.positionChange=new r.vpe,this.attach=new r.vpe,this.detach=new r.vpe,this.overlayKeydown=new r.vpe,this.overlayOutsideClick=new r.vpe,this._templatePortal=new Sc(i,s),this._scrollStrategyFactory=a,this.scrollStrategy=this._scrollStrategyFactory()}get offsetX(){return this._offsetX}set offsetX(e){this._offsetX=e,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(e){this._offsetY=e,this._position&&this._updatePositionStrategy(this._position)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(e){this._hasBackdrop=Gt(e)}get lockPosition(){return this._lockPosition}set lockPosition(e){this._lockPosition=Gt(e)}get flexibleDimensions(){return this._flexibleDimensions}set flexibleDimensions(e){this._flexibleDimensions=Gt(e)}get growAfterOpen(){return this._growAfterOpen}set growAfterOpen(e){this._growAfterOpen=Gt(e)}get push(){return this._push}set push(e){this._push=Gt(e)}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(e){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),e.origin&&this.open&&this._position.apply()),e.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=OR);const e=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=e.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=e.detachments().subscribe(()=>this.detach.emit()),e.keydownEvents().subscribe(i=>{this.overlayKeydown.next(i),27===i.keyCode&&!this.disableClose&&!ks(i)&&(i.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(i=>{this.overlayOutsideClick.next(i)})}_buildConfig(){const e=this._position=this.positionStrategy||this._createPositionStrategy(),i=new mp({direction:this._dir,positionStrategy:e,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(i.width=this.width),(this.height||0===this.height)&&(i.height=this.height),(this.minWidth||0===this.minWidth)&&(i.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(i.minHeight=this.minHeight),this.backdropClass&&(i.backdropClass=this.backdropClass),this.panelClass&&(i.panelClass=this.panelClass),i}_updatePositionStrategy(e){const i=this.positions.map(s=>({originX:s.originX,originY:s.originY,overlayX:s.overlayX,overlayY:s.overlayY,offsetX:s.offsetX||this.offsetX,offsetY:s.offsetY||this.offsetY,panelClass:s.panelClass||void 0}));return e.setOrigin(this.origin.elementRef).withPositions(i).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const e=this._overlay.position().flexibleConnectedTo(this.origin.elementRef);return this._updatePositionStrategy(e),e}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(e=>{this.backdropClick.emit(e)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(function(n,t=!1){return e=>e.lift(new RC(n,t))}(()=>this.positionChange.observers.length>0)).subscribe(e=>{this.positionChange.emit(e),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(Ia),r.Y36(r.Rgc),r.Y36(r.s_b),r.Y36(dx),r.Y36(Ms,8))},n.\u0275dir=r.lG2({type:n,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{viewportMargin:["cdkConnectedOverlayViewportMargin","viewportMargin"],open:["cdkConnectedOverlayOpen","open"],disableClose:["cdkConnectedOverlayDisableClose","disableClose"],scrollStrategy:["cdkConnectedOverlayScrollStrategy","scrollStrategy"],offsetX:["cdkConnectedOverlayOffsetX","offsetX"],offsetY:["cdkConnectedOverlayOffsetY","offsetY"],hasBackdrop:["cdkConnectedOverlayHasBackdrop","hasBackdrop"],lockPosition:["cdkConnectedOverlayLockPosition","lockPosition"],flexibleDimensions:["cdkConnectedOverlayFlexibleDimensions","flexibleDimensions"],growAfterOpen:["cdkConnectedOverlayGrowAfterOpen","growAfterOpen"],push:["cdkConnectedOverlayPush","push"],positions:["cdkConnectedOverlayPositions","positions"],origin:["cdkConnectedOverlayOrigin","origin"],positionStrategy:["cdkConnectedOverlayPositionStrategy","positionStrategy"],width:["cdkConnectedOverlayWidth","width"],height:["cdkConnectedOverlayHeight","height"],minWidth:["cdkConnectedOverlayMinWidth","minWidth"],minHeight:["cdkConnectedOverlayMinHeight","minHeight"],backdropClass:["cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:["cdkConnectedOverlayPanelClass","panelClass"],transformOriginSelector:["cdkConnectedOverlayTransformOriginOn","transformOriginSelector"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],features:[r.TTD]}),n})();const AU={provide:dx,deps:[Ia],useFactory:function(n){return()=>n.scrollStrategies.reposition()}};let Qy=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({providers:[Ia,AU],imports:[[lp,zy,qy],qy]}),n})();function Jy(n,t=Sh.P){return e=>e.lift(new hx(n,t))}class hx{constructor(t,e){this.dueTime=t,this.scheduler=e}call(t,e){return e.subscribe(new MU(t,this.dueTime,this.scheduler))}}class MU extends Oi.L{constructor(t,e,i){super(t),this.dueTime=e,this.scheduler=i,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(NR,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:t}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}}clearDebounce(){const t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)}}function NR(n){n.debouncedNext()}function Rh(n){return t=>t.lift(new FR(n))}class FR{constructor(t){this.total=t}call(t,e){return e.subscribe(new fx(t,this.total))}}class fx extends Oi.L{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){++this.count>this.total&&this.destination.next(t)}}let qC=(()=>{class n{create(e){return"undefined"==typeof MutationObserver?null:new MutationObserver(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=r.Yz7({factory:function(){return new n},token:n,providedIn:"root"}),n})(),zC=(()=>{class n{constructor(e){this._mutationObserverFactory=e,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((e,i)=>this._cleanupObserver(i))}observe(e){const i=wc(e);return new Bn.y(s=>{const u=this._observeElement(i).subscribe(s);return()=>{u.unsubscribe(),this._unobserveElement(i)}})}_observeElement(e){if(this._observedElements.has(e))this._observedElements.get(e).count++;else{const i=new yt.xQ,s=this._mutationObserverFactory.create(a=>i.next(a));s&&s.observe(e,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(e,{observer:s,stream:i,count:1})}return this._observedElements.get(e).stream}_unobserveElement(e){this._observedElements.has(e)&&(this._observedElements.get(e).count--,this._observedElements.get(e).count||this._cleanupObserver(e))}_cleanupObserver(e){if(this._observedElements.has(e)){const{observer:i,stream:s}=this._observedElements.get(e);i&&i.disconnect(),s.complete(),this._observedElements.delete(e)}}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(qC))},n.\u0275prov=r.Yz7({factory:function(){return new n(r.LFG(qC))},token:n,providedIn:"root"}),n})(),pm=(()=>{class n{constructor(e,i,s){this._contentObserver=e,this._elementRef=i,this._ngZone=s,this.event=new r.vpe,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(e){this._disabled=Gt(e),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(e){this._debounce=As(e),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const e=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?e.pipe(Jy(this.debounce)):e).subscribe(this.event)})}_unsubscribe(){var e;null===(e=this._currentSubscription)||void 0===e||e.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(zC),r.Y36(r.SBq),r.Y36(r.R0b))},n.\u0275dir=r.lG2({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),n})(),GC=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({providers:[qC]}),n})();function Xy(n,t){return(n.getAttribute(t)||"").match(/\S+/g)||[]}const px="cdk-describedby-message-container",gx="cdk-describedby-message",gm="cdk-describedby-host";let BR=0;const jl=new Map;let as=null,_p=(()=>{class n{constructor(e){this._document=e}describe(e,i,s){if(!this._canBeDescribed(e,i))return;const a=mx(i,s);"string"!=typeof i?(ev(i),jl.set(a,{messageElement:i,referenceCount:0})):jl.has(a)||this._createMessageElement(i,s),this._isElementDescribedByMessage(e,a)||this._addMessageReference(e,a)}removeDescription(e,i,s){if(!i||!this._isElementNode(e))return;const a=mx(i,s);if(this._isElementDescribedByMessage(e,a)&&this._removeMessageReference(e,a),"string"==typeof i){const u=jl.get(a);u&&0===u.referenceCount&&this._deleteMessageElement(a)}as&&0===as.childNodes.length&&this._deleteMessagesContainer()}ngOnDestroy(){const e=this._document.querySelectorAll(`[${gm}]`);for(let i=0;i<e.length;i++)this._removeCdkDescribedByReferenceIds(e[i]),e[i].removeAttribute(gm);as&&this._deleteMessagesContainer(),jl.clear()}_createMessageElement(e,i){const s=this._document.createElement("div");ev(s),s.textContent=e,i&&s.setAttribute("role",i),this._createMessagesContainer(),as.appendChild(s),jl.set(mx(e,i),{messageElement:s,referenceCount:0})}_deleteMessageElement(e){const i=jl.get(e),s=i&&i.messageElement;as&&s&&as.removeChild(s),jl.delete(e)}_createMessagesContainer(){if(!as){const e=this._document.getElementById(px);e&&e.parentNode&&e.parentNode.removeChild(e),as=this._document.createElement("div"),as.id=px,as.style.visibility="hidden",as.classList.add("cdk-visually-hidden"),this._document.body.appendChild(as)}}_deleteMessagesContainer(){as&&as.parentNode&&(as.parentNode.removeChild(as),as=null)}_removeCdkDescribedByReferenceIds(e){const i=Xy(e,"aria-describedby").filter(s=>0!=s.indexOf(gx));e.setAttribute("aria-describedby",i.join(" "))}_addMessageReference(e,i){const s=jl.get(i);(function(n,t,e){const i=Xy(n,t);i.some(s=>s.trim()==e.trim())||(i.push(e.trim()),n.setAttribute(t,i.join(" ")))})(e,"aria-describedby",s.messageElement.id),e.setAttribute(gm,""),s.referenceCount++}_removeMessageReference(e,i){const s=jl.get(i);s.referenceCount--,function(n,t,e){const s=Xy(n,t).filter(a=>a!=e.trim());s.length?n.setAttribute(t,s.join(" ")):n.removeAttribute(t)}(e,"aria-describedby",s.messageElement.id),e.removeAttribute(gm)}_isElementDescribedByMessage(e,i){const s=Xy(e,"aria-describedby"),a=jl.get(i),u=a&&a.messageElement.id;return!!u&&-1!=s.indexOf(u)}_canBeDescribed(e,i){if(!this._isElementNode(e))return!1;if(i&&"object"==typeof i)return!0;const s=null==i?"":`${i}`.trim(),a=e.getAttribute("aria-label");return!(!s||a&&a.trim()===s)}_isElementNode(e){return e.nodeType===this._document.ELEMENT_NODE}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(F))},n.\u0275prov=r.Yz7({factory:function(){return new n(r.LFG(F))},token:n,providedIn:"root"}),n})();function mx(n,t){return"string"==typeof n?`${t||""}/${n}`:n}function ev(n){n.id||(n.id=`${gx}-${BR++}`)}class _x{constructor(t){this._items=t,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new yt.xQ,this._typeaheadSubscription=Qn.w.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=e=>e.disabled,this._pressedLetters=[],this.tabOut=new yt.xQ,this.change=new yt.xQ,t instanceof r.n_E&&t.changes.subscribe(e=>{if(this._activeItem){const s=e.toArray().indexOf(this._activeItem);s>-1&&s!==this._activeItemIndex&&(this._activeItemIndex=s)}})}skipPredicate(t){return this._skipPredicateFn=t,this}withWrap(t=!0){return this._wrap=t,this}withVerticalOrientation(t=!0){return this._vertical=t,this}withHorizontalOrientation(t){return this._horizontal=t,this}withAllowedModifierKeys(t){return this._allowedModifierKeys=t,this}withTypeAhead(t=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,Pi.b)(e=>this._pressedLetters.push(e)),Jy(t),xn(()=>this._pressedLetters.length>0),(0,At.U)(()=>this._pressedLetters.join(""))).subscribe(e=>{const i=this._getItemsArray();for(let s=1;s<i.length+1;s++){const a=(this._activeItemIndex+s)%i.length,u=i[a];if(!this._skipPredicateFn(u)&&0===u.getLabel().toUpperCase().trim().indexOf(e)){this.setActiveItem(a);break}}this._pressedLetters=[]}),this}withHomeAndEnd(t=!0){return this._homeAndEnd=t,this}setActiveItem(t){const e=this._activeItem;this.updateActiveItem(t),this._activeItem!==e&&this.change.next(this._activeItemIndex)}onKeydown(t){const e=t.keyCode,s=["altKey","ctrlKey","metaKey","shiftKey"].every(a=>!t[a]||this._allowedModifierKeys.indexOf(a)>-1);switch(e){case 9:return void this.tabOut.next();case 40:if(this._vertical&&s){this.setNextItemActive();break}return;case 38:if(this._vertical&&s){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&s){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&s){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&s){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&s){this.setLastItemActive();break}return;default:return void((s||ks(t,"shiftKey"))&&(t.key&&1===t.key.length?this._letterKeyStream.next(t.key.toLocaleUpperCase()):(e>=65&&e<=90||e>=48&&e<=57)&&this._letterKeyStream.next(String.fromCharCode(e))))}this._pressedLetters=[],t.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(t){const e=this._getItemsArray(),i="number"==typeof t?t:e.indexOf(t),s=e[i];this._activeItem=null==s?null:s,this._activeItemIndex=i}_setActiveItemByDelta(t){this._wrap?this._setActiveInWrapMode(t):this._setActiveInDefaultMode(t)}_setActiveInWrapMode(t){const e=this._getItemsArray();for(let i=1;i<=e.length;i++){const s=(this._activeItemIndex+t*i+e.length)%e.length;if(!this._skipPredicateFn(e[s]))return void this.setActiveItem(s)}}_setActiveInDefaultMode(t){this._setActiveItemByIndex(this._activeItemIndex+t,t)}_setActiveItemByIndex(t,e){const i=this._getItemsArray();if(i[t]){for(;this._skipPredicateFn(i[t]);)if(!i[t+=e])return;this.setActiveItem(t)}}_getItemsArray(){return this._items instanceof r.n_E?this._items.toArray():this._items}}class kU extends _x{setActiveItem(t){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(t),this.activeItem&&this.activeItem.setActiveStyles()}}class yp extends _x{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(t){return this._origin=t,this}setActiveItem(t){super.setActiveItem(t),this.activeItem&&this.activeItem.focus(this._origin)}}let tv=(()=>{class n{constructor(e){this._platform=e}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return function(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(e)&&"visible"===getComputedStyle(e).visibility}isTabbable(e){if(!this._platform.isBrowser)return!1;const i=function(n){try{return n.frameElement}catch(t){return null}}(function(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(e));if(i&&(-1===iv(i)||!this.isVisible(i)))return!1;let s=e.nodeName.toLowerCase(),a=iv(e);return e.hasAttribute("contenteditable")?-1!==a:!("iframe"===s||"object"===s||this._platform.WEBKIT&&this._platform.IOS&&!function(n){let t=n.nodeName.toLowerCase(),e="input"===t&&n.type;return"text"===e||"password"===e||"select"===t||"textarea"===t}(e))&&("audio"===s?!!e.hasAttribute("controls")&&-1!==a:"video"===s?-1!==a&&(null!==a||this._platform.FIREFOX||e.hasAttribute("controls")):e.tabIndex>=0)}isFocusable(e,i){return function(n){return!function(n){return function(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function(n){let t=n.nodeName.toLowerCase();return"input"===t||"select"===t||"button"===t||"textarea"===t}(n)||function(n){return function(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||nv(n))}(e)&&!this.isDisabled(e)&&((null==i?void 0:i.ignoreVisibility)||this.isVisible(e))}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(Un))},n.\u0275prov=r.Yz7({factory:function(){return new n(r.LFG(Un))},token:n,providedIn:"root"}),n})();function nv(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let t=n.getAttribute("tabindex");return"-32768"!=t&&!(!t||isNaN(parseInt(t,10)))}function iv(n){if(!nv(n))return null;const t=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(t)?-1:t}class Cx{constructor(t,e,i,s,a=!1){this._element=t,this._checker=e,this._ngZone=i,this._document=s,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,a||this.attachAnchors()}get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}destroy(){const t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.parentNode&&t.parentNode.removeChild(t)),e&&(e.removeEventListener("focus",this.endAnchorListener),e.parentNode&&e.parentNode.removeChild(e)),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement(t)))})}focusFirstTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement(t)))})}focusLastTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement(t)))})}_getRegionBoundary(t){let e=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);for(let i=0;i<e.length;i++)e[i].hasAttribute(`cdk-focus-${t}`)?console.warn(`Found use of deprecated attribute 'cdk-focus-${t}', use 'cdkFocusRegion${t}' instead. The deprecated attribute will be removed in 8.0.0.`,e[i]):e[i].hasAttribute(`cdk-focus-region-${t}`)&&console.warn(`Found use of deprecated attribute 'cdk-focus-region-${t}', use 'cdkFocusRegion${t}' instead. The deprecated attribute will be removed in 8.0.0.`,e[i]);return"start"==t?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(t){const e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(e){if(e.hasAttribute("cdk-focus-initial")&&console.warn("Found use of deprecated attribute 'cdk-focus-initial', use 'cdkFocusInitial' instead. The deprecated attribute will be removed in 8.0.0",e),!this._checker.isFocusable(e)){const i=this._getFirstTabbableElement(e);return null==i||i.focus(t),!!i}return e.focus(t),!0}return this.focusFirstTabbableElement(t)}focusFirstTabbableElement(t){const e=this._getRegionBoundary("start");return e&&e.focus(t),!!e}focusLastTabbableElement(t){const e=this._getRegionBoundary("end");return e&&e.focus(t),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let e=t.children||t.childNodes;for(let i=0;i<e.length;i++){let s=e[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[i]):null;if(s)return s}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let e=t.children||t.childNodes;for(let i=e.length-1;i>=0;i--){let s=e[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[i]):null;if(s)return s}return null}_createAnchor(){const t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._ngZone.isStable?t():this._ngZone.onStable.pipe(Kn(1)).subscribe(t)}}let rv=(()=>{class n{constructor(e,i,s){this._checker=e,this._ngZone=i,this._document=s}create(e,i=!1){return new Cx(e,this._checker,this._ngZone,this._document,i)}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(tv),r.LFG(r.R0b),r.LFG(F))},n.\u0275prov=r.Yz7({factory:function(){return new n(r.LFG(tv),r.LFG(r.R0b),r.LFG(F))},token:n,providedIn:"root"}),n})();function sv(n){return 0===n.offsetX&&0===n.offsetY}function mm(n){const t=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!t||-1!==t.identifier||null!=t.radiusX&&1!==t.radiusX||null!=t.radiusY&&1!==t.radiusY)}"undefined"!=typeof Element&&Element;const XC=new r.OlP("cdk-input-modality-detector-options"),Sx={ignoreKeys:[18,17,224,91,16]},Oh=ip({passive:!0,capture:!0});let tw=(()=>{class n{constructor(e,i,s,a){this._platform=e,this._mostRecentTarget=null,this._modality=new Hi(null),this._lastTouchMs=0,this._onKeydown=u=>{var f,g;(null===(g=null===(f=this._options)||void 0===f?void 0:f.ignoreKeys)||void 0===g?void 0:g.some(C=>C===u.keyCode))||(this._modality.next("keyboard"),this._mostRecentTarget=bu(u))},this._onMousedown=u=>{Date.now()-this._lastTouchMs<650||(this._modality.next(sv(u)?"keyboard":"mouse"),this._mostRecentTarget=bu(u))},this._onTouchstart=u=>{mm(u)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=bu(u))},this._options=Object.assign(Object.assign({},Sx),a),this.modalityDetected=this._modality.pipe(Rh(1)),this.modalityChanged=this.modalityDetected.pipe(yd()),e.isBrowser&&i.runOutsideAngular(()=>{s.addEventListener("keydown",this._onKeydown,Oh),s.addEventListener("mousedown",this._onMousedown,Oh),s.addEventListener("touchstart",this._onTouchstart,Oh)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Oh),document.removeEventListener("mousedown",this._onMousedown,Oh),document.removeEventListener("touchstart",this._onTouchstart,Oh))}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(Un),r.LFG(r.R0b),r.LFG(F),r.LFG(XC,8))},n.\u0275prov=r.Yz7({factory:function(){return new n(r.LFG(Un),r.LFG(r.R0b),r.LFG(F),r.LFG(XC,8))},token:n,providedIn:"root"}),n})();const nw=new r.OlP("liveAnnouncerElement",{providedIn:"root",factory:function(){return null}}),iw=new r.OlP("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let zR=(()=>{class n{constructor(e,i,s,a){this._ngZone=i,this._defaultOptions=a,this._document=s,this._liveElement=e||this._createLiveElement()}announce(e,...i){const s=this._defaultOptions;let a,u;return 1===i.length&&"number"==typeof i[0]?u=i[0]:[a,u]=i,this.clear(),clearTimeout(this._previousTimeout),a||(a=s&&s.politeness?s.politeness:"polite"),null==u&&s&&(u=s.duration),this._liveElement.setAttribute("aria-live",a),this._ngZone.runOutsideAngular(()=>new Promise(f=>{clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=e,f(),"number"==typeof u&&(this._previousTimeout=setTimeout(()=>this.clear(),u))},100)}))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement&&this._liveElement.parentNode&&(this._liveElement.parentNode.removeChild(this._liveElement),this._liveElement=null)}_createLiveElement(){const e="cdk-live-announcer-element",i=this._document.getElementsByClassName(e),s=this._document.createElement("div");for(let a=0;a<i.length;a++)i[a].parentNode.removeChild(i[a]);return s.classList.add(e),s.classList.add("cdk-visually-hidden"),s.setAttribute("aria-atomic","true"),s.setAttribute("aria-live","polite"),this._document.body.appendChild(s),s}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(nw,8),r.LFG(r.R0b),r.LFG(F),r.LFG(iw,8))},n.\u0275prov=r.Yz7({factory:function(){return new n(r.LFG(nw,8),r.LFG(r.R0b),r.LFG(F),r.LFG(iw,8))},token:n,providedIn:"root"}),n})();const Ix=new r.OlP("cdk-focus-monitor-default-options"),_m=ip({passive:!0,capture:!0});let Aa=(()=>{class n{constructor(e,i,s,a,u){this._ngZone=e,this._platform=i,this._inputModalityDetector=s,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new yt.xQ,this._rootNodeFocusAndBlurListener=f=>{const g=bu(f),C="focus"===f.type?this._onFocus:this._onBlur;for(let x=g;x;x=x.parentElement)C.call(this,f,x)},this._document=a,this._detectionMode=(null==u?void 0:u.detectionMode)||0}monitor(e,i=!1){const s=wc(e);if(!this._platform.isBrowser||1!==s.nodeType)return(0,ft.of)(null);const a=sp(s)||this._getDocument(),u=this._elementInfo.get(s);if(u)return i&&(u.checkChildren=!0),u.subject;const f={checkChildren:i,subject:new yt.xQ,rootNode:a};return this._elementInfo.set(s,f),this._registerGlobalListeners(f),f.subject}stopMonitoring(e){const i=wc(e),s=this._elementInfo.get(i);s&&(s.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(s))}focusVia(e,i,s){const a=wc(e);a===this._getDocument().activeElement?this._getClosestElementsInfo(a).forEach(([f,g])=>this._originChanged(f,i,g)):(this._setOrigin(i),"function"==typeof a.focus&&a.focus(s))}ngOnDestroy(){this._elementInfo.forEach((e,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_toggleClass(e,i,s){s?e.classList.add(i):e.classList.remove(i)}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:"program"}_shouldBeAttributedToTouch(e){return 1===this._detectionMode||!!(null==e?void 0:e.contains(this._inputModalityDetector._mostRecentTarget))}_setClasses(e,i){this._toggleClass(e,"cdk-focused",!!i),this._toggleClass(e,"cdk-touch-focused","touch"===i),this._toggleClass(e,"cdk-keyboard-focused","keyboard"===i),this._toggleClass(e,"cdk-mouse-focused","mouse"===i),this._toggleClass(e,"cdk-program-focused","program"===i)}_setOrigin(e,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=e,this._originFromTouchInteraction="touch"===e&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(e,i){const s=this._elementInfo.get(i),a=bu(e);!s||!s.checkChildren&&i!==a||this._originChanged(i,this._getFocusOrigin(a),s)}_onBlur(e,i){const s=this._elementInfo.get(i);!s||s.checkChildren&&e.relatedTarget instanceof Node&&i.contains(e.relatedTarget)||(this._setClasses(i),this._emitOrigin(s.subject,null))}_emitOrigin(e,i){this._ngZone.run(()=>e.next(i))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;const i=e.rootNode,s=this._rootNodeFocusListenerCount.get(i)||0;s||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,_m),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,_m)}),this._rootNodeFocusListenerCount.set(i,s+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(ri(this._stopInputModalityDetector)).subscribe(a=>{this._setOrigin(a,!0)}))}_removeGlobalListeners(e){const i=e.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const s=this._rootNodeFocusListenerCount.get(i);s>1?this._rootNodeFocusListenerCount.set(i,s-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,_m),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,_m),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,i,s){this._setClasses(e,i),this._emitOrigin(s.subject,i),this._lastFocusOrigin=i}_getClosestElementsInfo(e){const i=[];return this._elementInfo.forEach((s,a)=>{(a===e||s.checkChildren&&a.contains(e))&&i.push([a,s])}),i}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(r.R0b),r.LFG(Un),r.LFG(tw),r.LFG(F,8),r.LFG(Ix,8))},n.\u0275prov=r.Yz7({factory:function(){return new n(r.LFG(r.R0b),r.LFG(Un),r.LFG(tw),r.LFG(F,8),r.LFG(Ix,8))},token:n,providedIn:"root"}),n})();const rw="cdk-high-contrast-black-on-white",Ax="cdk-high-contrast-white-on-black",sw="cdk-high-contrast-active";let ow=(()=>{class n{constructor(e,i){this._platform=e,this._document=i}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const i=this._document.defaultView||window,s=i&&i.getComputedStyle?i.getComputedStyle(e):null,a=(s&&s.backgroundColor||"").replace(/ /g,"");switch(this._document.body.removeChild(e),a){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(sw),e.remove(rw),e.remove(Ax),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?(e.add(sw),e.add(rw)):2===i&&(e.add(sw),e.add(Ax))}}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(Un),r.LFG(F))},n.\u0275prov=r.Yz7({factory:function(){return new n(r.LFG(Un),r.LFG(F))},token:n,providedIn:"root"}),n})(),aw=(()=>{class n{constructor(e){e._applyBodyHighContrastModeCssClasses()}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(ow))},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[[xh,GC]]}),n})();const lw=new r.GfV("12.2.13");class cw{}const Du="*";function Rs(n,t){return{type:7,name:n,definitions:t,options:{}}}function Si(n,t=null){return{type:4,styles:t,timings:n}}function uw(n,t=null){return{type:2,steps:n,options:t}}function en(n){return{type:6,styles:n,offset:null}}function ui(n,t,e){return{type:0,name:n,styles:t,options:e}}function Tu(n){return{type:5,steps:n}}function Pn(n,t,e=null){return{type:1,expr:n,animation:t,options:e}}function Mx(n=null){return{type:9,options:n}}function sl(n,t,e=null){return{type:11,selector:n,animation:t,options:e}}function dw(n){Promise.resolve(null).then(n)}class Ph{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){dw(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class kx{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,i=0,s=0;const a=this.players.length;0==a?dw(()=>this._onFinish()):this.players.forEach(u=>{u.onDone(()=>{++e==a&&this._onFinish()}),u.onDestroy(()=>{++i==a&&this._onDestroy()}),u.onStart(()=>{++s==a&&this._onStart()})}),this.totalTime=this.players.reduce((u,f)=>Math.max(u,f.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(i=>{const s=i.totalTime?Math.min(1,e/i.totalTime):1;i.setPosition(s)})}getPosition(){const t=this.players.reduce((e,i)=>null===e||i.totalTime>e.totalTime?i:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}function Rx(){return"undefined"!=typeof window&&void 0!==window.document}function fw(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Mc(n){switch(n.length){case 0:return new Ph;case 1:return n[0];default:return new kx(n)}}function bp(n,t,e,i,s={},a={}){const u=[],f=[];let g=-1,C=null;if(i.forEach(x=>{const R=x.offset,G=R==g,ee=G&&C||{};Object.keys(x).forEach(he=>{let Fe=he,He=x[he];if("offset"!==he)switch(Fe=t.normalizePropertyName(Fe,u),He){case"!":He=s[he];break;case Du:He=a[he];break;default:He=t.normalizeStyleValue(he,Fe,He,u)}ee[Fe]=He}),G||f.push(ee),C=ee,g=R}),u.length){const x="\n - ";throw new Error(`Unable to animate due to the following errors:${x}${u.join(x)}`)}return f}function pw(n,t,e,i){switch(t){case"start":n.onStart(()=>i(e&&ov(e,"start",n)));break;case"done":n.onDone(()=>i(e&&ov(e,"done",n)));break;case"destroy":n.onDestroy(()=>i(e&&ov(e,"destroy",n)))}}function ov(n,t,e){const i=e.totalTime,a=gw(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,null==i?n.totalTime:i,!!e.disabled),u=n._data;return null!=u&&(a._data=u),a}function gw(n,t,e,i,s="",a=0,u){return{element:n,triggerName:t,fromState:e,toState:i,phaseName:s,totalTime:a,disabled:!!u}}function zo(n,t,e){let i;return n instanceof Map?(i=n.get(t),i||n.set(t,i=e)):(i=n[t],i||(i=n[t]=e)),i}function mw(n){const t=n.indexOf(":");return[n.substring(1,t),n.substr(t+1)]}let Cp=(n,t)=>!1,av=(n,t)=>!1,lv=(n,t,e)=>[];const cv=fw();(cv||"undefined"!=typeof Element)&&(Cp=Rx()?(n,t)=>{for(;t&&t!==document.documentElement;){if(t===n)return!0;t=t.parentNode||t.host}return!1}:(n,t)=>n.contains(t),av=(()=>{if(cv||Element.prototype.matches)return(n,t)=>n.matches(t);{const n=Element.prototype,t=n.matchesSelector||n.mozMatchesSelector||n.msMatchesSelector||n.oMatchesSelector||n.webkitMatchesSelector;return t?(e,i)=>t.apply(e,[i]):av}})(),lv=(n,t,e)=>{let i=[];if(e){const s=n.querySelectorAll(t);for(let a=0;a<s.length;a++)i.push(s[a])}else{const s=n.querySelector(t);s&&i.push(s)}return i});let wd=null,uv=!1;function dv(n){wd||(wd=("undefined"!=typeof document?document.body:null)||{},uv=!!wd.style&&"WebkitAppearance"in wd.style);let t=!0;return wd.style&&!function(n){return"ebkit"==n.substring(1,6)}(n)&&(t=n in wd.style,!t&&uv&&(t="Webkit"+n.charAt(0).toUpperCase()+n.substr(1)in wd.style)),t}const hv=av,fv=Cp,pv=lv;function Nx(n){const t={};return Object.keys(n).forEach(e=>{const i=e.replace(/([a-z])([A-Z])/g,"$1-$2");t[i]=n[e]}),t}let Fx=(()=>{class n{validateStyleProperty(e){return dv(e)}matchesElement(e,i){return hv(e,i)}containsElement(e,i){return fv(e,i)}query(e,i,s){return pv(e,i,s)}computeStyle(e,i,s){return s||""}animate(e,i,s,a,u,f=[],g){return new Ph(s,a)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac}),n})(),yw=(()=>{class n{}return n.NOOP=new Fx,n})();const vw="ng-enter",gv="ng-leave",mv="ng-trigger",_v=".ng-trigger",Vx="ng-animating",bw=".ng-animating";function Nh(n){if("number"==typeof n)return n;const t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:Cw(parseFloat(t[1]),t[2])}function Cw(n,t){switch(t){case"s":return 1e3*n;default:return n}}function yv(n,t,e){return n.hasOwnProperty("duration")?n:function(n,t,e){let s,a=0,u="";if("string"==typeof n){const f=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===f)return t.push(`The provided timing value "${n}" is invalid.`),{duration:0,delay:0,easing:""};s=Cw(parseFloat(f[1]),f[2]);const g=f[3];null!=g&&(a=Cw(parseFloat(g),f[4]));const C=f[5];C&&(u=C)}else s=n;if(!e){let f=!1,g=t.length;s<0&&(t.push("Duration values below 0 are not allowed for this animation step."),f=!0),a<0&&(t.push("Delay values below 0 are not allowed for this animation step."),f=!0),f&&t.splice(g,0,`The provided timing value "${n}" is invalid.`)}return{duration:s,delay:a,easing:u}}(n,t,e)}function Fh(n,t={}){return Object.keys(n).forEach(e=>{t[e]=n[e]}),t}function xu(n,t,e={}){if(t)for(let i in n)e[i]=n[i];else Fh(n,e);return e}function Ew(n,t,e){return e?t+":"+e+";":""}function Dw(n){let t="";for(let e=0;e<n.style.length;e++){const i=n.style.item(e);t+=Ew(0,i,n.style.getPropertyValue(i))}for(const e in n.style)n.style.hasOwnProperty(e)&&!e.startsWith("_")&&(t+=Ew(0,xw(e),n.style[e]));n.setAttribute("style",t)}function Hl(n,t,e){n.style&&(Object.keys(t).forEach(i=>{const s=Sw(i);e&&!e.hasOwnProperty(i)&&(e[i]=n.style[s]),n.style[s]=t[i]}),fw()&&Dw(n))}function Ed(n,t){n.style&&(Object.keys(t).forEach(e=>{const i=Sw(e);n.style[i]=""}),fw()&&Dw(n))}function wp(n){return Array.isArray(n)?1==n.length?n[0]:uw(n):n}const ym=new RegExp("{{\\s*(.+?)\\s*}}","g");function Dd(n){let t=[];if("string"==typeof n){let e;for(;e=ym.exec(n);)t.push(e[1]);ym.lastIndex=0}return t}function vv(n,t,e){const i=n.toString(),s=i.replace(ym,(a,u)=>{let f=t[u];return t.hasOwnProperty(u)||(e.push(`Please provide a value for the animation param ${u}`),f=""),f.toString()});return s==i?n:s}function bv(n){const t=[];let e=n.next();for(;!e.done;)t.push(e.value),e=n.next();return t}const Ep=/-+([a-z0-9])/g;function Sw(n){return n.replace(Ep,(...t)=>t[1].toUpperCase())}function xw(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function WR(n,t){return 0===n||0===t}function Iw(n,t,e){const i=Object.keys(e);if(i.length&&t.length){let a=t[0],u=[];if(i.forEach(f=>{a.hasOwnProperty(f)||u.push(f),a[f]=e[f]}),u.length)for(var s=1;s<t.length;s++){let f=t[s];u.forEach(function(g){f[g]=Ux(n,g)})}}return t}function Go(n,t,e){switch(t.type){case 7:return n.visitTrigger(t,e);case 0:return n.visitState(t,e);case 1:return n.visitTransition(t,e);case 2:return n.visitSequence(t,e);case 3:return n.visitGroup(t,e);case 4:return n.visitAnimate(t,e);case 5:return n.visitKeyframes(t,e);case 6:return n.visitStyle(t,e);case 8:return n.visitReference(t,e);case 9:return n.visitAnimateChild(t,e);case 10:return n.visitAnimateRef(t,e);case 11:return n.visitQuery(t,e);case 12:return n.visitStagger(t,e);default:throw new Error(`Unable to resolve animation metadata node #${t.type}`)}}function Ux(n,t){return window.getComputedStyle(n)[t]}function KR(n,t){const e=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function(n,t,e){if(":"==n[0]){const g=function(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,i)=>parseFloat(i)>parseFloat(e);case":decrement":return(e,i)=>parseFloat(i)<parseFloat(e);default:return t.push(`The transition alias value "${n}" is not supported`),"* => *"}}(n,e);if("function"==typeof g)return void t.push(g);n=g}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return e.push(`The provided transition expression "${n}" is not supported`),t;const s=i[1],a=i[2],u=i[3];t.push(vm(s,u));"<"==a[0]&&!("*"==s&&"*"==u)&&t.push(vm(u,s))}(i,e,t)):e.push(n),e}const Lh=new Set(["true","1"]),Cv=new Set(["false","0"]);function vm(n,t){const e=Lh.has(n)||Cv.has(n),i=Lh.has(t)||Cv.has(t);return(s,a)=>{let u="*"==n||n==s,f="*"==t||t==a;return!u&&e&&"boolean"==typeof s&&(u=s?Lh.has(n):Cv.has(n)),!f&&i&&"boolean"==typeof a&&(f=a?Lh.has(t):Cv.has(t)),u&&f}}const mr=new RegExp("s*:selfs*,?","g");function jx(n,t,e){return new Mw(n).build(t,e)}class Mw{constructor(t){this._driver=t}build(t,e){const i=new qx(e);return this._resetContextStyleTimingState(i),Go(this,wp(t),i)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}visitTrigger(t,e){let i=e.queryCount=0,s=e.depCount=0;const a=[],u=[];return"@"==t.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),t.definitions.forEach(f=>{if(this._resetContextStyleTimingState(e),0==f.type){const g=f,C=g.name;C.toString().split(/\s*,\s*/).forEach(x=>{g.name=x,a.push(this.visitState(g,e))}),g.name=C}else if(1==f.type){const g=this.visitTransition(f,e);i+=g.queryCount,s+=g.depCount,u.push(g)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:t.name,states:a,transitions:u,queryCount:i,depCount:s,options:null}}visitState(t,e){const i=this.visitStyle(t.styles,e),s=t.options&&t.options.params||null;if(i.containsDynamicStyles){const a=new Set,u=s||{};if(i.styles.forEach(f=>{if(Cm(f)){const g=f;Object.keys(g).forEach(C=>{Dd(g[C]).forEach(x=>{u.hasOwnProperty(x)||a.add(x)})})}}),a.size){const f=bv(a.values());e.errors.push(`state("${t.name}", ...) must define default values for all the following style substitutions: ${f.join(", ")}`)}}return{type:0,name:t.name,style:i,options:s?{params:s}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const i=Go(this,wp(t.animation),e);return{type:1,matchers:KR(t.expr,e.errors),animation:i,queryCount:e.queryCount,depCount:e.depCount,options:Vh(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(i=>Go(this,i,e)),options:Vh(t.options)}}visitGroup(t,e){const i=e.currentTime;let s=0;const a=t.steps.map(u=>{e.currentTime=i;const f=Go(this,u,e);return s=Math.max(s,e.currentTime),f});return e.currentTime=s,{type:3,steps:a,options:Vh(t.options)}}visitAnimate(t,e){const i=function(n,t){let e=null;if(n.hasOwnProperty("duration"))e=n;else if("number"==typeof n)return kw(yv(n,t).duration,0,"");const i=n;if(i.split(/\s+/).some(a=>"{"==a.charAt(0)&&"{"==a.charAt(1))){const a=kw(0,0,"");return a.dynamic=!0,a.strValue=i,a}return e=e||yv(i,t),kw(e.duration,e.delay,e.easing)}(t.timings,e.errors);e.currentAnimateTimings=i;let s,a=t.styles?t.styles:en({});if(5==a.type)s=this.visitKeyframes(a,e);else{let u=t.styles,f=!1;if(!u){f=!0;const C={};i.easing&&(C.easing=i.easing),u=en(C)}e.currentTime+=i.duration+i.delay;const g=this.visitStyle(u,e);g.isEmptyStep=f,s=g}return e.currentAnimateTimings=null,{type:4,timings:i,style:s,options:null}}visitStyle(t,e){const i=this._makeStyleAst(t,e);return this._validateStyleAst(i,e),i}_makeStyleAst(t,e){const i=[];Array.isArray(t.styles)?t.styles.forEach(u=>{"string"==typeof u?u==Du?i.push(u):e.errors.push(`The provided style string value ${u} is not allowed.`):i.push(u)}):i.push(t.styles);let s=!1,a=null;return i.forEach(u=>{if(Cm(u)){const f=u,g=f.easing;if(g&&(a=g,delete f.easing),!s)for(let C in f)if(f[C].toString().indexOf("{{")>=0){s=!0;break}}}),{type:6,styles:i,easing:a,offset:t.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(t,e){const i=e.currentAnimateTimings;let s=e.currentTime,a=e.currentTime;i&&a>0&&(a-=i.duration+i.delay),t.styles.forEach(u=>{"string"!=typeof u&&Object.keys(u).forEach(f=>{if(!this._driver.validateStyleProperty(f))return void e.errors.push(`The provided animation property "${f}" is not a supported CSS property for animations`);const g=e.collectedStyles[e.currentQuerySelector],C=g[f];let x=!0;C&&(a!=s&&a>=C.startTime&&s<=C.endTime&&(e.errors.push(`The CSS property "${f}" that exists between the times of "${C.startTime}ms" and "${C.endTime}ms" is also being animated in a parallel animation between the times of "${a}ms" and "${s}ms"`),x=!1),a=C.startTime),x&&(g[f]={startTime:a,endTime:s}),e.options&&function(n,t,e){const i=t.params||{},s=Dd(n);s.length&&s.forEach(a=>{i.hasOwnProperty(a)||e.push(`Unable to resolve the local animation param ${a} in the given list of values`)})}(u[f],e.options,e.errors)})})}visitKeyframes(t,e){const i={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),i;let a=0;const u=[];let f=!1,g=!1,C=0;const x=t.steps.map(ht=>{const mt=this._makeStyleAst(ht,e);let Et=null!=mt.offset?mt.offset:function(n){if("string"==typeof n)return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(Cm(e)&&e.hasOwnProperty("offset")){const i=e;t=parseFloat(i.offset),delete i.offset}});else if(Cm(n)&&n.hasOwnProperty("offset")){const e=n;t=parseFloat(e.offset),delete e.offset}return t}(mt.styles),Ct=0;return null!=Et&&(a++,Ct=mt.offset=Et),g=g||Ct<0||Ct>1,f=f||Ct<C,C=Ct,u.push(Ct),mt});g&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),f&&e.errors.push("Please ensure that all keyframe offsets are in order");const R=t.steps.length;let G=0;a>0&&a<R?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==a&&(G=1/(R-1));const ee=R-1,he=e.currentTime,Fe=e.currentAnimateTimings,He=Fe.duration;return x.forEach((ht,mt)=>{const Et=G>0?mt==ee?1:G*mt:u[mt],Ct=Et*He;e.currentTime=he+Fe.delay+Ct,Fe.duration=Ct,this._validateStyleAst(ht,e),ht.offset=Et,i.styles.push(ht)}),i}visitReference(t,e){return{type:8,animation:Go(this,wp(t.animation),e),options:Vh(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:Vh(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:Vh(t.options)}}visitQuery(t,e){const i=e.currentQuerySelector,s=t.options||{};e.queryCount++,e.currentQuery=t;const[a,u]=function(n){const t=!!n.split(/\s*,\s*/).find(e=>":self"==e);return t&&(n=n.replace(mr,"")),[n=n.replace(/@\*/g,_v).replace(/@\w+/g,e=>_v+"-"+e.substr(1)).replace(/:animating/g,bw),t]}(t.selector);e.currentQuerySelector=i.length?i+" "+a:a,zo(e.collectedStyles,e.currentQuerySelector,{});const f=Go(this,wp(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=i,{type:11,selector:a,limit:s.limit||0,optional:!!s.optional,includeSelf:u,animation:f,originalSelector:t.selector,options:Vh(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");const i="full"===t.timings?{duration:0,delay:0,easing:"full"}:yv(t.timings,e.errors,!0);return{type:12,animation:Go(this,wp(t.animation),e),timings:i,options:null}}}class qx{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function Cm(n){return!Array.isArray(n)&&"object"==typeof n}function Vh(n){return n?(n=Fh(n)).params&&(n.params=function(n){return n?Fh(n):null}(n.params)):n={},n}function kw(n,t,e){return{duration:n,delay:t,easing:e}}function Bh(n,t,e,i,s,a,u=null,f=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:i,duration:s,delay:a,totalTime:s+a,easing:u,subTimeline:f}}class wv{constructor(){this._map=new Map}consume(t){let e=this._map.get(t);return e?this._map.delete(t):e=[],e}append(t,e){let i=this._map.get(t);i||this._map.set(t,i=[]),i.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const Ev=new RegExp(":enter","g"),$x=new RegExp(":leave","g");function Dv(n,t,e,i,s,a={},u={},f,g,C=[]){return(new iO).buildKeyframes(n,t,e,i,s,a,u,f,g,C)}class iO{buildKeyframes(t,e,i,s,a,u,f,g,C,x=[]){C=C||new wv;const R=new Uh(t,e,C,s,a,x,[]);R.options=g,R.currentTimeline.setStyles([u],null,R.errors,g),Go(this,i,R);const G=R.timelines.filter(ee=>ee.containsAnimation());if(G.length&&Object.keys(f).length){const ee=G[G.length-1];ee.allowOnlyTimelineStyles()||ee.setStyles([f],null,R.errors,g)}return G.length?G.map(ee=>ee.buildKeyframes()):[Bh(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const i=e.subInstructions.consume(e.element);if(i){const s=e.createSubContext(t.options),a=e.currentTimeline.currentTime,u=this._visitSubInstructions(i,s,s.options);a!=u&&e.transformIntoNewTimeline(u)}e.previousNode=t}visitAnimateRef(t,e){const i=e.createSubContext(t.options);i.transformIntoNewTimeline(),this.visitReference(t.animation,i),e.transformIntoNewTimeline(i.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,i){let a=e.currentTimeline.currentTime;const u=null!=i.duration?Nh(i.duration):null,f=null!=i.delay?Nh(i.delay):null;return 0!==u&&t.forEach(g=>{const C=e.appendInstructionToTimeline(g,u,f);a=Math.max(a,C.duration+C.delay)}),a}visitReference(t,e){e.updateOptions(t.options,!0),Go(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const i=e.subContextCount;let s=e;const a=t.options;if(a&&(a.params||a.delay)&&(s=e.createSubContext(a),s.transformIntoNewTimeline(),null!=a.delay)){6==s.previousNode.type&&(s.currentTimeline.snapshotCurrentStyles(),s.previousNode=Td);const u=Nh(a.delay);s.delayNextStep(u)}t.steps.length&&(t.steps.forEach(u=>Go(this,u,s)),s.currentTimeline.applyStylesToKeyframe(),s.subContextCount>i&&s.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const i=[];let s=e.currentTimeline.currentTime;const a=t.options&&t.options.delay?Nh(t.options.delay):0;t.steps.forEach(u=>{const f=e.createSubContext(t.options);a&&f.delayNextStep(a),Go(this,u,f),s=Math.max(s,f.currentTimeline.currentTime),i.push(f.currentTimeline)}),i.forEach(u=>e.currentTimeline.mergeTimelineCollectedStyles(u)),e.transformIntoNewTimeline(s),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const i=t.strValue;return yv(e.params?vv(i,e.params,e.errors):i,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const i=e.currentAnimateTimings=this._visitTiming(t.timings,e),s=e.currentTimeline;i.delay&&(e.incrementTime(i.delay),s.snapshotCurrentStyles());const a=t.style;5==a.type?this.visitKeyframes(a,e):(e.incrementTime(i.duration),this.visitStyle(a,e),s.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const i=e.currentTimeline,s=e.currentAnimateTimings;!s&&i.getCurrentStyleProperties().length&&i.forwardFrame();const a=s&&s.easing||t.easing;t.isEmptyStep?i.applyEmptyStep(a):i.setStyles(t.styles,a,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const i=e.currentAnimateTimings,s=e.currentTimeline.duration,a=i.duration,f=e.createSubContext().currentTimeline;f.easing=i.easing,t.styles.forEach(g=>{f.forwardTime((g.offset||0)*a),f.setStyles(g.styles,g.easing,e.errors,e.options),f.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(f),e.transformIntoNewTimeline(s+a),e.previousNode=t}visitQuery(t,e){const i=e.currentTimeline.currentTime,s=t.options||{},a=s.delay?Nh(s.delay):0;a&&(6===e.previousNode.type||0==i&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=Td);let u=i;const f=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!s.optional,e.errors);e.currentQueryTotal=f.length;let g=null;f.forEach((C,x)=>{e.currentQueryIndex=x;const R=e.createSubContext(t.options,C);a&&R.delayNextStep(a),C===e.element&&(g=R.currentTimeline),Go(this,t.animation,R),R.currentTimeline.applyStylesToKeyframe(),u=Math.max(u,R.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(u),g&&(e.currentTimeline.mergeTimelineCollectedStyles(g),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const i=e.parentContext,s=e.currentTimeline,a=t.timings,u=Math.abs(a.duration),f=u*(e.currentQueryTotal-1);let g=u*e.currentQueryIndex;switch(a.duration<0?"reverse":a.easing){case"reverse":g=f-g;break;case"full":g=i.currentStaggerTime}const x=e.currentTimeline;g&&x.delayNextStep(g);const R=x.currentTime;Go(this,t.animation,e),e.previousNode=t,i.currentStaggerTime=s.currentTime-R+(s.startTime-i.currentTimeline.startTime)}}const Td={};class Uh{constructor(t,e,i,s,a,u,f,g){this._driver=t,this.element=e,this.subInstructions=i,this._enterClassName=s,this._leaveClassName=a,this.errors=u,this.timelines=f,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Td,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=g||new Tv(this._driver,e,0),f.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const i=t;let s=this.options;null!=i.duration&&(s.duration=Nh(i.duration)),null!=i.delay&&(s.delay=Nh(i.delay));const a=i.params;if(a){let u=s.params;u||(u=this.options.params={}),Object.keys(a).forEach(f=>{(!e||!u.hasOwnProperty(f))&&(u[f]=vv(a[f],u,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const i=t.params={};Object.keys(e).forEach(s=>{i[s]=e[s]})}}return t}createSubContext(t=null,e,i){const s=e||this.element,a=new Uh(this._driver,s,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(s,i||0));return a.previousNode=this.previousNode,a.currentAnimateTimings=this.currentAnimateTimings,a.options=this._copyOptions(),a.updateOptions(t),a.currentQueryIndex=this.currentQueryIndex,a.currentQueryTotal=this.currentQueryTotal,a.parentContext=this,this.subContextCount++,a}transformIntoNewTimeline(t){return this.previousNode=Td,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,i){const s={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=i?i:0)+t.delay,easing:""},a=new rO(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,s,t.stretchStartingKeyframe);return this.timelines.push(a),s}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,i,s,a,u){let f=[];if(s&&f.push(this.element),t.length>0){t=(t=t.replace(Ev,"."+this._enterClassName)).replace($x,"."+this._leaveClassName);let C=this._driver.query(this.element,t,1!=i);0!==i&&(C=i<0?C.slice(C.length+i,C.length):C.slice(0,i)),f.push(...C)}return!a&&0==f.length&&u.push(`\`query("${e}")\` returned zero elements. (Use \`query("${e}", { optional: true })\` if you wish to allow this.)`),f}}class Tv{constructor(t,e,i,s){this._driver=t,this.element=e,this.startTime=i,this._elementTimelineStylesLookup=s,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new Tv(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(e=>{this._backFill[e]=this._globalTimelineStyles[e]||Du,this._currentKeyframe[e]=Du}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,i,s){e&&(this._previousKeyframe.easing=e);const a=s&&s.params||{},u=function(n,t){const e={};let i;return n.forEach(s=>{"*"===s?(i=i||Object.keys(t),i.forEach(a=>{e[a]=Du})):xu(s,!1,e)}),e}(t,this._globalTimelineStyles);Object.keys(u).forEach(f=>{const g=vv(u[f],a,i);this._pendingStyles[f]=g,this._localTimelineStyles.hasOwnProperty(f)||(this._backFill[f]=this._globalTimelineStyles.hasOwnProperty(f)?this._globalTimelineStyles[f]:Du),this._updateStyle(f,g)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(i=>{this._currentKeyframe[i]=t[i]}),Object.keys(this._localTimelineStyles).forEach(i=>{this._currentKeyframe.hasOwnProperty(i)||(this._currentKeyframe[i]=this._localTimelineStyles[i])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const i=this._styleSummary[e],s=t._styleSummary[e];(!i||s.time>i.time)&&this._updateStyle(e,s.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,i=1===this._keyframes.size&&0===this.duration;let s=[];this._keyframes.forEach((f,g)=>{const C=xu(f,!0);Object.keys(C).forEach(x=>{const R=C[x];"!"==R?t.add(x):R==Du&&e.add(x)}),i||(C.offset=g/this.duration),s.push(C)});const a=t.size?bv(t.values()):[],u=e.size?bv(e.values()):[];if(i){const f=s[0],g=Fh(f);f.offset=0,g.offset=1,s=[f,g]}return Bh(this.element,s,a,u,this.duration,this.startTime,this.easing,!1)}}class rO extends Tv{constructor(t,e,i,s,a,u,f=!1){super(t,e,u.delay),this.keyframes=i,this.preStyleProps=s,this.postStyleProps=a,this._stretchStartingKeyframe=f,this.timings={duration:u.duration,delay:u.delay,easing:u.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:i,easing:s}=this.timings;if(this._stretchStartingKeyframe&&e){const a=[],u=i+e,f=e/u,g=xu(t[0],!1);g.offset=0,a.push(g);const C=xu(t[0],!1);C.offset=Yx(f),a.push(C);const x=t.length-1;for(let R=1;R<=x;R++){let G=xu(t[R],!1);G.offset=Yx((e+G.offset*i)/u),a.push(G)}i=u,e=0,s="",t=a}return Bh(this.element,t,this.preStyleProps,this.postStyleProps,i,e,s,!0)}}function Yx(n,t=3){const e=Math.pow(10,t-1);return Math.round(n*e)/e}class Sv{}class Wx extends Sv{normalizePropertyName(t,e){return Sw(t)}normalizeStyleValue(t,e,i,s){let a="";const u=i.toString().trim();if(oO[e]&&0!==i&&"0"!==i)if("number"==typeof i)a="px";else{const f=i.match(/^[+-]?[\d\.]+([a-z]*)$/);f&&0==f[1].length&&s.push(`Please provide a CSS unit value for ${t}:${i}`)}return u+a}}const oO=(()=>function(n){const t={};return n.forEach(e=>t[e]=!0),t}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function aO(n,t,e,i,s,a,u,f,g,C,x,R,G){return{type:0,element:n,triggerName:t,isRemovalTransition:s,fromState:e,fromStyles:a,toState:i,toStyles:u,timelines:f,queriedElements:g,preStyleProps:C,postStyleProps:x,totalTime:R,errors:G}}const Kx={};class lO{constructor(t,e,i){this._triggerName=t,this.ast=e,this._stateStyles=i}match(t,e,i,s){return function(n,t,e,i,s){return n.some(a=>a(t,e,i,s))}(this.ast.matchers,t,e,i,s)}buildStyles(t,e,i){const s=this._stateStyles["*"],a=this._stateStyles[t],u=s?s.buildStyles(e,i):{};return a?a.buildStyles(e,i):u}build(t,e,i,s,a,u,f,g,C,x){const R=[],G=this.ast.options&&this.ast.options.params||Kx,he=this.buildStyles(i,f&&f.params||Kx,R),Fe=g&&g.params||Kx,He=this.buildStyles(s,Fe,R),ht=new Set,mt=new Map,Et=new Map,Ct="void"===s,Ln={params:Object.assign(Object.assign({},G),Fe)},Ci=x?[]:Dv(t,e,this.ast.animation,a,u,he,He,Ln,C,R);let wr=0;if(Ci.forEach(ic=>{wr=Math.max(ic.duration+ic.delay,wr)}),R.length)return aO(e,this._triggerName,i,s,Ct,he,He,[],[],mt,Et,wr,R);Ci.forEach(ic=>{const _f=ic.element,CY=zo(mt,_f,{});ic.preStyleProps.forEach(K_=>CY[K_]=!0);const nS=zo(Et,_f,{});ic.postStyleProps.forEach(K_=>nS[K_]=!0),_f!==e&&ht.add(_f)});const Ha=bv(ht.values());return aO(e,this._triggerName,i,s,Ct,he,He,Ci,Ha,mt,Et,wr)}}class xv{constructor(t,e,i){this.styles=t,this.defaultParams=e,this.normalizer=i}buildStyles(t,e){const i={},s=Fh(this.defaultParams);return Object.keys(t).forEach(a=>{const u=t[a];null!=u&&(s[a]=u)}),this.styles.styles.forEach(a=>{if("string"!=typeof a){const u=a;Object.keys(u).forEach(f=>{let g=u[f];g.length>1&&(g=vv(g,s,e));const C=this.normalizer.normalizePropertyName(f,e);g=this.normalizer.normalizeStyleValue(f,C,g,e),i[C]=g})}}),i}}class uO{constructor(t,e,i){this.name=t,this.ast=e,this._normalizer=i,this.transitionFactories=[],this.states={},e.states.forEach(s=>{this.states[s.name]=new xv(s.style,s.options&&s.options.params||{},i)}),Dp(this.states,"true","1"),Dp(this.states,"false","0"),e.transitions.forEach(s=>{this.transitionFactories.push(new lO(t,s,this.states))}),this.fallbackTransition=function(n,t,e){return new lO(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(u,f)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,i,s){return this.transitionFactories.find(u=>u.match(t,e,i,s))||null}matchStyles(t,e,i){return this.fallbackTransition.buildStyles(t,e,i)}}function Dp(n,t,e){n.hasOwnProperty(t)?n.hasOwnProperty(e)||(n[e]=n[t]):n.hasOwnProperty(e)&&(n[t]=n[e])}const dO=new wv;class hO{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._animations={},this._playersById={},this.players=[]}register(t,e){const i=[],s=jx(this._driver,e,i);if(i.length)throw new Error(`Unable to build the animation due to the following errors: ${i.join("\n")}`);this._animations[t]=s}_buildPlayer(t,e,i){const s=t.element,a=bp(0,this._normalizer,0,t.keyframes,e,i);return this._driver.animate(s,a,t.duration,t.delay,t.easing,[],!0)}create(t,e,i={}){const s=[],a=this._animations[t];let u;const f=new Map;if(a?(u=Dv(this._driver,e,a,vw,gv,{},{},i,dO,s),u.forEach(x=>{const R=zo(f,x.element,{});x.postStyleProps.forEach(G=>R[G]=null)})):(s.push("The requested animation doesn't exist or has already been destroyed"),u=[]),s.length)throw new Error(`Unable to create the animation due to the following errors: ${s.join("\n")}`);f.forEach((x,R)=>{Object.keys(x).forEach(G=>{x[G]=this._driver.computeStyle(R,G,Du)})});const C=Mc(u.map(x=>{const R=f.get(x.element);return this._buildPlayer(x,{},R)}));return this._playersById[t]=C,C.onDestroy(()=>this.destroy(t)),this.players.push(C),C}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const i=this.players.indexOf(e);i>=0&&this.players.splice(i,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw new Error(`Unable to find the timeline player referenced by ${t}`);return e}listen(t,e,i,s){const a=gw(e,"","","");return pw(this._getPlayer(t),i,a,s),()=>{}}command(t,e,i,s){if("register"==i)return void this.register(t,s[0]);if("create"==i)return void this.create(t,e,s[0]||{});const a=this._getPlayer(t);switch(i){case"play":a.play();break;case"pause":a.pause();break;case"reset":a.reset();break;case"restart":a.restart();break;case"finish":a.finish();break;case"init":a.init();break;case"setPosition":a.setPosition(parseFloat(s[0]));break;case"destroy":this.destroy(t)}}}const Xx="ng-animate-queued",eI="ng-animate-disabled",Rw=".ng-animate-disabled",Tp=[],tI={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},nI={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},ol="__ng_removed";class Iv{constructor(t,e=""){this.namespaceId=e;const i=t&&t.hasOwnProperty("value");if(this.value=null!=(n=i?t.value:t)?n:null,i){const a=Fh(t);delete a.value,this.options=a}else this.options={};var n;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const i=this.options.params;Object.keys(e).forEach(s=>{null==i[s]&&(i[s]=e[s])})}}}const wm="void",Av=new Iv(wm);class mO{constructor(t,e,i){this.id=t,this.hostElement=e,this._engine=i,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,al(e,this._hostClassName)}listen(t,e,i,s){if(!this._triggers.hasOwnProperty(e))throw new Error(`Unable to listen on the animation trigger event "${i}" because the animation trigger "${e}" doesn't exist!`);if(null==i||0==i.length)throw new Error(`Unable to listen on the animation trigger "${e}" because the provided event is undefined!`);if("start"!=(n=i)&&"done"!=n)throw new Error(`The provided animation trigger event "${i}" for the animation trigger "${e}" is not supported!`);var n;const a=zo(this._elementListeners,t,[]),u={name:e,phase:i,callback:s};a.push(u);const f=zo(this._engine.statesByElement,t,{});return f.hasOwnProperty(e)||(al(t,mv),al(t,mv+"-"+e),f[e]=Av),()=>{this._engine.afterFlush(()=>{const g=a.indexOf(u);g>=0&&a.splice(g,1),this._triggers[e]||delete f[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw new Error(`The provided animation trigger "${t}" has not been registered!`);return e}trigger(t,e,i,s=!0){const a=this._getTrigger(e),u=new Pw(this.id,e,t);let f=this._engine.statesByElement.get(t);f||(al(t,mv),al(t,mv+"-"+e),this._engine.statesByElement.set(t,f={}));let g=f[e];const C=new Iv(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&g&&C.absorbOptions(g.options),f[e]=C,g||(g=Av),C.value!==wm&&g.value===C.value){if(!function(n,t){const e=Object.keys(n),i=Object.keys(t);if(e.length!=i.length)return!1;for(let s=0;s<e.length;s++){const a=e[s];if(!t.hasOwnProperty(a)||n[a]!==t[a])return!1}return!0}(g.params,C.params)){const Fe=[],He=a.matchStyles(g.value,g.params,Fe),ht=a.matchStyles(C.value,C.params,Fe);Fe.length?this._engine.reportError(Fe):this._engine.afterFlush(()=>{Ed(t,He),Hl(t,ht)})}return}const G=zo(this._engine.playersByElement,t,[]);G.forEach(Fe=>{Fe.namespaceId==this.id&&Fe.triggerName==e&&Fe.queued&&Fe.destroy()});let ee=a.matchTransition(g.value,C.value,t,C.params),he=!1;if(!ee){if(!s)return;ee=a.fallbackTransition,he=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:ee,fromState:g,toState:C,player:u,isFallbackTransition:he}),he||(al(t,Xx),u.onStart(()=>{Sp(t,Xx)})),u.onDone(()=>{let Fe=this.players.indexOf(u);Fe>=0&&this.players.splice(Fe,1);const He=this._engine.playersByElement.get(t);if(He){let ht=He.indexOf(u);ht>=0&&He.splice(ht,1)}}),this.players.push(u),G.push(u),u}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,i)=>{delete e[t]}),this._elementListeners.forEach((e,i)=>{this._elementListeners.set(i,e.filter(s=>s.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(i=>i.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const i=this._engine.driver.query(t,_v,!0);i.forEach(s=>{if(s[ol])return;const a=this._engine.fetchNamespacesByElement(s);a.size?a.forEach(u=>u.triggerLeaveAnimation(s,e,!1,!0)):this.clearElementCache(s)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(s=>this.clearElementCache(s)))}triggerLeaveAnimation(t,e,i,s){const a=this._engine.statesByElement.get(t);if(a){const u=[];if(Object.keys(a).forEach(f=>{if(this._triggers[f]){const g=this.trigger(t,f,wm,s);g&&u.push(g)}}),u.length)return this._engine.markElementAsRemoved(this.id,t,!0,e),i&&Mc(u).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),i=this._engine.statesByElement.get(t);if(e&&i){const s=new Set;e.forEach(a=>{const u=a.name;if(s.has(u))return;s.add(u);const g=this._triggers[u].fallbackTransition,C=i[u]||Av,x=new Iv(wm),R=new Pw(this.id,u,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:u,transition:g,fromState:C,toState:x,player:R,isFallbackTransition:!0})})}}removeNode(t,e){const i=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let s=!1;if(i.totalAnimations){const a=i.players.length?i.playersByQueriedElement.get(t):[];if(a&&a.length)s=!0;else{let u=t;for(;u=u.parentNode;)if(i.statesByElement.get(u)){s=!0;break}}}if(this.prepareLeaveAnimationListeners(t),s)i.markElementAsRemoved(this.id,t,!1,e);else{const a=t[ol];(!a||a===tI)&&(i.afterFlush(()=>this.clearElementCache(t)),i.destroyInnerAnimations(t),i._onRemovalComplete(t,e))}}insertNode(t,e){al(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(i=>{const s=i.player;if(s.destroyed)return;const a=i.element,u=this._elementListeners.get(a);u&&u.forEach(f=>{if(f.name==i.triggerName){const g=gw(a,i.triggerName,i.fromState.value,i.toState.value);g._data=t,pw(i.player,f.phase,g,f.callback)}}),s.markedForDestroy?this._engine.afterFlush(()=>{s.destroy()}):e.push(i)}),this._queue=[],e.sort((i,s)=>{const a=i.transition.ast.depCount,u=s.transition.ast.depCount;return 0==a||0==u?a-u:this._engine.driver.containsElement(i.element,s.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(i=>i.element===t)||e,e}}class Ow{constructor(t,e,i){this.bodyNode=t,this.driver=e,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(s,a)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(i=>{i.queued&&t.push(i)})}),t}createNamespace(t,e){const i=new mO(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(i,e):(this.newHostElements.set(e,i),this.collectEnterElement(e)),this._namespaceLookup[t]=i}_balanceNamespaceList(t,e){const i=this._namespaceList.length-1;if(i>=0){let s=!1;for(let a=i;a>=0;a--)if(this.driver.containsElement(this._namespaceList[a].hostElement,e)){this._namespaceList.splice(a+1,0,t),s=!0;break}s||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(e,t),t}register(t,e){let i=this._namespaceLookup[t];return i||(i=this.createNamespace(t,e)),i}registerTrigger(t,e,i){let s=this._namespaceLookup[t];s&&s.register(e,i)&&this.totalAnimations++}destroy(t,e){if(!t)return;const i=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[t];const s=this._namespaceList.indexOf(i);s>=0&&this._namespaceList.splice(s,1)}),this.afterFlushAnimationsDone(()=>i.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,i=this.statesByElement.get(t);if(i){const s=Object.keys(i);for(let a=0;a<s.length;a++){const u=i[s[a]].namespaceId;if(u){const f=this._fetchNamespace(u);f&&e.add(f)}}}return e}trigger(t,e,i,s){if(Mv(e)){const a=this._fetchNamespace(t);if(a)return a.trigger(e,i,s),!0}return!1}insertNode(t,e,i,s){if(!Mv(e))return;const a=e[ol];if(a&&a.setForRemoval){a.setForRemoval=!1,a.setForMove=!0;const u=this.collectedLeaveElements.indexOf(e);u>=0&&this.collectedLeaveElements.splice(u,1)}if(t){const u=this._fetchNamespace(t);u&&u.insertNode(e,i)}s&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),al(t,eI)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),Sp(t,eI))}removeNode(t,e,i,s){if(Mv(e)){const a=t?this._fetchNamespace(t):null;if(a?a.removeNode(e,s):this.markElementAsRemoved(t,e,!1,s),i){const u=this.namespacesByHostElement.get(e);u&&u.id!==t&&u.removeNode(e,s)}}else this._onRemovalComplete(e,s)}markElementAsRemoved(t,e,i,s){this.collectedLeaveElements.push(e),e[ol]={namespaceId:t,setForRemoval:s,hasAnimation:i,removedBeforeQueried:!1}}listen(t,e,i,s,a){return Mv(e)?this._fetchNamespace(t).listen(e,i,s,a):()=>{}}_buildInstruction(t,e,i,s,a){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,i,s,t.fromState.options,t.toState.options,e,a)}destroyInnerAnimations(t){let e=this.driver.query(t,_v,!0);e.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,bw,!0),e.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return Mc(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t[ol];if(e&&e.setForRemoval){if(t[ol]=tI,e.namespaceId){this.destroyInnerAnimations(t);const i=this._fetchNamespace(e.namespaceId);i&&i.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}this.driver.matchesElement(t,Rw)&&this.markElementAsDisabled(t,!1),this.driver.query(t,Rw,!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,s)=>this._balanceNamespaceList(i,s)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)al(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{e=this._flushAnimations(i,t)}finally{for(let s=0;s<i.length;s++)i[s]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],e.length?Mc(e).onDone(()=>{i.forEach(s=>s())}):i.forEach(s=>s())}}reportError(t){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${t.join("\n")}`)}_flushAnimations(t,e){const i=new wv,s=[],a=new Map,u=[],f=new Map,g=new Map,C=new Map,x=new Set;this.disabledNodes.forEach(Bt=>{x.add(Bt);const nn=this.driver.query(Bt,".ng-animate-queued",!0);for(let yn=0;yn<nn.length;yn++)x.add(nn[yn])});const R=this.bodyNode,G=Array.from(this.statesByElement.keys()),ee=oI(G,this.collectedEnterElements),he=new Map;let Fe=0;ee.forEach((Bt,nn)=>{const yn=vw+Fe++;he.set(nn,yn),Bt.forEach(si=>al(si,yn))});const He=[],ht=new Set,mt=new Set;for(let Bt=0;Bt<this.collectedLeaveElements.length;Bt++){const nn=this.collectedLeaveElements[Bt],yn=nn[ol];yn&&yn.setForRemoval&&(He.push(nn),ht.add(nn),yn.hasAnimation?this.driver.query(nn,".ng-star-inserted",!0).forEach(si=>ht.add(si)):mt.add(nn))}const Et=new Map,Ct=oI(G,Array.from(ht));Ct.forEach((Bt,nn)=>{const yn=gv+Fe++;Et.set(nn,yn),Bt.forEach(si=>al(si,yn))}),t.push(()=>{ee.forEach((Bt,nn)=>{const yn=he.get(nn);Bt.forEach(si=>Sp(si,yn))}),Ct.forEach((Bt,nn)=>{const yn=Et.get(nn);Bt.forEach(si=>Sp(si,yn))}),He.forEach(Bt=>{this.processLeaveNode(Bt)})});const Ln=[],Ci=[];for(let Bt=this._namespaceList.length-1;Bt>=0;Bt--)this._namespaceList[Bt].drainQueuedTransitions(e).forEach(yn=>{const si=yn.player,io=yn.element;if(Ln.push(si),this.collectedEnterElements.length){const zd=io[ol];if(zd&&zd.setForMove)return void si.destroy()}const qd=!R||!this.driver.containsElement(R,io),rc=Et.get(io),Ag=he.get(io),qr=this._buildInstruction(yn,i,Ag,rc,qd);if(qr.errors&&qr.errors.length)Ci.push(qr);else{if(qd)return si.onStart(()=>Ed(io,qr.fromStyles)),si.onDestroy(()=>Hl(io,qr.toStyles)),void s.push(si);if(yn.isFallbackTransition)return si.onStart(()=>Ed(io,qr.fromStyles)),si.onDestroy(()=>Hl(io,qr.toStyles)),void s.push(si);qr.timelines.forEach(zd=>zd.stretchStartingKeyframe=!0),i.append(io,qr.timelines),u.push({instruction:qr,player:si,element:io}),qr.queriedElements.forEach(zd=>zo(f,zd,[]).push(si)),qr.preStyleProps.forEach((zd,iS)=>{const vk=Object.keys(zd);if(vk.length){let Q_=g.get(iS);Q_||g.set(iS,Q_=new Set),vk.forEach(T3=>Q_.add(T3))}}),qr.postStyleProps.forEach((zd,iS)=>{const vk=Object.keys(zd);let Q_=C.get(iS);Q_||C.set(iS,Q_=new Set),vk.forEach(T3=>Q_.add(T3))})}});if(Ci.length){const Bt=[];Ci.forEach(nn=>{Bt.push(`@${nn.triggerName} has failed due to:\n`),nn.errors.forEach(yn=>Bt.push(`- ${yn}\n`))}),Ln.forEach(nn=>nn.destroy()),this.reportError(Bt)}const wr=new Map,Ha=new Map;u.forEach(Bt=>{const nn=Bt.element;i.has(nn)&&(Ha.set(nn,nn),this._beforeAnimationBuild(Bt.player.namespaceId,Bt.instruction,wr))}),s.forEach(Bt=>{const nn=Bt.element;this._getPreviousPlayers(nn,!1,Bt.namespaceId,Bt.triggerName,null).forEach(si=>{zo(wr,nn,[]).push(si),si.destroy()})});const ic=He.filter(Bt=>lI(Bt,g,C)),_f=new Map;kv(_f,this.driver,mt,C,Du).forEach(Bt=>{lI(Bt,g,C)&&ic.push(Bt)});const nS=new Map;ee.forEach((Bt,nn)=>{kv(nS,this.driver,new Set(Bt),g,"!")}),ic.forEach(Bt=>{const nn=_f.get(Bt),yn=nS.get(Bt);_f.set(Bt,Object.assign(Object.assign({},nn),yn))});const K_=[],wY=[],EY={};u.forEach(Bt=>{const{element:nn,player:yn,instruction:si}=Bt;if(i.has(nn)){if(x.has(nn))return yn.onDestroy(()=>Hl(nn,si.toStyles)),yn.disabled=!0,yn.overrideTotalTime(si.totalTime),void s.push(yn);let io=EY;if(Ha.size>1){let rc=nn;const Ag=[];for(;rc=rc.parentNode;){const qr=Ha.get(rc);if(qr){io=qr;break}Ag.push(rc)}Ag.forEach(qr=>Ha.set(qr,io))}const qd=this._buildAnimation(yn.namespaceId,si,wr,a,nS,_f);if(yn.setRealPlayer(qd),io===EY)K_.push(yn);else{const rc=this.playersByElement.get(io);rc&&rc.length&&(yn.parentPlayer=Mc(rc)),s.push(yn)}}else Ed(nn,si.fromStyles),yn.onDestroy(()=>Hl(nn,si.toStyles)),wY.push(yn),x.has(nn)&&s.push(yn)}),wY.forEach(Bt=>{const nn=a.get(Bt.element);if(nn&&nn.length){const yn=Mc(nn);Bt.setRealPlayer(yn)}}),s.forEach(Bt=>{Bt.parentPlayer?Bt.syncPlayerEvents(Bt.parentPlayer):Bt.destroy()});for(let Bt=0;Bt<He.length;Bt++){const nn=He[Bt],yn=nn[ol];if(Sp(nn,gv),yn&&yn.hasAnimation)continue;let si=[];if(f.size){let qd=f.get(nn);qd&&qd.length&&si.push(...qd);let rc=this.driver.query(nn,bw,!0);for(let Ag=0;Ag<rc.length;Ag++){let qr=f.get(rc[Ag]);qr&&qr.length&&si.push(...qr)}}const io=si.filter(qd=>!qd.destroyed);io.length?yO(this,nn,io):this.processLeaveNode(nn)}return He.length=0,K_.forEach(Bt=>{this.players.push(Bt),Bt.onDone(()=>{Bt.destroy();const nn=this.players.indexOf(Bt);this.players.splice(nn,1)}),Bt.play()}),K_}elementContainsData(t,e){let i=!1;const s=e[ol];return s&&s.setForRemoval&&(i=!0),this.playersByElement.has(e)&&(i=!0),this.playersByQueriedElement.has(e)&&(i=!0),this.statesByElement.has(e)&&(i=!0),this._fetchNamespace(t).elementContainsData(e)||i}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,i,s,a){let u=[];if(e){const f=this.playersByQueriedElement.get(t);f&&(u=f)}else{const f=this.playersByElement.get(t);if(f){const g=!a||a==wm;f.forEach(C=>{C.queued||!g&&C.triggerName!=s||u.push(C)})}}return(i||s)&&(u=u.filter(f=>!(i&&i!=f.namespaceId||s&&s!=f.triggerName))),u}_beforeAnimationBuild(t,e,i){const a=e.element,u=e.isRemovalTransition?void 0:t,f=e.isRemovalTransition?void 0:e.triggerName;for(const g of e.timelines){const C=g.element,x=C!==a,R=zo(i,C,[]);this._getPreviousPlayers(C,x,u,f,e.toState).forEach(ee=>{const he=ee.getRealPlayer();he.beforeDestroy&&he.beforeDestroy(),ee.destroy(),R.push(ee)})}Ed(a,e.fromStyles)}_buildAnimation(t,e,i,s,a,u){const f=e.triggerName,g=e.element,C=[],x=new Set,R=new Set,G=e.timelines.map(he=>{const Fe=he.element;x.add(Fe);const He=Fe[ol];if(He&&He.removedBeforeQueried)return new Ph(he.duration,he.delay);const ht=Fe!==g,mt=function(n){const t=[];return aI(n,t),t}((i.get(Fe)||Tp).map(wr=>wr.getRealPlayer())).filter(wr=>!!wr.element&&wr.element===Fe),Et=a.get(Fe),Ct=u.get(Fe),Ln=bp(0,this._normalizer,0,he.keyframes,Et,Ct),Ci=this._buildPlayer(he,Ln,mt);if(he.subTimeline&&s&&R.add(Fe),ht){const wr=new Pw(t,f,Fe);wr.setRealPlayer(Ci),C.push(wr)}return Ci});C.forEach(he=>{zo(this.playersByQueriedElement,he.element,[]).push(he),he.onDone(()=>function(n,t,e){let i;if(n instanceof Map){if(i=n.get(t),i){if(i.length){const s=i.indexOf(e);i.splice(s,1)}0==i.length&&n.delete(t)}}else if(i=n[t],i){if(i.length){const s=i.indexOf(e);i.splice(s,1)}0==i.length&&delete n[t]}return i}(this.playersByQueriedElement,he.element,he))}),x.forEach(he=>al(he,Vx));const ee=Mc(G);return ee.onDestroy(()=>{x.forEach(he=>Sp(he,Vx)),Hl(g,e.toStyles)}),R.forEach(he=>{zo(s,he,[]).push(ee)}),ee}_buildPlayer(t,e,i){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,i):new Ph(t.duration,t.delay)}}class Pw{constructor(t,e,i){this.namespaceId=t,this.triggerName=e,this.element=i,this._player=new Ph,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(i=>pw(t,e,void 0,i))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){zo(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function Mv(n){return n&&1===n.nodeType}function sI(n,t){const e=n.style.display;return n.style.display=null!=t?t:"none",e}function kv(n,t,e,i,s){const a=[];e.forEach(g=>a.push(sI(g)));const u=[];i.forEach((g,C)=>{const x={};g.forEach(R=>{const G=x[R]=t.computeStyle(C,R,s);(!G||0==G.length)&&(C[ol]=nI,u.push(C))}),n.set(C,x)});let f=0;return e.forEach(g=>sI(g,a[f++])),u}function oI(n,t){const e=new Map;if(n.forEach(f=>e.set(f,[])),0==t.length)return e;const s=new Set(t),a=new Map;function u(f){if(!f)return 1;let g=a.get(f);if(g)return g;const C=f.parentNode;return g=e.has(C)?C:s.has(C)?1:u(C),a.set(f,g),g}return t.forEach(f=>{const g=u(f);1!==g&&e.get(g).push(f)}),e}const Em="$$classes";function al(n,t){if(n.classList)n.classList.add(t);else{let e=n[Em];e||(e=n[Em]={}),e[t]=!0}}function Sp(n,t){if(n.classList)n.classList.remove(t);else{let e=n[Em];e&&delete e[t]}}function yO(n,t,e){Mc(e).onDone(()=>n.processLeaveNode(t))}function aI(n,t){for(let e=0;e<n.length;e++){const i=n[e];i instanceof kx?aI(i.players,t):t.push(i)}}function lI(n,t,e){const i=e.get(n);if(!i)return!1;let s=t.get(n);return s?i.forEach(a=>s.add(a)):t.set(n,i),e.delete(n),!0}class Dm{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(s,a)=>{},this._transitionEngine=new Ow(t,e,i),this._timelineEngine=new hO(t,e,i),this._transitionEngine.onRemovalComplete=(s,a)=>this.onRemovalComplete(s,a)}registerTrigger(t,e,i,s,a){const u=t+"-"+s;let f=this._triggerCache[u];if(!f){const g=[],C=jx(this._driver,a,g);if(g.length)throw new Error(`The animation trigger "${s}" has failed to build due to the following errors:\n - ${g.join("\n - ")}`);f=function(n,t,e){return new uO(n,t,e)}(s,C,this._normalizer),this._triggerCache[u]=f}this._transitionEngine.registerTrigger(e,s,f)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,i,s){this._transitionEngine.insertNode(t,e,i,s)}onRemove(t,e,i,s){this._transitionEngine.removeNode(t,e,s||!1,i)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,i,s){if("@"==i.charAt(0)){const[a,u]=mw(i);this._timelineEngine.command(a,e,u,s)}else this._transitionEngine.trigger(t,e,i,s)}listen(t,e,i,s,a){if("@"==i.charAt(0)){const[u,f]=mw(i);return this._timelineEngine.listen(u,e,f,a)}return this._transitionEngine.listen(t,e,i,s,a)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function Nw(n,t){let e=null,i=null;return Array.isArray(t)&&t.length?(e=Fw(t[0]),t.length>1&&(i=Fw(t[t.length-1]))):t&&(e=Fw(t)),e||i?new CO(n,e,i):null}let CO=(()=>{class n{constructor(e,i,s){this._element=e,this._startStyles=i,this._endStyles=s,this._state=0;let a=n.initialStylesByElement.get(e);a||n.initialStylesByElement.set(e,a={}),this._initialStyles=a}start(){this._state<1&&(this._startStyles&&Hl(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Hl(this._element,this._initialStyles),this._endStyles&&(Hl(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Ed(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Ed(this._element,this._endStyles),this._endStyles=null),Hl(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function Fw(n){let t=null;const e=Object.keys(n);for(let i=0;i<e.length;i++){const s=e[i];cI(s)&&(t=t||{},t[s]=n[s])}return t}function cI(n){return"display"===n||"position"===n}const uI="animation",dI="animationend";class Vw{constructor(t,e,i,s,a,u,f){this._element=t,this._name=e,this._duration=i,this._delay=s,this._easing=a,this._fillMode=u,this._onDoneFn=f,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=g=>this._handleCallback(g)}apply(){(function(n,t){const e=jw(n,"").trim();let i=0;e.length&&(function(n,t){let e=0;for(let i=0;i<n.length;i++)","===n.charAt(i)&&e++;return e}(e)+1,t=`${e}, ${t}`),Sm(n,"",t)})(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),fI(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){Bw(this._element,this._name,"paused")}resume(){Bw(this._element,this._name,"running")}setPosition(t){const e=hI(this._element,this._name);this._position=t*this._duration,Sm(this._element,"Delay",`-${this._position}ms`,e)}getPosition(){return this._position}_handleCallback(t){const e=t._ngTestManualTimestamp||Date.now(),i=1e3*parseFloat(t.elapsedTime.toFixed(3));t.animationName==this._name&&Math.max(e-this._startTime,0)>=this._delay&&i>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),fI(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(n,t){const i=jw(n,"").split(","),s=Tm(i,t);s>=0&&(i.splice(s,1),Sm(n,"",i.join(",")))}(this._element,this._name))}}function Bw(n,t,e){Sm(n,"PlayState",e,hI(n,t))}function hI(n,t){const e=jw(n,"");return e.indexOf(",")>0?Tm(e.split(","),t):Tm([e],t)}function Tm(n,t){for(let e=0;e<n.length;e++)if(n[e].indexOf(t)>=0)return e;return-1}function fI(n,t,e){e?n.removeEventListener(dI,t):n.addEventListener(dI,t)}function Sm(n,t,e,i){const s=uI+t;if(null!=i){const a=n.style[s];if(a.length){const u=a.split(",");u[i]=e,e=u.join(",")}}n.style[s]=e}function jw(n,t){return n.style[uI+t]||""}class DO{constructor(t,e,i,s,a,u,f,g){this.element=t,this.keyframes=e,this.animationName=i,this._duration=s,this._delay=a,this._finalStyles=f,this._specialStyles=g,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=u||"linear",this.totalTime=s+a,this._buildStyler()}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}destroy(){this.init(),!(this._state>=4)&&(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(t=>t()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}finish(){this.init(),!(this._state>=3)&&(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(t){this._styler.setPosition(t)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new Vw(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}beforeDestroy(){this.init();const t={};if(this.hasStarted()){const e=this._state>=3;Object.keys(this._finalStyles).forEach(i=>{"offset"!=i&&(t[i]=e?this._finalStyles[i]:Ux(this.element,i))})}this.currentSnapshot=t}}class TO extends Ph{constructor(t,e){super(),this.element=t,this._startingStyles={},this.__initialized=!1,this._styles=Nx(e)}init(){this.__initialized||!this._startingStyles||(this.__initialized=!0,Object.keys(this._styles).forEach(t=>{this._startingStyles[t]=this.element.style[t]}),super.init())}play(){!this._startingStyles||(this.init(),Object.keys(this._styles).forEach(t=>this.element.style.setProperty(t,this._styles[t])),super.play())}destroy(){!this._startingStyles||(Object.keys(this._startingStyles).forEach(t=>{const e=this._startingStyles[t];e?this.element.style.setProperty(t,e):this.element.style.removeProperty(t)}),this._startingStyles=null,super.destroy())}}class Rv{constructor(){this._count=0}validateStyleProperty(t){return dv(t)}matchesElement(t,e){return hv(t,e)}containsElement(t,e){return fv(t,e)}query(t,e,i){return pv(t,e,i)}computeStyle(t,e,i){return window.getComputedStyle(t)[e]}buildKeyframeElement(t,e,i){i=i.map(f=>Nx(f));let s=`@keyframes ${e} {\n`,a="";i.forEach(f=>{a=" ";const g=parseFloat(f.offset);s+=`${a}${100*g}% {\n`,a+=" ",Object.keys(f).forEach(C=>{const x=f[C];switch(C){case"offset":return;case"easing":return void(x&&(s+=`${a}animation-timing-function: ${x};\n`));default:return void(s+=`${a}${C}: ${x};\n`)}}),s+=`${a}}\n`}),s+="}\n";const u=document.createElement("style");return u.textContent=s,u}animate(t,e,i,s,a,u=[],f){const g=u.filter(He=>He instanceof DO),C={};WR(i,s)&&g.forEach(He=>{let ht=He.currentSnapshot;Object.keys(ht).forEach(mt=>C[mt]=ht[mt])});const x=function(n){let t={};return n&&(Array.isArray(n)?n:[n]).forEach(i=>{Object.keys(i).forEach(s=>{"offset"==s||"easing"==s||(t[s]=i[s])})}),t}(e=Iw(t,e,C));if(0==i)return new TO(t,x);const R="gen_css_kf_"+this._count++,G=this.buildKeyframeElement(t,R,e);(function(n){var t;const e=null===(t=n.getRootNode)||void 0===t?void 0:t.call(n);return"undefined"!=typeof ShadowRoot&&e instanceof ShadowRoot?e:document.head})(t).appendChild(G);const he=Nw(t,e),Fe=new DO(t,e,R,i,s,a,x,he);return Fe.onDestroy(()=>{var n;(n=G).parentNode.removeChild(n)}),Fe}}class yI{constructor(t,e,i,s){this.element=t,this.keyframes=e,this.options=i,this._specialStyles=s,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,i){return t.animate(e,i)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(e=>{"offset"!=e&&(t[e]=this._finished?this._finalKeyframe[e]:Ux(this.element,e))}),this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class kc{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(IO().toString()),this._cssKeyframesDriver=new Rv}validateStyleProperty(t){return dv(t)}matchesElement(t,e){return hv(t,e)}containsElement(t,e){return fv(t,e)}query(t,e,i){return pv(t,e,i)}computeStyle(t,e,i){return window.getComputedStyle(t)[e]}overrideWebAnimationsSupport(t){this._isNativeImpl=t}animate(t,e,i,s,a,u=[],f){if(!f&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(t,e,i,s,a,u);const x={duration:i,delay:s,fill:0==s?"both":"forwards"};a&&(x.easing=a);const R={},G=u.filter(he=>he instanceof yI);WR(i,s)&&G.forEach(he=>{let Fe=he.currentSnapshot;Object.keys(Fe).forEach(He=>R[He]=Fe[He])});const ee=Nw(t,e=Iw(t,e=e.map(he=>xu(he,!1)),R));return new yI(t,e,x,ee)}}function IO(){return Rx()&&Element.prototype.animate||{}}let Pv=(()=>{class n extends cw{constructor(e,i){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(i.body,{id:"0",encapsulation:r.ifc.None,styles:[],data:{animation:[]}})}build(e){const i=this._nextAnimationId.toString();this._nextAnimationId++;const s=Array.isArray(e)?uw(e):e;return kO(this._renderer,null,i,"register",[s]),new AO(i,this._renderer)}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(r.FYo),r.LFG(F))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac}),n})();class AO extends class{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new MO(this._id,t,e||{},this._renderer)}}class MO{constructor(t,e,i,s){this.id=t,this.element=e,this._renderer=s,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return kO(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){var t,e;return null!==(e=null===(t=this._renderer.engine.players[+this.id])||void 0===t?void 0:t.getPosition())&&void 0!==e?e:0}}function kO(n,t,e,i,s){return n.setProperty(t,`@@${e}:${i}`,s)}const bI="@.disabled";let RO=(()=>{class n{constructor(e,i,s){this.delegate=e,this.engine=i,this._zone=s,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(a,u)=>{u&&u.parentNode(a)&&u.removeChild(a.parentNode,a)}}createRenderer(e,i){const a=this.delegate.createRenderer(e,i);if(!(e&&i&&i.data&&i.data.animation)){let x=this._rendererCache.get(a);return x||(x=new Fv("",a,this.engine),this._rendererCache.set(a,x)),x}const u=i.id,f=i.id+"-"+this._currentId;this._currentId++,this.engine.register(f,e);const g=x=>{Array.isArray(x)?x.forEach(g):this.engine.registerTrigger(u,f,e,x.name,x)};return i.data.animation.forEach(g),new CI(this,f,a,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,i,s){e>=0&&e<this._microtaskId?this._zone.run(()=>i(s)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(a=>{const[u,f]=a;u(f)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,s]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(r.FYo),r.LFG(Dm),r.LFG(r.R0b))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac}),n})();class Fv{constructor(t,e,i){this.namespaceId=t,this.delegate=e,this.engine=i,this.destroyNode=this.delegate.destroyNode?s=>e.destroyNode(s):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,i,s=!0){this.delegate.insertBefore(t,e,i),this.engine.onInsert(this.namespaceId,e,t,s)}removeChild(t,e,i){this.engine.onRemove(this.namespaceId,e,this.delegate,i)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,i,s){this.delegate.setAttribute(t,e,i,s)}removeAttribute(t,e,i){this.delegate.removeAttribute(t,e,i)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,i,s){this.delegate.setStyle(t,e,i,s)}removeStyle(t,e,i){this.delegate.removeStyle(t,e,i)}setProperty(t,e,i){"@"==e.charAt(0)&&e==bI?this.disableAnimations(t,!!i):this.delegate.setProperty(t,e,i)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,i){return this.delegate.listen(t,e,i)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class CI extends Fv{constructor(t,e,i,s){super(e,i,s),this.factory=t,this.namespaceId=e}setProperty(t,e,i){"@"==e.charAt(0)?"."==e.charAt(1)&&e==bI?this.disableAnimations(t,i=void 0===i||!!i):this.engine.process(this.namespaceId,t,e.substr(1),i):this.delegate.setProperty(t,e,i)}listen(t,e,i){if("@"==e.charAt(0)){const s=function(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(t);let a=e.substr(1),u="";return"@"!=a.charAt(0)&&([a,u]=function(n){const t=n.indexOf(".");return[n.substring(0,t),n.substr(t+1)]}(a)),this.engine.listen(this.namespaceId,s,a,u,f=>{this.factory.scheduleListenerCallback(f._data||-1,i,f)})}return this.delegate.listen(t,e,i)}}let OO=(()=>{class n extends Dm{constructor(e,i,s){super(e.body,i,s)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(F),r.LFG(yw),r.LFG(Sv))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac}),n})();const yo=new r.OlP("AnimationModuleType"),qw=[{provide:cw,useClass:Pv},{provide:Sv,useFactory:function(){return new Wx}},{provide:Dm,useClass:OO},{provide:r.FYo,useFactory:function(n,t,e){return new RO(n,t,e)},deps:[ma,Dm,r.R0b]}],zw=[{provide:yw,useFactory:function(){return"function"==typeof IO()?new kc:new Rv}},{provide:yo,useValue:"BrowserAnimations"},...qw],Gw=[{provide:yw,useClass:Fx},{provide:yo,useValue:"NoopAnimations"},...qw];let FO=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?Gw:zw}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({providers:zw,imports:[ih]}),n})();function LO(n,t){if(1&n&&r._UZ(0,"mat-pseudo-checkbox",4),2&n){const e=r.oxw();r.Q6J("state",e.selected?"checked":"unchecked")("disabled",e.disabled)}}function DI(n,t){if(1&n&&(r.TgZ(0,"span",5),r._uU(1),r.qZA()),2&n){const e=r.oxw();r.xp6(1),r.hij("(",e.group.label,")")}}const Vv=["*"],TI=new r.GfV("12.2.13"),BO=new r.OlP("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}});let wn=(()=>{class n{constructor(e,i,s){this._hasDoneGlobalChecks=!1,this._document=s,e._applyBodyHighContrastModeCssClasses(),this._sanityChecks=i,this._hasDoneGlobalChecks||(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._checkCdkVersionMatch(),this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return!(!(0,r.X6Q)()||vd())&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[e])}_checkDoctypeIsDefined(){this._checkIsEnabled("doctype")&&!this._document.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")}_checkThemeIsPresent(){if(!this._checkIsEnabled("theme")||!this._document.body||"function"!=typeof getComputedStyle)return;const e=this._document.createElement("div");e.classList.add("mat-theme-loaded-marker"),this._document.body.appendChild(e);const i=getComputedStyle(e);i&&"none"!==i.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),this._document.body.removeChild(e)}_checkCdkVersionMatch(){this._checkIsEnabled("version")&&TI.full!==lw.full&&console.warn("The Angular Material version ("+TI.full+") does not match the Angular CDK version ("+lw.full+").\nPlease ensure the versions of these two packages exactly match.")}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(ow),r.LFG(BO,8),r.LFG(F))},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[[lp],lp]}),n})();function Iu(n){return class extends n{constructor(...t){super(...t),this._disabled=!1}get disabled(){return this._disabled}set disabled(t){this._disabled=Gt(t)}}}function jh(n,t){return class extends n{constructor(...e){super(...e),this.defaultColor=t,this.color=t}get color(){return this._color}set color(e){const i=e||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}}}function Im(n){return class extends n{constructor(...t){super(...t),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=Gt(t)}}}function Bv(n,t=0){return class extends n{constructor(...e){super(...e),this._tabIndex=t,this.defaultTabIndex=t}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(e){this._tabIndex=null!=e?As(e):this.defaultTabIndex}}}function Yw(n){return class extends n{constructor(...t){super(...t),this.stateChanges=new yt.xQ,this.errorState=!1}updateErrorState(){const t=this.errorState,a=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);a!==t&&(this.errorState=a,this.stateChanges.next())}}}function SI(n){return class extends n{constructor(...t){super(...t),this._isInitialized=!1,this._pendingSubscribers=[],this.initialized=new Bn.y(e=>{this._isInitialized?this._notifySubscriber(e):this._pendingSubscribers.push(e)})}_markInitialized(){this._isInitialized=!0,this._pendingSubscribers.forEach(this._notifySubscriber),this._pendingSubscribers=null}_notifySubscriber(t){t.next(),t.complete()}}}const UO=new r.OlP("MAT_DATE_LOCALE",{providedIn:"root",factory:function(){return(0,r.f3M)(r.soG)}});class _r{constructor(){this._localeChanges=new yt.xQ,this.localeChanges=this._localeChanges}getValidDateOrNull(t){return this.isDateInstance(t)&&this.isValid(t)?t:null}deserialize(t){return null==t||this.isDateInstance(t)&&this.isValid(t)?t:this.invalid()}setLocale(t){this.locale=t,this._localeChanges.next()}compareDate(t,e){return this.getYear(t)-this.getYear(e)||this.getMonth(t)-this.getMonth(e)||this.getDate(t)-this.getDate(e)}sameDate(t,e){if(t&&e){let i=this.isValid(t),s=this.isValid(e);return i&&s?!this.compareDate(t,e):i==s}return t==e}clampDate(t,e,i){return e&&this.compareDate(t,e)<0?e:i&&this.compareDate(t,i)>0?i:t}}const $o=new r.OlP("mat-date-formats");let Hh;try{Hh="undefined"!=typeof Intl}catch(n){Hh=!1}const jO={long:["January","February","March","April","May","June","July","August","September","October","November","December"],short:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],narrow:["J","F","M","A","M","J","J","A","S","O","N","D"]},Uv=jv(31,n=>String(n+1)),qh={long:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],short:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],narrow:["S","M","T","W","T","F","S"]},xI=/^\d{4}-\d{2}-\d{2}(?:T\d{2}:\d{2}:\d{2}(?:\.\d+)?(?:Z|(?:(?:\+|-)\d{2}:\d{2}))?)?$/;function jv(n,t){const e=Array(n);for(let i=0;i<n;i++)e[i]=t(i);return e}let KU=(()=>{class n extends _r{constructor(e,i){super(),this.useUtcForDisplay=!0,super.setLocale(e),this.useUtcForDisplay=!i.TRIDENT,this._clampDate=i.TRIDENT||i.EDGE}getYear(e){return e.getFullYear()}getMonth(e){return e.getMonth()}getDate(e){return e.getDate()}getDayOfWeek(e){return e.getDay()}getMonthNames(e){if(Hh){const i=new Intl.DateTimeFormat(this.locale,{month:e,timeZone:"utc"});return jv(12,s=>this._stripDirectionalityCharacters(this._format(i,new Date(2017,s,1))))}return jO[e]}getDateNames(){if(Hh){const e=new Intl.DateTimeFormat(this.locale,{day:"numeric",timeZone:"utc"});return jv(31,i=>this._stripDirectionalityCharacters(this._format(e,new Date(2017,0,i+1))))}return Uv}getDayOfWeekNames(e){if(Hh){const i=new Intl.DateTimeFormat(this.locale,{weekday:e,timeZone:"utc"});return jv(7,s=>this._stripDirectionalityCharacters(this._format(i,new Date(2017,0,s+1))))}return qh[e]}getYearName(e){if(Hh){const i=new Intl.DateTimeFormat(this.locale,{year:"numeric",timeZone:"utc"});return this._stripDirectionalityCharacters(this._format(i,e))}return String(this.getYear(e))}getFirstDayOfWeek(){return 0}getNumDaysInMonth(e){return this.getDate(this._createDateWithOverflow(this.getYear(e),this.getMonth(e)+1,0))}clone(e){return new Date(e.getTime())}createDate(e,i,s){let a=this._createDateWithOverflow(e,i,s);return a.getMonth(),a}today(){return new Date}parse(e){return"number"==typeof e?new Date(e):e?new Date(Date.parse(e)):null}format(e,i){if(!this.isValid(e))throw Error("NativeDateAdapter: Cannot format invalid date.");if(Hh){this._clampDate&&(e.getFullYear()<1||e.getFullYear()>9999)&&(e=this.clone(e)).setFullYear(Math.max(1,Math.min(9999,e.getFullYear()))),i=Object.assign(Object.assign({},i),{timeZone:"utc"});const s=new Intl.DateTimeFormat(this.locale,i);return this._stripDirectionalityCharacters(this._format(s,e))}return this._stripDirectionalityCharacters(e.toDateString())}addCalendarYears(e,i){return this.addCalendarMonths(e,12*i)}addCalendarMonths(e,i){let s=this._createDateWithOverflow(this.getYear(e),this.getMonth(e)+i,this.getDate(e));return this.getMonth(s)!=((this.getMonth(e)+i)%12+12)%12&&(s=this._createDateWithOverflow(this.getYear(s),this.getMonth(s),0)),s}addCalendarDays(e,i){return this._createDateWithOverflow(this.getYear(e),this.getMonth(e),this.getDate(e)+i)}toIso8601(e){return[e.getUTCFullYear(),this._2digit(e.getUTCMonth()+1),this._2digit(e.getUTCDate())].join("-")}deserialize(e){if("string"==typeof e){if(!e)return null;if(xI.test(e)){let i=new Date(e);if(this.isValid(i))return i}}return super.deserialize(e)}isDateInstance(e){return e instanceof Date}isValid(e){return!isNaN(e.getTime())}invalid(){return new Date(NaN)}_createDateWithOverflow(e,i,s){const a=new Date;return a.setFullYear(e,i,s),a.setHours(0,0,0,0),a}_2digit(e){return("00"+e).slice(-2)}_stripDirectionalityCharacters(e){return e.replace(/[\u200e\u200f]/g,"")}_format(e,i){const s=new Date;return s.setUTCFullYear(i.getFullYear(),i.getMonth(),i.getDate()),s.setUTCHours(i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds()),e.format(s)}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(UO,8),r.LFG(Un))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac}),n})(),Hv=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({providers:[{provide:_r,useClass:KU}],imports:[[xh]]}),n})();const qO={parse:{dateInput:null},display:{dateInput:{year:"numeric",month:"numeric",day:"numeric"},monthYearLabel:{year:"numeric",month:"short"},dateA11yLabel:{year:"numeric",month:"long",day:"numeric"},monthYearA11yLabel:{year:"numeric",month:"long"}}};let zO=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({providers:[{provide:$o,useValue:qO}],imports:[[Hv]]}),n})(),zh=(()=>{class n{isErrorState(e,i){return!!(e&&e.invalid&&(e.touched||i&&i.submitted))}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=r.Yz7({factory:function(){return new n},token:n,providedIn:"root"}),n})();class YO{constructor(t,e,i){this._renderer=t,this.element=e,this.config=i,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const Zw={enterDuration:225,exitDuration:150},qv=ip({passive:!0}),Am=["mousedown","touchstart"],Mm=["mouseup","mouseleave","touchend","touchcancel"];class JU{constructor(t,e,i,s){this._target=t,this._ngZone=e,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,s.isBrowser&&(this._containerElement=wc(i))}fadeInRipple(t,e,i={}){const s=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),a=Object.assign(Object.assign({},Zw),i.animation);i.centered&&(t=s.left+s.width/2,e=s.top+s.height/2);const u=i.radius||function(n,t,e){const i=Math.max(Math.abs(n-e.left),Math.abs(n-e.right)),s=Math.max(Math.abs(t-e.top),Math.abs(t-e.bottom));return Math.sqrt(i*i+s*s)}(t,e,s),f=t-s.left,g=e-s.top,C=a.enterDuration,x=document.createElement("div");x.classList.add("mat-ripple-element"),x.style.left=f-u+"px",x.style.top=g-u+"px",x.style.height=2*u+"px",x.style.width=2*u+"px",null!=i.color&&(x.style.backgroundColor=i.color),x.style.transitionDuration=`${C}ms`,this._containerElement.appendChild(x),window.getComputedStyle(x).getPropertyValue("opacity"),x.style.transform="scale(1)";const R=new YO(this,x,i);return R.state=0,this._activeRipples.add(R),i.persistent||(this._mostRecentTransientRipple=R),this._runTimeoutOutsideZone(()=>{const G=R===this._mostRecentTransientRipple;R.state=1,!i.persistent&&(!G||!this._isPointerDown)&&R.fadeOut()},C),R}fadeOutRipple(t){const e=this._activeRipples.delete(t);if(t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!e)return;const i=t.element,s=Object.assign(Object.assign({},Zw),t.config.animation);i.style.transitionDuration=`${s.exitDuration}ms`,i.style.opacity="0",t.state=2,this._runTimeoutOutsideZone(()=>{t.state=3,i.parentNode.removeChild(i)},s.exitDuration)}fadeOutAll(){this._activeRipples.forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._activeRipples.forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){const e=wc(t);!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,this._registerEvents(Am))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(Mm),this._pointerUpEventsRegistered=!0)}_onMousedown(t){const e=sv(t),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!e&&!i&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!mm(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;for(let i=0;i<e.length;i++)this.fadeInRipple(e[i].clientX,e[i].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._activeRipples.forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}_runTimeoutOutsideZone(t,e=0){this._ngZone.runOutsideAngular(()=>setTimeout(t,e))}_registerEvents(t){this._ngZone.runOutsideAngular(()=>{t.forEach(e=>{this._triggerElement.addEventListener(e,this,qv)})})}_removeTriggerEvents(){this._triggerElement&&(Am.forEach(t=>{this._triggerElement.removeEventListener(t,this,qv)}),this._pointerUpEventsRegistered&&Mm.forEach(t=>{this._triggerElement.removeEventListener(t,this,qv)}))}}const Sd=new r.OlP("mat-ripple-global-options");let Ma=(()=>{class n{constructor(e,i,s,a,u){this._elementRef=e,this._animationMode=u,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=a||{},this._rippleRenderer=new JU(this,i,e,s)}get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,i=0,s){return"number"==typeof e?this._rippleRenderer.fadeInRipple(e,i,Object.assign(Object.assign({},this.rippleConfig),s)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),e))}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(r.SBq),r.Y36(r.R0b),r.Y36(Un),r.Y36(Sd,8),r.Y36(yo,8))},n.\u0275dir=r.lG2({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(e,i){2&e&&r.ekj("mat-ripple-unbounded",i.unbounded)},inputs:{radius:["matRippleRadius","radius"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"],color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],animation:["matRippleAnimation","animation"]},exportAs:["matRipple"]}),n})(),Au=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[[wn,xh],wn]}),n})(),XU=(()=>{class n{constructor(e){this._animationMode=e,this.state="unchecked",this.disabled=!1}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(yo,8))},n.\u0275cmp=r.Xpm({type:n,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:8,hostBindings:function(e,i){2&e&&r.ekj("mat-pseudo-checkbox-indeterminate","indeterminate"===i.state)("mat-pseudo-checkbox-checked","checked"===i.state)("mat-pseudo-checkbox-disabled",i.disabled)("_mat-animation-noopable","NoopAnimations"===i._animationMode)},inputs:{state:"state",disabled:"disabled"},decls:0,vars:0,template:function(e,i){},styles:['.mat-pseudo-checkbox{width:16px;height:16px;border:2px solid;border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox.mat-pseudo-checkbox-indeterminate{border-color:transparent}._mat-animation-noopable.mat-pseudo-checkbox{transition:none;animation:none}._mat-animation-noopable.mat-pseudo-checkbox::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{top:5px;left:1px;width:10px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{top:2.4px;left:1px;width:8px;height:3px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}\n'],encapsulation:2,changeDetection:0}),n})(),pn=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[[wn]]}),n})();const Yo=new r.OlP("MAT_OPTION_PARENT_COMPONENT"),Ww=Iu(class{});let Gh=0,WO=(()=>{class n extends Ww{constructor(e){var i;super(),this._labelId="mat-optgroup-label-"+Gh++,this._inert=null!==(i=null==e?void 0:e.inertGroups)&&void 0!==i&&i}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(Yo,8))},n.\u0275dir=r.lG2({type:n,inputs:{label:"label"},features:[r.qOj]}),n})();const zv=new r.OlP("MatOptgroup");let ej=0;class QO{constructor(t,e=!1){this.source=t,this.isUserInput=e}}let JO=(()=>{class n{constructor(e,i,s,a){this._element=e,this._changeDetectorRef=i,this._parent=s,this.group=a,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+ej++,this.onSelectionChange=new r.vpe,this._stateChanges=new yt.xQ}get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(e){this._disabled=Gt(e)}get disableRipple(){return this._parent&&this._parent.disableRipple}get active(){return this._active}get viewValue(){return(this._getHostElement().textContent||"").trim()}select(){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}deselect(){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}focus(e,i){const s=this._getHostElement();"function"==typeof s.focus&&s.focus(i)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(e){(13===e.keyCode||32===e.keyCode)&&!ks(e)&&(this._selectViaInteraction(),e.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getAriaSelected(){return this.selected||!this.multiple&&null}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const e=this.viewValue;e!==this._mostRecentViewValue&&(this._mostRecentViewValue=e,this._stateChanges.next())}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(e=!1){this.onSelectionChange.emit(new QO(this,e))}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(r.SBq),r.Y36(r.sBO),r.Y36(void 0),r.Y36(WO))},n.\u0275dir=r.lG2({type:n,inputs:{id:"id",disabled:"disabled",value:"value"},outputs:{onSelectionChange:"onSelectionChange"}}),n})(),Zo=(()=>{class n extends JO{constructor(e,i,s,a){super(e,i,s,a)}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(r.SBq),r.Y36(r.sBO),r.Y36(Yo,8),r.Y36(zv,8))},n.\u0275cmp=r.Xpm({type:n,selectors:[["mat-option"]],hostAttrs:["role","option",1,"mat-option","mat-focus-indicator"],hostVars:12,hostBindings:function(e,i){1&e&&r.NdJ("click",function(){return i._selectViaInteraction()})("keydown",function(a){return i._handleKeydown(a)}),2&e&&(r.Ikx("id",i.id),r.uIk("tabindex",i._getTabIndex())("aria-selected",i._getAriaSelected())("aria-disabled",i.disabled.toString()),r.ekj("mat-selected",i.selected)("mat-option-multiple",i.multiple)("mat-active",i.active)("mat-option-disabled",i.disabled))},exportAs:["matOption"],features:[r.qOj],ngContentSelectors:Vv,decls:5,vars:4,consts:[["class","mat-option-pseudo-checkbox",3,"state","disabled",4,"ngIf"],[1,"mat-option-text"],["class","cdk-visually-hidden",4,"ngIf"],["mat-ripple","",1,"mat-option-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-option-pseudo-checkbox",3,"state","disabled"],[1,"cdk-visually-hidden"]],template:function(e,i){1&e&&(r.F$t(),r.YNc(0,LO,1,2,"mat-pseudo-checkbox",0),r.TgZ(1,"span",1),r.Hsn(2),r.qZA(),r.YNc(3,DI,2,1,"span",2),r._UZ(4,"div",3)),2&e&&(r.Q6J("ngIf",i.multiple),r.xp6(3),r.Q6J("ngIf",i.group&&i.group._inert),r.xp6(1),r.Q6J("matRippleTrigger",i._getHostElement())("matRippleDisabled",i.disabled||i.disableRipple))},directives:[On,Ma,XU],styles:[".mat-option{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative;cursor:pointer;outline:none;display:flex;flex-direction:row;max-width:100%;box-sizing:border-box;align-items:center;-webkit-tap-highlight-color:transparent}.mat-option[disabled]{cursor:default}[dir=rtl] .mat-option{text-align:right}.mat-option .mat-icon{margin-right:16px;vertical-align:middle}.mat-option .mat-icon svg{vertical-align:top}[dir=rtl] .mat-option .mat-icon{margin-left:16px;margin-right:0}.mat-option[aria-disabled=true]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:32px}[dir=rtl] .mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:16px;padding-right:32px}.cdk-high-contrast-active .mat-option{margin:0 1px}.cdk-high-contrast-active .mat-option.mat-active{border:solid 1px currentColor;margin:0}.cdk-high-contrast-active .mat-option[aria-disabled=true]{opacity:.5}.mat-option-text{display:inline-block;flex-grow:1;overflow:hidden;text-overflow:ellipsis}.mat-option .mat-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-option-pseudo-checkbox{margin-right:8px}[dir=rtl] .mat-option-pseudo-checkbox{margin-left:8px;margin-right:0}\n"],encapsulation:2,changeDetection:0}),n})();function Yi(n,t,e){if(e.length){let i=t.toArray(),s=e.toArray(),a=0;for(let u=0;u<n+1;u++)i[u].group&&i[u].group===s[a]&&a++;return a}return 0}let Kw=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[[Au,Ue,wn,pn]]}),n})();function XO(n,t){}class ls{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.autoFocus=!0,this.restoreFocus=!0,this.closeOnNavigation=!0}}const Qw={dialogContainer:Rs("dialogContainer",[ui("void, exit",en({opacity:0,transform:"scale(0.7)"})),ui("enter",en({transform:"none"})),Pn("* => enter",Si("150ms cubic-bezier(0, 0, 0.2, 1)",en({transform:"none",opacity:1}))),Pn("* => void, * => exit",Si("75ms cubic-bezier(0.4, 0.0, 0.2, 1)",en({opacity:0})))])};let Om=(()=>{class n extends AC{constructor(e,i,s,a,u,f){super(),this._elementRef=e,this._focusTrapFactory=i,this._changeDetectorRef=s,this._config=u,this._focusMonitor=f,this._animationStateChanged=new r.vpe,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=g=>(this._portalOutlet.hasAttached(),this._portalOutlet.attachDomPortal(g)),this._ariaLabelledBy=u.ariaLabelledBy||null,this._document=a}_initializeWithAttachedContent(){this._setupFocusTrap(),this._capturePreviouslyFocusedElement(),this._focusDialogContainer()}attachComponentPortal(e){return this._portalOutlet.hasAttached(),this._portalOutlet.attachComponentPortal(e)}attachTemplatePortal(e){return this._portalOutlet.hasAttached(),this._portalOutlet.attachTemplatePortal(e)}_recaptureFocus(){this._containsFocus()||(!this._config.autoFocus||!this._focusTrap.focusInitialElement())&&this._elementRef.nativeElement.focus()}_trapFocus(){this._config.autoFocus?this._focusTrap.focusInitialElementWhenReady():this._containsFocus()||this._elementRef.nativeElement.focus()}_restoreFocus(){const e=this._elementFocusedBeforeDialogWasOpened;if(this._config.restoreFocus&&e&&"function"==typeof e.focus){const i=Tc(),s=this._elementRef.nativeElement;(!i||i===this._document.body||i===s||s.contains(i))&&(this._focusMonitor?(this._focusMonitor.focusVia(e,this._closeInteractionType),this._closeInteractionType=null):e.focus())}this._focusTrap&&this._focusTrap.destroy()}_setupFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement)}_capturePreviouslyFocusedElement(){this._document&&(this._elementFocusedBeforeDialogWasOpened=Tc())}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const e=this._elementRef.nativeElement,i=Tc();return e===i||e.contains(i)}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(r.SBq),r.Y36(rv),r.Y36(r.sBO),r.Y36(F,8),r.Y36(ls),r.Y36(Aa))},n.\u0275dir=r.lG2({type:n,viewQuery:function(e,i){if(1&e&&r.Gf(Cu,7),2&e){let s;r.iGM(s=r.CRH())&&(i._portalOutlet=s.first)}},features:[r.qOj]}),n})(),eP=(()=>{class n extends Om{constructor(){super(...arguments),this._state="enter"}_onAnimationDone({toState:e,totalTime:i}){"enter"===e?(this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:i})):"exit"===e&&(this._restoreFocus(),this._animationStateChanged.next({state:"closed",totalTime:i}))}_onAnimationStart({toState:e,totalTime:i}){"enter"===e?this._animationStateChanged.next({state:"opening",totalTime:i}):("exit"===e||"void"===e)&&this._animationStateChanged.next({state:"closing",totalTime:i})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=r.n5z(n)))(i||n)}}(),n.\u0275cmp=r.Xpm({type:n,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1","aria-modal","true",1,"mat-dialog-container"],hostVars:6,hostBindings:function(e,i){1&e&&r.WFA("@dialogContainer.start",function(a){return i._onAnimationStart(a)})("@dialogContainer.done",function(a){return i._onAnimationDone(a)}),2&e&&(r.Ikx("id",i._id),r.uIk("role",i._config.role)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledBy)("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null),r.d8E("@dialogContainer",i._state))},features:[r.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(e,i){1&e&&r.YNc(0,XO,0,0,"ng-template",0)},directives:[Cu],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[Qw.dialogContainer]}}),n})(),$h=0;class Yh{constructor(t,e,i="mat-dialog-"+$h++){this._overlayRef=t,this._containerInstance=e,this.id=i,this.disableClose=this._containerInstance._config.disableClose,this._afterOpened=new yt.xQ,this._afterClosed=new yt.xQ,this._beforeClosed=new yt.xQ,this._state=0,e._id=i,e._animationStateChanged.pipe(xn(s=>"opened"===s.state),Kn(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),e._animationStateChanged.pipe(xn(s=>"closed"===s.state),Kn(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),t.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._afterClosed.next(this._result),this._afterClosed.complete(),this.componentInstance=null,this._overlayRef.dispose()}),t.keydownEvents().pipe(xn(s=>27===s.keyCode&&!this.disableClose&&!ks(s))).subscribe(s=>{s.preventDefault(),Gv(this,"keyboard")}),t.backdropClick().subscribe(()=>{this.disableClose?this._containerInstance._recaptureFocus():Gv(this,"mouse")})}close(t){this._result=t,this._containerInstance._animationStateChanged.pipe(xn(e=>"closing"===e.state),Kn(1)).subscribe(e=>{this._beforeClosed.next(t),this._beforeClosed.complete(),this._overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),e.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._afterClosed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._overlayRef.backdropClick()}keydownEvents(){return this._overlayRef.keydownEvents()}updatePosition(t){let e=this._getPositionStrategy();return t&&(t.left||t.right)?t.left?e.left(t.left):e.right(t.right):e.centerHorizontally(),t&&(t.top||t.bottom)?t.top?e.top(t.top):e.bottom(t.bottom):e.centerVertically(),this._overlayRef.updatePosition(),this}updateSize(t="",e=""){return this._overlayRef.updateSize({width:t,height:e}),this._overlayRef.updatePosition(),this}addPanelClass(t){return this._overlayRef.addPanelClass(t),this}removePanelClass(t){return this._overlayRef.removePanelClass(t),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._overlayRef.dispose()}_getPositionStrategy(){return this._overlayRef.getConfig().positionStrategy}}function Gv(n,t,e){return void 0!==n._containerInstance&&(n._containerInstance._closeInteractionType=t),n.close(e)}const xd=new r.OlP("MatDialogData"),Pm=new r.OlP("mat-dialog-default-options"),$v=new r.OlP("mat-dialog-scroll-strategy"),nP={provide:$v,deps:[Ia],useFactory:function(n){return()=>n.scrollStrategies.block()}};let Yv=(()=>{class n{constructor(e,i,s,a,u,f,g,C,x){this._overlay=e,this._injector=i,this._defaultOptions=s,this._parentDialog=a,this._overlayContainer=u,this._dialogRefConstructor=g,this._dialogContainerType=C,this._dialogDataToken=x,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new yt.xQ,this._afterOpenedAtThisLevel=new yt.xQ,this._ariaHiddenElements=new Map,this.afterAllClosed=os(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Di(void 0))),this._scrollStrategy=f}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(e,i){(i=function(n,t){return Object.assign(Object.assign({},t),n)}(i,this._defaultOptions||new ls)).id&&this.getDialogById(i.id);const s=this._createOverlay(i),a=this._attachDialogContainer(s,i),u=this._attachDialogContent(e,a,s,i);return this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(u),u.afterClosed().subscribe(()=>this._removeOpenDialog(u)),this.afterOpened.next(u),a._initializeWithAttachedContent(),u}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(e){return this.openDialogs.find(i=>i.id===e)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_createOverlay(e){const i=this._getOverlayConfig(e);return this._overlay.create(i)}_getOverlayConfig(e){const i=new mp({positionStrategy:this._overlay.position().global(),scrollStrategy:e.scrollStrategy||this._scrollStrategy(),panelClass:e.panelClass,hasBackdrop:e.hasBackdrop,direction:e.direction,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight,disposeOnNavigation:e.closeOnNavigation});return e.backdropClass&&(i.backdropClass=e.backdropClass),i}_attachDialogContainer(e,i){const a=r.zs3.create({parent:i&&i.viewContainerRef&&i.viewContainerRef.injector||this._injector,providers:[{provide:ls,useValue:i}]}),u=new mo(this._dialogContainerType,i.viewContainerRef,a,i.componentFactoryResolver);return e.attach(u).instance}_attachDialogContent(e,i,s,a){const u=new this._dialogRefConstructor(s,i,a.id);if(e instanceof r.Rgc)i.attachTemplatePortal(new Sc(e,null,{$implicit:a.data,dialogRef:u}));else{const f=this._createInjector(a,u,i),g=i.attachComponentPortal(new mo(e,a.viewContainerRef,f));u.componentInstance=g.instance}return u.updateSize(a.width,a.height).updatePosition(a.position),u}_createInjector(e,i,s){const a=e&&e.viewContainerRef&&e.viewContainerRef.injector,u=[{provide:this._dialogContainerType,useValue:s},{provide:this._dialogDataToken,useValue:e.data},{provide:this._dialogRefConstructor,useValue:i}];return e.direction&&(!a||!a.get(Ms,null,r.XFs.Optional))&&u.push({provide:Ms,useValue:{value:e.direction,change:(0,ft.of)()}}),r.zs3.create({parent:a||this._injector,providers:u})}_removeOpenDialog(e){const i=this.openDialogs.indexOf(e);i>-1&&(this.openDialogs.splice(i,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((s,a)=>{s?a.setAttribute("aria-hidden",s):a.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const e=this._overlayContainer.getContainerElement();if(e.parentElement){const i=e.parentElement.children;for(let s=i.length-1;s>-1;s--){let a=i[s];a!==e&&"SCRIPT"!==a.nodeName&&"STYLE"!==a.nodeName&&!a.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(a,a.getAttribute("aria-hidden")),a.setAttribute("aria-hidden","true"))}}}_closeDialogs(e){let i=e.length;for(;i--;)e[i].close()}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(Ia),r.Y36(r.zs3),r.Y36(void 0),r.Y36(void 0),r.Y36(fm),r.Y36(void 0),r.Y36(r.DyG),r.Y36(r.DyG),r.Y36(r.OlP))},n.\u0275dir=r.lG2({type:n}),n})(),cs=(()=>{class n extends Yv{constructor(e,i,s,a,u,f,g){super(e,i,a,f,g,u,Yh,eP,xd)}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(Ia),r.LFG(r.zs3),r.LFG(ze,8),r.LFG(Pm,8),r.LFG($v),r.LFG(n,12),r.LFG(fm))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac}),n})(),Id=(()=>{class n{constructor(e,i,s){this.dialogRef=e,this._elementRef=i,this._dialog=s,this.type="button"}ngOnInit(){this.dialogRef||(this.dialogRef=function(n,t){let e=n.nativeElement.parentElement;for(;e&&!e.classList.contains("mat-dialog-container");)e=e.parentElement;return e?t.find(i=>i.id===e.id):null}(this._elementRef,this._dialog.openDialogs))}ngOnChanges(e){const i=e._matDialogClose||e._matDialogCloseResult;i&&(this.dialogResult=i.currentValue)}_onButtonClick(e){Gv(this.dialogRef,0===e.screenX&&0===e.screenY?"keyboard":"mouse",this.dialogResult)}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(Yh,8),r.Y36(r.SBq),r.Y36(cs))},n.\u0275dir=r.lG2({type:n,selectors:[["","mat-dialog-close",""],["","matDialogClose",""]],hostVars:2,hostBindings:function(e,i){1&e&&r.NdJ("click",function(a){return i._onButtonClick(a)}),2&e&&r.uIk("aria-label",i.ariaLabel||null)("type",i.type)},inputs:{type:"type",dialogResult:["mat-dialog-close","dialogResult"],ariaLabel:["aria-label","ariaLabel"],_matDialogClose:["matDialogClose","_matDialogClose"]},exportAs:["matDialogClose"],features:[r.TTD]}),n})(),Zh=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=r.lG2({type:n,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-dialog-content"]}),n})(),Mu=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=r.lG2({type:n,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-dialog-actions"]}),n})();let nj=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({providers:[cs,nP],imports:[[Qy,zy,wn],wn]}),n})();const an=["mat-button",""],rP=["*"],oP=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],aP=jh(Iu(Im(class{constructor(n){this._elementRef=n}})));let Ar=(()=>{class n extends aP{constructor(e,i,s){super(e),this._focusMonitor=i,this._animationMode=s,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const a of oP)this._hasHostAttributes(a)&&this._getHostElement().classList.add(a);e.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(e,i){e?this._focusMonitor.focusVia(this._getHostElement(),e,i):this._getHostElement().focus(i)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...e){return e.some(i=>this._getHostElement().hasAttribute(i))}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(r.SBq),r.Y36(Aa),r.Y36(yo,8))},n.\u0275cmp=r.Xpm({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(e,i){if(1&e&&r.Gf(Ma,5),2&e){let s;r.iGM(s=r.CRH())&&(i.ripple=s.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(e,i){2&e&&(r.uIk("disabled",i.disabled||null),r.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-button-disabled",i.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[r.qOj],attrs:an,ngContentSelectors:rP,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(e,i){1&e&&(r.F$t(),r.TgZ(0,"span",0),r.Hsn(1),r.qZA(),r._UZ(2,"span",1),r._UZ(3,"span",2)),2&e&&(r.xp6(2),r.ekj("mat-button-ripple-round",i.isRoundButton||i.isIconButton),r.Q6J("matRippleDisabled",i._isRippleDisabled())("matRippleCentered",i.isIconButton)("matRippleTrigger",i._getHostElement()))},directives:[Ma],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n"],encapsulation:2,changeDetection:0}),n})(),Jw=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[[Au,wn],wn]}),n})(),Os=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=r.Xpm({type:n,selectors:[["app-dialog-alert"]],decls:5,vars:0,consts:[["mat-dialog-content",""],["mat-dialog-actions",""],["color","primary","mat-raised-button","","mat-dialog-close",""]],template:function(e,i){1&e&&(r.TgZ(0,"div",0),r._uU(1,"Item salvo com sucesso"),r.qZA(),r.TgZ(2,"div",1),r.TgZ(3,"button",2),r._uU(4,"Ok"),r.qZA(),r.qZA())},directives:[Zh,Mu,Ar,Id],styles:[".mat-dialog-actions[_ngcontent-%COMP%]{justify-content:center}"]}),n})();var kI=function(n,t,e,i){return new(e||(e=Promise))(function(a,u){function f(x){try{C(i.next(x))}catch(R){u(R)}}function g(x){try{C(i.throw(x))}catch(R){u(R)}}function C(x){x.done?a(x.value):function(a){return a instanceof e?a:new e(function(u){u(a)})}(x.value).then(f,g)}C((i=i.apply(n,t||[])).next())})};const RI="application/font-woff",Zv="image/jpeg",lP={woff:RI,woff2:RI,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:Zv,jpeg:Zv,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml"};function Wv(n){const t=function(n){const t=/\.([^./]*?)$/g.exec(n);return t?t[1]:""}(n).toLowerCase();return lP[t]||""}function Xw(n){return-1!==n.search(/^(data:)/)}function Kv(n,t){return`data:${t};base64,${n}`}function eE(n){return n.split(/,/)[1]}const dP=function(){let t=0;return()=>(t+=1,`u${`0000${(Math.random()*Math.pow(36,4)<<0).toString(36)}`.slice(-4)}${t}`)}();function ku(n){const t=[];for(let e=0,i=n.length;e<i;e+=1)t.push(n[e]);return t}function Rp(n,t){const e=window.getComputedStyle(n).getPropertyValue(t);return parseFloat(e.replace("px",""))}function pP(n){return new Promise(n.toBlob?t=>n.toBlob(t):t=>{const e=window.atob(n.toDataURL().split(",")[1]),i=e.length,s=new Uint8Array(i);for(let a=0;a<i;a+=1)s[a]=e.charCodeAt(a);t(new Blob([s],{type:"image/png"}))})}function tE(n){return new Promise((t,e)=>{const i=new Image;i.onload=()=>t(i),i.onerror=e,i.crossOrigin="anonymous",i.decoding="sync",i.src=n})}const nE={};function iE(n,t){const e=function(n){let t=n.replace(/\?.*/,"");return/ttf|otf|eot|woff2?/i.test(t)&&(t=t.replace(/.*\//,"")),t}(n);if(null!=nE[e])return nE[e];t.cacheBust&&(n+=(/\?/.test(n)?"&":"?")+(new Date).getTime());const s=window.fetch(n).then(a=>a.blob().then(u=>({blob:u,contentType:a.headers.get("Content-Type")||""}))).then(({blob:a,contentType:u})=>new Promise((f,g)=>{const C=new FileReader;C.onloadend=()=>f({contentType:u,blob:C.result}),C.onerror=g,C.readAsDataURL(a)})).then(({blob:a,contentType:u})=>({contentType:u,blob:eE(a)})).catch(a=>{let u="";if(t.imagePlaceholder){const g=t.imagePlaceholder.split(/,/);g&&g[1]&&(u=g[1])}let f=`Failed to fetch resource: ${n}`;return a&&(f="string"==typeof a?a:a.message),f&&console.error(f),{blob:u,contentType:""}});return nE[e]=s,s}function yP(n,t,e){const i=window.getComputedStyle(n,e),s=i.getPropertyValue("content");if(""===s||"none"===s)return;const a=dP();try{t.className=`${t.className} ${a}`}catch(f){return}const u=document.createElement("style");u.appendChild(function(n,t,e){const i=`.${n}:${t}`,s=e.cssText?function(n){const t=n.getPropertyValue("content");return`${n.cssText} content: '${t.replace(/'|"/g,"")}';`}(e):function(n){return ku(n).map(t=>`${t}: ${n.getPropertyValue(t)}${n.getPropertyPriority(t)?" !important":""};`).join(" ")}(e);return document.createTextNode(`${i}{${s}}`)}(a,e,i)),t.appendChild(u)}var Op=function(n,t,e,i){return new(e||(e=Promise))(function(a,u){function f(x){try{C(i.next(x))}catch(R){u(R)}}function g(x){try{C(i.throw(x))}catch(R){u(R)}}function C(x){x.done?a(x.value):function(a){return a instanceof e?a:new e(function(u){u(a)})}(x.value).then(f,g)}C((i=i.apply(n,t||[])).next())})};function TP(n,t,e){return Op(this,void 0,void 0,function*(){return e||!t.filter||t.filter(n)?Promise.resolve(n).then(i=>function(n,t){return Op(this,void 0,void 0,function*(){return n instanceof HTMLCanvasElement?function(n){return Op(this,void 0,void 0,function*(){const t=n.toDataURL();return"data:,"===t?Promise.resolve(n.cloneNode(!1)):tE(t)})}(n):n instanceof HTMLVideoElement&&n.poster?function(n,t){return Op(this,void 0,void 0,function*(){return Promise.resolve(n.poster).then(e=>iE(e,t)).then(e=>Kv(e.blob,Wv(n.poster)||e.contentType)).then(e=>tE(e))})}(n,t):Promise.resolve(n.cloneNode(!1))})}(i,t)).then(i=>function(n,t,e){var i;return Op(this,void 0,void 0,function*(){const s=(n=>null!=n.tagName&&"SLOT"===n.tagName.toUpperCase())(n)&&n.assignedNodes?ku(n.assignedNodes()):ku((null!==(i=n.shadowRoot)&&void 0!==i?i:n).childNodes);return 0===s.length||n instanceof HTMLVideoElement?Promise.resolve(t):s.reduce((a,u)=>a.then(()=>TP(u,e)).then(f=>{f&&t.appendChild(f)}),Promise.resolve()).then(()=>t)})}(n,i,t)).then(i=>function(n,t){return Op(this,void 0,void 0,function*(){return t instanceof Element?Promise.resolve().then(()=>function(n,t){const e=window.getComputedStyle(n),i=t.style;!i||(e.cssText?i.cssText=e.cssText:ku(e).forEach(s=>{i.setProperty(s,e.getPropertyValue(s),e.getPropertyPriority(s))}))}(n,t)).then(()=>function(n,t){yP(n,t,":before"),yP(n,t,":after")}(n,t)).then(()=>function(n,t){n instanceof HTMLTextAreaElement&&(t.innerHTML=n.value),n instanceof HTMLInputElement&&t.setAttribute("value",n.value)}(n,t)).then(()=>t):Promise.resolve(t)})}(n,i)):Promise.resolve(null)})}const Qv=/url\((['"]?)([^'"]+?)\1\)/g,SP=/url\([^)]+\)\s*format\((["'])([^"']+)\1\)/g,xP=/src:\s*(?:url\([^)]+\)\s*format\([^)]+\)[,;]\s*)+/g;function AP(n){const t=[];return n.replace(Qv,(e,i,s)=>(t.push(s),e)),t.filter(e=>!Xw(e))}function rE(n){return-1!==n.search(Qv)}function Jv(n,t,e){return function(n,t,e,i){return new(e||(e=Promise))(function(a,u){function f(x){try{C(i.next(x))}catch(R){u(R)}}function g(x){try{C(i.throw(x))}catch(R){u(R)}}function C(x){x.done?a(x.value):function(a){return a instanceof e?a:new e(function(u){u(a)})}(x.value).then(f,g)}C((i=i.apply(n,t||[])).next())})}(this,void 0,void 0,function*(){if(!rE(n))return Promise.resolve(n);const i=function(n,{preferredFontFormat:t}){return t?n.replace(xP,e=>{for(;;){const[i,,s]=SP.exec(e)||[];if(!s)return"";if(s===t)return`src: ${i};`}}):n}(n,e);return Promise.resolve(i).then(AP).then(s=>s.reduce((a,u)=>a.then(f=>function(n,t,e,i,s){const a=e?function(n,t){if(n.match(/^[a-z]+:\/\//i))return n;if(n.match(/^\/\//))return window.location.protocol+n;if(n.match(/^[a-z]+:/i))return n;const e=document.implementation.createHTMLDocument(),i=e.createElement("base"),s=e.createElement("a");return e.head.appendChild(i),e.body.appendChild(s),t&&(i.href=t),s.href=n,s.href}(t,e):t;return Promise.resolve(a).then(u=>s?s(u):iE(u,i)).then(u=>"string"==typeof u?Kv(u,Wv(t)):Kv(u.blob,Wv(t)||u.contentType)).then(u=>n.replace(function(n){const t=n.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1");return new RegExp(`(url\\(['"]?)(${t})(['"]?\\))`,"g")}(t),`$1${u}$3`)).then(u=>u,()=>a)}(f,u,t,e)),Promise.resolve(i)))})}var Xv=function(n,t,e,i){return new(e||(e=Promise))(function(a,u){function f(x){try{C(i.next(x))}catch(R){u(R)}}function g(x){try{C(i.throw(x))}catch(R){u(R)}}function C(x){x.done?a(x.value):function(a){return a instanceof e?a:new e(function(u){u(a)})}(x.value).then(f,g)}C((i=i.apply(n,t||[])).next())})};function ll(n,t){return Xv(this,void 0,void 0,function*(){return n instanceof Element?Promise.resolve(n).then(e=>function(n,t){var e;return Xv(this,void 0,void 0,function*(){const i=null===(e=n.style)||void 0===e?void 0:e.getPropertyValue("background");return i?Promise.resolve(i).then(s=>Jv(s,null,t)).then(s=>(n.style.setProperty("background",s,n.style.getPropertyPriority("background")),n)):Promise.resolve(n)})}(e,t)).then(e=>function(n,t){return Xv(this,void 0,void 0,function*(){if((!(n instanceof HTMLImageElement)||Xw(n.src))&&(!(n instanceof SVGImageElement)||Xw(n.href.baseVal)))return Promise.resolve(n);const e=n instanceof HTMLImageElement?n.src:n.href.baseVal;return Promise.resolve(e).then(i=>iE(i,t)).then(i=>Kv(i.blob,Wv(e)||i.contentType)).then(i=>new Promise((s,a)=>{n.onload=s,n.onerror=a,n instanceof HTMLImageElement?(n.srcset="",n.src=i):n.href.baseVal=i})).then(()=>n,()=>n)})}(e,t)).then(e=>function(n,t){return Xv(this,void 0,void 0,function*(){const i=ku(n.childNodes).map(s=>ll(s,t));return Promise.all(i).then(()=>n)})}(e,t)):Promise.resolve(n)})}var Lm=function(n,t,e,i){return new(e||(e=Promise))(function(a,u){function f(x){try{C(i.next(x))}catch(R){u(R)}}function g(x){try{C(i.throw(x))}catch(R){u(R)}}function C(x){x.done?a(x.value):function(a){return a instanceof e?a:new e(function(u){u(a)})}(x.value).then(f,g)}C((i=i.apply(n,t||[])).next())})};const oE={};function aE(n){const t=oE[n];if(null!=t)return t;const e=window.fetch(n).then(i=>({url:n,cssText:i.text()}));return oE[n]=e,e}function lE(n){return Lm(this,void 0,void 0,function*(){return n.cssText.then(t=>{let e=t;const i=/url\(["']?([^"')]+)["']?\)/g,a=(e.match(/url\([^)]+\)/g)||[]).map(u=>{let f=u.replace(i,"$1");return f.startsWith("https://")||(f=new URL(f,n.url).href),window.fetch(f).then(g=>g.blob()).then(g=>new Promise((C,x)=>{const R=new FileReader;R.onloadend=()=>{e=e.replace(u,`url(${R.result})`),C([u,R.result])},R.onerror=x,R.readAsDataURL(g)}))});return Promise.all(a).then(()=>e)})})}function LI(n){if(null==n)return[];const t=[];let i=n.replace(/(\/\*[\s\S]*?\*\/)/gi,"");const s=new RegExp("((@.*?keyframes [\\s\\S]*?){([\\s\\S]*?}\\s*?)})","gi");for(;;){const g=s.exec(i);if(null===g)break;t.push(g[0])}i=i.replace(s,"");const a=/@import[\s\S]*?url\([^)]*\)[\s\S]*?;/gi,f=new RegExp("((\\s*?(?:\\/\\*[\\s\\S]*?\\*\\/)?\\s*?@media[\\s\\S]*?){([\\s\\S]*?)}\\s*?})|(([\\s\\S]*?){([\\s\\S]*?)})","gi");for(;;){let g=a.exec(i);if(null===g){if(g=f.exec(i),null===g)break;a.lastIndex=f.lastIndex}else f.lastIndex=a.lastIndex;t.push(g[0])}return t}function OP(n){return n.filter(t=>t.type===CSSRule.FONT_FACE_RULE).filter(t=>rE(t.style.getPropertyValue("src")))}function aj(n,t){return Lm(this,void 0,void 0,function*(){return(null!=t.fontEmbedCSS?Promise.resolve(t.fontEmbedCSS):function(n,t){return Lm(this,void 0,void 0,function*(){return function(n){return Lm(this,void 0,void 0,function*(){return new Promise((t,e)=>{null==n.ownerDocument&&e(new Error("Provided element is not within a Document")),t(ku(n.ownerDocument.styleSheets))}).then(t=>function(n){return Lm(this,void 0,void 0,function*(){const t=[],e=[];return n.forEach(i=>{if("cssRules"in i)try{ku(i.cssRules).forEach((s,a)=>{if(s.type===CSSRule.IMPORT_RULE){let u=a+1;const g=aE(s.href).then(C=>C?lE(C):"").then(C=>LI(C).forEach(x=>{try{i.insertRule(x,x.startsWith("@import")?u+=1:i.cssRules.length)}catch(R){console.error("Error inserting rule from remote css",{rule:x,error:R})}})).catch(C=>{console.error("Error loading remote css",C.toString())});e.push(g)}})}catch(s){const a=n.find(u=>null==u.href)||document.styleSheets[0];null!=i.href&&e.push(aE(i.href).then(u=>u?lE(u):"").then(u=>LI(u).forEach(f=>{a.insertRule(f,i.cssRules.length)})).catch(u=>{console.error("Error loading remote stylesheet",u.toString())})),console.error("Error inlining remote css file",s.toString())}}),Promise.all(e).then(()=>(n.forEach(i=>{if("cssRules"in i)try{ku(i.cssRules).forEach(s=>{t.push(s)})}catch(s){console.error(`Error while reading CSS rules from ${i.href}`,s.toString())}}),t))})}(t)).then(OP)})}(n).then(e=>Promise.all(e.map(i=>Jv(i.cssText,i.parentStyleSheet?i.parentStyleSheet.href:null,t)))).then(e=>e.join("\n"))})}(n,t)).then(e=>{const i=document.createElement("style"),s=document.createTextNode(e);return i.appendChild(s),n.firstChild?n.insertBefore(i,n.firstChild):n.appendChild(i),n})})}var Wh=function(n,t,e,i){return new(e||(e=Promise))(function(a,u){function f(x){try{C(i.next(x))}catch(R){u(R)}}function g(x){try{C(i.throw(x))}catch(R){u(R)}}function C(x){x.done?a(x.value):function(a){return a instanceof e?a:new e(function(u){u(a)})}(x.value).then(f,g)}C((i=i.apply(n,t||[])).next())})};function cE(n,t={}){return{width:t.width||function(n){const t=Rp(n,"border-left-width"),e=Rp(n,"border-right-width");return n.clientWidth+t+e}(n),height:t.height||function(n){const t=Rp(n,"border-top-width"),e=Rp(n,"border-bottom-width");return n.clientHeight+t+e}(n)}}function Np(n,t={}){return Wh(this,void 0,void 0,function*(){const{width:e,height:i}=cE(n,t);return Promise.resolve(n).then(s=>TP(s,t,!0)).then(s=>aj(s,t)).then(s=>ll(s,t)).then(s=>function(n,t){const{style:e}=n;t.backgroundColor&&(e.backgroundColor=t.backgroundColor),t.width&&(e.width=`${t.width}px`),t.height&&(e.height=`${t.height}px`);const i=t.style;return null!=i&&Object.keys(i).forEach(s=>{e[s]=i[s]}),n}(s,t)).then(s=>function(n,t,e){return kI(this,void 0,void 0,function*(){const i="http://www.w3.org/2000/svg",s=document.createElementNS(i,"svg"),a=document.createElementNS(i,"foreignObject");return s.setAttribute("width",`${t}`),s.setAttribute("height",`${e}`),s.setAttribute("viewBox",`0 0 ${t} ${e}`),a.setAttribute("width","100%"),a.setAttribute("height","100%"),a.setAttribute("x","0"),a.setAttribute("y","0"),a.setAttribute("externalResourcesRequired","true"),s.appendChild(a),a.appendChild(n),function(n){return kI(this,void 0,void 0,function*(){return Promise.resolve().then(()=>(new XMLSerializer).serializeToString(n)).then(encodeURIComponent).then(t=>`data:image/svg+xml;charset=utf-8,${t}`)})}(s)})}(s,e,i))})}const cl=16384;function tb(n,t={}){return Wh(this,void 0,void 0,function*(){return function(n,t={}){return Wh(this,void 0,void 0,function*(){return Np(n,t).then(tE).then(e=>{const i=document.createElement("canvas"),s=i.getContext("2d"),a=t.pixelRatio||function(){let n,t;try{t=process}catch(i){}const e=t&&t.env?t.env.devicePixelRatio:null;return e&&(n=parseInt(e,10),Number.isNaN(n)&&(n=1)),n||window.devicePixelRatio||1}(),{width:u,height:f}=cE(n,t),g=t.canvasWidth||u,C=t.canvasHeight||f;return i.width=g*a,i.height=C*a,t.skipAutoScale||function(n){(n.width>cl||n.height>cl)&&(n.width>cl&&n.height>cl?n.width>n.height?(n.height*=cl/n.width,n.width=cl):(n.width*=cl/n.height,n.height=cl):n.width>cl?(n.height*=cl/n.width,n.width=cl):(n.width*=cl/n.height,n.height=cl))}(i),i.style.width=`${g}`,i.style.height=`${C}`,t.backgroundColor&&(s.fillStyle=t.backgroundColor,s.fillRect(0,0,i.width,i.height)),s.drawImage(e,0,0,i.width,i.height),i})})}(n,t).then(pP)})}class uE{}class UI{}class Rc{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(e=>{const i=e.indexOf(":");if(i>0){const s=e.slice(0,i),a=s.toLowerCase(),u=e.slice(i+1).trim();this.maybeSetNormalizedName(s,a),this.headers.has(a)?this.headers.get(a).push(u):this.headers.set(a,[u])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let i=t[e];const s=e.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(this.headers.set(s,i),this.maybeSetNormalizedName(e,s))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof Rc?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new Rc;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof Rc?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let i=t.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(t.name,e);const s=("a"===t.op?this.headers.get(e):void 0)||[];s.push(...i),this.headers.set(e,s);break;case"d":const a=t.value;if(a){let u=this.headers.get(e);if(!u)return;u=u.filter(f=>-1===a.indexOf(f)),0===u.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,u)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class LP{encodeKey(t){return jI(t)}encodeValue(t){return jI(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const BP=/%(\d[a-f0-9])/gi,UP={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function jI(n){return encodeURIComponent(n).replace(BP,(t,e)=>{var i;return null!==(i=UP[e])&&void 0!==i?i:t})}function HI(n){return`${n}`}class ul{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new LP,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(n,t){const e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(s=>{const a=s.indexOf("="),[u,f]=-1==a?[t.decodeKey(s),""]:[t.decodeKey(s.slice(0,a)),t.decodeValue(s.slice(a+1))],g=e.get(u)||[];g.push(f),e.set(u,g)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const i=t.fromObject[e];this.map.set(e,Array.isArray(i)?i:[i])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(i=>{const s=t[i];Array.isArray(s)?s.forEach(a=>{e.push({param:i,value:a,op:"a"})}):e.push({param:i,value:s,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(i=>e+"="+this.encoder.encodeValue(i)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new ul({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(HI(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let i=this.map.get(t.param)||[];const s=i.indexOf(HI(t.value));-1!==s&&i.splice(s,1),i.length>0?this.map.set(t.param,i):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class qI{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}keys(){return this.map.keys()}}function dE(n){return"undefined"!=typeof ArrayBuffer&&n instanceof ArrayBuffer}function hE(n){return"undefined"!=typeof Blob&&n instanceof Blob}function fE(n){return"undefined"!=typeof FormData&&n instanceof FormData}class Fp{constructor(t,e,i,s){let a;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||s?(this.body=void 0!==i?i:null,a=s):a=i,a&&(this.reportProgress=!!a.reportProgress,this.withCredentials=!!a.withCredentials,a.responseType&&(this.responseType=a.responseType),a.headers&&(this.headers=a.headers),a.context&&(this.context=a.context),a.params&&(this.params=a.params)),this.headers||(this.headers=new Rc),this.context||(this.context=new qI),this.params){const u=this.params.toString();if(0===u.length)this.urlWithParams=e;else{const f=e.indexOf("?");this.urlWithParams=e+(-1===f?"?":f<e.length-1?"&":"")+u}}else this.params=new ul,this.urlWithParams=e}serializeBody(){return null===this.body?null:dE(this.body)||hE(this.body)||fE(this.body)||"undefined"!=typeof URLSearchParams&&this.body instanceof URLSearchParams||"string"==typeof this.body?this.body:this.body instanceof ul?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||fE(this.body)?null:hE(this.body)?this.body.type||null:dE(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof ul?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){var e;const i=t.method||this.method,s=t.url||this.url,a=t.responseType||this.responseType,u=void 0!==t.body?t.body:this.body,f=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,g=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let C=t.headers||this.headers,x=t.params||this.params;const R=null!==(e=t.context)&&void 0!==e?e:this.context;return void 0!==t.setHeaders&&(C=Object.keys(t.setHeaders).reduce((G,ee)=>G.set(ee,t.setHeaders[ee]),C)),t.setParams&&(x=Object.keys(t.setParams).reduce((G,ee)=>G.set(ee,t.setParams[ee]),x)),new Fp(i,s,u,{params:x,headers:C,context:R,reportProgress:g,responseType:a,withCredentials:f})}}var Mr=(()=>((Mr=Mr||{})[Mr.Sent=0]="Sent",Mr[Mr.UploadProgress=1]="UploadProgress",Mr[Mr.ResponseHeader=2]="ResponseHeader",Mr[Mr.DownloadProgress=3]="DownloadProgress",Mr[Mr.Response=4]="Response",Mr[Mr.User=5]="User",Mr))();class pE{constructor(t,e=200,i="OK"){this.headers=t.headers||new Rc,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||i,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class nb extends pE{constructor(t={}){super(t),this.type=Mr.ResponseHeader}clone(t={}){return new nb({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class ib extends pE{constructor(t={}){super(t),this.type=Mr.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new ib({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class Lp extends pE{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function Kh(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let Vm=(()=>{class n{constructor(e){this.handler=e}request(e,i,s={}){let a;if(e instanceof Fp)a=e;else{let g,C;g=s.headers instanceof Rc?s.headers:new Rc(s.headers),s.params&&(C=s.params instanceof ul?s.params:new ul({fromObject:s.params})),a=new Fp(e,i,void 0!==s.body?s.body:null,{headers:g,context:s.context,params:C,reportProgress:s.reportProgress,responseType:s.responseType||"json",withCredentials:s.withCredentials})}const u=(0,ft.of)(a).pipe(gc(g=>this.handler.handle(g)));if(e instanceof Fp||"events"===s.observe)return u;const f=u.pipe(xn(g=>g instanceof ib));switch(s.observe||"body"){case"body":switch(a.responseType){case"arraybuffer":return f.pipe((0,At.U)(g=>{if(null!==g.body&&!(g.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return g.body}));case"blob":return f.pipe((0,At.U)(g=>{if(null!==g.body&&!(g.body instanceof Blob))throw new Error("Response is not a Blob.");return g.body}));case"text":return f.pipe((0,At.U)(g=>{if(null!==g.body&&"string"!=typeof g.body)throw new Error("Response is not a string.");return g.body}));case"json":default:return f.pipe((0,At.U)(g=>g.body))}case"response":return f;default:throw new Error(`Unreachable: unhandled observe type ${s.observe}}`)}}delete(e,i={}){return this.request("DELETE",e,i)}get(e,i={}){return this.request("GET",e,i)}head(e,i={}){return this.request("HEAD",e,i)}jsonp(e,i){return this.request("JSONP",e,{params:(new ul).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,i={}){return this.request("OPTIONS",e,i)}patch(e,i,s={}){return this.request("PATCH",e,Kh(s,i))}post(e,i,s={}){return this.request("POST",e,Kh(s,i))}put(e,i,s={}){return this.request("PUT",e,Kh(s,i))}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(uE))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac}),n})();class rb{constructor(t,e){this.next=t,this.interceptor=e}handle(t){return this.interceptor.intercept(t,this.next)}}const zl=new r.OlP("HTTP_INTERCEPTORS");let qP=(()=>{class n{intercept(e,i){return i.handle(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac}),n})();const gE=/^\)\]\}',?\n/;let YI=(()=>{class n{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Bn.y(i=>{const s=this.xhrFactory.build();if(s.open(e.method,e.urlWithParams),e.withCredentials&&(s.withCredentials=!0),e.headers.forEach((ee,he)=>s.setRequestHeader(ee,he.join(","))),e.headers.has("Accept")||s.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const ee=e.detectContentTypeHeader();null!==ee&&s.setRequestHeader("Content-Type",ee)}if(e.responseType){const ee=e.responseType.toLowerCase();s.responseType="json"!==ee?ee:"text"}const a=e.serializeBody();let u=null;const f=()=>{if(null!==u)return u;const ee=1223===s.status?204:s.status,he=s.statusText||"OK",Fe=new Rc(s.getAllResponseHeaders()),He=function(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(s)||e.url;return u=new nb({headers:Fe,status:ee,statusText:he,url:He}),u},g=()=>{let{headers:ee,status:he,statusText:Fe,url:He}=f(),ht=null;204!==he&&(ht=void 0===s.response?s.responseText:s.response),0===he&&(he=ht?200:0);let mt=he>=200&&he<300;if("json"===e.responseType&&"string"==typeof ht){const Et=ht;ht=ht.replace(gE,"");try{ht=""!==ht?JSON.parse(ht):null}catch(Ct){ht=Et,mt&&(mt=!1,ht={error:Ct,text:ht})}}mt?(i.next(new ib({body:ht,headers:ee,status:he,statusText:Fe,url:He||void 0})),i.complete()):i.error(new Lp({error:ht,headers:ee,status:he,statusText:Fe,url:He||void 0}))},C=ee=>{const{url:he}=f(),Fe=new Lp({error:ee,status:s.status||0,statusText:s.statusText||"Unknown Error",url:he||void 0});i.error(Fe)};let x=!1;const R=ee=>{x||(i.next(f()),x=!0);let he={type:Mr.DownloadProgress,loaded:ee.loaded};ee.lengthComputable&&(he.total=ee.total),"text"===e.responseType&&!!s.responseText&&(he.partialText=s.responseText),i.next(he)},G=ee=>{let he={type:Mr.UploadProgress,loaded:ee.loaded};ee.lengthComputable&&(he.total=ee.total),i.next(he)};return s.addEventListener("load",g),s.addEventListener("error",C),s.addEventListener("timeout",C),s.addEventListener("abort",C),e.reportProgress&&(s.addEventListener("progress",R),null!==a&&s.upload&&s.upload.addEventListener("progress",G)),s.send(a),i.next({type:Mr.Sent}),()=>{s.removeEventListener("error",C),s.removeEventListener("abort",C),s.removeEventListener("load",g),s.removeEventListener("timeout",C),e.reportProgress&&(s.removeEventListener("progress",R),null!==a&&s.upload&&s.upload.removeEventListener("progress",G)),s.readyState!==s.DONE&&s.abort()}})}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(fa))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac}),n})();const _E=new r.OlP("XSRF_COOKIE_NAME"),yE=new r.OlP("XSRF_HEADER_NAME");class ZI{}let WI=(()=>{class n{constructor(e,i,s){this.doc=e,this.platform=i,this.cookieName=s,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=wi(e,this.cookieName),this.lastCookieString=e),this.lastToken}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(F),r.LFG(r.Lbi),r.LFG(_E))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac}),n})(),Bm=(()=>{class n{constructor(e,i){this.tokenService=e,this.headerName=i}intercept(e,i){const s=e.url.toLowerCase();if("GET"===e.method||"HEAD"===e.method||s.startsWith("http://")||s.startsWith("https://"))return i.handle(e);const a=this.tokenService.getToken();return null!==a&&!e.headers.has(this.headerName)&&(e=e.clone({headers:e.headers.set(this.headerName,a)})),i.handle(e)}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(ZI),r.LFG(yE))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac}),n})(),KI=(()=>{class n{constructor(e,i){this.backend=e,this.injector=i,this.chain=null}handle(e){if(null===this.chain){const i=this.injector.get(zl,[]);this.chain=i.reduceRight((s,a)=>new rb(s,a),this.backend)}return this.chain.handle(e)}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(UI),r.LFG(r.zs3))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac}),n})(),QI=(()=>{class n{static disable(){return{ngModule:n,providers:[{provide:Bm,useClass:qP}]}}static withOptions(e={}){return{ngModule:n,providers:[e.cookieName?{provide:_E,useValue:e.cookieName}:[],e.headerName?{provide:yE,useValue:e.headerName}:[]]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({providers:[Bm,{provide:zl,useExisting:Bm,multi:!0},{provide:ZI,useClass:WI},{provide:_E,useValue:"XSRF-TOKEN"},{provide:yE,useValue:"X-XSRF-TOKEN"}]}),n})(),YP=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({providers:[Vm,{provide:uE,useClass:KI},YI,{provide:UI,useExisting:YI}],imports:[[QI.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),n})();const KP=[[["caption"]],[["colgroup"],["col"]]],JI=["caption","colgroup, col"];function Ps(n){return class extends n{constructor(...t){super(...t),this._sticky=!1,this._hasStickyChanged=!1}get sticky(){return this._sticky}set sticky(t){const e=this._sticky;this._sticky=Gt(t),this._hasStickyChanged=e!==this._sticky}hasStickyChanged(){const t=this._hasStickyChanged;return this._hasStickyChanged=!1,t}resetStickyChanged(){this._hasStickyChanged=!1}}}const Gl=new r.OlP("CDK_TABLE");let Vp=(()=>{class n{constructor(e){this.template=e}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(r.Rgc))},n.\u0275dir=r.lG2({type:n,selectors:[["","cdkCellDef",""]]}),n})(),Um=(()=>{class n{constructor(e){this.template=e}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(r.Rgc))},n.\u0275dir=r.lG2({type:n,selectors:[["","cdkHeaderCellDef",""]]}),n})(),Ad=(()=>{class n{constructor(e){this.template=e}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(r.Rgc))},n.\u0275dir=r.lG2({type:n,selectors:[["","cdkFooterCellDef",""]]}),n})();class XP{}const vE=Ps(XP);let Ru=(()=>{class n extends vE{constructor(e){super(),this._table=e,this._stickyEnd=!1}get name(){return this._name}set name(e){this._setNameInput(e)}get stickyEnd(){return this._stickyEnd}set stickyEnd(e){const i=this._stickyEnd;this._stickyEnd=Gt(e),this._hasStickyChanged=i!==this._stickyEnd}_updateColumnCssClassName(){this._columnCssClassName=[`cdk-column-${this.cssClassFriendlyName}`]}_setNameInput(e){e&&(this._name=e,this.cssClassFriendlyName=e.replace(/[^a-z0-9_-]/gi,"-"),this._updateColumnCssClassName())}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(Gl,8))},n.\u0275dir=r.lG2({type:n,selectors:[["","cdkColumnDef",""]],contentQueries:function(e,i,s){if(1&e&&(r.Suo(s,Vp,5),r.Suo(s,Um,5),r.Suo(s,Ad,5)),2&e){let a;r.iGM(a=r.CRH())&&(i.cell=a.first),r.iGM(a=r.CRH())&&(i.headerCell=a.first),r.iGM(a=r.CRH())&&(i.footerCell=a.first)}},inputs:{sticky:"sticky",name:["cdkColumnDef","name"],stickyEnd:"stickyEnd"},features:[r._Bn([{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:n}]),r.qOj]}),n})();class ob{constructor(t,e){const i=e.nativeElement.classList;for(const s of t._columnCssClassName)i.add(s)}}let bE=(()=>{class n extends ob{constructor(e,i){super(e,i)}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(Ru),r.Y36(r.SBq))},n.\u0275dir=r.lG2({type:n,selectors:[["cdk-header-cell"],["th","cdk-header-cell",""]],hostAttrs:["role","columnheader",1,"cdk-header-cell"],features:[r.qOj]}),n})(),jm=(()=>{class n extends ob{constructor(e,i){var s;if(super(e,i),1===(null===(s=e._table)||void 0===s?void 0:s._elementRef.nativeElement.nodeType)){const a=e._table._elementRef.nativeElement.getAttribute("role");i.nativeElement.setAttribute("role","grid"===a||"treegrid"===a?"gridcell":"cell")}}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(Ru),r.Y36(r.SBq))},n.\u0275dir=r.lG2({type:n,selectors:[["cdk-cell"],["td","cdk-cell",""]],hostAttrs:[1,"cdk-cell"],features:[r.qOj]}),n})();class CE{constructor(){this.tasks=[],this.endTasks=[]}}const ab=new r.OlP("_COALESCED_STYLE_SCHEDULER");let Hm=(()=>{class n{constructor(e){this._ngZone=e,this._currentSchedule=null,this._destroyed=new yt.xQ}schedule(e){this._createScheduleIfNeeded(),this._currentSchedule.tasks.push(e)}scheduleEnd(e){this._createScheduleIfNeeded(),this._currentSchedule.endTasks.push(e)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_createScheduleIfNeeded(){this._currentSchedule||(this._currentSchedule=new CE,this._getScheduleObservable().pipe(ri(this._destroyed)).subscribe(()=>{for(;this._currentSchedule.tasks.length||this._currentSchedule.endTasks.length;){const e=this._currentSchedule;this._currentSchedule=new CE;for(const i of e.tasks)i();for(const i of e.endTasks)i()}this._currentSchedule=null}))}_getScheduleObservable(){return this._ngZone.isStable?(0,Gn.D)(Promise.resolve(void 0)):this._ngZone.onStable.pipe(Kn(1))}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(r.R0b))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac}),n})(),tA=(()=>{class n{constructor(e,i){this.template=e,this._differs=i}ngOnChanges(e){if(!this._columnsDiffer){const i=e.columns&&e.columns.currentValue||[];this._columnsDiffer=this._differs.find(i).create(),this._columnsDiffer.diff(i)}}getColumnsDiff(){return this._columnsDiffer.diff(this.columns)}extractCellTemplate(e){return this instanceof Bp?e.headerCell.template:this instanceof qm?e.footerCell.template:e.cell.template}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(r.Rgc),r.Y36(r.ZZ4))},n.\u0275dir=r.lG2({type:n,features:[r.TTD]}),n})();class nA extends tA{}const eN=Ps(nA);let Bp=(()=>{class n extends eN{constructor(e,i,s){super(e,i),this._table=s}ngOnChanges(e){super.ngOnChanges(e)}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(r.Rgc),r.Y36(r.ZZ4),r.Y36(Gl,8))},n.\u0275dir=r.lG2({type:n,selectors:[["","cdkHeaderRowDef",""]],inputs:{columns:["cdkHeaderRowDef","columns"],sticky:["cdkHeaderRowDefSticky","sticky"]},features:[r.qOj,r.TTD]}),n})();class lb extends tA{}const iA=Ps(lb);let qm=(()=>{class n extends iA{constructor(e,i,s){super(e,i),this._table=s}ngOnChanges(e){super.ngOnChanges(e)}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(r.Rgc),r.Y36(r.ZZ4),r.Y36(Gl,8))},n.\u0275dir=r.lG2({type:n,selectors:[["","cdkFooterRowDef",""]],inputs:{columns:["cdkFooterRowDef","columns"],sticky:["cdkFooterRowDefSticky","sticky"]},features:[r.qOj,r.TTD]}),n})(),Up=(()=>{class n extends tA{constructor(e,i,s){super(e,i),this._table=s}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(r.Rgc),r.Y36(r.ZZ4),r.Y36(Gl,8))},n.\u0275dir=r.lG2({type:n,selectors:[["","cdkRowDef",""]],inputs:{columns:["cdkRowDefColumns","columns"],when:["cdkRowDefWhen","when"]},features:[r.qOj]}),n})(),$l=(()=>{class n{constructor(e){this._viewContainer=e,n.mostRecentCellOutlet=this}ngOnDestroy(){n.mostRecentCellOutlet===this&&(n.mostRecentCellOutlet=null)}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(r.s_b))},n.\u0275dir=r.lG2({type:n,selectors:[["","cdkCellOutlet",""]]}),n.mostRecentCellOutlet=null,n})(),wE=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=r.Xpm({type:n,selectors:[["cdk-header-row"],["tr","cdk-header-row",""]],hostAttrs:["role","row",1,"cdk-header-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,i){1&e&&r.GkF(0,0)},directives:[$l],encapsulation:2}),n})(),cb=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=r.Xpm({type:n,selectors:[["cdk-row"],["tr","cdk-row",""]],hostAttrs:["role","row",1,"cdk-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,i){1&e&&r.GkF(0,0)},directives:[$l],encapsulation:2}),n})(),zm=(()=>{class n{constructor(e){this.templateRef=e}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(r.Rgc))},n.\u0275dir=r.lG2({type:n,selectors:[["ng-template","cdkNoDataRow",""]]}),n})();const DE=["top","bottom","left","right"];class tN{constructor(t,e,i,s,a=!0,u=!0,f){this._isNativeHtmlTable=t,this._stickCellCss=e,this.direction=i,this._coalescedStyleScheduler=s,this._isBrowser=a,this._needsPositionStickyOnElement=u,this._positionListener=f,this._cachedCellWidths=[],this._borderCellCss={top:`${e}-border-elem-top`,bottom:`${e}-border-elem-bottom`,left:`${e}-border-elem-left`,right:`${e}-border-elem-right`}}clearStickyPositioning(t,e){const i=[];for(const s of t)if(s.nodeType===s.ELEMENT_NODE){i.push(s);for(let a=0;a<s.children.length;a++)i.push(s.children[a])}this._coalescedStyleScheduler.schedule(()=>{for(const s of i)this._removeStickyStyle(s,e)})}updateStickyColumns(t,e,i,s=!0){if(!t.length||!this._isBrowser||!e.some(G=>G)&&!i.some(G=>G))return void(this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:[]}),this._positionListener.stickyEndColumnsUpdated({sizes:[]})));const a=t[0],u=a.children.length,f=this._getCellWidths(a,s),g=this._getStickyStartColumnPositions(f,e),C=this._getStickyEndColumnPositions(f,i),x=e.lastIndexOf(!0),R=i.indexOf(!0);this._coalescedStyleScheduler.schedule(()=>{const G="rtl"===this.direction,ee=G?"right":"left",he=G?"left":"right";for(const Fe of t)for(let He=0;He<u;He++){const ht=Fe.children[He];e[He]&&this._addStickyStyle(ht,ee,g[He],He===x),i[He]&&this._addStickyStyle(ht,he,C[He],He===R)}this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:-1===x?[]:f.slice(0,x+1).map((Fe,He)=>e[He]?Fe:null)}),this._positionListener.stickyEndColumnsUpdated({sizes:-1===R?[]:f.slice(R).map((Fe,He)=>i[He+R]?Fe:null).reverse()}))})}stickRows(t,e,i){if(!this._isBrowser)return;const s="bottom"===i?t.slice().reverse():t,a="bottom"===i?e.slice().reverse():e,u=[],f=[],g=[];for(let x=0,R=0;x<s.length;x++){if(!a[x])continue;u[x]=R;const G=s[x];g[x]=this._isNativeHtmlTable?Array.from(G.children):[G];const ee=G.getBoundingClientRect().height;R+=ee,f[x]=ee}const C=a.lastIndexOf(!0);this._coalescedStyleScheduler.schedule(()=>{var x,R;for(let G=0;G<s.length;G++){if(!a[G])continue;const ee=u[G],he=G===C;for(const Fe of g[G])this._addStickyStyle(Fe,i,ee,he)}"top"===i?null===(x=this._positionListener)||void 0===x||x.stickyHeaderRowsUpdated({sizes:f,offsets:u,elements:g}):null===(R=this._positionListener)||void 0===R||R.stickyFooterRowsUpdated({sizes:f,offsets:u,elements:g})})}updateStickyFooterContainer(t,e){if(!this._isNativeHtmlTable)return;const i=t.querySelector("tfoot");this._coalescedStyleScheduler.schedule(()=>{e.some(s=>!s)?this._removeStickyStyle(i,["bottom"]):this._addStickyStyle(i,"bottom",0,!1)})}_removeStickyStyle(t,e){for(const s of e)t.style[s]="",t.classList.remove(this._borderCellCss[s]);DE.some(s=>-1===e.indexOf(s)&&t.style[s])?t.style.zIndex=this._getCalculatedZIndex(t):(t.style.zIndex="",this._needsPositionStickyOnElement&&(t.style.position=""),t.classList.remove(this._stickCellCss))}_addStickyStyle(t,e,i,s){t.classList.add(this._stickCellCss),s&&t.classList.add(this._borderCellCss[e]),t.style[e]=`${i}px`,t.style.zIndex=this._getCalculatedZIndex(t),this._needsPositionStickyOnElement&&(t.style.cssText+="position: -webkit-sticky; position: sticky; ")}_getCalculatedZIndex(t){const e={top:100,bottom:10,left:1,right:1};let i=0;for(const s of DE)t.style[s]&&(i+=e[s]);return i?`${i}`:""}_getCellWidths(t,e=!0){if(!e&&this._cachedCellWidths.length)return this._cachedCellWidths;const i=[],s=t.children;for(let a=0;a<s.length;a++)i.push(s[a].getBoundingClientRect().width);return this._cachedCellWidths=i,i}_getStickyStartColumnPositions(t,e){const i=[];let s=0;for(let a=0;a<t.length;a++)e[a]&&(i[a]=s,s+=t[a]);return i}_getStickyEndColumnPositions(t,e){const i=[];let s=0;for(let a=t.length;a>0;a--)e[a]&&(i[a]=s,s+=t[a]);return i}}const ub=new r.OlP("CDK_SPL");let db=(()=>{class n{constructor(e,i){this.viewContainer=e,this.elementRef=i}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(r.s_b),r.Y36(r.SBq))},n.\u0275dir=r.lG2({type:n,selectors:[["","rowOutlet",""]]}),n})(),hb=(()=>{class n{constructor(e,i){this.viewContainer=e,this.elementRef=i}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(r.s_b),r.Y36(r.SBq))},n.\u0275dir=r.lG2({type:n,selectors:[["","headerRowOutlet",""]]}),n})(),fb=(()=>{class n{constructor(e,i){this.viewContainer=e,this.elementRef=i}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(r.s_b),r.Y36(r.SBq))},n.\u0275dir=r.lG2({type:n,selectors:[["","footerRowOutlet",""]]}),n})(),Gm=(()=>{class n{constructor(e,i){this.viewContainer=e,this.elementRef=i}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(r.s_b),r.Y36(r.SBq))},n.\u0275dir=r.lG2({type:n,selectors:[["","noDataRowOutlet",""]]}),n})(),TE=(()=>{class n{constructor(e,i,s,a,u,f,g,C,x,R,G){this._differs=e,this._changeDetectorRef=i,this._elementRef=s,this._dir=u,this._platform=g,this._viewRepeater=C,this._coalescedStyleScheduler=x,this._viewportRuler=R,this._stickyPositioningListener=G,this._onDestroy=new yt.xQ,this._columnDefsByName=new Map,this._customColumnDefs=new Set,this._customRowDefs=new Set,this._customHeaderRowDefs=new Set,this._customFooterRowDefs=new Set,this._headerRowDefChanged=!0,this._footerRowDefChanged=!0,this._stickyColumnStylesNeedReset=!0,this._forceRecalculateCellWidths=!0,this._cachedRenderRowsMap=new Map,this.stickyCssClass="cdk-table-sticky",this.needsPositionStickyOnElement=!0,this._isShowingNoDataRow=!1,this._multiTemplateDataRows=!1,this._fixedLayout=!1,this.contentChanged=new r.vpe,this.viewChange=new Hi({start:0,end:Number.MAX_VALUE}),a||this._elementRef.nativeElement.setAttribute("role","table"),this._document=f,this._isNativeHtmlTable="TABLE"===this._elementRef.nativeElement.nodeName}get trackBy(){return this._trackByFn}set trackBy(e){this._trackByFn=e}get dataSource(){return this._dataSource}set dataSource(e){this._dataSource!==e&&this._switchDataSource(e)}get multiTemplateDataRows(){return this._multiTemplateDataRows}set multiTemplateDataRows(e){this._multiTemplateDataRows=Gt(e),this._rowOutlet&&this._rowOutlet.viewContainer.length&&(this._forceRenderDataRows(),this.updateStickyColumnStyles())}get fixedLayout(){return this._fixedLayout}set fixedLayout(e){this._fixedLayout=Gt(e),this._forceRecalculateCellWidths=!0,this._stickyColumnStylesNeedReset=!0}ngOnInit(){this._setupStickyStyler(),this._isNativeHtmlTable&&this._applyNativeTableSections(),this._dataDiffer=this._differs.find([]).create((e,i)=>this.trackBy?this.trackBy(i.dataIndex,i.data):i),this._viewportRuler.change().pipe(ri(this._onDestroy)).subscribe(()=>{this._forceRecalculateCellWidths=!0})}ngAfterContentChecked(){this._cacheRowDefs(),this._cacheColumnDefs();const i=this._renderUpdatedColumns()||this._headerRowDefChanged||this._footerRowDefChanged;this._stickyColumnStylesNeedReset=this._stickyColumnStylesNeedReset||i,this._forceRecalculateCellWidths=i,this._headerRowDefChanged&&(this._forceRenderHeaderRows(),this._headerRowDefChanged=!1),this._footerRowDefChanged&&(this._forceRenderFooterRows(),this._footerRowDefChanged=!1),this.dataSource&&this._rowDefs.length>0&&!this._renderChangeSubscription?this._observeRenderChanges():this._stickyColumnStylesNeedReset&&this.updateStickyColumnStyles(),this._checkStickyStates()}ngOnDestroy(){this._rowOutlet.viewContainer.clear(),this._noDataRowOutlet.viewContainer.clear(),this._headerRowOutlet.viewContainer.clear(),this._footerRowOutlet.viewContainer.clear(),this._cachedRenderRowsMap.clear(),this._onDestroy.next(),this._onDestroy.complete(),cp(this.dataSource)&&this.dataSource.disconnect(this)}renderRows(){this._renderRows=this._getAllRenderRows();const e=this._dataDiffer.diff(this._renderRows);if(!e)return this._updateNoDataRow(),void this.contentChanged.next();const i=this._rowOutlet.viewContainer;this._viewRepeater.applyChanges(e,i,(s,a,u)=>this._getEmbeddedViewArgs(s.item,u),s=>s.item.data,s=>{1===s.operation&&s.context&&this._renderCellTemplateForItem(s.record.item.rowDef,s.context)}),this._updateRowIndexContext(),e.forEachIdentityChange(s=>{i.get(s.currentIndex).context.$implicit=s.item.data}),this._updateNoDataRow(),this.updateStickyColumnStyles(),this.contentChanged.next()}addColumnDef(e){this._customColumnDefs.add(e)}removeColumnDef(e){this._customColumnDefs.delete(e)}addRowDef(e){this._customRowDefs.add(e)}removeRowDef(e){this._customRowDefs.delete(e)}addHeaderRowDef(e){this._customHeaderRowDefs.add(e),this._headerRowDefChanged=!0}removeHeaderRowDef(e){this._customHeaderRowDefs.delete(e),this._headerRowDefChanged=!0}addFooterRowDef(e){this._customFooterRowDefs.add(e),this._footerRowDefChanged=!0}removeFooterRowDef(e){this._customFooterRowDefs.delete(e),this._footerRowDefChanged=!0}setNoDataRow(e){this._customNoDataRow=e}updateStickyHeaderRowStyles(){const e=this._getRenderedRows(this._headerRowOutlet),s=this._elementRef.nativeElement.querySelector("thead");s&&(s.style.display=e.length?"":"none");const a=this._headerRowDefs.map(u=>u.sticky);this._stickyStyler.clearStickyPositioning(e,["top"]),this._stickyStyler.stickRows(e,a,"top"),this._headerRowDefs.forEach(u=>u.resetStickyChanged())}updateStickyFooterRowStyles(){const e=this._getRenderedRows(this._footerRowOutlet),s=this._elementRef.nativeElement.querySelector("tfoot");s&&(s.style.display=e.length?"":"none");const a=this._footerRowDefs.map(u=>u.sticky);this._stickyStyler.clearStickyPositioning(e,["bottom"]),this._stickyStyler.stickRows(e,a,"bottom"),this._stickyStyler.updateStickyFooterContainer(this._elementRef.nativeElement,a),this._footerRowDefs.forEach(u=>u.resetStickyChanged())}updateStickyColumnStyles(){const e=this._getRenderedRows(this._headerRowOutlet),i=this._getRenderedRows(this._rowOutlet),s=this._getRenderedRows(this._footerRowOutlet);(this._isNativeHtmlTable&&!this._fixedLayout||this._stickyColumnStylesNeedReset)&&(this._stickyStyler.clearStickyPositioning([...e,...i,...s],["left","right"]),this._stickyColumnStylesNeedReset=!1),e.forEach((a,u)=>{this._addStickyColumnStyles([a],this._headerRowDefs[u])}),this._rowDefs.forEach(a=>{const u=[];for(let f=0;f<i.length;f++)this._renderRows[f].rowDef===a&&u.push(i[f]);this._addStickyColumnStyles(u,a)}),s.forEach((a,u)=>{this._addStickyColumnStyles([a],this._footerRowDefs[u])}),Array.from(this._columnDefsByName.values()).forEach(a=>a.resetStickyChanged())}_getAllRenderRows(){const e=[],i=this._cachedRenderRowsMap;this._cachedRenderRowsMap=new Map;for(let s=0;s<this._data.length;s++){let a=this._data[s];const u=this._getRenderRowsForData(a,s,i.get(a));this._cachedRenderRowsMap.has(a)||this._cachedRenderRowsMap.set(a,new WeakMap);for(let f=0;f<u.length;f++){let g=u[f];const C=this._cachedRenderRowsMap.get(g.data);C.has(g.rowDef)?C.get(g.rowDef).push(g):C.set(g.rowDef,[g]),e.push(g)}}return e}_getRenderRowsForData(e,i,s){return this._getRowDefs(e,i).map(u=>{const f=s&&s.has(u)?s.get(u):[];if(f.length){const g=f.shift();return g.dataIndex=i,g}return{data:e,rowDef:u,dataIndex:i}})}_cacheColumnDefs(){this._columnDefsByName.clear(),SE(this._getOwnDefs(this._contentColumnDefs),this._customColumnDefs).forEach(i=>{this._columnDefsByName.has(i.name),this._columnDefsByName.set(i.name,i)})}_cacheRowDefs(){this._headerRowDefs=SE(this._getOwnDefs(this._contentHeaderRowDefs),this._customHeaderRowDefs),this._footerRowDefs=SE(this._getOwnDefs(this._contentFooterRowDefs),this._customFooterRowDefs),this._rowDefs=SE(this._getOwnDefs(this._contentRowDefs),this._customRowDefs);const e=this._rowDefs.filter(i=>!i.when);this._defaultRowDef=e[0]}_renderUpdatedColumns(){const e=(u,f)=>u||!!f.getColumnsDiff(),i=this._rowDefs.reduce(e,!1);i&&this._forceRenderDataRows();const s=this._headerRowDefs.reduce(e,!1);s&&this._forceRenderHeaderRows();const a=this._footerRowDefs.reduce(e,!1);return a&&this._forceRenderFooterRows(),i||s||a}_switchDataSource(e){this._data=[],cp(this.dataSource)&&this.dataSource.disconnect(this),this._renderChangeSubscription&&(this._renderChangeSubscription.unsubscribe(),this._renderChangeSubscription=null),e||(this._dataDiffer&&this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear()),this._dataSource=e}_observeRenderChanges(){if(!this.dataSource)return;let e;cp(this.dataSource)?e=this.dataSource.connect(this):function(n){return!!n&&(n instanceof Bn.y||"function"==typeof n.lift&&"function"==typeof n.subscribe)}(this.dataSource)?e=this.dataSource:Array.isArray(this.dataSource)&&(e=(0,ft.of)(this.dataSource)),this._renderChangeSubscription=e.pipe(ri(this._onDestroy)).subscribe(i=>{this._data=i||[],this.renderRows()})}_forceRenderHeaderRows(){this._headerRowOutlet.viewContainer.length>0&&this._headerRowOutlet.viewContainer.clear(),this._headerRowDefs.forEach((e,i)=>this._renderRow(this._headerRowOutlet,e,i)),this.updateStickyHeaderRowStyles()}_forceRenderFooterRows(){this._footerRowOutlet.viewContainer.length>0&&this._footerRowOutlet.viewContainer.clear(),this._footerRowDefs.forEach((e,i)=>this._renderRow(this._footerRowOutlet,e,i)),this.updateStickyFooterRowStyles()}_addStickyColumnStyles(e,i){const s=Array.from(i.columns||[]).map(f=>this._columnDefsByName.get(f)),a=s.map(f=>f.sticky),u=s.map(f=>f.stickyEnd);this._stickyStyler.updateStickyColumns(e,a,u,!this._fixedLayout||this._forceRecalculateCellWidths)}_getRenderedRows(e){const i=[];for(let s=0;s<e.viewContainer.length;s++){const a=e.viewContainer.get(s);i.push(a.rootNodes[0])}return i}_getRowDefs(e,i){if(1==this._rowDefs.length)return[this._rowDefs[0]];let s=[];if(this.multiTemplateDataRows)s=this._rowDefs.filter(a=>!a.when||a.when(i,e));else{let a=this._rowDefs.find(u=>u.when&&u.when(i,e))||this._defaultRowDef;a&&s.push(a)}return s}_getEmbeddedViewArgs(e,i){return{templateRef:e.rowDef.template,context:{$implicit:e.data},index:i}}_renderRow(e,i,s,a={}){const u=e.viewContainer.createEmbeddedView(i.template,a,s);return this._renderCellTemplateForItem(i,a),u}_renderCellTemplateForItem(e,i){for(let s of this._getCellTemplates(e))$l.mostRecentCellOutlet&&$l.mostRecentCellOutlet._viewContainer.createEmbeddedView(s,i);this._changeDetectorRef.markForCheck()}_updateRowIndexContext(){const e=this._rowOutlet.viewContainer;for(let i=0,s=e.length;i<s;i++){const u=e.get(i).context;u.count=s,u.first=0===i,u.last=i===s-1,u.even=i%2==0,u.odd=!u.even,this.multiTemplateDataRows?(u.dataIndex=this._renderRows[i].dataIndex,u.renderIndex=i):u.index=this._renderRows[i].dataIndex}}_getCellTemplates(e){return e&&e.columns?Array.from(e.columns,i=>{const s=this._columnDefsByName.get(i);return e.extractCellTemplate(s)}):[]}_applyNativeTableSections(){const e=this._document.createDocumentFragment(),i=[{tag:"thead",outlets:[this._headerRowOutlet]},{tag:"tbody",outlets:[this._rowOutlet,this._noDataRowOutlet]},{tag:"tfoot",outlets:[this._footerRowOutlet]}];for(const s of i){const a=this._document.createElement(s.tag);a.setAttribute("role","rowgroup");for(const u of s.outlets)a.appendChild(u.elementRef.nativeElement);e.appendChild(a)}this._elementRef.nativeElement.appendChild(e)}_forceRenderDataRows(){this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear(),this.renderRows()}_checkStickyStates(){const e=(i,s)=>i||s.hasStickyChanged();this._headerRowDefs.reduce(e,!1)&&this.updateStickyHeaderRowStyles(),this._footerRowDefs.reduce(e,!1)&&this.updateStickyFooterRowStyles(),Array.from(this._columnDefsByName.values()).reduce(e,!1)&&(this._stickyColumnStylesNeedReset=!0,this.updateStickyColumnStyles())}_setupStickyStyler(){this._stickyStyler=new tN(this._isNativeHtmlTable,this.stickyCssClass,this._dir?this._dir.value:"ltr",this._coalescedStyleScheduler,this._platform.isBrowser,this.needsPositionStickyOnElement,this._stickyPositioningListener),(this._dir?this._dir.change:(0,ft.of)()).pipe(ri(this._onDestroy)).subscribe(i=>{this._stickyStyler.direction=i,this.updateStickyColumnStyles()})}_getOwnDefs(e){return e.filter(i=>!i._table||i._table===this)}_updateNoDataRow(){const e=this._customNoDataRow||this._noDataRow;if(e){const i=0===this._rowOutlet.viewContainer.length;if(i!==this._isShowingNoDataRow){const s=this._noDataRowOutlet.viewContainer;i?s.createEmbeddedView(e.templateRef):s.clear(),this._isShowingNoDataRow=i}}}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(r.ZZ4),r.Y36(r.sBO),r.Y36(r.SBq),r.$8M("role"),r.Y36(Ms,8),r.Y36(F),r.Y36(Un),r.Y36(bd),r.Y36(ab),r.Y36(up),r.Y36(ub,12))},n.\u0275cmp=r.Xpm({type:n,selectors:[["cdk-table"],["table","cdk-table",""]],contentQueries:function(e,i,s){if(1&e&&(r.Suo(s,zm,5),r.Suo(s,Ru,5),r.Suo(s,Up,5),r.Suo(s,Bp,5),r.Suo(s,qm,5)),2&e){let a;r.iGM(a=r.CRH())&&(i._noDataRow=a.first),r.iGM(a=r.CRH())&&(i._contentColumnDefs=a),r.iGM(a=r.CRH())&&(i._contentRowDefs=a),r.iGM(a=r.CRH())&&(i._contentHeaderRowDefs=a),r.iGM(a=r.CRH())&&(i._contentFooterRowDefs=a)}},viewQuery:function(e,i){if(1&e&&(r.Gf(db,7),r.Gf(hb,7),r.Gf(fb,7),r.Gf(Gm,7)),2&e){let s;r.iGM(s=r.CRH())&&(i._rowOutlet=s.first),r.iGM(s=r.CRH())&&(i._headerRowOutlet=s.first),r.iGM(s=r.CRH())&&(i._footerRowOutlet=s.first),r.iGM(s=r.CRH())&&(i._noDataRowOutlet=s.first)}},hostAttrs:[1,"cdk-table"],hostVars:2,hostBindings:function(e,i){2&e&&r.ekj("cdk-table-fixed-layout",i.fixedLayout)},inputs:{trackBy:"trackBy",dataSource:"dataSource",multiTemplateDataRows:"multiTemplateDataRows",fixedLayout:"fixedLayout"},outputs:{contentChanged:"contentChanged"},exportAs:["cdkTable"],features:[r._Bn([{provide:Gl,useExisting:n},{provide:bd,useClass:nm},{provide:ab,useClass:Hm},{provide:ub,useValue:null}])],ngContentSelectors:JI,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(e,i){1&e&&(r.F$t(KP),r.Hsn(0),r.Hsn(1,1),r.GkF(2,0),r.GkF(3,1),r.GkF(4,2),r.GkF(5,3))},directives:[hb,db,Gm,fb],styles:[".cdk-table-fixed-layout{table-layout:fixed}\n"],encapsulation:2}),n})();function SE(n,t){return n.concat(Array.from(t))}let gj=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[[qy]]}),n})();const mj=[[["caption"]],[["colgroup"],["col"]]],_j=["caption","colgroup, col"];let sA=(()=>{class n extends TE{constructor(){super(...arguments),this.stickyCssClass="mat-table-sticky",this.needsPositionStickyOnElement=!1}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=r.n5z(n)))(i||n)}}(),n.\u0275cmp=r.Xpm({type:n,selectors:[["mat-table"],["table","mat-table",""]],hostAttrs:[1,"mat-table"],hostVars:2,hostBindings:function(e,i){2&e&&r.ekj("mat-table-fixed-layout",i.fixedLayout)},exportAs:["matTable"],features:[r._Bn([{provide:bd,useClass:nm},{provide:TE,useExisting:n},{provide:Gl,useExisting:n},{provide:ab,useClass:Hm},{provide:ub,useValue:null}]),r.qOj],ngContentSelectors:_j,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(e,i){1&e&&(r.F$t(mj),r.Hsn(0),r.Hsn(1,1),r.GkF(2,0),r.GkF(3,1),r.GkF(4,2),r.GkF(5,3))},directives:[hb,db,Gm,fb],styles:['mat-table{display:block}mat-header-row{min-height:56px}mat-row,mat-footer-row{min-height:48px}mat-row,mat-header-row,mat-footer-row{display:flex;border-width:0;border-bottom-width:1px;border-style:solid;align-items:center;box-sizing:border-box}mat-row::after,mat-header-row::after,mat-footer-row::after{display:inline-block;min-height:inherit;content:""}mat-cell:first-of-type,mat-header-cell:first-of-type,mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] mat-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}mat-cell:last-of-type,mat-header-cell:last-of-type,mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] mat-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}mat-cell,mat-header-cell,mat-footer-cell{flex:1;display:flex;align-items:center;overflow:hidden;word-wrap:break-word;min-height:inherit}table.mat-table{border-spacing:0}tr.mat-header-row{height:56px}tr.mat-row,tr.mat-footer-row{height:48px}th.mat-header-cell{text-align:left}[dir=rtl] th.mat-header-cell{text-align:right}th.mat-header-cell,td.mat-cell,td.mat-footer-cell{padding:0;border-bottom-width:1px;border-bottom-style:solid}th.mat-header-cell:first-of-type,td.mat-cell:first-of-type,td.mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] th.mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] td.mat-cell:first-of-type:not(:only-of-type),[dir=rtl] td.mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}th.mat-header-cell:last-of-type,td.mat-cell:last-of-type,td.mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] th.mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] td.mat-cell:last-of-type:not(:only-of-type),[dir=rtl] td.mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}.mat-table-sticky{position:-webkit-sticky !important;position:sticky !important}.mat-table-fixed-layout{table-layout:fixed}\n'],encapsulation:2}),n})(),xE=(()=>{class n extends Vp{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=r.n5z(n)))(i||n)}}(),n.\u0275dir=r.lG2({type:n,selectors:[["","matCellDef",""]],features:[r._Bn([{provide:Vp,useExisting:n}]),r.qOj]}),n})(),IE=(()=>{class n extends Um{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=r.n5z(n)))(i||n)}}(),n.\u0275dir=r.lG2({type:n,selectors:[["","matHeaderCellDef",""]],features:[r._Bn([{provide:Um,useExisting:n}]),r.qOj]}),n})(),AE=(()=>{class n extends Ru{get name(){return this._name}set name(e){this._setNameInput(e)}_updateColumnCssClassName(){super._updateColumnCssClassName(),this._columnCssClassName.push(`mat-column-${this.cssClassFriendlyName}`)}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=r.n5z(n)))(i||n)}}(),n.\u0275dir=r.lG2({type:n,selectors:[["","matColumnDef",""]],inputs:{sticky:"sticky",name:["matColumnDef","name"]},features:[r._Bn([{provide:Ru,useExisting:n},{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:n}]),r.qOj]}),n})(),pb=(()=>{class n extends bE{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=r.n5z(n)))(i||n)}}(),n.\u0275dir=r.lG2({type:n,selectors:[["mat-header-cell"],["th","mat-header-cell",""]],hostAttrs:["role","columnheader",1,"mat-header-cell"],features:[r.qOj]}),n})(),gb=(()=>{class n extends jm{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=r.n5z(n)))(i||n)}}(),n.\u0275dir=r.lG2({type:n,selectors:[["mat-cell"],["td","mat-cell",""]],hostAttrs:["role","gridcell",1,"mat-cell"],features:[r.qOj]}),n})(),oA=(()=>{class n extends Bp{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=r.n5z(n)))(i||n)}}(),n.\u0275dir=r.lG2({type:n,selectors:[["","matHeaderRowDef",""]],inputs:{columns:["matHeaderRowDef","columns"],sticky:["matHeaderRowDefSticky","sticky"]},features:[r._Bn([{provide:Bp,useExisting:n}]),r.qOj]}),n})(),aA=(()=>{class n extends Up{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=r.n5z(n)))(i||n)}}(),n.\u0275dir=r.lG2({type:n,selectors:[["","matRowDef",""]],inputs:{columns:["matRowDefColumns","columns"],when:["matRowDefWhen","when"]},features:[r._Bn([{provide:Up,useExisting:n}]),r.qOj]}),n})(),ME=(()=>{class n extends wE{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=r.n5z(n)))(i||n)}}(),n.\u0275cmp=r.Xpm({type:n,selectors:[["mat-header-row"],["tr","mat-header-row",""]],hostAttrs:["role","row",1,"mat-header-row"],exportAs:["matHeaderRow"],features:[r._Bn([{provide:wE,useExisting:n}]),r.qOj],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,i){1&e&&r.GkF(0,0)},directives:[$l],encapsulation:2}),n})(),kE=(()=>{class n extends cb{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=r.n5z(n)))(i||n)}}(),n.\u0275cmp=r.Xpm({type:n,selectors:[["mat-row"],["tr","mat-row",""]],hostAttrs:["role","row",1,"mat-row"],exportAs:["matRow"],features:[r._Bn([{provide:cb,useExisting:n}]),r.qOj],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,i){1&e&&r.GkF(0,0)},directives:[$l],encapsulation:2}),n})(),Tj=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[[gj,wn],wn]}),n})();class Md extends class extends class{}{constructor(t=[]){super(),this._renderData=new Hi([]),this._filter=new Hi(""),this._internalPageChanges=new yt.xQ,this._renderChangesSubscription=null,this.sortingDataAccessor=(e,i)=>{const s=e[i];if(wS(s)){const a=Number(s);return a<9007199254740991?a:s}return s},this.sortData=(e,i)=>{const s=i.active,a=i.direction;return s&&""!=a?e.sort((u,f)=>{let g=this.sortingDataAccessor(u,s),C=this.sortingDataAccessor(f,s);const x=typeof g,R=typeof C;x!==R&&("number"===x&&(g+=""),"number"===R&&(C+=""));let G=0;return null!=g&&null!=C?g>C?G=1:g<C&&(G=-1):null!=g?G=1:null!=C&&(G=-1),G*("asc"==a?1:-1)}):e},this.filterPredicate=(e,i)=>{const s=Object.keys(e).reduce((u,f)=>u+e[f]+"\u25ec","").toLowerCase(),a=i.trim().toLowerCase();return-1!=s.indexOf(a)},this._data=new Hi(t),this._updateChangeSubscription()}get data(){return this._data.value}set data(t){this._data.next(t),this._renderChangesSubscription||this._filterData(t)}get filter(){return this._filter.value}set filter(t){this._filter.next(t),this._renderChangesSubscription||this._filterData(this.data)}get sort(){return this._sort}set sort(t){this._sort=t,this._updateChangeSubscription()}get paginator(){return this._paginator}set paginator(t){this._paginator=t,this._updateChangeSubscription()}_updateChangeSubscription(){var t;const e=this._sort?(0,ir.T)(this._sort.sortChange,this._sort.initialized):(0,ft.of)(null),i=this._paginator?(0,ir.T)(this._paginator.page,this._internalPageChanges,this._paginator.initialized):(0,ft.of)(null),a=Hs([this._data,this._filter]).pipe((0,At.U)(([g])=>this._filterData(g))),u=Hs([a,e]).pipe((0,At.U)(([g])=>this._orderData(g))),f=Hs([u,i]).pipe((0,At.U)(([g])=>this._pageData(g)));null===(t=this._renderChangesSubscription)||void 0===t||t.unsubscribe(),this._renderChangesSubscription=f.subscribe(g=>this._renderData.next(g))}_filterData(t){return this.filteredData=null==this.filter||""===this.filter?t:t.filter(e=>this.filterPredicate(e,this.filter)),this.paginator&&this._updatePaginator(this.filteredData.length),this.filteredData}_orderData(t){return this.sort?this.sortData(t.slice(),this.sort):t}_pageData(t){if(!this.paginator)return t;const e=this.paginator.pageIndex*this.paginator.pageSize;return t.slice(e,e+this.paginator.pageSize)}_updatePaginator(t){Promise.resolve().then(()=>{const e=this.paginator;if(e&&(e.length=t,e.pageIndex>0)){const i=Math.ceil(e.length/e.pageSize)-1||0,s=Math.min(e.pageIndex,i);s!==e.pageIndex&&(e.pageIndex=s,this._internalPageChanges.next())}})}connect(){return this._renderChangesSubscription||this._updateChangeSubscription(),this._renderData}disconnect(){var t;null===(t=this._renderChangesSubscription)||void 0===t||t.unsubscribe(),this._renderChangesSubscription=null}}{}var $n=M(4580),Zi=M(8939),mb=M(3394),Je=M(8239),vo=M(8026),oe=M(3854),dl=M(3910);const RE="firebasestorage.googleapis.com",OE="storageBucket";class Ni extends oe.ZR{constructor(t,e){super(_b(t),`Firebase Storage: ${e} (${_b(t)})`),this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ni.prototype)}_codeEquals(t){return _b(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}function _b(n){return"storage/"+n}function cA(){return new Ni("unknown","An unknown error occurred, please check the error payload for server response.")}function fN(){return new Ni("canceled","User canceled the upload/download.")}function gN(){return new Ni("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function $m(n){return new Ni("invalid-argument",n)}function NE(){return new Ni("app-deleted","The Firebase app was deleted.")}function uA(n){return new Ni("invalid-root-operation","The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function vb(n,t){return new Ni("invalid-format","String does not match format '"+n+"': "+t)}function bb(n){throw new Ni("internal-error","Internal error: "+n)}class Ys{constructor(t,e){this.bucket=t,this.path_=e}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,e){let i;try{i=Ys.makeFromUrl(t,e)}catch(s){return new Ys(t,"")}if(""===i.path)return i;throw new Ni("invalid-default-bucket","Invalid default bucket '"+t+"'.")}static makeFromUrl(t,e){let i=null;const s="([A-Za-z0-9.\\-_]+)",f=new RegExp("^gs://"+s+"(/(.*))?$","i");function C(Ct){Ct.path_=decodeURIComponent(Ct.path)}const R=e.replace(/[.]/g,"\\."),Et=[{regex:f,indices:{bucket:1,path:3},postModify:function(Ct){"/"===Ct.path.charAt(Ct.path.length-1)&&(Ct.path_=Ct.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${R}/v[A-Za-z0-9_]+/b/${s}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:C},{regex:new RegExp(`^https?://${e===RE?"(?:storage.googleapis.com|storage.cloud.google.com)":e}/${s}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:C}];for(let Ct=0;Ct<Et.length;Ct++){const Ln=Et[Ct],Ci=Ln.regex.exec(t);if(Ci){let Ha=Ci[Ln.indices.path];Ha||(Ha=""),i=new Ys(Ci[Ln.indices.bucket],Ha),Ln.postModify(i);break}}if(null==i)throw new Ni("invalid-url","Invalid URL '"+t+"'.");return i}}class Ym{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}function Zs(n){return"string"==typeof n||n instanceof String}function dA(n){return Zm()&&n instanceof Blob}function Zm(){return"undefined"!=typeof Blob}function LE(n,t,e,i){if(i<t)throw $m(`Invalid value for '${n}'. Expected ${t} or greater.`);if(i>e)throw $m(`Invalid value for '${n}'. Expected ${e} or less.`)}function Ou(n,t,e){let i=t;return null==e&&(i=`https://${t}`),`${e}://${i}/v0${n}`}function Cb(n){const t=encodeURIComponent;let e="?";for(const i in n)n.hasOwnProperty(i)&&(e=e+(t(i)+"=")+t(n[i])+"&");return e=e.slice(0,-1),e}var Pu=(()=>{return(n=Pu||(Pu={}))[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT",Pu;var n})();class hA{constructor(t,e,i,s,a,u,f,g,C,x,R){this.url_=t,this.method_=e,this.headers_=i,this.body_=s,this.successCodes_=a,this.additionalRetryCodes_=u,this.callback_=f,this.errorCallback_=g,this.timeout_=C,this.progressCallback_=x,this.connectionFactory_=R,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((G,ee)=>{this.resolve_=G,this.reject_=ee,this.start_()})}start_(){const e=(i,s)=>{const a=this.resolve_,u=this.reject_,f=s.connection;if(s.wasSuccessCode)try{const g=this.callback_(f,f.getResponse());void 0!==g?a(g):a()}catch(g){u(g)}else if(null!==f){const g=cA();g.serverResponse=f.getErrorText(),u(this.errorCallback_?this.errorCallback_(f,g):g)}else u(s.canceled?this.appDelete_?NE():fN():new Ni("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))};this.canceled_?e(0,new wb(!1,null,!0)):this.backoffId_=function(n,t,e){let i=1,s=null,a=null,u=!1,f=0;function g(){return 2===f}let C=!1;function x(...He){C||(C=!0,t.apply(null,He))}function R(He){s=setTimeout(()=>{s=null,n(ee,g())},He)}function G(){a&&clearTimeout(a)}function ee(He,...ht){if(C)return void G();if(He)return G(),void x.call(null,He,...ht);if(g()||u)return G(),void x.call(null,He,...ht);let Et;i<64&&(i*=2),1===f?(f=2,Et=0):Et=1e3*(i+Math.random()),R(Et)}let he=!1;function Fe(He){he||(he=!0,G(),!C&&(null!==s?(He||(f=2),clearTimeout(s),R(0)):He||(f=1)))}return R(0),a=setTimeout(()=>{u=!0,Fe(!0)},e),Fe}((i,s)=>{if(s)return void i(!1,new wb(!1,null,!0));const a=this.connectionFactory_();this.pendingConnection_=a;const u=f=>{null!==this.progressCallback_&&this.progressCallback_(f.loaded,f.lengthComputable?f.total:-1)};null!==this.progressCallback_&&a.addUploadProgressListener(u),a.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&a.removeUploadProgressListener(u),this.pendingConnection_=null;const f=a.getErrorCode()===Pu.NO_ERROR,g=a.getStatus();if(!f||this.isRetryStatusCode_(g)){const x=a.getErrorCode()===Pu.ABORT;return void i(!1,new wb(!1,null,x))}const C=-1!==this.successCodes_.indexOf(g);i(!0,new wb(C,a))})},e,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingConnection_&&this.pendingConnection_.abort()}isRetryStatusCode_(t){const e=t>=500&&t<600,s=-1!==[408,429].indexOf(t),a=-1!==this.additionalRetryCodes_.indexOf(t);return e||s||a}}class wb{constructor(t,e,i){this.wasSuccessCode=t,this.connection=e,this.canceled=!!i}}function mA(...n){const t="undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0;if(void 0!==t){const e=new t;for(let i=0;i<n.length;i++)e.append(n[i]);return e.getBlob()}if(Zm())return new Blob(n);throw new Ni("unsupported-environment","This browser doesn't seem to support creating Blobs")}const sr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class UE{constructor(t,e){this.data=t,this.contentType=e||null}}function _A(n,t){switch(n){case sr.RAW:return new UE(yA(t));case sr.BASE64:case sr.BASE64URL:return new UE(vA(n,t));case sr.DATA_URL:return new UE(function(n){const t=new bA(n);return t.base64?vA(sr.BASE64,t.rest):function(n){let t;try{t=decodeURIComponent(n)}catch(e){throw vb(sr.DATA_URL,"Malformed data URL.")}return yA(t)}(t.rest)}(t),function(n){return new bA(n).contentType}(t))}throw cA()}function yA(n){const t=[];for(let e=0;e<n.length;e++){let i=n.charCodeAt(e);i<=127?t.push(i):i<=2047?t.push(192|i>>6,128|63&i):55296==(64512&i)?e<n.length-1&&56320==(64512&n.charCodeAt(e+1))?(i=65536|(1023&i)<<10|1023&n.charCodeAt(++e),t.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|63&i)):t.push(239,191,189):56320==(64512&i)?t.push(239,191,189):t.push(224|i>>12,128|i>>6&63,128|63&i)}return new Uint8Array(t)}function vA(n,t){switch(n){case sr.BASE64:{const s=-1!==t.indexOf("-"),a=-1!==t.indexOf("_");if(s||a)throw vb(n,"Invalid character '"+(s?"-":"_")+"' found: is it base64url encoded?");break}case sr.BASE64URL:{const s=-1!==t.indexOf("+"),a=-1!==t.indexOf("/");if(s||a)throw vb(n,"Invalid character '"+(s?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let e;try{e=function(n){return atob(n)}(t)}catch(s){throw vb(n,"Invalid character found")}const i=new Uint8Array(e.length);for(let s=0;s<e.length;s++)i[s]=e.charCodeAt(s);return i}class bA{constructor(t){this.base64=!1,this.contentType=null;const e=t.match(/^data:([^,]+)?,/);if(null===e)throw vb(sr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=e[1]||null;null!=i&&(this.base64=function(n,t){return n.length>=t.length&&n.substring(n.length-t.length)===t}(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-";base64".length):i),this.rest=t.substring(t.indexOf(",")+1)}}class Yl{constructor(t,e){let i=0,s="";dA(t)?(this.data_=t,i=t.size,s=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),i=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),i=t.length),this.size_=i,this.type_=s}size(){return this.size_}type(){return this.type_}slice(t,e){if(dA(this.data_)){const s=function(n,t,e){return n.webkitSlice?n.webkitSlice(t,e):n.mozSlice?n.mozSlice(t,e):n.slice?n.slice(t,e):null}(this.data_,t,e);return null===s?null:new Yl(s)}{const i=new Uint8Array(this.data_.buffer,t,e-t);return new Yl(i,!0)}}static getBlob(...t){if(Zm()){const e=t.map(i=>i instanceof Yl?i.data_:i);return new Yl(mA.apply(null,e))}{const e=t.map(u=>Zs(u)?_A(sr.RAW,u).data:u.data_);let i=0;e.forEach(u=>{i+=u.byteLength});const s=new Uint8Array(i);let a=0;return e.forEach(u=>{for(let f=0;f<u.length;f++)s[a++]=u[f]}),new Yl(s,!0)}}uploadData(){return this.data_}}function jE(n){let t;try{t=JSON.parse(n)}catch(e){return null}return function(n){return"object"==typeof n&&!Array.isArray(n)}(t)?t:null}function wA(n){const t=n.lastIndexOf("/",n.length-2);return-1===t?n:n.slice(t+1)}function Nj(n,t){return t}class Ws{constructor(t,e,i,s){this.server=t,this.local=e||t,this.writable=!!i,this.xform=s||Nj}}let Wm=null;function Km(){if(Wm)return Wm;const n=[];n.push(new Ws("bucket")),n.push(new Ws("generation")),n.push(new Ws("metageneration")),n.push(new Ws("name","fullPath",!0));const e=new Ws("name");e.xform=function(a,u){return function(n){return!Zs(n)||n.length<2?n:wA(n)}(u)},n.push(e);const s=new Ws("size");return s.xform=function(a,u){return void 0!==u?Number(u):u},n.push(s),n.push(new Ws("timeCreated")),n.push(new Ws("updated")),n.push(new Ws("md5Hash",null,!0)),n.push(new Ws("cacheControl",null,!0)),n.push(new Ws("contentDisposition",null,!0)),n.push(new Ws("contentEncoding",null,!0)),n.push(new Ws("contentLanguage",null,!0)),n.push(new Ws("contentType",null,!0)),n.push(new Ws("metadata","customMetadata",!0)),Wm=n,Wm}function Eb(n,t,e){const i=jE(t);return null===i?null:function(n,t,e){const i={type:"file"},s=e.length;for(let a=0;a<s;a++){const u=e[a];i[u.local]=u.xform(i,t[u.server])}return function(n,t){Object.defineProperty(n,"ref",{get:function(){const a=new Ys(n.bucket,n.fullPath);return t._makeStorageReference(a)}})}(i,n),i}(n,i,e)}function HE(n,t){const e={},i=t.length;for(let s=0;s<i;s++){const a=t[s];a.writable&&(e[a.server]=n[a.local])}return JSON.stringify(e)}const TA="prefixes";class Zl{constructor(t,e,i,s){this.url=t,this.method=e,this.handler=i,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Wl(n){if(!n)throw cA()}function Db(n,t){return function(i,s){const a=Eb(n,s,t);return Wl(null!==a),a}}function jp(n){return function(e,i){let s;return s=401===e.getStatus()?e.getErrorText().includes("Firebase App Check token is invalid")?new Ni("unauthorized-app","This app does not have permission to access Firebase Storage on this project."):new Ni("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===e.getStatus()?function(n){return new Ni("quota-exceeded","Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(n.bucket):403===e.getStatus()?function(n){return new Ni("unauthorized","User does not have permission to access '"+n+"'.")}(n.path):i,s.serverResponse=i.serverResponse,s}}function Hp(n){const t=jp(n);return function(i,s){let a=t(i,s);return 404===i.getStatus()&&(a=function(n){return new Ni("object-not-found","Object '"+n+"' does not exist.")}(n.path)),a.serverResponse=s.serverResponse,a}}function kN(n,t,e){const s=Ou(t.fullServerUrl(),n.host,n._protocol),u=n.maxOperationRetryTime,f=new Zl(s,"GET",Db(n,e),u);return f.errorHandler=Hp(t),f}function Vj(n,t,e,i,s){const a={};a.prefix=t.isRoot?"":t.path+"/",e&&e.length>0&&(a.delimiter=e),i&&(a.pageToken=i),s&&(a.maxResults=s);const f=Ou(t.bucketOnlyServerUrl(),n.host,n._protocol),C=n.maxOperationRetryTime,x=new Zl(f,"GET",function(n,t){return function(i,s){const a=function(n,t,e){const i=jE(e);return null===i?null:function(n,t,e){const i={prefixes:[],items:[],nextPageToken:e.nextPageToken};if(e[TA])for(const s of e[TA]){const a=s.replace(/\/$/,""),u=n._makeStorageReference(new Ys(t,a));i.prefixes.push(u)}if(e.items)for(const s of e.items){const a=n._makeStorageReference(new Ys(t,s.name));i.items.push(a)}return i}(n,t,i)}(n,t,s);return Wl(null!==a),a}}(n,t.bucket),C);return x.urlParams=a,x.errorHandler=jp(t),x}function zE(n,t,e){const i=Object.assign({},e);return i.fullPath=n.path,i.size=t.size(),i.contentType||(i.contentType=function(n,t){return t&&t.type()||"application/octet-stream"}(0,t)),i}class Qh{constructor(t,e,i,s){this.current=t,this.total=e,this.finalized=!!i,this.metadata=s||null}}function GE(n,t){let e=null;try{e=n.getResponseHeader("X-Goog-Upload-Status")}catch(s){Wl(!1)}return Wl(!!e&&-1!==(t||["active"]).indexOf(e)),e}const $E={STATE_CHANGED:"state_changed"},Ns={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function YE(n){switch(n){case"running":case"pausing":case"canceling":return Ns.RUNNING;case"paused":return Ns.PAUSED;case"success":return Ns.SUCCESS;case"canceled":return Ns.CANCELED;case"error":default:return Ns.ERROR}}class Tb{constructor(t,e,i){if("function"==typeof t||null!=e||null!=i)this.next=t,this.error=null!=e?e:void 0,this.complete=null!=i?i:void 0;else{const a=t;this.next=a.next,this.error=a.error,this.complete=a.complete}}}function qp(n){return(...t)=>{Promise.resolve().then(()=>n(...t))}}class ds extends class{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Pu.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Pu.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Pu.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,e,i,s){if(this.sent_)throw bb("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(e,t,!0),void 0!==s)for(const a in s)s.hasOwnProperty(a)&&this.xhr_.setRequestHeader(a,s[a].toString());return void 0!==i?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw bb("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw bb("cannot .getStatus() before sending");try{return this.xhr_.status}catch(t){return-1}}getResponse(){if(!this.sent_)throw bb("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw bb("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",t)}}{initXhr(){this.xhr_.responseType="text"}}function Oc(){return new ds}class RA{constructor(t,e,i=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=e,this._metadata=i,this._mappings=Km(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=s=>{this._request=void 0,this._chunkMultiplier=1,s._codeEquals("canceled")?(this._needToFetchStatus=!0,this.completeTransitions_()):(this._error=s,this._transition("error"))},this._metadataErrorHandler=s=>{this._request=void 0,s._codeEquals("canceled")?this.completeTransitions_():(this._error=s,this._transition("error"))},this._promise=new Promise((s,a)=>{this._resolve=s,this._reject=a,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const t=this._transferred;return e=>this._updateProgress(t+e)}_shouldDoResumable(t){return t.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())}_resolveToken(t){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([e,i])=>{switch(this._state){case"running":t(e,i);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((t,e)=>{const i=function(n,t,e,i,s){const a=t.bucketOnlyServerUrl(),u=zE(t,i,s),f={name:u.fullPath},g=Ou(a,n.host,n._protocol),x={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${i.size()}`,"X-Goog-Upload-Header-Content-Type":u.contentType,"Content-Type":"application/json; charset=utf-8"},R=HE(u,e),he=new Zl(g,"POST",function(Fe){let He;GE(Fe);try{He=Fe.getResponseHeader("X-Goog-Upload-URL")}catch(ht){Wl(!1)}return Wl(Zs(He)),He},n.maxUploadRetryTime);return he.urlParams=f,he.headers=x,he.body=R,he.errorHandler=jp(t),he}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),s=this._ref.storage._makeRequest(i,Oc,t,e);this._request=s,s.getPromise().then(a=>{this._request=void 0,this._uploadUrl=a,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const t=this._uploadUrl;this._resolveToken((e,i)=>{const s=function(n,t,e,i){const g=new Zl(e,"POST",function(C){const x=GE(C,["active","final"]);let R=null;try{R=C.getResponseHeader("X-Goog-Upload-Size-Received")}catch(ee){Wl(!1)}R||Wl(!1);const G=Number(R);return Wl(!isNaN(G)),new Qh(G,i.size(),"final"===x)},n.maxUploadRetryTime);return g.headers={"X-Goog-Upload-Command":"query"},g.errorHandler=jp(t),g}(this._ref.storage,this._ref._location,t,this._blob),a=this._ref.storage._makeRequest(s,Oc,e,i);this._request=a,a.getPromise().then(u=>{u=u,this._request=void 0,this._updateProgress(u.current),this._needToFetchStatus=!1,u.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const t=262144*this._chunkMultiplier,e=new Qh(this._transferred,this._blob.size()),i=this._uploadUrl;this._resolveToken((s,a)=>{let u;try{u=function(n,t,e,i,s,a,u,f){const g=new Qh(0,0);if(u?(g.current=u.current,g.total=u.total):(g.current=0,g.total=i.size()),i.size()!==g.total)throw new Ni("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");const C=g.total-g.current;let x=C;s>0&&(x=Math.min(x,s));const R=g.current,he={"X-Goog-Upload-Command":x===C?"upload, finalize":"upload","X-Goog-Upload-Offset":`${g.current}`},Fe=i.slice(R,R+x);if(null===Fe)throw gN();const Et=new Zl(e,"POST",function(Ct,Ln){const Ci=GE(Ct,["active","final"]),wr=g.current+x,Ha=i.size();let ic;return ic="final"===Ci?Db(t,a)(Ct,Ln):null,new Qh(wr,Ha,"final"===Ci,ic)},t.maxUploadRetryTime);return Et.headers=he,Et.body=Fe.uploadData(),Et.progressCallback=f||null,Et.errorHandler=jp(n),Et}(this._ref._location,this._ref.storage,i,this._blob,t,this._mappings,e,this._makeProgressCallback())}catch(g){return this._error=g,void this._transition("error")}const f=this._ref.storage._makeRequest(u,Oc,s,a);this._request=f,f.getPromise().then(g=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(g.current),g.finalized?(this._metadata=g.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((t,e)=>{const i=kN(this._ref.storage,this._ref._location,this._mappings),s=this._ref.storage._makeRequest(i,Oc,t,e);this._request=s,s.getPromise().then(a=>{this._request=void 0,this._metadata=a,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((t,e)=>{const i=function(n,t,e,i,s){const a=t.bucketOnlyServerUrl(),u={"X-Goog-Upload-Protocol":"multipart"},g=function(){let Et="";for(let Ct=0;Ct<2;Ct++)Et+=Math.random().toString().slice(2);return Et}();u["Content-Type"]="multipart/related; boundary="+g;const C=zE(t,i,s),x=HE(C,e),ee=Yl.getBlob("--"+g+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+x+"\r\n--"+g+"\r\nContent-Type: "+C.contentType+"\r\n\r\n",i,"\r\n--"+g+"--");if(null===ee)throw gN();const he={name:C.fullPath},Fe=Ou(a,n.host,n._protocol),ht=n.maxUploadRetryTime,mt=new Zl(Fe,"POST",Db(n,e),ht);return mt.urlParams=he,mt.headers=u,mt.body=ee.uploadData(),mt.errorHandler=jp(t),mt}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),s=this._ref.storage._makeRequest(i,Oc,t,e);this._request=s,s.getPromise().then(a=>{this._request=void 0,this._metadata=a,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(t){const e=this._transferred;this._transferred=t,this._transferred!==e&&this._notifyObservers()}_transition(t){if(this._state!==t)switch(t){case"canceling":case"pausing":this._state=t,void 0!==this._request&&this._request.cancel();break;case"running":const e="paused"===this._state;this._state=t,e&&(this._notifyObservers(),this._start());break;case"paused":this._state=t,this._notifyObservers();break;case"canceled":this._error=fN(),this._state=t,this._notifyObservers();break;case"error":case"success":this._state=t,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const t=YE(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:t,metadata:this._metadata,task:this,ref:this._ref}}on(t,e,i,s){const a=new Tb(e||void 0,i||void 0,s||void 0);return this._addObserver(a),()=>{this._removeObserver(a)}}then(t,e){return this._promise.then(t,e)}catch(t){return this.then(null,t)}_addObserver(t){this._observers.push(t),this._notifyObserver(t)}_removeObserver(t){const e=this._observers.indexOf(t);-1!==e&&this._observers.splice(e,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(e=>{this._notifyObserver(e)})}_finishPromise(){if(void 0!==this._resolve){let t=!0;switch(YE(this._state)){case Ns.SUCCESS:qp(this._resolve.bind(null,this.snapshot))();break;case Ns.CANCELED:case Ns.ERROR:qp(this._reject.bind(null,this._error))();break;default:t=!1}t&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(t){switch(YE(this._state)){case Ns.RUNNING:case Ns.PAUSED:t.next&&qp(t.next.bind(t,this.snapshot))();break;case Ns.SUCCESS:t.complete&&qp(t.complete.bind(t))();break;case Ns.CANCELED:case Ns.ERROR:t.error&&qp(t.error.bind(t,this._error))();break;default:t.error&&qp(t.error.bind(t,this._error))()}}resume(){const t="paused"===this._state||"pausing"===this._state;return t&&this._transition("running"),t}pause(){const t="running"===this._state;return t&&this._transition("pausing"),t}cancel(){const t="running"===this._state||"pausing"===this._state;return t&&this._transition("canceling"),t}}class zp{constructor(t,e){this._service=t,this._location=e instanceof Ys?e:Ys.makeFromUrl(e,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,e){return new zp(t,e)}get root(){const t=new Ys(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return wA(this._location.path)}get storage(){return this._service}get parent(){const t=function(n){if(0===n.length)return null;const t=n.lastIndexOf("/");return-1===t?"":n.slice(0,t)}(this._location.path);if(null===t)return null;const e=new Ys(this._location.bucket,t);return new zp(this._service,e)}_throwIfRoot(t){if(""===this._location.path)throw uA(t)}}function PA(n,t,e){return NA.apply(this,arguments)}function NA(){return(NA=(0,Je.Z)(function*(n,t,e){const s=yield FA(n,{pageToken:e});t.prefixes.push(...s.prefixes),t.items.push(...s.items),null!=s.nextPageToken&&(yield PA(n,t,s.nextPageToken))})).apply(this,arguments)}function FA(n,t){null!=t&&"number"==typeof t.maxResults&&LE("options.maxResults",1,1e3,t.maxResults);const e=t||{},i=Vj(n.storage,n._location,"/",e.pageToken,e.maxResults);return n.storage.makeRequestWithTokens(i,Oc)}function qj(n){n._throwIfRoot("getDownloadURL");const t=function(n,t,e){const s=Ou(t.fullServerUrl(),n.host,n._protocol),u=n.maxOperationRetryTime,f=new Zl(s,"GET",function(n,t){return function(i,s){const a=Eb(n,s,t);return Wl(null!==a),function(n,t,e,i){const s=jE(t);if(null===s||!Zs(s.downloadTokens))return null;const a=s.downloadTokens;if(0===a.length)return null;const u=encodeURIComponent;return a.split(",").map(C=>{const R=n.fullPath;return Ou("/b/"+u(n.bucket)+"/o/"+u(R),e,i)+Cb({alt:"media",token:C})})[0]}(a,s,n.host,n._protocol)}}(n,e),u);return f.errorHandler=Hp(t),f}(n.storage,n._location,Km());return n.storage.makeRequestWithTokens(t,Oc).then(e=>{if(null===e)throw new Ni("no-download-url","The given file does not have any download URLs.");return e})}function LA(n,t){const e=function(n,t){const e=t.split("/").filter(i=>i.length>0).join("/");return 0===n.length?e:n+"/"+e}(n._location.path,t),i=new Ys(n._location.bucket,e);return new zp(n.storage,i)}function VA(n,t){if(n instanceof ZE){const e=n;if(null==e._bucket)throw new Ni("no-default-bucket","No default bucket found. Did you set the '"+OE+"' property when initializing the app?");const i=new zp(e,e._bucket);return null!=t?VA(i,t):i}return void 0!==t?LA(n,t):n}function HN(n,t){if(t&&function(n){return/^[A-Za-z]+:\/\//.test(n)}(t)){if(n instanceof ZE)return function(n,t){return new zp(n,t)}(n,t);throw $m("To use ref(service, url), the first argument must be a Storage instance.")}return VA(n,t)}function hl(n,t){const e=null==t?void 0:t[OE];return null==e?null:Ys.makeFromBucketSpec(e,n)}class ZE{constructor(t,e,i,s,a){this.app=t,this._authProvider=e,this._appCheckProvider=i,this._url=s,this._firebaseVersion=a,this._bucket=null,this._host=RE,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=s?Ys.makeFromBucketSpec(s,this._host):hl(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._bucket=null!=this._url?Ys.makeFromBucketSpec(this._url,t):hl(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){LE("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){LE("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}_getAuthToken(){var t=this;return(0,Je.Z)(function*(){if(t._overrideAuthToken)return t._overrideAuthToken;const e=t._authProvider.getImmediate({optional:!0});if(e){const i=yield e.getToken();if(null!==i)return i.accessToken}return null})()}_getAppCheckToken(){var t=this;return(0,Je.Z)(function*(){const e=t._appCheckProvider.getImmediate({optional:!0});return e?(yield e.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new zp(this,t)}_makeRequest(t,e,i,s){if(this._deleted)return new Ym(NE());{const a=function(n,t,e,i,s,a){const u=Cb(n.urlParams),f=n.url+u,g=Object.assign({},n.headers);return function(n,t){t&&(n["X-Firebase-GMPID"]=t)}(g,t),function(n,t){null!==t&&t.length>0&&(n.Authorization="Firebase "+t)}(g,e),function(n,t){n["X-Firebase-Storage-Version"]="webjs/"+(null!=t?t:"AppManager")}(g,a),function(n,t){null!==t&&(n["X-Firebase-AppCheck"]=t)}(g,i),new hA(f,n.method,g,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,s)}(t,this._appId,i,s,e,this._firebaseVersion);return this._requests.add(a),a.getPromise().then(()=>this._requests.delete(a),()=>this._requests.delete(a)),a}}makeRequestWithTokens(t,e){var i=this;return(0,Je.Z)(function*(){const[s,a]=yield Promise.all([i._getAuthToken(),i._getAppCheckToken()]);return i._makeRequest(t,e,s,a).getPromise()})()}}const BA="@firebase/storage";function Ib(n,t){return HN(n=(0,oe.m9)(n),t)}(0,vo._registerComponent)(new dl.wA("storage",function(n,{instanceIdentifier:t}){const e=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),s=n.getProvider("app-check-internal");return new ZE(e,i,s,t,vo.SDK_VERSION)},"PUBLIC").setMultipleInstances(!0)),(0,vo.registerVersion)(BA,"0.9.2",""),(0,vo.registerVersion)(BA,"0.9.2","esm2017");class Wo{constructor(t,e,i){this._delegate=t,this.task=e,this.ref=i}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class KN{constructor(t,e){this._delegate=t,this._ref=e,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new Wo(this._delegate.snapshot,this,this._ref)}then(t,e){return this._delegate.then(i=>{if(t)return t(new Wo(i,this,this._ref))},e)}on(t,e,i,s){let a;return e&&(a="function"==typeof e?u=>e(new Wo(u,this,this._ref)):{next:e.next?u=>e.next(new Wo(u,this,this._ref)):void 0,complete:e.complete||void 0,error:e.error||void 0}),this._delegate.on(t,a,i||void 0,s||void 0)}}class WE{constructor(t,e){this._delegate=t,this._service=e}get prefixes(){return this._delegate.prefixes.map(t=>new Nu(t,this._service))}get items(){return this._delegate.items.map(t=>new Nu(t,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class Nu{constructor(t,e){this._delegate=t,this.storage=e}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(t){const e=function(n,t){return LA(n,t)}(this._delegate,t);return new Nu(e,this.storage)}get root(){return new Nu(this._delegate.root,this.storage)}get parent(){const t=this._delegate.parent;return null==t?null:new Nu(t,this.storage)}put(t,e){return this._throwIfRoot("put"),new KN(function(n,t,e){return function(n,t,e){return n._throwIfRoot("uploadBytesResumable"),new RA(n,new Yl(t),e)}(n=(0,oe.m9)(n),t,e)}(this._delegate,t,e),this)}putString(t,e=sr.RAW,i){this._throwIfRoot("putString");const s=_A(e,t),a=Object.assign({},i);return null==a.contentType&&null!=s.contentType&&(a.contentType=s.contentType),new KN(new RA(this._delegate,new Yl(s.data,!0),a),this)}listAll(){return(n=this._delegate,function(n){const t={prefixes:[],items:[]};return PA(n,t).then(()=>t)}(n=(0,oe.m9)(n))).then(t=>new WE(t,this.storage));var n}list(t){return function(n,t){return FA(n=(0,oe.m9)(n),t)}(this._delegate,t||void 0).then(e=>new WE(e,this.storage))}getMetadata(){return function(n){n._throwIfRoot("getMetadata");const t=kN(n.storage,n._location,Km());return n.storage.makeRequestWithTokens(t,Oc)}((0,oe.m9)(this._delegate))}updateMetadata(t){return function(n,t){return function(n,t){n._throwIfRoot("updateMetadata");const e=function(n,t,e,i){const a=Ou(t.fullServerUrl(),n.host,n._protocol),f=HE(e,i),C=n.maxOperationRetryTime,x=new Zl(a,"PATCH",Db(n,i),C);return x.headers={"Content-Type":"application/json; charset=utf-8"},x.body=f,x.errorHandler=Hp(t),x}(n.storage,n._location,t,Km());return n.storage.makeRequestWithTokens(e,Oc)}(n=(0,oe.m9)(n),t)}(this._delegate,t)}getDownloadURL(){return qj((0,oe.m9)(this._delegate))}delete(){return this._throwIfRoot("delete"),function(n){n._throwIfRoot("deleteObject");const t=function(n,t){const i=Ou(t.fullServerUrl(),n.host,n._protocol),f=new Zl(i,"DELETE",function(g,C){},n.maxOperationRetryTime);return f.successCodes=[200,204],f.errorHandler=Hp(t),f}(n.storage,n._location);return n.storage.makeRequestWithTokens(t,Oc)}((0,oe.m9)(this._delegate))}_throwIfRoot(t){if(""===this._delegate._location.path)throw uA(t)}}class KE{constructor(t,e){this.app=t,this._delegate=e}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(t){if(QE(t))throw $m("ref() expected a child path but got a URL, use refFromURL instead.");return new Nu(Ib(this._delegate,t),this)}refFromURL(t){if(!QE(t))throw $m("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Ys.makeFromUrl(t,this._delegate.host)}catch(e){throw $m("refFromUrl() expected a valid full URL but got an invalid one.")}return new Nu(Ib(this._delegate,t),this)}setMaxUploadRetryTime(t){this._delegate.maxUploadRetryTime=t}setMaxOperationRetryTime(t){this._delegate.maxOperationRetryTime=t}useEmulator(t,e,i={}){!function(n,t,e,i={}){!function(n,t,e,i={}){n.host=`${t}:${e}`,n._protocol="http";const{mockUserToken:s}=i;s&&(n._overrideAuthToken="string"==typeof s?s:(0,oe.Sg)(s,n.app.options.projectId))}(n,t,e,i)}(this._delegate,t,e,i)}}function QE(n){return/^[A-Za-z]+:\/\//.test(n)}function eD(n,{instanceIdentifier:t}){const e=n.getProvider("app-compat").getImmediate(),i=n.getProvider("storage").getImmediate({identifier:t});return new KE(e,i)}!function(n){const t={TaskState:Ns,TaskEvent:$E,StringFormat:sr,Storage:KE,Reference:Nu};n.INTERNAL.registerComponent(new dl.wA("storage-compat",eD,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),n.registerVersion("@firebase/storage-compat","0.1.10")}(mb.Z),M(2329);var Qo=M(5422);const GA=new Map,tF={activated:!1,tokenObservers:[]},nF={initialized:!1,enabled:!1};function hs(n){return GA.get(n)||tF}function fl(n,t){GA.set(n,t)}function Rb(){return nF}class sF{constructor(t,e,i,s,a){if(this.operation=t,this.retryPolicy=e,this.getWaitDuration=i,this.lowerBound=s,this.upperBound=a,this.pending=null,this.nextErrorWaitInterval=s,s>a)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(t){var e=this;return(0,Je.Z)(function*(){e.stop();try{e.pending=new oe.BH,yield(n=e.getNextRun(t),new Promise(t=>{setTimeout(t,n)})),e.pending.resolve(),yield e.pending.promise,e.pending=new oe.BH,yield e.operation(),e.pending.resolve(),yield e.pending.promise,e.process(!0).catch(()=>{})}catch(i){e.retryPolicy(i)?e.process(!1).catch(()=>{}):e.stop()}var n})()}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e}}}const bo=new oe.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function oD(n){if(!hs(n).activated)throw bo.create("use-before-activation",{appName:n.name})}function Kl(n,t){return Jh.apply(this,arguments)}function Jh(){return(Jh=(0,Je.Z)(function*({url:n,body:t},e){const i={"Content-Type":"application/json"},s=e.getImmediate({optional:!0});s&&(i["X-Firebase-Client"]=s.getPlatformInfoString());const a={method:"POST",body:JSON.stringify(t),headers:i};let u,f;try{u=yield fetch(n,a)}catch(R){throw bo.create("fetch-network-error",{originalErrorMessage:R.message})}if(200!==u.status)throw bo.create("fetch-status-error",{httpStatus:u.status});try{f=yield u.json()}catch(R){throw bo.create("fetch-parse-error",{originalErrorMessage:R.message})}const g=f.ttl.match(/^([\d.]+)(s)$/);if(!g||!g[2]||isNaN(Number(g[1])))throw bo.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${f.ttl}`});const C=1e3*Number(g[1]),x=Date.now();return{token:f.attestationToken,expireTimeMillis:x+C,issuedAtTimeMillis:x}})).apply(this,arguments)}function $p(n,t){const{projectId:e,appId:i,apiKey:s}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1beta/projects/${e}/apps/${i}:exchangeDebugToken?key=${s}`,body:{debug_token:t}}}const i_="firebase-app-check-store";let r_=null;function cD(){return r_||(r_=new Promise((n,t)=>{try{const e=indexedDB.open("firebase-app-check-database",1);e.onsuccess=i=>{n(i.target.result)},e.onerror=i=>{var s;t(bo.create("storage-open",{originalErrorMessage:null===(s=i.target.error)||void 0===s?void 0:s.message}))},e.onupgradeneeded=i=>{const s=i.target.result;switch(i.oldVersion){case 0:s.createObjectStore(i_,{keyPath:"compositeKey"})}}}catch(e){t(bo.create("storage-open",{originalErrorMessage:e.message}))}}),r_)}function Fu(){return(Fu=(0,Je.Z)(function*(n,t){const i=(yield cD()).transaction(i_,"readwrite"),a=i.objectStore(i_).put({compositeKey:n,value:t});return new Promise((u,f)=>{a.onsuccess=g=>{u()},i.onerror=g=>{var C;f(bo.create("storage-set",{originalErrorMessage:null===(C=g.target.error)||void 0===C?void 0:C.message}))}})})).apply(this,arguments)}const Lb=new Qo.Yd("@firebase/app-check");function hF(n,t){return(0,oe.hl)()?function(n,t){return function(n,t){return Fu.apply(this,arguments)}(function(n){return`${n.options.appId}-${n.name}`}(n),t)}(n,t).catch(e=>{Lb.warn(`Failed to write token to IndexedDB. Error: ${e}`)}):Promise.resolve()}function pF(){return Rb().enabled}function gF(){return WA.apply(this,arguments)}function WA(){return(WA=(0,Je.Z)(function*(){const n=Rb();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const mF={error:"UNKNOWN_ERROR"};function o6(n){return oe.US.encodeString(JSON.stringify(n),!1)}function pD(n){return KA.apply(this,arguments)}function KA(){return(KA=(0,Je.Z)(function*(n,t=!1){const e=n.app;oD(e);const i=hs(e);let a,s=i.token;if(!s){const g=yield i.cachedTokenPromise;g&&h(g)&&(s=g)}if(!t&&s&&h(s))return{token:s.token};let f,u=!1;if(pF()){i.exchangeTokenPromise||(i.exchangeTokenPromise=Kl($p(e,yield gF()),n.platformLoggerProvider).then(C=>(i.exchangeTokenPromise=void 0,C)),u=!0);const g=yield i.exchangeTokenPromise;return yield hF(e,g),fl(e,Object.assign(Object.assign({},i),{token:g})),{token:g.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().then(g=>(i.exchangeTokenPromise=void 0,g)),u=!0),s=yield i.exchangeTokenPromise}catch(g){"appCheck/throttled"===g.code?Lb.warn(g.message):Lb.error(g),a=g}return s?(f={token:s.token},fl(e,Object.assign(Object.assign({},i),{token:s})),yield hF(e,s)):f=p(a),u&&d(e,f),f})).apply(this,arguments)}function o(n,t){const e=hs(n),i=e.tokenObservers.filter(s=>s.next!==t);0===i.length&&e.tokenRefresher&&e.tokenRefresher.isRunning()&&e.tokenRefresher.stop(),fl(n,Object.assign(Object.assign({},e),{tokenObservers:i}))}function l(n){const{app:t}=n,e=hs(t);let i=e.tokenRefresher;i||(i=function(n){const{app:t}=n;return new sF((0,Je.Z)(function*(){let i;if(i=hs(t).token?yield pD(n,!0):yield pD(n),i.error)throw i.error}),()=>!0,()=>{const e=hs(t);if(e.token){let i=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,e.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},3e4,96e4)}(n),fl(t,Object.assign(Object.assign({},e),{tokenRefresher:i}))),!i.isRunning()&&e.isTokenAutoRefreshEnabled&&i.start()}function d(n,t){const e=hs(n).tokenObservers;for(const i of e)try{"EXTERNAL"===i.type&&null!=t.error?i.error(t.error):i.next(t)}catch(s){}}function h(n){return n.expireTimeMillis-Date.now()>0}function p(n){return{token:o6(mF),error:n}}class y{constructor(t,e){this.app=t,this.platformLoggerProvider=e}_delete(){const{tokenObservers:t}=hs(this.app);for(const e of t)o(this.app,e.next);return Promise.resolve()}}const a6="app-check-internal";(0,vo._registerComponent)(new dl.wA("app-check",n=>function(n,t){return new y(n,t)}(n.getProvider("app").getImmediate(),n.getProvider("platform-logger")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,t,e)=>{n.getProvider(a6).initialize()})),(0,vo._registerComponent)(new dl.wA(a6,n=>function(n){return{getToken:t=>pD(n,t),addTokenListener:t=>function(n,t,e,i){const{app:s}=n,a=hs(s),u={next:e,error:i,type:t};if(fl(s,Object.assign(Object.assign({},a),{tokenObservers:[...a.tokenObservers,u]})),a.token&&h(a.token)){const f=a.token;Promise.resolve().then(()=>{e({token:f.token}),l(n)}).catch(()=>{})}a.cachedTokenPromise.then(()=>l(n))}(n,"INTERNAL",t),removeTokenListener:t=>o(n.app,t)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,vo.registerVersion)("@firebase/app-check","0.5.3");class mD{constructor(){return(0,$n.vb)("app-check")}}"undefined"!=typeof window&&window;var vF=M(7841);function c6(n){const t=function(n){return new Bn.y(t=>{const e=u=>t.next(u);e(n.snapshot);const a=n.on("state_changed",e);return n.then(u=>{e(u),t.complete()},u=>{e(n.snapshot),(u=>{t.error(u)})(u)}),function(){a()}}).pipe(Jy(0))}(n);return{task:n,then:n.then.bind(n),catch:n.catch.bind(n),pause:n.pause.bind(n),cancel:n.cancel.bind(n),resume:n.resume.bind(n),snapshotChanges:()=>t,percentageChanges:()=>t.pipe((0,At.U)(e=>e.bytesTransferred/e.totalBytes*100))}}function tM(n){return{getDownloadURL:()=>(0,ft.of)(void 0).pipe($n.fc,li(()=>n.getDownloadURL()),$n.iC),getMetadata:()=>(0,ft.of)(void 0).pipe($n.fc,li(()=>n.getMetadata()),$n.iC),delete:()=>(0,Gn.D)(n.delete()),child:t=>tM(n.child(t)),updateMetadata:t=>(0,Gn.D)(n.updateMetadata(t)),put:(t,e)=>c6(n.put(t,e)),putString:(t,e,i)=>c6(n.putString(t,e,i)),list:t=>(0,Gn.D)(n.list(t)),listAll:()=>(0,Gn.D)(n.listAll())}}const eZ=new r.OlP("angularfire2.storageBucket"),tZ=new r.OlP("angularfire2.storage.maxUploadRetryTime"),nZ=new r.OlP("angularfire2.storage.maxOperationRetryTime"),iZ=new r.OlP("angularfire2.storage.use-emulator");let u6=(()=>{class n{constructor(e,i,s,a,u,f,g,C,x,R){const G=(0,Zi.on)(e,u,i);this.storage=(0,Zi.cc)(`${G.name}.storage.${s}`,"AngularFireStorage",G.name,()=>{const ee=u.runOutsideAngular(()=>G.storage(s||void 0)),he=x;return he&&ee.useEmulator(...he),g&&ee.setMaxUploadRetryTime(g),C&&ee.setMaxOperationRetryTime(C),ee},[g,C])}ref(e){return tM(this.storage.ref(e))}refFromURL(e){return tM(this.storage.refFromURL(e))}upload(e,i,s){return tM(this.storage.ref(e)).put(i,s)}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(Zi.Dh),r.LFG(Zi.xv,8),r.LFG(eZ,8),r.LFG(r.Lbi),r.LFG(r.R0b),r.LFG($n.HU),r.LFG(tZ,8),r.LFG(nZ,8),r.LFG(iZ,8),r.LFG(mD,8))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),d6=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({}),n})(),rZ=(()=>{class n{constructor(){vF.Z.registerVersion("angularfire",$n.q4.full,"gcs-compat")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({providers:[u6],imports:[d6]}),n})();class sZ extends yt.xQ{constructor(){super(...arguments),this.value=null,this.hasNext=!1,this.hasCompleted=!1}_subscribe(t){return this.hasError?(t.error(this.thrownError),Qn.w.EMPTY):this.hasCompleted&&this.hasNext?(t.next(this.value),t.complete(),Qn.w.EMPTY):super._subscribe(t)}next(t){this.hasCompleted||(this.value=t,this.hasNext=!0)}error(t){this.hasCompleted||super.error(t)}complete(){this.hasCompleted=!0,this.hasNext&&super.next(this.value),super.complete()}}class h6{}let _D=(()=>{class n extends class{constructor(){}loadScript(t,e,i,s=null){if("undefined"!=typeof document&&!document.getElementById(t)){let a=document.createElement("script");a.async=!0,a.src=e,a.onload=i,s||(s=document.head),s.appendChild(a)}}}{constructor(e,i={scope:"email"}){super(),this.clientId=e,this.initOptions=i}initialize(){return new Promise((e,i)=>{try{this.loadScript(n.PROVIDER_ID,"https://apis.google.com/js/platform.js",()=>{gapi.load("auth2",()=>{this.auth2=gapi.auth2.init(Object.assign(Object.assign({},this.initOptions),{client_id:this.clientId})),this.auth2.then(()=>{e()}).catch(s=>{i(s)})})})}catch(s){i(s)}})}getLoginStatus(e){const i=Object.assign(Object.assign({},this.initOptions),e);return new Promise((s,a)=>{if(this.auth2.isSignedIn.get()){let u=new h6;const f=this.auth2.currentUser.get().getBasicProfile(),g=this.auth2.currentUser.get().getAuthResponse(!0);u.id=f.getId(),u.name=f.getName(),u.email=f.getEmail(),u.photoUrl=f.getImageUrl(),u.firstName=f.getGivenName(),u.lastName=f.getFamilyName(),u.response=g;const C=x=>{u.authToken=x.access_token,u.idToken=x.id_token,s(u)};i.refreshToken?this.auth2.currentUser.get().reloadAuthResponse().then(C):C(this.auth2.currentUser.get().getAuthResponse(!0))}else a(`No user is currently logged in with ${n.PROVIDER_ID}`)})}signIn(e){const i=Object.assign(Object.assign({},this.initOptions),e);return new Promise((s,a)=>{(i&&i.offline_access?this.auth2.grantOfflineAccess(e):this.auth2.signIn(e)).then(g=>{let C=new h6;if(g&&g.code)C.authorizationCode=g.code;else{let x=this.auth2.currentUser.get().getBasicProfile(),R=this.auth2.currentUser.get().getAuthResponse(!0),G=R.access_token,ee=R.id_token;C.id=x.getId(),C.name=x.getName(),C.email=x.getEmail(),C.photoUrl=x.getImageUrl(),C.firstName=x.getGivenName(),C.lastName=x.getFamilyName(),C.authToken=G,C.idToken=ee,C.response=R}s(C)},g=>{a(g)}).catch(g=>{a(g)})})}signOut(e){return new Promise((i,s)=>{let a;a=e?this.auth2.disconnect():this.auth2.signOut(),a.then(u=>{u?s(u):i()}).catch(u=>{s(u)})})}}return n.PROVIDER_ID="GOOGLE",n})(),a_=(()=>{class n{constructor(e){this.providers=new Map,this.autoLogin=!1,this._user=null,this._authState=new Vk(1),this.initialized=!1,this._initState=new sZ,e instanceof Promise?e.then(i=>{this.initialize(i)}):this.initialize(e)}get authState(){return this._authState.asObservable()}get initState(){return this._initState.asObservable()}initialize(e){this.autoLogin=void 0!==e.autoLogin&&e.autoLogin;const{onError:i=console.error}=e;e.providers.forEach(s=>{this.providers.set(s.id,s.provider)}),Promise.all(Array.from(this.providers.values()).map(s=>s.initialize())).then(()=>{if(this.autoLogin){const s=[];let a=!1;this.providers.forEach((u,f)=>{let g=u.getLoginStatus();s.push(g),g.then(C=>{C.provider=f,this._user=C,this._authState.next(C),a=!0}).catch(console.debug)}),Promise.all(s).catch(()=>{a||(this._user=null,this._authState.next(null))})}}).catch(s=>{i(s)}).finally(()=>{this.initialized=!0,this._initState.next(this.initialized),this._initState.complete()})}refreshAuthToken(e){return new Promise((i,s)=>{if(this.initialized)if(e!==_D.PROVIDER_ID)s(n.ERR_NOT_SUPPORTED_FOR_REFRESH_TOKEN);else{const a=this.providers.get(e);a?a.getLoginStatus({refreshToken:!0}).then(u=>{u.provider=e,this._user=u,this._authState.next(u),i()}).catch(u=>{s(u)}):s(n.ERR_LOGIN_PROVIDER_NOT_FOUND)}else s(n.ERR_NOT_INITIALIZED)})}signIn(e,i){return new Promise((s,a)=>{if(this.initialized){let u=this.providers.get(e);u?u.signIn(i).then(f=>{f.provider=e,s(f),this._user=f,this._authState.next(f)}).catch(f=>{a(f)}):a(n.ERR_LOGIN_PROVIDER_NOT_FOUND)}else a(n.ERR_NOT_INITIALIZED)})}signOut(e=!1){return new Promise((i,s)=>{if(this.initialized)if(this._user){let u=this.providers.get(this._user.provider);u?u.signOut(e).then(()=>{i(),this._user=null,this._authState.next(null)}).catch(f=>{s(f)}):s(n.ERR_LOGIN_PROVIDER_NOT_FOUND)}else s(n.ERR_NOT_LOGGED_IN);else s(n.ERR_NOT_INITIALIZED)})}}return n.ERR_LOGIN_PROVIDER_NOT_FOUND="Login provider not found",n.ERR_NOT_LOGGED_IN="Not logged in",n.ERR_NOT_INITIALIZED="Login providers not ready yet. Are there errors on your console?",n.ERR_NOT_SUPPORTED_FOR_REFRESH_TOKEN="Chosen login provider is not supported for refreshing a token",n.\u0275fac=function(e){return new(e||n)(r.LFG("SocialAuthServiceConfig"))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac}),n})(),aZ=(()=>{class n{constructor(e){if(e)throw new Error("SocialLoginModule is already loaded. Import it in the AppModule only")}static initialize(e){return{ngModule:n,providers:[a_,{provide:"SocialAuthServiceConfig",useValue:e}]}}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(n,12))},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({providers:[a_],imports:[[Ue]]}),n})(),pl=(()=>{class n{constructor(e,i,s,a,u){this.fireStorage=e,this.httpClient=i,this.route=s,this.router=a,this.socialAuthService=u,this.urlBase="https://estoque-b8fb.restdb.io/rest/",this.urlBaseMail="https://estoque-b8fb.restdb.io/mail",this._listaCompra=new Md,this._compraFechada=!1,this.httpOptions={headers:new Rc({"Content-Type":"application/json","x-apikey":"61ccd120a807fd7408e107e7"})}}sendGetRequest(){return this.httpClient.get(this.urlBase+`estoque?q={"idLoja":"${this.usuario.idLoja}"}`,this.httpOptions)}sendGetRequestByCode(e){return this.httpClient.get(this.urlBase+`estoque?q={"barcode":"${e}","idLoja":"${this.usuario.idLoja}"}`,this.httpOptions)}sendDeleteRequest(e){return this.httpClient.delete(this.urlBase+`estoque/${e}`,this.httpOptions)}sendDeleteEstoqueRequest(){return this.httpClient.delete(this.urlBase+`estoque/*?q={"idLoja":"${this.usuario.idLoja}"}`,this.httpOptions)}sendPutRequest(e){return this.httpClient.put(this.urlBase+`estoque/${e._id}`,JSON.stringify(e),this.httpOptions)}sendPostRequest(e){return this.httpClient.post(this.urlBase+"estoque",JSON.stringify(e),this.httpOptions)}sendEmail(e,i){return this.httpClient.post(this.urlBaseMail,JSON.stringify({to:i,subject:"Segue seu cupom, seja sempre bem vindo",html:e,company:"Minha Loja",sendername:"Minha Loja vendas"}),this.httpOptions)}sendGetUserRequest(e){return this.httpClient.get(this.urlBase+`controle?q={"email":"${e}"}`,this.httpOptions)}sendDeleteUserRequest(){return this.httpClient.delete(this.urlBase+`controle/${this.usuario._id}`,this.httpOptions)}sendPutUserRequest(e){return this.httpClient.put(this.urlBase+`controle/${e._id}`,JSON.stringify(e),this.httpOptions)}sendPostUserRequest(e){return this.httpClient.post(this.urlBase+"controle",JSON.stringify(e),this.httpOptions)}sendGetLojaRequest(e=""){var i;return this.httpClient.get(this.urlBase+`loja?q={"_id":"${(null===(i=this.usuario)||void 0===i?void 0:i.idLoja)||e}"}`,this.httpOptions)}sendPutLojaRequest(e){return this.httpClient.put(this.urlBase+`loja/${e._id}`,JSON.stringify(e),this.httpOptions)}sendPostLojaRequest(e){return this.httpClient.post(this.urlBase+"loja",JSON.stringify(e),this.httpOptions)}sendDeleteLojaRequest(){var e;return this.httpClient.delete(this.urlBase+`loja/${null===(e=this.usuario)||void 0===e?void 0:e.idLoja}`,this.httpOptions)}sendGetVendasRequest(){return this.httpClient.get(this.urlBase+`vendas?q={"loja":"${this.usuario.idLoja}"}`,this.httpOptions)}sendPostVendasRequest(e){return this.httpClient.post(this.urlBase+"vendas",JSON.stringify(e),this.httpOptions)}salvaCupom(e,i){return new Bn.y(s=>{const a=this.fireStorage.ref("lojas").child(this.usuario.idLoja).child(String(i));a.put(e).snapshotChanges().pipe(ch(()=>{a.getDownloadURL().subscribe(f=>{s.next(f),s.complete()})})).subscribe()})}getCupom(e){return new Bn.y(i=>{this.fireStorage.ref("lojas").child(this.usuario.idLoja).child(String(e)).getDownloadURL().subscribe(a=>{i.next(a),i.complete()},a=>{i.error(a),i.complete()})})}sendGetAvisosRequest(){return this.httpClient.get(this.urlBase+"avisos",this.httpOptions)}navigateTo(e){this.router.navigate([`/${e}`],{relativeTo:this.route,skipLocationChange:!0})}get listaCompra(){return this._listaCompra}set listaCompra(e){this._listaCompra=e}get compraFechada(){return this._compraFechada}set compraFechada(e){this._compraFechada=e}get usuario(){return this._usuario}set usuario(e){this._usuario=e}get loja(){return this._loja}set loja(e){this._loja=e}get user(){return this._user}set user(e){this._user=e}get cookieCamera(){return this._cookieCamera=localStorage.getItem("cookieCamera"),this._cookieCamera}set cookieCamera(e){localStorage.setItem("cookieCamera",e),this._cookieCamera=this._cookieCamera=localStorage.getItem("cookieCamera")}get habilitarCamera(){return this._habilitarCamera=localStorage.getItem("habilitarCamera"),this._habilitarCamera}set habilitarCamera(e){localStorage.setItem("habilitarCamera",e),this._habilitarCamera=this._habilitarCamera=localStorage.getItem("habilitarCamera")}get habilitarTeclado(){return this._habilitarTeclado=localStorage.getItem("habilitarTeclado"),this._habilitarTeclado}set habilitarTeclado(e){localStorage.setItem("habilitarTeclado",e),this._habilitarTeclado=this._habilitarTeclado=localStorage.getItem("habilitarTeclado")}get avisosLidos(){return this._avisosLidos=localStorage.getItem("avisosLidos"),this._avisosLidos}set avisosLidos(e){localStorage.setItem("avisosLidos",e),this._avisosLidos=this._avisosLidos=localStorage.getItem("avisosLidos")}socialAuthServiceLogOut(){this.socialAuthService.signOut(),location.reload()}socialAuthServiceRevoke(){this.socialAuthService.signOut(!0)}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(u6),r.LFG(Vm),r.LFG(xs),r.LFG(nr),r.LFG(a_))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var lZ=M(1555);function f6(...n){if(1===n.length){const t=n[0];if((0,xl.k)(t))return nM(t,null);if((0,lZ.K)(t)&&Object.getPrototypeOf(t)===Object.prototype){const e=Object.keys(t);return nM(e.map(i=>t[i]),e)}}if("function"==typeof n[n.length-1]){const t=n.pop();return nM(n=1===n.length&&(0,xl.k)(n[0])?n[0]:n,null).pipe((0,At.U)(e=>t(...e)))}return nM(n,null)}function nM(n,t){return new Bn.y(e=>{const i=n.length;if(0===i)return void e.complete();const s=new Array(i);let a=0,u=0;for(let f=0;f<i;f++){const g=(0,Gn.D)(n[f]);let C=!1;e.add(g.subscribe({next:x=>{C||(C=!0,u++),s[f]=x},error:x=>e.error(x),complete:()=>{a++,(a===i||!C)&&(u===i&&e.next(t?t.reduce((x,R,G)=>(x[R]=s[G],x),{}):s),e.complete())}}))}})}let p6=(()=>{class n{constructor(e,i){this._renderer=e,this._elementRef=i,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(r.Qsj),r.Y36(r.SBq))},n.\u0275dir=r.lG2({type:n}),n})(),l_=(()=>{class n extends p6{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=r.n5z(n)))(i||n)}}(),n.\u0275dir=r.lG2({type:n,features:[r.qOj]}),n})();const Ra=new r.OlP("NgValueAccessor"),uZ={provide:Ra,useExisting:(0,r.Gpc)(()=>Od),multi:!0},hZ=new r.OlP("CompositionEventMode");let Od=(()=>{class n extends p6{constructor(e,i,s){super(e,i),this._compositionMode=s,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const n=v()?v().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",null==e?"":e)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(r.Qsj),r.Y36(r.SBq),r.Y36(hZ,8))},n.\u0275dir=r.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,i){1&e&&r.NdJ("input",function(a){return i._handleInput(a.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(a){return i._compositionEnd(a.target.value)})},features:[r._Bn([uZ]),r.qOj]}),n})();function Zp(n){return null==n||0===n.length}function m6(n){return null!=n&&"number"==typeof n.length}const fs=new r.OlP("NgValidators"),Wp=new r.OlP("NgAsyncValidators"),fZ=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class c_{static min(t){return _6(t)}static max(t){return n=t,t=>{if(Zp(t.value)||Zp(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e>n?{max:{max:n,actual:t.value}}:null};var n}static required(t){return Zp(t.value)?{required:!0}:null}static requiredTrue(t){return!0===t.value?null:{required:!0}}static email(t){return Zp((n=t).value)||fZ.test(n.value)?null:{email:!0};var n}static minLength(t){return n=t,t=>Zp(t.value)||!m6(t.value)?null:t.value.length<n?{minlength:{requiredLength:n,actualLength:t.value.length}}:null;var n}static maxLength(t){return n=t,t=>m6(t.value)&&t.value.length>n?{maxlength:{requiredLength:n,actualLength:t.value.length}}:null;var n}static pattern(t){return function(n){if(!n)return Kp;let t,e;return"string"==typeof n?(e="","^"!==n.charAt(0)&&(e+="^"),e+=n,"$"!==n.charAt(n.length-1)&&(e+="$"),t=new RegExp(e)):(e=n.toString(),t=n),i=>{if(Zp(i.value))return null;const s=i.value;return t.test(s)?null:{pattern:{requiredPattern:e,actualValue:s}}}}(t)}static nullValidator(t){return null}static compose(t){return M6(t)}static composeAsync(t){return k6(t)}}function _6(n){return t=>{if(Zp(t.value)||Zp(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e<n?{min:{min:n,actual:t.value}}:null}}function Kp(n){return null}function T6(n){return null!=n}function S6(n){const t=(0,r.QGY)(n)?(0,Gn.D)(n):n;return(0,r.CqO)(t),t}function x6(n){let t={};return n.forEach(e=>{t=null!=e?Object.assign(Object.assign({},t),e):t}),0===Object.keys(t).length?null:t}function I6(n,t){return t.map(e=>e(n))}function A6(n){return n.map(t=>function(n){return!n.validate}(t)?t:e=>t.validate(e))}function M6(n){if(!n)return null;const t=n.filter(T6);return 0==t.length?null:function(e){return x6(I6(e,t))}}function bF(n){return null!=n?M6(A6(n)):null}function k6(n){if(!n)return null;const t=n.filter(T6);return 0==t.length?null:function(e){return f6(I6(e,t).map(S6)).pipe((0,At.U)(x6))}}function CF(n){return null!=n?k6(A6(n)):null}function R6(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function O6(n){return n._rawValidators}function P6(n){return n._rawAsyncValidators}function wF(n){return n?Array.isArray(n)?n:[n]:[]}function iM(n,t){return Array.isArray(n)?n.includes(t):n===t}function N6(n,t){const e=wF(t);return wF(n).forEach(s=>{iM(e,s)||e.push(s)}),e}function F6(n,t){return wF(t).filter(e=>!iM(n,e))}let L6=(()=>{class n{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=bF(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=CF(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,i){return!!this.control&&this.control.hasError(e,i)}getError(e,i){return this.control?this.control.getError(e,i):null}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=r.lG2({type:n}),n})(),Jo=(()=>{class n extends L6{get formDirective(){return null}get path(){return null}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=r.n5z(n)))(i||n)}}(),n.\u0275dir=r.lG2({type:n,features:[r.qOj]}),n})();class Lu extends L6{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class V6{constructor(t){this._cd=t}is(t){var e,i,s;return"submitted"===t?!!(null===(e=this._cd)||void 0===e?void 0:e.submitted):!!(null===(s=null===(i=this._cd)||void 0===i?void 0:i.control)||void 0===s?void 0:s[t])}}let Qp=(()=>{class n extends V6{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(Lu,2))},n.\u0275dir=r.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,i){2&e&&r.ekj("ng-untouched",i.is("untouched"))("ng-touched",i.is("touched"))("ng-pristine",i.is("pristine"))("ng-dirty",i.is("dirty"))("ng-valid",i.is("valid"))("ng-invalid",i.is("invalid"))("ng-pending",i.is("pending"))},features:[r.qOj]}),n})(),Jp=(()=>{class n extends V6{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(Jo,10))},n.\u0275dir=r.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,i){2&e&&r.ekj("ng-untouched",i.is("untouched"))("ng-touched",i.is("touched"))("ng-pristine",i.is("pristine"))("ng-dirty",i.is("dirty"))("ng-valid",i.is("valid"))("ng-invalid",i.is("invalid"))("ng-pending",i.is("pending"))("ng-submitted",i.is("submitted"))},features:[r.qOj]}),n})();function yD(n,t){TF(n,t),t.valueAccessor.writeValue(n.value),function(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&B6(n,t)})}(n,t),function(n,t){const e=(i,s)=>{t.valueAccessor.writeValue(i),s&&t.viewToModelUpdate(i)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&B6(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function(n,t){if(t.valueAccessor.setDisabledState){const e=i=>{t.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function oM(n,t,e=!0){const i=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(i),t.valueAccessor.registerOnTouched(i)),lM(n,t),n&&(t._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function aM(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function TF(n,t){const e=O6(n);null!==t.validator?n.setValidators(R6(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const i=P6(n);null!==t.asyncValidator?n.setAsyncValidators(R6(i,t.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const s=()=>n.updateValueAndValidity();aM(t._rawValidators,s),aM(t._rawAsyncValidators,s)}function lM(n,t){let e=!1;if(null!==n){if(null!==t.validator){const s=O6(n);if(Array.isArray(s)&&s.length>0){const a=s.filter(u=>u!==t.validator);a.length!==s.length&&(e=!0,n.setValidators(a))}}if(null!==t.asyncValidator){const s=P6(n);if(Array.isArray(s)&&s.length>0){const a=s.filter(u=>u!==t.asyncValidator);a.length!==s.length&&(e=!0,n.setAsyncValidators(a))}}}const i=()=>{};return aM(t._rawValidators,i),aM(t._rawAsyncValidators,i),e}function B6(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function U6(n,t){TF(n,t)}function j6(n,t){n._syncPendingControls(),t.forEach(e=>{const i=e.control;"submit"===i.updateOn&&i._pendingChange&&(e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function cM(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}const vD="VALID",uM="INVALID",Vb="PENDING",bD="DISABLED";function IF(n){return(MF(n)?n.validators:n)||null}function H6(n){return Array.isArray(n)?bF(n):n||null}function AF(n,t){return(MF(t)?t.asyncValidators:n)||null}function q6(n){return Array.isArray(n)?CF(n):n||null}function MF(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class kF{constructor(t,e){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=H6(this._rawValidators),this._composedAsyncValidatorFn=q6(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===vD}get invalid(){return this.status===uM}get pending(){return this.status==Vb}get disabled(){return this.status===bD}get enabled(){return this.status!==bD}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=H6(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=q6(t)}addValidators(t){this.setValidators(N6(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(N6(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(F6(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(F6(t,this._rawAsyncValidators))}hasValidator(t){return iM(this._rawValidators,t)}hasAsyncValidator(t){return iM(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=Vb,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=bD,this.errors=null,this._forEachChild(i=>{i.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=vD,this._forEachChild(i=>{i.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===vD||this.status===Vb)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?bD:vD}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=Vb,this._hasOwnPendingAsyncValidator=!0;const e=S6(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(n,t,e){if(null==t||(Array.isArray(t)||(t=t.split(".")),Array.isArray(t)&&0===t.length))return null;let i=n;return t.forEach(s=>{i=i instanceof CD?i.controls.hasOwnProperty(s)?i.controls[s]:null:i instanceof RF&&i.at(s)||null}),i}(this,t)}getError(t,e){const i=e?this.get(e):this;return i&&i.errors?i.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new r.vpe,this.statusChanges=new r.vpe}_calculateStatus(){return this._allControlsDisabled()?bD:this.errors?uM:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Vb)?Vb:this._anyControlsHaveStatus(uM)?uM:vD}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){MF(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class Bb extends kF{constructor(t=null,e,i){super(IF(e),AF(i,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){cM(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){cM(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class CD extends kF{constructor(t,e,i){super(IF(e),AF(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,i={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(i=>{this._throwIfControlMissing(i),this.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(i=>{this.controls[i]&&this.controls[i].patchValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((i,s)=>{i.reset(t[s],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,i)=>(t[i]=e instanceof Bb?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,i)=>!!i._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const i=this.controls[e];i&&t(i,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const i=this.controls[e];if(this.contains(e)&&t(i))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,i)=>((e.enabled||this.disabled)&&(t[i]=e.value),t))}_reduceChildren(t,e){let i=t;return this._forEachChild((s,a)=>{i=e(i,s,a)}),i}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,i)=>{if(void 0===t[i])throw new Error(`Must supply a value for form control with name: '${i}'.`)})}}class RF extends kF{constructor(t,e,i){super(IF(e),AF(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[t]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,i={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((i,s)=>{this._throwIfControlMissing(s),this.at(s).setValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((i,s)=>{this.at(s)&&this.at(s).patchValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((i,s)=>{i.reset(t[s],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof Bb?t.value:t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_syncPendingControls(){let t=this.controls.reduce((e,i)=>!!i._syncPendingControls()||e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error(`Cannot find form control at index ${t}`)}_forEachChild(t){this.controls.forEach((e,i)=>{t(e,i)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,i)=>{if(void 0===t[i])throw new Error(`Must supply a value for form control at index: ${i}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const SZ={provide:Jo,useExisting:(0,r.Gpc)(()=>Oa)},wD=(()=>Promise.resolve(null))();let Oa=(()=>{class n extends Jo{constructor(e,i){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new r.vpe,this.form=new CD({},bF(e),CF(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){wD.then(()=>{const i=this._findContainer(e.path);e.control=i.registerControl(e.name,e.control),yD(e.control,e),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){wD.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name),cM(this._directives,e)})}addFormGroup(e){wD.then(()=>{const i=this._findContainer(e.path),s=new CD({});U6(s,e),i.registerControl(e.name,s),s.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){wD.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,i){wD.then(()=>{this.form.get(e.path).setValue(i)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,j6(this.form,this._directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(fs,10),r.Y36(Wp,10))},n.\u0275dir=r.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,i){1&e&&r.NdJ("submit",function(a){return i.onSubmit(a)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[r._Bn([SZ]),r.qOj]}),n})();const IZ={provide:Lu,useExisting:(0,r.Gpc)(()=>tf)},$6=(()=>Promise.resolve(null))();let tf=(()=>{class n extends Lu{constructor(e,i,s,a){super(),this.control=new Bb,this._registered=!1,this.update=new r.vpe,this._parent=e,this._setValidators(i),this._setAsyncValidators(s),this.valueAccessor=function(n,t){if(!t)return null;let e,i,s;return Array.isArray(t),t.forEach(a=>{a.constructor===Od?e=a:function(n){return Object.getPrototypeOf(n.constructor)===l_}(a)?i=a:s=a}),s||i||e||null}(0,a)}ngOnChanges(e){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in e&&this._updateDisabled(e),function(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?function(n,t){return[...t.path,n]}(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){yD(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){$6.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1})})}_updateDisabled(e){const i=e.isDisabled.currentValue,s=""===i||i&&"false"!==i;$6.then(()=>{s&&!this.control.disabled?this.control.disable():!s&&this.control.disabled&&this.control.enable()})}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(Jo,9),r.Y36(fs,10),r.Y36(Wp,10),r.Y36(Ra,10))},n.\u0275dir=r.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[r._Bn([IZ]),r.qOj,r.TTD]}),n})(),Xp=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=r.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})();const AZ={provide:Ra,useExisting:(0,r.Gpc)(()=>u_),multi:!0};let u_=(()=>{class n extends l_{writeValue(e){this.setProperty("value",null==e?"":e)}registerOnChange(e){this.onChange=i=>{e(""==i?null:parseFloat(i))}}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=r.n5z(n)))(i||n)}}(),n.\u0275dir=r.lG2({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(e,i){1&e&&r.NdJ("input",function(a){return i.onChange(a.target.value)})("blur",function(){return i.onTouched()})},features:[r._Bn([AZ]),r.qOj]}),n})(),Y6=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({}),n})();const OF=new r.OlP("NgModelWithFormControlWarning"),PZ={provide:Jo,useExisting:(0,r.Gpc)(()=>eg)};let eg=(()=>{class n extends Jo{constructor(e,i){super(),this.validators=e,this.asyncValidators=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new r.vpe,this._setValidators(e),this._setAsyncValidators(i)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(lM(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const i=this.form.get(e.path);return yD(i,e),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),i}getControl(e){return this.form.get(e.path)}removeControl(e){oM(e.control||null,e,!1),cM(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,i){this.form.get(e.path).setValue(i)}onSubmit(e){return this.submitted=!0,j6(this.form,this.directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const i=e.control,s=this.form.get(e.path);i!==s&&(oM(i||null,e),s instanceof Bb&&(yD(s,e),e.control=s))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const i=this.form.get(e.path);U6(i,e),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const i=this.form.get(e.path);i&&function(n,t){return lM(n,t)}(i,e)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){TF(this.form,this),this._oldForm&&lM(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(fs,10),r.Y36(Wp,10))},n.\u0275dir=r.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(e,i){1&e&&r.NdJ("submit",function(a){return i.onSubmit(a)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[r._Bn([PZ]),r.qOj,r.TTD]}),n})(),nH=(()=>{class n{constructor(){this._validator=Kp}handleChanges(e){if(this.inputName in e){const i=this.normalizeInput(e[this.inputName].currentValue);this._validator=this.createValidator(i),this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=r.lG2({type:n}),n})();const GZ={provide:fs,useExisting:(0,r.Gpc)(()=>VF),multi:!0};let VF=(()=>{class n extends nH{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=e=>parseFloat(e),this.createValidator=e=>_6(e)}ngOnChanges(e){this.handleChanges(e)}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=r.n5z(n)))(i||n)}}(),n.\u0275dir=r.lG2({type:n,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(e,i){if(2&e){let s;r.uIk("min",null!==(s=i.min)&&void 0!==s?s:null)}},inputs:{min:"min"},features:[r._Bn([GZ]),r.qOj,r.TTD]}),n})(),lH=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[[Y6]]}),n})(),JZ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[lH]}),n})(),cH=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:OF,useValue:e.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[lH]}),n})(),uH=(()=>{class n{group(e,i=null){const s=this._reduceControls(e);let f,a=null,u=null;return null!=i&&(function(n){return void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn}(i)?(a=null!=i.validators?i.validators:null,u=null!=i.asyncValidators?i.asyncValidators:null,f=null!=i.updateOn?i.updateOn:void 0):(a=null!=i.validator?i.validator:null,u=null!=i.asyncValidator?i.asyncValidator:null)),new CD(s,{asyncValidators:u,updateOn:f,validators:a})}control(e,i,s){return new Bb(e,i,s)}array(e,i,s){const a=e.map(u=>this._createControl(u));return new RF(a,i,s)}_reduceControls(e){const i={};return Object.keys(e).forEach(s=>{i[s]=this._createControl(e[s])}),i}_createControl(e){return e instanceof Bb||e instanceof CD||e instanceof RF?e:Array.isArray(e)?this.control(e[0],e.length>1?e[1]:null,e.length>2?e[2]:null):this.control(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=(0,r.Yz7)({factory:function(){return new n},token:n,providedIn:cH}),n})();const eW=["underline"],tW=["connectionContainer"],nW=["inputContainer"],iW=["label"];function rW(n,t){1&n&&(r.ynx(0),r.TgZ(1,"div",14),r._UZ(2,"div",15),r._UZ(3,"div",16),r._UZ(4,"div",17),r.qZA(),r.TgZ(5,"div",18),r._UZ(6,"div",15),r._UZ(7,"div",16),r._UZ(8,"div",17),r.qZA(),r.BQk())}function sW(n,t){1&n&&(r.TgZ(0,"div",19),r.Hsn(1,1),r.qZA())}function oW(n,t){if(1&n&&(r.ynx(0),r.Hsn(1,2),r.TgZ(2,"span"),r._uU(3),r.qZA(),r.BQk()),2&n){const e=r.oxw(2);r.xp6(3),r.Oqu(e._control.placeholder)}}function aW(n,t){1&n&&r.Hsn(0,3,["*ngSwitchCase","true"])}function lW(n,t){1&n&&(r.TgZ(0,"span",23),r._uU(1," *"),r.qZA())}function cW(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"label",20,21),r.NdJ("cdkObserveContent",function(){return r.CHM(e),r.oxw().updateOutlineGap()}),r.YNc(2,oW,4,1,"ng-container",12),r.YNc(3,aW,1,0,"ng-content",12),r.YNc(4,lW,2,0,"span",22),r.qZA()}if(2&n){const e=r.oxw();r.ekj("mat-empty",e._control.empty&&!e._shouldAlwaysFloat())("mat-form-field-empty",e._control.empty&&!e._shouldAlwaysFloat())("mat-accent","accent"==e.color)("mat-warn","warn"==e.color),r.Q6J("cdkObserveContentDisabled","outline"!=e.appearance)("id",e._labelId)("ngSwitch",e._hasLabel()),r.uIk("for",e._control.id)("aria-owns",e._control.id),r.xp6(2),r.Q6J("ngSwitchCase",!1),r.xp6(1),r.Q6J("ngSwitchCase",!0),r.xp6(1),r.Q6J("ngIf",!e.hideRequiredMarker&&e._control.required&&!e._control.disabled)}}function uW(n,t){1&n&&(r.TgZ(0,"div",24),r.Hsn(1,4),r.qZA())}function dW(n,t){if(1&n&&(r.TgZ(0,"div",25,26),r._UZ(2,"span",27),r.qZA()),2&n){const e=r.oxw();r.xp6(2),r.ekj("mat-accent","accent"==e.color)("mat-warn","warn"==e.color)}}function hW(n,t){if(1&n&&(r.TgZ(0,"div"),r.Hsn(1,5),r.qZA()),2&n){const e=r.oxw();r.Q6J("@transitionMessages",e._subscriptAnimationState)}}function fW(n,t){if(1&n&&(r.TgZ(0,"div",31),r._uU(1),r.qZA()),2&n){const e=r.oxw(2);r.Q6J("id",e._hintLabelId),r.xp6(1),r.Oqu(e.hintLabel)}}function pW(n,t){if(1&n&&(r.TgZ(0,"div",28),r.YNc(1,fW,2,2,"div",29),r.Hsn(2,6),r._UZ(3,"div",30),r.Hsn(4,7),r.qZA()),2&n){const e=r.oxw();r.Q6J("@transitionMessages",e._subscriptAnimationState),r.xp6(1),r.Q6J("ngIf",e.hintLabel)}}const gW=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],mW=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"],dH=new r.OlP("MatError"),yW={transitionMessages:Rs("transitionMessages",[ui("enter",en({opacity:1,transform:"translateY(0%)"})),Pn("void => enter",[en({opacity:0,transform:"translateY(-5px)"}),Si("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let ED=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=r.lG2({type:n}),n})();const hH=new r.OlP("MatHint");let nf=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=r.lG2({type:n,selectors:[["mat-label"]]}),n})(),bW=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=r.lG2({type:n,selectors:[["mat-placeholder"]]}),n})();const fH=new r.OlP("MatPrefix");let CW=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=r.lG2({type:n,selectors:[["","matPrefix",""]],features:[r._Bn([{provide:fH,useExisting:n}])]}),n})();const pH=new r.OlP("MatSuffix");let gH=0;const EW=jh(class{constructor(n){this._elementRef=n}},"primary"),DW=new r.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS"),DD=new r.OlP("MatFormField");let tg=(()=>{class n extends EW{constructor(e,i,s,a,u,f,g,C){super(e),this._changeDetectorRef=i,this._dir=a,this._defaults=u,this._platform=f,this._ngZone=g,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new yt.xQ,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+gH++,this._labelId="mat-form-field-label-"+gH++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==C,this.appearance=u&&u.appearance?u.appearance:"legacy",this._hideRequiredMarker=!(!u||null==u.hideRequiredMarker)&&u.hideRequiredMarker}get appearance(){return this._appearance}set appearance(e){const i=this._appearance;this._appearance=e||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&i!==e&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(e){this._hideRequiredMarker=Gt(e)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(e){this._hintLabel=e,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(e){e!==this._floatLabel&&(this._floatLabel=e||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(e){this._explicitFormFieldControl=e}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const e=this._control;e.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${e.controlType}`),e.stateChanges.pipe(Di(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),e.ngControl&&e.ngControl.valueChanges&&e.ngControl.valueChanges.pipe(ri(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(ri(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),(0,ir.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(Di(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(Di(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(ri(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(e){const i=this._control?this._control.ngControl:null;return i&&i[e]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,md(this._label.nativeElement,"transitionend").pipe(Kn(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let e=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&e.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const i=this._hintChildren?this._hintChildren.find(a=>"start"===a.align):null,s=this._hintChildren?this._hintChildren.find(a=>"end"===a.align):null;i?e.push(i.id):this._hintLabel&&e.push(this._hintLabelId),s&&e.push(s.id)}else this._errorChildren&&e.push(...this._errorChildren.map(i=>i.id));this._control.setDescribedByIds(e)}}_validateControlChild(){}updateOutlineGap(){const e=this._label?this._label.nativeElement:null;if(!("outline"===this.appearance&&e&&e.children.length&&e.textContent.trim()&&this._platform.isBrowser))return;if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let i=0,s=0;const a=this._connectionContainerRef.nativeElement,u=a.querySelectorAll(".mat-form-field-outline-start"),f=a.querySelectorAll(".mat-form-field-outline-gap");if(this._label&&this._label.nativeElement.children.length){const g=a.getBoundingClientRect();if(0===g.width&&0===g.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const C=this._getStartEnd(g),x=e.children,R=this._getStartEnd(x[0].getBoundingClientRect());let G=0;for(let ee=0;ee<x.length;ee++)G+=x[ee].offsetWidth;i=Math.abs(R-C)-5,s=G>0?.75*G+10:0}for(let g=0;g<u.length;g++)u[g].style.width=`${i}px`;for(let g=0;g<f.length;g++)f[g].style.width=`${s}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(e){return this._dir&&"rtl"===this._dir.value?e.right:e.left}_isAttachedToDOM(){const e=this._elementRef.nativeElement;if(e.getRootNode){const i=e.getRootNode();return i&&i!==e}return document.documentElement.contains(e)}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(r.SBq),r.Y36(r.sBO),r.Y36(r.SBq),r.Y36(Ms,8),r.Y36(DW,8),r.Y36(Un),r.Y36(r.R0b),r.Y36(yo,8))},n.\u0275cmp=r.Xpm({type:n,selectors:[["mat-form-field"]],contentQueries:function(e,i,s){if(1&e&&(r.Suo(s,ED,5),r.Suo(s,ED,7),r.Suo(s,nf,5),r.Suo(s,nf,7),r.Suo(s,bW,5),r.Suo(s,dH,5),r.Suo(s,hH,5),r.Suo(s,fH,5),r.Suo(s,pH,5)),2&e){let a;r.iGM(a=r.CRH())&&(i._controlNonStatic=a.first),r.iGM(a=r.CRH())&&(i._controlStatic=a.first),r.iGM(a=r.CRH())&&(i._labelChildNonStatic=a.first),r.iGM(a=r.CRH())&&(i._labelChildStatic=a.first),r.iGM(a=r.CRH())&&(i._placeholderChild=a.first),r.iGM(a=r.CRH())&&(i._errorChildren=a),r.iGM(a=r.CRH())&&(i._hintChildren=a),r.iGM(a=r.CRH())&&(i._prefixChildren=a),r.iGM(a=r.CRH())&&(i._suffixChildren=a)}},viewQuery:function(e,i){if(1&e&&(r.Gf(eW,5),r.Gf(tW,7),r.Gf(nW,5),r.Gf(iW,5)),2&e){let s;r.iGM(s=r.CRH())&&(i.underlineRef=s.first),r.iGM(s=r.CRH())&&(i._connectionContainerRef=s.first),r.iGM(s=r.CRH())&&(i._inputContainerRef=s.first),r.iGM(s=r.CRH())&&(i._label=s.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(e,i){2&e&&r.ekj("mat-form-field-appearance-standard","standard"==i.appearance)("mat-form-field-appearance-fill","fill"==i.appearance)("mat-form-field-appearance-outline","outline"==i.appearance)("mat-form-field-appearance-legacy","legacy"==i.appearance)("mat-form-field-invalid",i._control.errorState)("mat-form-field-can-float",i._canLabelFloat())("mat-form-field-should-float",i._shouldLabelFloat())("mat-form-field-has-label",i._hasFloatingLabel())("mat-form-field-hide-placeholder",i._hideControlPlaceholder())("mat-form-field-disabled",i._control.disabled)("mat-form-field-autofilled",i._control.autofilled)("mat-focused",i._control.focused)("ng-untouched",i._shouldForward("untouched"))("ng-touched",i._shouldForward("touched"))("ng-pristine",i._shouldForward("pristine"))("ng-dirty",i._shouldForward("dirty"))("ng-valid",i._shouldForward("valid"))("ng-invalid",i._shouldForward("invalid"))("ng-pending",i._shouldForward("pending"))("_mat-animation-noopable",!i._animationsEnabled)},inputs:{color:"color",floatLabel:"floatLabel",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[r._Bn([{provide:DD,useExisting:n}]),r.qOj],ngContentSelectors:mW,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],["underline",""],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(e,i){1&e&&(r.F$t(gW),r.TgZ(0,"div",0),r.TgZ(1,"div",1,2),r.NdJ("click",function(a){return i._control.onContainerClick&&i._control.onContainerClick(a)}),r.YNc(3,rW,9,0,"ng-container",3),r.YNc(4,sW,2,0,"div",4),r.TgZ(5,"div",5,6),r.Hsn(7),r.TgZ(8,"span",7),r.YNc(9,cW,5,16,"label",8),r.qZA(),r.qZA(),r.YNc(10,uW,2,0,"div",9),r.qZA(),r.YNc(11,dW,3,4,"div",10),r.TgZ(12,"div",11),r.YNc(13,hW,2,1,"div",12),r.YNc(14,pW,5,2,"div",13),r.qZA(),r.qZA()),2&e&&(r.xp6(3),r.Q6J("ngIf","outline"==i.appearance),r.xp6(1),r.Q6J("ngIf",i._prefixChildren.length),r.xp6(5),r.Q6J("ngIf",i._hasFloatingLabel()),r.xp6(1),r.Q6J("ngIf",i._suffixChildren.length),r.xp6(1),r.Q6J("ngIf","outline"!=i.appearance),r.xp6(1),r.Q6J("ngSwitch",i._getDisplayedMessages()),r.xp6(1),r.Q6J("ngSwitchCase","error"),r.xp6(1),r.Q6J("ngSwitchCase","hint"))},directives:[On,xr,ni,pm],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}\n",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{outline:dashed 3px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}\n','.mat-input-element{font:inherit;background:transparent;color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element::-ms-clear,.mat-input-element::-ms-reveal{display:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element:not([type=password])::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-moz-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-ms-expand{display:none}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}select.mat-input-element::-ms-value{color:inherit;background:none}.mat-focused .cdk-high-contrast-active select.mat-input-element::-ms-value{color:inherit}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}\n',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px);-ms-transform:none}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}\n",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:3px dashed}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}\n",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}\n"],encapsulation:2,data:{animation:[yW.transitionMessages]},changeDetection:0}),n})(),dM=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[[Ue,wn,GC],wn]}),n})();const _H=ip({passive:!0});let yH=(()=>{class n{constructor(e,i){this._platform=e,this._ngZone=i,this._monitoredElements=new Map}monitor(e){if(!this._platform.isBrowser)return zs.E;const i=wc(e),s=this._monitoredElements.get(i);if(s)return s.subject;const a=new yt.xQ,u="cdk-text-field-autofilled",f=g=>{"cdk-text-field-autofill-start"!==g.animationName||i.classList.contains(u)?"cdk-text-field-autofill-end"===g.animationName&&i.classList.contains(u)&&(i.classList.remove(u),this._ngZone.run(()=>a.next({target:g.target,isAutofilled:!1}))):(i.classList.add(u),this._ngZone.run(()=>a.next({target:g.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{i.addEventListener("animationstart",f,_H),i.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(i,{subject:a,unlisten:()=>{i.removeEventListener("animationstart",f,_H)}}),a}stopMonitoring(e){const i=wc(e),s=this._monitoredElements.get(i);s&&(s.unlisten(),s.subject.complete(),i.classList.remove("cdk-text-field-autofill-monitored"),i.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(i))}ngOnDestroy(){this._monitoredElements.forEach((e,i)=>this.stopMonitoring(i))}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(Un),r.LFG(r.R0b))},n.\u0275prov=r.Yz7({factory:function(){return new n(r.LFG(Un),r.LFG(r.R0b))},token:n,providedIn:"root"}),n})(),vH=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[[xh]]}),n})();const bH=new r.OlP("MAT_INPUT_VALUE_ACCESSOR"),SW=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let xW=0;const IW=Yw(class{constructor(n,t,e,i){this._defaultErrorStateMatcher=n,this._parentForm=t,this._parentFormGroup=e,this.ngControl=i}});let d_=(()=>{class n extends IW{constructor(e,i,s,a,u,f,g,C,x,R){super(f,a,u,s),this._elementRef=e,this._platform=i,this._autofillMonitor=C,this._formField=R,this._uid="mat-input-"+xW++,this.focused=!1,this.stateChanges=new yt.xQ,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._required=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(he=>IS().has(he));const G=this._elementRef.nativeElement,ee=G.nodeName.toLowerCase();this._inputValueAccessor=g||G,this._previousNativeValue=this.value,this.id=this.id,i.IOS&&x.runOutsideAngular(()=>{e.nativeElement.addEventListener("keyup",he=>{const Fe=he.target;!Fe.value&&0===Fe.selectionStart&&0===Fe.selectionEnd&&(Fe.setSelectionRange(1,1),Fe.setSelectionRange(0,0))})}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===ee,this._isTextarea="textarea"===ee,this._isInFormField=!!R,this._isNativeSelect&&(this.controlType=G.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(e){this._disabled=Gt(e),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(e){this._id=e||this._uid}get required(){return this._required}set required(e){this._required=Gt(e)}get type(){return this._type}set type(e){this._type=e||"text",this._validateType(),!this._isTextarea&&IS().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(e){e!==this.value&&(this._inputValueAccessor.value=e,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(e){this._readonly=Gt(e)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(e=>{this.autofilled=e.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(e){this._elementRef.nativeElement.focus(e)}_focusChanged(e){e!==this.focused&&(this.focused=e,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){var e,i;const s=(null===(i=null===(e=this._formField)||void 0===e?void 0:e._hideControlPlaceholder)||void 0===i?void 0:i.call(e))?null:this.placeholder;if(s!==this._previousPlaceholder){const a=this._elementRef.nativeElement;this._previousPlaceholder=s,s?a.setAttribute("placeholder",s):a.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const e=this._elementRef.nativeElement.value;this._previousNativeValue!==e&&(this._previousNativeValue=e,this.stateChanges.next())}_validateType(){SW.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let e=this._elementRef.nativeElement.validity;return e&&e.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const e=this._elementRef.nativeElement,i=e.options[0];return this.focused||e.multiple||!this.empty||!!(e.selectedIndex>-1&&i&&i.label)}return this.focused||!this.empty}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const e=this._elementRef.nativeElement;return this._isNativeSelect&&(e.multiple||e.size>1)}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(r.SBq),r.Y36(Un),r.Y36(Lu,10),r.Y36(Oa,8),r.Y36(eg,8),r.Y36(zh),r.Y36(bH,10),r.Y36(yH),r.Y36(r.R0b),r.Y36(DD,8))},n.\u0275dir=r.lG2({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:11,hostBindings:function(e,i){1&e&&r.NdJ("focus",function(){return i._focusChanged(!0)})("blur",function(){return i._focusChanged(!1)})("input",function(){return i._onInput()}),2&e&&(r.Ikx("disabled",i.disabled)("required",i.required),r.uIk("id",i.id)("data-placeholder",i.placeholder)("readonly",i.readonly&&!i._isNativeSelect||null)("aria-invalid",i.empty&&i.required?null:i.errorState)("aria-required",i.required),r.ekj("mat-input-server",i._isServer)("mat-native-select-inline",i._isInlineSelect()))},inputs:{id:"id",disabled:"disabled",required:"required",type:"type",value:"value",readonly:"readonly",placeholder:"placeholder",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"]},exportAs:["matInput"],features:[r._Bn([{provide:ED,useExisting:n}]),r.qOj,r.TTD]}),n})(),AW=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({providers:[zh],imports:[[vH,dM,wn],vH,dM]}),n})();var CH=M(205),wH=M(8345);const MW=["*"];function EH(n){return Error(`Unable to find icon with the name "${n}"`)}function DH(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function TH(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class h_{constructor(t,e,i){this.url=t,this.svgText=e,this.options=i}}let hM=(()=>{class n{constructor(e,i,s,a){this._httpClient=e,this._sanitizer=i,this._errorHandler=a,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass="material-icons",this._document=s}addSvgIcon(e,i,s){return this.addSvgIconInNamespace("",e,i,s)}addSvgIconLiteral(e,i,s){return this.addSvgIconLiteralInNamespace("",e,i,s)}addSvgIconInNamespace(e,i,s,a){return this._addSvgIconConfig(e,i,new h_(s,null,a))}addSvgIconResolver(e){return this._resolvers.push(e),this}addSvgIconLiteralInNamespace(e,i,s,a){const u=this._sanitizer.sanitize(r.q3G.HTML,s);if(!u)throw TH(s);return this._addSvgIconConfig(e,i,new h_("",u,a))}addSvgIconSet(e,i){return this.addSvgIconSetInNamespace("",e,i)}addSvgIconSetLiteral(e,i){return this.addSvgIconSetLiteralInNamespace("",e,i)}addSvgIconSetInNamespace(e,i,s){return this._addSvgIconSetConfig(e,new h_(i,null,s))}addSvgIconSetLiteralInNamespace(e,i,s){const a=this._sanitizer.sanitize(r.q3G.HTML,i);if(!a)throw TH(i);return this._addSvgIconSetConfig(e,new h_("",a,s))}registerFontClassAlias(e,i=e){return this._fontCssClassesByAlias.set(e,i),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){const i=this._sanitizer.sanitize(r.q3G.RESOURCE_URL,e);if(!i)throw DH(e);const s=this._cachedIconsByUrl.get(i);return s?(0,ft.of)(fM(s)):this._loadSvgIconFromConfig(new h_(e,null)).pipe((0,Pi.b)(a=>this._cachedIconsByUrl.set(i,a)),(0,At.U)(a=>fM(a)))}getNamedSvgIcon(e,i=""){const s=SH(i,e);let a=this._svgIconConfigs.get(s);if(a)return this._getSvgFromConfig(a);if(a=this._getIconConfigFromResolvers(i,e),a)return this._svgIconConfigs.set(s,a),this._getSvgFromConfig(a);const u=this._iconSetConfigs.get(i);return u?this._getSvgFromIconSetConfigs(e,u):(0,CH._)(EH(s))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(e){return e.svgText?(0,ft.of)(fM(this._svgElementFromConfig(e))):this._loadSvgIconFromConfig(e).pipe((0,At.U)(i=>fM(i)))}_getSvgFromIconSetConfigs(e,i){const s=this._extractIconWithNameFromAnySet(e,i);return s?(0,ft.of)(s):f6(i.filter(u=>!u.svgText).map(u=>this._loadSvgIconSetFromConfig(u).pipe(Ca(f=>{const C=`Loading icon set URL: ${this._sanitizer.sanitize(r.q3G.RESOURCE_URL,u.url)} failed: ${f.message}`;return this._errorHandler.handleError(new Error(C)),(0,ft.of)(null)})))).pipe((0,At.U)(()=>{const u=this._extractIconWithNameFromAnySet(e,i);if(!u)throw EH(e);return u}))}_extractIconWithNameFromAnySet(e,i){for(let s=i.length-1;s>=0;s--){const a=i[s];if(a.svgText&&a.svgText.indexOf(e)>-1){const u=this._svgElementFromConfig(a),f=this._extractSvgIconFromSet(u,e,a.options);if(f)return f}}return null}_loadSvgIconFromConfig(e){return this._fetchIcon(e).pipe((0,Pi.b)(i=>e.svgText=i),(0,At.U)(()=>this._svgElementFromConfig(e)))}_loadSvgIconSetFromConfig(e){return e.svgText?(0,ft.of)(null):this._fetchIcon(e).pipe((0,Pi.b)(i=>e.svgText=i))}_extractSvgIconFromSet(e,i,s){const a=e.querySelector(`[id="${i}"]`);if(!a)return null;const u=a.cloneNode(!0);if(u.removeAttribute("id"),"svg"===u.nodeName.toLowerCase())return this._setSvgAttributes(u,s);if("symbol"===u.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(u),s);const f=this._svgElementFromString("<svg></svg>");return f.appendChild(u),this._setSvgAttributes(f,s)}_svgElementFromString(e){const i=this._document.createElement("DIV");i.innerHTML=e;const s=i.querySelector("svg");if(!s)throw Error("<svg> tag not found");return s}_toSvgElement(e){const i=this._svgElementFromString("<svg></svg>"),s=e.attributes;for(let a=0;a<s.length;a++){const{name:u,value:f}=s[a];"id"!==u&&i.setAttribute(u,f)}for(let a=0;a<e.childNodes.length;a++)e.childNodes[a].nodeType===this._document.ELEMENT_NODE&&i.appendChild(e.childNodes[a].cloneNode(!0));return i}_setSvgAttributes(e,i){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),i&&i.viewBox&&e.setAttribute("viewBox",i.viewBox),e}_fetchIcon(e){var i;const{url:s,options:a}=e,u=null!==(i=null==a?void 0:a.withCredentials)&&void 0!==i&&i;if(!this._httpClient)throw Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.");if(null==s)throw Error(`Cannot fetch icon from URL "${s}".`);const f=this._sanitizer.sanitize(r.q3G.RESOURCE_URL,s);if(!f)throw DH(s);const g=this._inProgressUrlFetches.get(f);if(g)return g;const C=this._httpClient.get(f,{responseType:"text",withCredentials:u}).pipe(ch(()=>this._inProgressUrlFetches.delete(f)),(0,wH.B)());return this._inProgressUrlFetches.set(f,C),C}_addSvgIconConfig(e,i,s){return this._svgIconConfigs.set(SH(e,i),s),this}_addSvgIconSetConfig(e,i){const s=this._iconSetConfigs.get(e);return s?s.push(i):this._iconSetConfigs.set(e,[i]),this}_svgElementFromConfig(e){if(!e.svgElement){const i=this._svgElementFromString(e.svgText);this._setSvgAttributes(i,e.options),e.svgElement=i}return e.svgElement}_getIconConfigFromResolvers(e,i){for(let s=0;s<this._resolvers.length;s++){const a=this._resolvers[s](i,e);if(a)return OW(a)?new h_(a.url,null,a.options):new h_(a,null)}}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(Vm,8),r.LFG(js),r.LFG(F,8),r.LFG(r.qLn))},n.\u0275prov=r.Yz7({factory:function(){return new n(r.LFG(Vm,8),r.LFG(js),r.LFG(F,8),r.LFG(r.qLn))},token:n,providedIn:"root"}),n})();function fM(n){return n.cloneNode(!0)}function SH(n,t){return n+":"+t}function OW(n){return!(!n.url||!n.options)}const PW=jh(class{constructor(n){this._elementRef=n}}),NW=new r.OlP("mat-icon-location",{providedIn:"root",factory:function(){const n=(0,r.f3M)(F),t=n?n.location:null;return{getPathname:()=>t?t.pathname+t.search:""}}}),xH=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],VW=xH.map(n=>`[${n}]`).join(", "),BW=/^url\(['"]?#(.*?)['"]?\)$/;let ng=(()=>{class n extends PW{constructor(e,i,s,a,u){super(e),this._iconRegistry=i,this._location=a,this._errorHandler=u,this._inline=!1,this._currentIconFetch=Qn.w.EMPTY,s||e.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(e){this._inline=Gt(e)}get svgIcon(){return this._svgIcon}set svgIcon(e){e!==this._svgIcon&&(e?this._updateSvgIcon(e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=e)}get fontSet(){return this._fontSet}set fontSet(e){const i=this._cleanupFontValue(e);i!==this._fontSet&&(this._fontSet=i,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(e){const i=this._cleanupFontValue(e);i!==this._fontIcon&&(this._fontIcon=i,this._updateFontIconClasses())}_splitIconName(e){if(!e)return["",""];const i=e.split(":");switch(i.length){case 1:return["",i[0]];case 2:return i;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const e=this._elementsWithExternalReferences;if(e&&e.size){const i=this._location.getPathname();i!==this._previousPath&&(this._previousPath=i,this._prependPathToReferences(i))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();const i=e.querySelectorAll("style");for(let a=0;a<i.length;a++)i[a].textContent+=" ";const s=this._location.getPathname();this._previousPath=s,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(s),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){const e=this._elementRef.nativeElement;let i=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();i--;){const s=e.childNodes[i];(1!==s.nodeType||"svg"===s.nodeName.toLowerCase())&&e.removeChild(s)}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const e=this._elementRef.nativeElement,i=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();i!=this._previousFontSetClass&&(this._previousFontSetClass&&e.classList.remove(this._previousFontSetClass),i&&e.classList.add(i),this._previousFontSetClass=i),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return"string"==typeof e?e.trim().split(" ")[0]:e}_prependPathToReferences(e){const i=this._elementsWithExternalReferences;i&&i.forEach((s,a)=>{s.forEach(u=>{a.setAttribute(u.name,`url('${e}#${u.value}')`)})})}_cacheChildrenWithExternalReferences(e){const i=e.querySelectorAll(VW),s=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let a=0;a<i.length;a++)xH.forEach(u=>{const f=i[a],g=f.getAttribute(u),C=g?g.match(BW):null;if(C){let x=s.get(f);x||(x=[],s.set(f,x)),x.push({name:u,value:C[1]})}})}_updateSvgIcon(e){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),e){const[i,s]=this._splitIconName(e);i&&(this._svgNamespace=i),s&&(this._svgName=s),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(s,i).pipe(Kn(1)).subscribe(a=>this._setSvgElement(a),a=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${i}:${s}! ${a.message}`))})}}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(r.SBq),r.Y36(hM),r.$8M("aria-hidden"),r.Y36(NW),r.Y36(r.qLn))},n.\u0275cmp=r.Xpm({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(e,i){2&e&&(r.uIk("data-mat-icon-type",i._usingFontIcon()?"font":"svg")("data-mat-icon-name",i._svgName||i.fontIcon)("data-mat-icon-namespace",i._svgNamespace||i.fontSet),r.ekj("mat-icon-inline",i.inline)("mat-icon-no-color","primary"!==i.color&&"accent"!==i.color&&"warn"!==i.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[r.qOj],ngContentSelectors:MW,decls:1,vars:0,template:function(e,i){1&e&&(r.F$t(),r.Hsn(0))},styles:[".mat-icon{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),n})(),UW=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[[wn],wn]}),n})();function jW(n,t){if(1&n&&(r.O4$(),r._UZ(0,"circle",3)),2&n){const e=r.oxw();r.Udp("animation-name","mat-progress-spinner-stroke-rotate-"+e._spinnerAnimationLabel)("stroke-dashoffset",e._getStrokeDashOffset(),"px")("stroke-dasharray",e._getStrokeCircumference(),"px")("stroke-width",e._getCircleStrokeWidth(),"%"),r.uIk("r",e._getCircleRadius())}}function HW(n,t){if(1&n&&(r.O4$(),r._UZ(0,"circle",3)),2&n){const e=r.oxw();r.Udp("stroke-dashoffset",e._getStrokeDashOffset(),"px")("stroke-dasharray",e._getStrokeCircumference(),"px")("stroke-width",e._getCircleStrokeWidth(),"%"),r.uIk("r",e._getCircleRadius())}}const $W=jh(class{constructor(n){this._elementRef=n}},"primary"),AH=new r.OlP("mat-progress-spinner-default-options",{providedIn:"root",factory:function(){return{diameter:100}}});class Co extends $W{constructor(t,e,i,s,a){super(t),this._document=i,this._diameter=100,this._value=0,this._fallbackAnimation=!1,this.mode="determinate";const u=Co._diameters;this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),u.has(i.head)||u.set(i.head,new Set([100])),this._fallbackAnimation=e.EDGE||e.TRIDENT,this._noopAnimations="NoopAnimations"===s&&!!a&&!a._forceAnimations,a&&(a.diameter&&(this.diameter=a.diameter),a.strokeWidth&&(this.strokeWidth=a.strokeWidth))}get diameter(){return this._diameter}set diameter(t){this._diameter=As(t),this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),!this._fallbackAnimation&&this._styleRoot&&this._attachStyleNode()}get strokeWidth(){return this._strokeWidth||this.diameter/10}set strokeWidth(t){this._strokeWidth=As(t)}get value(){return"determinate"===this.mode?this._value:0}set value(t){this._value=Math.max(0,Math.min(100,As(t)))}ngOnInit(){const t=this._elementRef.nativeElement;this._styleRoot=sp(t)||this._document.head,this._attachStyleNode(),t.classList.add(`mat-progress-spinner-indeterminate${this._fallbackAnimation?"-fallback":""}-animation`)}_getCircleRadius(){return(this.diameter-10)/2}_getViewBox(){const t=2*this._getCircleRadius()+this.strokeWidth;return`0 0 ${t} ${t}`}_getStrokeCircumference(){return 2*Math.PI*this._getCircleRadius()}_getStrokeDashOffset(){return"determinate"===this.mode?this._getStrokeCircumference()*(100-this._value)/100:this._fallbackAnimation&&"indeterminate"===this.mode?.2*this._getStrokeCircumference():null}_getCircleStrokeWidth(){return this.strokeWidth/this.diameter*100}_attachStyleNode(){const t=this._styleRoot,e=this._diameter,i=Co._diameters;let s=i.get(t);if(!s||!s.has(e)){const a=this._document.createElement("style");a.setAttribute("mat-spinner-animation",this._spinnerAnimationLabel),a.textContent=this._getAnimationText(),t.appendChild(a),s||(s=new Set,i.set(t,s)),s.add(e)}}_getAnimationText(){const t=this._getStrokeCircumference();return"\n @keyframes mat-progress-spinner-stroke-rotate-DIAMETER {\n    0%      { stroke-dashoffset: START_VALUE;  transform: rotate(0); }\n    12.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(0); }\n    12.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(72.5deg); }\n    25%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(72.5deg); }\n\n    25.0001%   { stroke-dashoffset: START_VALUE;  transform: rotate(270deg); }\n    37.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(270deg); }\n    37.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(161.5deg); }\n    50%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(161.5deg); }\n\n    50.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(180deg); }\n    62.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(180deg); }\n    62.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(251.5deg); }\n    75%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(251.5deg); }\n\n    75.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(90deg); }\n    87.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(90deg); }\n    87.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(341.5deg); }\n    100%    { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(341.5deg); }\n  }\n".replace(/START_VALUE/g,""+.95*t).replace(/END_VALUE/g,""+.2*t).replace(/DIAMETER/g,`${this._spinnerAnimationLabel}`)}_getSpinnerAnimationLabel(){return this.diameter.toString().replace(".","_")}}Co.\u0275fac=function(t){return new(t||Co)(r.Y36(r.SBq),r.Y36(Un),r.Y36(F,8),r.Y36(yo,8),r.Y36(AH))},Co.\u0275cmp=r.Xpm({type:Co,selectors:[["mat-progress-spinner"]],hostAttrs:["role","progressbar","tabindex","-1",1,"mat-progress-spinner"],hostVars:10,hostBindings:function(t,e){2&t&&(r.uIk("aria-valuemin","determinate"===e.mode?0:null)("aria-valuemax","determinate"===e.mode?100:null)("aria-valuenow","determinate"===e.mode?e.value:null)("mode",e.mode),r.Udp("width",e.diameter,"px")("height",e.diameter,"px"),r.ekj("_mat-animation-noopable",e._noopAnimations))},inputs:{color:"color",mode:"mode",diameter:"diameter",strokeWidth:"strokeWidth",value:"value"},exportAs:["matProgressSpinner"],features:[r.qOj],decls:3,vars:8,consts:[["preserveAspectRatio","xMidYMid meet","focusable","false","aria-hidden","true",3,"ngSwitch"],["cx","50%","cy","50%",3,"animation-name","stroke-dashoffset","stroke-dasharray","stroke-width",4,"ngSwitchCase"],["cx","50%","cy","50%",3,"stroke-dashoffset","stroke-dasharray","stroke-width",4,"ngSwitchCase"],["cx","50%","cy","50%"]],template:function(t,e){1&t&&(r.O4$(),r.TgZ(0,"svg",0),r.YNc(1,jW,1,9,"circle",1),r.YNc(2,HW,1,7,"circle",2),r.qZA()),2&t&&(r.Udp("width",e.diameter,"px")("height",e.diameter,"px"),r.Q6J("ngSwitch","indeterminate"===e.mode),r.uIk("viewBox",e._getViewBox()),r.xp6(1),r.Q6J("ngSwitchCase",!0),r.xp6(1),r.Q6J("ngSwitchCase",!1))},directives:[xr,ni],styles:[".mat-progress-spinner{display:block;position:relative;overflow:hidden}.mat-progress-spinner svg{position:absolute;transform:rotate(-90deg);top:0;left:0;transform-origin:center;overflow:visible}.mat-progress-spinner circle{fill:transparent;transform-origin:center;transition:stroke-dashoffset 225ms linear}._mat-animation-noopable.mat-progress-spinner circle{transition:none;animation:none}.cdk-high-contrast-active .mat-progress-spinner circle{stroke:currentColor;stroke:CanvasText}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] svg{animation:mat-progress-spinner-linear-rotate 2000ms linear infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] svg{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition-property:stroke;animation-duration:4000ms;animation-timing-function:cubic-bezier(0.35, 0, 0.25, 1);animation-iteration-count:infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate] svg{animation:mat-progress-spinner-stroke-rotate-fallback 10000ms cubic-bezier(0.87, 0.03, 0.33, 1) infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate] svg{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate] circle{transition-property:stroke}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate] circle{transition:none;animation:none}@keyframes mat-progress-spinner-linear-rotate{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes mat-progress-spinner-stroke-rotate-100{0%{stroke-dashoffset:268.606171575px;transform:rotate(0)}12.5%{stroke-dashoffset:56.5486677px;transform:rotate(0)}12.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(72.5deg)}25%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(72.5deg)}25.0001%{stroke-dashoffset:268.606171575px;transform:rotate(270deg)}37.5%{stroke-dashoffset:56.5486677px;transform:rotate(270deg)}37.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(161.5deg)}50%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(161.5deg)}50.0001%{stroke-dashoffset:268.606171575px;transform:rotate(180deg)}62.5%{stroke-dashoffset:56.5486677px;transform:rotate(180deg)}62.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(251.5deg)}75%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(251.5deg)}75.0001%{stroke-dashoffset:268.606171575px;transform:rotate(90deg)}87.5%{stroke-dashoffset:56.5486677px;transform:rotate(90deg)}87.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(341.5deg)}100%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(341.5deg)}}@keyframes mat-progress-spinner-stroke-rotate-fallback{0%{transform:rotate(0deg)}25%{transform:rotate(1170deg)}50%{transform:rotate(2340deg)}75%{transform:rotate(3510deg)}100%{transform:rotate(4680deg)}}\n"],encapsulation:2,changeDetection:0}),Co._diameters=new WeakMap;let WW=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[[wn,Ue],wn]}),n})();function KW(n,t){if(1&n&&(r.TgZ(0,"tr"),r.TgZ(1,"td",2),r.TgZ(2,"span"),r._uU(3),r.qZA(),r.qZA(),r.qZA()),2&n){const e=r.oxw();r.xp6(3),r.Oqu(e.substringCenter("CPF/CNPJ CONSUM.: "+e.formataCPF(e.cpfCliente),40))}}function QW(n,t){if(1&n&&(r.TgZ(0,"tr"),r.TgZ(1,"td",5),r._uU(2),r.qZA(),r.qZA()),2&n){const e=t.$implicit,i=r.oxw();r.xp6(2),r.xDo("",i.substringItem(e.item,3),"|",i.substring(e.description,13),"|",i.substring(e.items,6),"|",i.substringNumber(e.price,7),"|",i.substringNumber(e.totalPrice,7),"")}}function JW(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"span",11),r.TgZ(1,"form",12),r.TgZ(2,"mat-form-field",13),r.TgZ(3,"mat-label"),r._uU(4,"Telefone para envio com DDD+N\xfamero"),r.qZA(),r.TgZ(5,"input",14),r.NdJ("ngModelChange",function(s){return r.CHM(e),r.oxw().telefoneCliente=s}),r.qZA(),r.qZA(),r.qZA(),r.TgZ(6,"button",15),r.NdJ("click",function(){return r.CHM(e),r.oxw().enviarWA()}),r.TgZ(7,"mat-icon"),r._uU(8,"whatsapp"),r.qZA(),r.qZA(),r.qZA()}if(2&n){const e=r.oxw();r.xp6(5),r.Q6J("ngModel",e.telefoneCliente),r.xp6(1),r.Q6J("disabled",!e.telefoneCliente)}}function XW(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"span",16),r.TgZ(1,"label"),r._uU(2,"Outros meios de compartilhamento"),r.qZA(),r.TgZ(3,"button",17),r.NdJ("click",function(){return r.CHM(e),r.oxw().enviarEmail()}),r.TgZ(4,"mat-icon"),r._uU(5,"share"),r.qZA(),r.qZA(),r.qZA()}}function e7(n,t){1&n&&(r.TgZ(0,"div",18),r._UZ(1,"mat-progress-spinner",19),r.qZA())}let t7=(()=>{class n{constructor(e,i,s,a){this.router=e,this.route=i,this.estoqueService=s,this.dialog=a,this.emailCliente="",this.cpfCliente="",this.myDate=new Date,this.isLoading=!1;try{this.dados=this.router.getCurrentNavigation().extras.state.venda||{},this.valorTotal=this.router.getCurrentNavigation().extras.state.valorTotal||{},this.cpfCliente=this.router.getCurrentNavigation().extras.state.cpf||"N\xe3o solicitado"}catch(u){this.router.navigate(["/"],{relativeTo:this.route,skipLocationChange:!0})}}ngAfterViewInit(){setTimeout(()=>{var e;const s=Number(Date.now()),a={loja:this.estoqueService.usuario.idLoja,datahora:s,vendedor:this.estoqueService.user.email,cupom:String(null===(e=document.getElementById("print-section"))||void 0===e?void 0:e.innerText),valorvenda:this.valorTotal};this.estoqueService.sendPostVendasRequest(a).subscribe(u=>{tb(document.getElementById("print-section")||void 0,{backgroundColor:"white"}).then(g=>{this.estoqueService.salvaCupom(g,String(s)||"").subscribe(C=>{this.cupomArquivo=C})})})},0)}ngOnInit(){this.estoqueService.compraFechada=!0}enviarWA(){window.open(`https://api.whatsapp.com/send?phone=55${this.telefoneCliente}&text=${encodeURI(`Ol\xe1 segue seu cupom! Ele ficar\xe1 dispon\xedvel por 30 dias\n${this.cupomArquivo}`)}`,"_blank")}enviarEmail(){var e;const s={title:"Cupom",text:"Ol\xe1 segue seu cupom! Ele ficar\xe1 dispon\xedvel por 30 dias\n"+String(null===(e=document.getElementById("print-section"))||void 0===e?void 0:e.innerText)+"\n"+this.cupomArquivo};navigator.share(s)}exibirAlerta(e){const i=new ls;i.disableClose=!0,i.autoFocus=!0,this.dialog.open(Os,i).afterClosed().subscribe(a=>{})}substring(e,i){if(String(e).length>i)return String(e).substring(0,i);for(;String(e).length<i;)e=" "+e;return String(e)}substringCenter(e,i){if(String(e).length>i)return String(e).substring(0,i);const a=(i-String(e).length)/2+String(e).length;for(;String(e).length<a;)e=" "+e;return String(e)}substringNumber(e,i){if(e=String(Number(e).toFixed(2)),String(e).length>i)return String(e).substring(0,i);for(;String(e).length<i;)e=" "+e;return String(e)}substringItem(e,i){if(String(e).length>i)return String(e).substring(0,i);for(;String(e).length<i;)e="0"+e;return String(e)}formataCPF(e){return(e=e.replace(/[^\d]/g,"")).length<12?e.replace(/(\d{3})(\d{3})(\d{3})(\d{2})/,"$1.$2.$3-$4"):e.replace(/(\d{2})(\d{3})(\d{3})(\d{4})(\d{2})/,"$1.$2.$3/$4-$5")}removeAcento(e){return(e=(e=(e=(e=(e=(e=e.toLowerCase()).replace(new RegExp("[\xc1\xc0\xc2\xc3]","gi"),"a")).replace(new RegExp("[\xc9\xc8\xca]","gi"),"e")).replace(new RegExp("[\xcd\xcc\xce]","gi"),"i")).replace(new RegExp("[\xd3\xd2\xd4\xd5]","gi"),"o")).replace(new RegExp("[\xda\xd9\xdb]","gi"),"u")).replace(new RegExp("[\xc7]","gi"),"c")}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(nr),r.Y36(xs),r.Y36(pl),r.Y36(cs))},n.\u0275cmp=r.Xpm({type:n,selectors:[["app-cupom"]],decls:45,vars:21,consts:[[1,"tela"],["id","print-section"],["colspan","5",1,"tdCenter"],[4,"ngIf"],["colspan","5",1,"tdLinha"],["colspan","5"],[4,"ngFor","ngForOf"],[1,"spacer"],["class","linhaButton",4,"ngIf"],["class","linhaButton2",4,"ngIf"],["class","loadingSet",4,"ngIf"],[1,"linhaButton"],[1,"item-form"],["appearance","fill",1,"item-full-width2"],["type","number","autocomplete","off","matInput","","placeholder","Ex. 11999998888","name","email",3,"ngModel","ngModelChange"],["mat-mini-fab","","color","primary",3,"disabled","click"],[1,"linhaButton2"],["mat-mini-fab","","color","primary",3,"click"],[1,"loadingSet"],["mode","indeterminate"]],template:function(e,i){1&e&&(r.TgZ(0,"div",0),r.TgZ(1,"div",1),r.TgZ(2,"table"),r.TgZ(3,"tr"),r.TgZ(4,"td",2),r.TgZ(5,"span"),r._uU(6),r.qZA(),r.qZA(),r.qZA(),r.TgZ(7,"tr"),r.TgZ(8,"td",2),r.TgZ(9,"span"),r._uU(10),r.qZA(),r.qZA(),r.qZA(),r.TgZ(11,"tr"),r.TgZ(12,"td",2),r.TgZ(13,"span"),r._uU(14),r.qZA(),r.qZA(),r.qZA(),r.YNc(15,KW,4,1,"tr",3),r.TgZ(16,"tr"),r.TgZ(17,"td",4),r._uU(18,"........................................"),r.qZA(),r.qZA(),r.TgZ(19,"tr"),r.TgZ(20,"td",5),r._uU(21),r.qZA(),r.qZA(),r.TgZ(22,"tr"),r.TgZ(23,"td",4),r._uU(24,"........................................"),r.qZA(),r.qZA(),r.YNc(25,QW,3,5,"tr",6),r.TgZ(26,"tr"),r.TgZ(27,"td",5),r._uU(28),r.qZA(),r.qZA(),r.TgZ(29,"tr"),r.TgZ(30,"td",4),r._uU(31,"........................................"),r.qZA(),r.qZA(),r.TgZ(32,"tr"),r.TgZ(33,"td",2),r.TgZ(34,"span"),r._uU(35),r.ALo(36,"date"),r.qZA(),r.qZA(),r.qZA(),r.TgZ(37,"tr"),r.TgZ(38,"td",4),r._uU(39,"........................................"),r.qZA(),r.qZA(),r.qZA(),r._UZ(40,"br"),r.qZA(),r._UZ(41,"span",7),r.YNc(42,JW,9,2,"span",8),r.YNc(43,XW,6,0,"span",9),r.YNc(44,e7,2,0,"div",10),r.qZA()),2&e&&(r.xp6(6),r.Oqu(i.substringCenter(i.estoqueService.loja.name,40)),r.xp6(4),r.Oqu(i.substringCenter("CPF/CNPJ LOJA: "+i.estoqueService.loja.cnpj,40)),r.xp6(4),r.Oqu(i.substringCenter("CUPOM FICAL ELETRONICO",40)),r.xp6(1),r.Q6J("ngIf",i.cpfCliente.length>10),r.xp6(6),r.xDo("",i.substring("#",3)+"|","",i.substring("DESCRICAO",13)+"|","",i.substring("QTD.UN",6)+"|","",i.substring("VL UNIT",7)+"|","",i.substring("VL ITEM",7),""),r.xp6(4),r.Q6J("ngForOf",i.dados),r.xp6(3),r.AsE("",i.substring("TOTAL R$",8),"",i.substringNumber(i.valorTotal,32),""),r.xp6(7),r.Oqu(r.gM2(36,16,i.myDate,"dd-MM-yyyy hh:mm:ss a","","pt-BR")),r.xp6(7),r.Q6J("ngIf",i.cupomArquivo),r.xp6(1),r.Q6J("ngIf",i.cupomArquivo),r.xp6(1),r.Q6J("ngIf",!i.cupomArquivo))},directives:[On,un,Xp,Jp,Oa,tg,nf,u_,d_,Od,Qp,tf,Ar,ng,Co],pipes:[ha],styles:[".loadingSet[_ngcontent-%COMP%]{width:100%;height:50%;display:flex;justify-content:center;align-items:center}.tela[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;align-items:center;font-family:monospace;white-space:pre;height:calc(100% - 70px)}.imageCumpom[_ngcontent-%COMP%]{max-width:100%}table[_ngcontent-%COMP%]{width:100%;border-spacing:0px}td[_ngcontent-%COMP%]{padding:0}th[_ngcontent-%COMP%]{text-align:right;padding:0}.tdLinha[_ngcontent-%COMP%]{line-height:0px!important;vertical-align:top;padding:0 0 3px}.tdCenter[_ngcontent-%COMP%]{padding:0}.tdLeft[_ngcontent-%COMP%]{text-align:left;padding:0}.tdRight[_ngcontent-%COMP%]{text-align:right;padding:0}.spacer[_ngcontent-%COMP%]{flex:1 1 auto}.linhaButton[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:flex-start;width:90%}.linhaButton2[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:90%}button[_ngcontent-%COMP%]{margin:5px}pre[_ngcontent-%COMP%]{margin:0!important}.item-full-width[_ngcontent-%COMP%]{width:90%}.item-form[_ngcontent-%COMP%]{min-width:150px;width:100%;display:inline-flex;justify-content:center;align-items:center;flex-direction:column}.item-full-width2[_ngcontent-%COMP%]{width:calc(100% - 10px)}"]}),n})();const n7=["trigger"],i7=["panel"];function r7(n,t){if(1&n&&(r.TgZ(0,"span",8),r._uU(1),r.qZA()),2&n){const e=r.oxw();r.xp6(1),r.Oqu(e.placeholder)}}function s7(n,t){if(1&n&&(r.TgZ(0,"span",12),r._uU(1),r.qZA()),2&n){const e=r.oxw(2);r.xp6(1),r.Oqu(e.triggerValue)}}function o7(n,t){1&n&&r.Hsn(0,0,["*ngSwitchCase","true"])}function a7(n,t){if(1&n&&(r.TgZ(0,"span",9),r.YNc(1,s7,2,1,"span",10),r.YNc(2,o7,1,0,"ng-content",11),r.qZA()),2&n){const e=r.oxw();r.Q6J("ngSwitch",!!e.customTrigger),r.xp6(2),r.Q6J("ngSwitchCase",!0)}}function l7(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"div",13),r.TgZ(1,"div",14,15),r.NdJ("@transformPanel.done",function(s){return r.CHM(e),r.oxw()._panelDoneAnimatingStream.next(s.toState)})("keydown",function(s){return r.CHM(e),r.oxw()._handleKeydown(s)}),r.Hsn(3,1),r.qZA(),r.qZA()}if(2&n){const e=r.oxw();r.Q6J("@transformPanelWrap",void 0),r.xp6(1),r.Gre("mat-select-panel ",e._getPanelTheme(),""),r.Udp("transform-origin",e._transformOrigin)("font-size",e._triggerFontSize,"px"),r.Q6J("ngClass",e.panelClass)("@transformPanel",e.multiple?"showing-multiple":"showing"),r.uIk("id",e.id+"-panel")("aria-multiselectable",e.multiple)("aria-label",e.ariaLabel||null)("aria-labelledby",e._getPanelAriaLabelledby())}}const c7=[[["mat-select-trigger"]],"*"],u7=["mat-select-trigger","*"],MH={transformPanelWrap:Rs("transformPanelWrap",[Pn("* => void",sl("@transformPanel",[Mx()],{optional:!0}))]),transformPanel:Rs("transformPanel",[ui("void",en({transform:"scaleY(0.8)",minWidth:"100%",opacity:0})),ui("showing",en({opacity:1,minWidth:"calc(100% + 32px)",transform:"scaleY(1)"})),ui("showing-multiple",en({opacity:1,minWidth:"calc(100% + 64px)",transform:"scaleY(1)"})),Pn("void => *",Si("120ms cubic-bezier(0, 0, 0.2, 1)")),Pn("* => void",Si("100ms 25ms linear",en({opacity:0})))])};let kH=0;const OH=new r.OlP("mat-select-scroll-strategy"),p7=new r.OlP("MAT_SELECT_CONFIG"),g7={provide:OH,deps:[Ia],useFactory:function(n){return()=>n.scrollStrategies.reposition()}};class m7{constructor(t,e){this.source=t,this.value=e}}const _7=Im(Bv(Iu(Yw(class{constructor(n,t,e,i,s){this._elementRef=n,this._defaultErrorStateMatcher=t,this._parentForm=e,this._parentFormGroup=i,this.ngControl=s}})))),PH=new r.OlP("MatSelectTrigger");let y7=(()=>{class n extends _7{constructor(e,i,s,a,u,f,g,C,x,R,G,ee,he,Fe){var He,ht,mt;super(u,a,g,C,R),this._viewportRuler=e,this._changeDetectorRef=i,this._ngZone=s,this._dir=f,this._parentFormField=x,this._liveAnnouncer=he,this._defaultOptions=Fe,this._panelOpen=!1,this._compareWith=(Et,Ct)=>Et===Ct,this._uid="mat-select-"+kH++,this._triggerAriaLabelledBy=null,this._destroy=new yt.xQ,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+kH++,this._panelDoneAnimatingStream=new yt.xQ,this._overlayPanelClass=(null===(He=this._defaultOptions)||void 0===He?void 0:He.overlayPanelClass)||"",this._focused=!1,this.controlType="mat-select",this._required=!1,this._multiple=!1,this._disableOptionCentering=null!==(mt=null===(ht=this._defaultOptions)||void 0===ht?void 0:ht.disableOptionCentering)&&void 0!==mt&&mt,this.ariaLabel="",this.optionSelectionChanges=os(()=>{const Et=this.options;return Et?Et.changes.pipe(Di(Et),li(()=>(0,ir.T)(...Et.map(Ct=>Ct.onSelectionChange)))):this._ngZone.onStable.pipe(Kn(1),li(()=>this.optionSelectionChanges))}),this.openedChange=new r.vpe,this._openedStream=this.openedChange.pipe(xn(Et=>Et),(0,At.U)(()=>{})),this._closedStream=this.openedChange.pipe(xn(Et=>!Et),(0,At.U)(()=>{})),this.selectionChange=new r.vpe,this.valueChange=new r.vpe,this.ngControl&&(this.ngControl.valueAccessor=this),null!=(null==Fe?void 0:Fe.typeaheadDebounceInterval)&&(this._typeaheadDebounceInterval=Fe.typeaheadDebounceInterval),this._scrollStrategyFactory=ee,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(G)||0,this.id=this.id}get focused(){return this._focused||this._panelOpen}get placeholder(){return this._placeholder}set placeholder(e){this._placeholder=e,this.stateChanges.next()}get required(){return this._required}set required(e){this._required=Gt(e),this.stateChanges.next()}get multiple(){return this._multiple}set multiple(e){this._multiple=Gt(e)}get disableOptionCentering(){return this._disableOptionCentering}set disableOptionCentering(e){this._disableOptionCentering=Gt(e)}get compareWith(){return this._compareWith}set compareWith(e){this._compareWith=e,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(e){(e!==this._value||this._multiple&&Array.isArray(e))&&(this.options&&this._setSelectionByValue(e),this._value=e)}get typeaheadDebounceInterval(){return this._typeaheadDebounceInterval}set typeaheadDebounceInterval(e){this._typeaheadDebounceInterval=As(e)}get id(){return this._id}set id(e){this._id=e||this._uid,this.stateChanges.next()}ngOnInit(){this._selectionModel=new RS(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe(yd(),ri(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen))}ngAfterContentInit(){this._initKeyManager(),this._selectionModel.changed.pipe(ri(this._destroy)).subscribe(e=>{e.added.forEach(i=>i.select()),e.removed.forEach(i=>i.deselect())}),this.options.changes.pipe(Di(null),ri(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const e=this._getTriggerAriaLabelledby();if(e!==this._triggerAriaLabelledBy){const i=this._elementRef.nativeElement;this._triggerAriaLabelledBy=e,e?i.setAttribute("aria-labelledby",e):i.removeAttribute("aria-labelledby")}this.ngControl&&this.updateErrorState()}ngOnChanges(e){e.disabled&&this.stateChanges.next(),e.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this._typeaheadDebounceInterval)}ngOnDestroy(){this._destroy.next(),this._destroy.complete(),this.stateChanges.complete()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck())}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched())}writeValue(e){this.value=e}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){var e,i;return this.multiple?(null===(e=this._selectionModel)||void 0===e?void 0:e.selected)||[]:null===(i=this._selectionModel)||void 0===i?void 0:i.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const e=this._selectionModel.selected.map(i=>i.viewValue);return this._isRtl()&&e.reverse(),e.join(", ")}return this._selectionModel.selected[0].viewValue}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(e){this.disabled||(this.panelOpen?this._handleOpenKeydown(e):this._handleClosedKeydown(e))}_handleClosedKeydown(e){const i=e.keyCode,s=40===i||38===i||37===i||39===i,a=13===i||32===i,u=this._keyManager;if(!u.isTyping()&&a&&!ks(e)||(this.multiple||e.altKey)&&s)e.preventDefault(),this.open();else if(!this.multiple){const f=this.selected;u.onKeydown(e);const g=this.selected;g&&f!==g&&this._liveAnnouncer.announce(g.viewValue,1e4)}}_handleOpenKeydown(e){const i=this._keyManager,s=e.keyCode,a=40===s||38===s,u=i.isTyping();if(a&&e.altKey)e.preventDefault(),this.close();else if(u||13!==s&&32!==s||!i.activeItem||ks(e))if(!u&&this._multiple&&65===s&&e.ctrlKey){e.preventDefault();const f=this.options.some(g=>!g.disabled&&!g.selected);this.options.forEach(g=>{g.disabled||(f?g.select():g.deselect())})}else{const f=i.activeItemIndex;i.onKeydown(e),this._multiple&&a&&e.shiftKey&&i.activeItem&&i.activeItemIndex!==f&&i.activeItem._selectViaInteraction()}else e.preventDefault(),i.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe(Kn(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this._setSelectionByValue(this.ngControl?this.ngControl.value:this._value),this.stateChanges.next()})}_setSelectionByValue(e){if(this._selectionModel.selected.forEach(i=>i.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&e)Array.isArray(e),e.forEach(i=>this._selectValue(i)),this._sortValues();else{const i=this._selectValue(e);i?this._keyManager.updateActiveItem(i):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectValue(e){const i=this.options.find(s=>{if(this._selectionModel.isSelected(s))return!1;try{return null!=s.value&&this._compareWith(s.value,e)}catch(a){return!1}});return i&&this._selectionModel.select(i),i}_initKeyManager(){this._keyManager=new kU(this.options).withTypeAhead(this._typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withAllowedModifierKeys(["shiftKey"]),this._keyManager.tabOut.pipe(ri(this._destroy)).subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.pipe(ri(this._destroy)).subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const e=(0,ir.T)(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(ri(e)).subscribe(i=>{this._onSelect(i.source,i.isUserInput),i.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),(0,ir.T)(...this.options.map(i=>i._stateChanges)).pipe(ri(e)).subscribe(()=>{this._changeDetectorRef.markForCheck(),this.stateChanges.next()})}_onSelect(e,i){const s=this._selectionModel.isSelected(e);null!=e.value||this._multiple?(s!==e.selected&&(e.selected?this._selectionModel.select(e):this._selectionModel.deselect(e)),i&&this._keyManager.setActiveItem(e),this.multiple&&(this._sortValues(),i&&this.focus())):(e.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(e.value)),s!==this._selectionModel.isSelected(e)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const e=this.options.toArray();this._selectionModel.sort((i,s)=>this.sortComparator?this.sortComparator(i,s,e):e.indexOf(i)-e.indexOf(s)),this.stateChanges.next()}}_propagateChanges(e){let i=null;i=this.multiple?this.selected.map(s=>s.value):this.selected?this.selected.value:e,this._value=i,this.valueChange.emit(i),this._onChange(i),this.selectionChange.emit(this._getChangeEvent(i)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){this._keyManager&&(this.empty?this._keyManager.setFirstItemActive():this._keyManager.setActiveItem(this._selectionModel.selected[0]))}_canOpen(){var e;return!this._panelOpen&&!this.disabled&&(null===(e=this.options)||void 0===e?void 0:e.length)>0}focus(e){this._elementRef.nativeElement.focus(e)}_getPanelAriaLabelledby(){var e;if(this.ariaLabel)return null;const i=null===(e=this._parentFormField)||void 0===e?void 0:e.getLabelId();return this.ariaLabelledby?(i?i+" ":"")+this.ariaLabelledby:i}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){var e;if(this.ariaLabel)return null;const i=null===(e=this._parentFormField)||void 0===e?void 0:e.getLabelId();let s=(i?i+" ":"")+this._valueId;return this.ariaLabelledby&&(s+=" "+this.ariaLabelledby),s}_panelDoneAnimating(e){this.openedChange.emit(e)}setDescribedByIds(e){this._ariaDescribedby=e.join(" ")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this._panelOpen||!this.empty||this._focused&&!!this._placeholder}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(up),r.Y36(r.sBO),r.Y36(r.R0b),r.Y36(zh),r.Y36(r.SBq),r.Y36(Ms,8),r.Y36(Oa,8),r.Y36(eg,8),r.Y36(DD,8),r.Y36(Lu,10),r.$8M("tabindex"),r.Y36(OH),r.Y36(zR),r.Y36(p7,8))},n.\u0275dir=r.lG2({type:n,viewQuery:function(e,i){if(1&e&&(r.Gf(n7,5),r.Gf(i7,5),r.Gf(Ky,5)),2&e){let s;r.iGM(s=r.CRH())&&(i.trigger=s.first),r.iGM(s=r.CRH())&&(i.panel=s.first),r.iGM(s=r.CRH())&&(i._overlayDir=s.first)}},inputs:{ariaLabel:["aria-label","ariaLabel"],id:"id",placeholder:"placeholder",required:"required",multiple:"multiple",disableOptionCentering:"disableOptionCentering",compareWith:"compareWith",value:"value",typeaheadDebounceInterval:"typeaheadDebounceInterval",panelClass:"panelClass",ariaLabelledby:["aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",sortComparator:"sortComparator"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},features:[r.qOj,r.TTD]}),n})(),NH=(()=>{class n extends y7{constructor(){super(...arguments),this._scrollTop=0,this._triggerFontSize=0,this._transformOrigin="top",this._offsetY=0,this._positions=[{originX:"start",originY:"top",overlayX:"start",overlayY:"top"},{originX:"start",originY:"bottom",overlayX:"start",overlayY:"bottom"}]}_calculateOverlayScroll(e,i,s){const a=this._getItemHeight();return Math.min(Math.max(0,a*e-i+a/2),s)}ngOnInit(){super.ngOnInit(),this._viewportRuler.change().pipe(ri(this._destroy)).subscribe(()=>{this.panelOpen&&(this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._changeDetectorRef.markForCheck())})}open(){super._canOpen()&&(super.open(),this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._triggerFontSize=parseInt(getComputedStyle(this.trigger.nativeElement).fontSize||"0"),this._calculateOverlayPosition(),this._ngZone.onStable.pipe(Kn(1)).subscribe(()=>{this._triggerFontSize&&this._overlayDir.overlayRef&&this._overlayDir.overlayRef.overlayElement&&(this._overlayDir.overlayRef.overlayElement.style.fontSize=`${this._triggerFontSize}px`)}))}_scrollOptionIntoView(e){const i=Yi(e,this.options,this.optionGroups),s=this._getItemHeight();this.panel.nativeElement.scrollTop=0===e&&1===i?0:function(n,t,e,i){return n<e?n:n+t>e+256?Math.max(0,n-256+t):e}((e+i)*s,s,this.panel.nativeElement.scrollTop)}_positioningSettled(){this._calculateOverlayOffsetX(),this.panel.nativeElement.scrollTop=this._scrollTop}_panelDoneAnimating(e){this.panelOpen?this._scrollTop=0:(this._overlayDir.offsetX=0,this._changeDetectorRef.markForCheck()),super._panelDoneAnimating(e)}_getChangeEvent(e){return new m7(this,e)}_calculateOverlayOffsetX(){const e=this._overlayDir.overlayRef.overlayElement.getBoundingClientRect(),i=this._viewportRuler.getViewportSize(),s=this._isRtl(),a=this.multiple?56:32;let u;if(this.multiple)u=40;else if(this.disableOptionCentering)u=16;else{let C=this._selectionModel.selected[0]||this.options.first;u=C&&C.group?32:16}s||(u*=-1);const f=0-(e.left+u-(s?a:0)),g=e.right+u-i.width+(s?0:a);f>0?u+=f+8:g>0&&(u-=g+8),this._overlayDir.offsetX=Math.round(u),this._overlayDir.overlayRef.updatePosition()}_calculateOverlayOffsetY(e,i,s){const a=this._getItemHeight(),u=(a-this._triggerRect.height)/2,f=Math.floor(256/a);let g;return this.disableOptionCentering?0:(g=0===this._scrollTop?e*a:this._scrollTop===s?(e-(this._getItemCount()-f))*a+(a-(this._getItemCount()*a-256)%a):i-a/2,Math.round(-1*g-u))}_checkOverlayWithinViewport(e){const i=this._getItemHeight(),s=this._viewportRuler.getViewportSize(),a=this._triggerRect.top-8,u=s.height-this._triggerRect.bottom-8,f=Math.abs(this._offsetY),C=Math.min(this._getItemCount()*i,256)-f-this._triggerRect.height;C>u?this._adjustPanelUp(C,u):f>a?this._adjustPanelDown(f,a,e):this._transformOrigin=this._getOriginBasedOnOption()}_adjustPanelUp(e,i){const s=Math.round(e-i);this._scrollTop-=s,this._offsetY-=s,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop<=0&&(this._scrollTop=0,this._offsetY=0,this._transformOrigin="50% bottom 0px")}_adjustPanelDown(e,i,s){const a=Math.round(e-i);if(this._scrollTop+=a,this._offsetY+=a,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop>=s)return this._scrollTop=s,this._offsetY=0,void(this._transformOrigin="50% top 0px")}_calculateOverlayPosition(){const e=this._getItemHeight(),i=this._getItemCount(),s=Math.min(i*e,256),u=i*e-s;let f;f=this.empty?0:Math.max(this.options.toArray().indexOf(this._selectionModel.selected[0]),0),f+=Yi(f,this.options,this.optionGroups);const g=s/2;this._scrollTop=this._calculateOverlayScroll(f,g,u),this._offsetY=this._calculateOverlayOffsetY(f,g,u),this._checkOverlayWithinViewport(u)}_getOriginBasedOnOption(){const e=this._getItemHeight(),i=(e-this._triggerRect.height)/2;return`50% ${Math.abs(this._offsetY)-i+e/2}px 0px`}_getItemHeight(){return 3*this._triggerFontSize}_getItemCount(){return this.options.length+this.optionGroups.length}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=r.n5z(n)))(i||n)}}(),n.\u0275cmp=r.Xpm({type:n,selectors:[["mat-select"]],contentQueries:function(e,i,s){if(1&e&&(r.Suo(s,PH,5),r.Suo(s,Zo,5),r.Suo(s,zv,5)),2&e){let a;r.iGM(a=r.CRH())&&(i.customTrigger=a.first),r.iGM(a=r.CRH())&&(i.options=a),r.iGM(a=r.CRH())&&(i.optionGroups=a)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","true",1,"mat-select"],hostVars:20,hostBindings:function(e,i){1&e&&r.NdJ("keydown",function(a){return i._handleKeydown(a)})("focus",function(){return i._onFocus()})("blur",function(){return i._onBlur()}),2&e&&(r.uIk("id",i.id)("tabindex",i.tabIndex)("aria-controls",i.panelOpen?i.id+"-panel":null)("aria-expanded",i.panelOpen)("aria-label",i.ariaLabel||null)("aria-required",i.required.toString())("aria-disabled",i.disabled.toString())("aria-invalid",i.errorState)("aria-describedby",i._ariaDescribedby||null)("aria-activedescendant",i._getAriaActiveDescendant()),r.ekj("mat-select-disabled",i.disabled)("mat-select-invalid",i.errorState)("mat-select-required",i.required)("mat-select-empty",i.empty)("mat-select-multiple",i.multiple))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex"},exportAs:["matSelect"],features:[r._Bn([{provide:ED,useExisting:n},{provide:Yo,useExisting:n}]),r.qOj],ngContentSelectors:u7,decls:9,vars:12,consts:[["cdk-overlay-origin","",1,"mat-select-trigger",3,"click"],["origin","cdkOverlayOrigin","trigger",""],[1,"mat-select-value",3,"ngSwitch"],["class","mat-select-placeholder mat-select-min-line",4,"ngSwitchCase"],["class","mat-select-value-text",3,"ngSwitch",4,"ngSwitchCase"],[1,"mat-select-arrow-wrapper"],[1,"mat-select-arrow"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayMinWidth","cdkConnectedOverlayOffsetY","backdropClick","attach","detach"],[1,"mat-select-placeholder","mat-select-min-line"],[1,"mat-select-value-text",3,"ngSwitch"],["class","mat-select-min-line",4,"ngSwitchDefault"],[4,"ngSwitchCase"],[1,"mat-select-min-line"],[1,"mat-select-panel-wrap"],["role","listbox","tabindex","-1",3,"ngClass","keydown"],["panel",""]],template:function(e,i){if(1&e&&(r.F$t(c7),r.TgZ(0,"div",0,1),r.NdJ("click",function(){return i.toggle()}),r.TgZ(3,"div",2),r.YNc(4,r7,2,1,"span",3),r.YNc(5,a7,3,2,"span",4),r.qZA(),r.TgZ(6,"div",5),r._UZ(7,"div",6),r.qZA(),r.qZA(),r.YNc(8,l7,4,14,"ng-template",7),r.NdJ("backdropClick",function(){return i.close()})("attach",function(){return i._onAttached()})("detach",function(){return i.close()})),2&e){const s=r.MAs(1);r.uIk("aria-owns",i.panelOpen?i.id+"-panel":null),r.xp6(3),r.Q6J("ngSwitch",i.empty),r.uIk("id",i._valueId),r.xp6(1),r.Q6J("ngSwitchCase",!0),r.xp6(1),r.Q6J("ngSwitchCase",!1),r.xp6(3),r.Q6J("cdkConnectedOverlayPanelClass",i._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",i._scrollStrategy)("cdkConnectedOverlayOrigin",s)("cdkConnectedOverlayOpen",i.panelOpen)("cdkConnectedOverlayPositions",i._positions)("cdkConnectedOverlayMinWidth",null==i._triggerRect?null:i._triggerRect.width)("cdkConnectedOverlayOffsetY",i._offsetY)}},directives:[HC,xr,ni,Ky,aa,Or],styles:['.mat-select{display:inline-block;width:100%;outline:none}.mat-select-trigger{display:inline-table;cursor:pointer;position:relative;box-sizing:border-box}.mat-select-disabled .mat-select-trigger{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.mat-select-value{display:table-cell;max-width:0;width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-select-arrow-wrapper{display:table-cell;vertical-align:middle}.mat-form-field-appearance-fill .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-outline .mat-select-arrow-wrapper{transform:translateY(-25%)}.mat-form-field-appearance-standard.mat-form-field-has-label .mat-select:not(.mat-select-empty) .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:none}.mat-select-arrow{width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;margin:0 4px}.mat-select-panel-wrap{flex-basis:100%}.mat-select-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;padding-top:0;padding-bottom:0;max-height:256px;min-width:100%;border-radius:4px;outline:0}.cdk-high-contrast-active .mat-select-panel{outline:solid 1px}.mat-select-panel .mat-optgroup-label,.mat-select-panel .mat-option{font-size:inherit;line-height:3em;height:3em}.mat-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-form-field-flex{cursor:pointer}.mat-form-field-type-mat-select .mat-form-field-label{width:calc(100% - 18px)}.mat-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable .mat-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-select-placeholder{color:transparent;-webkit-text-fill-color:transparent;transition:none;display:block}.mat-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;opacity:0}\n'],encapsulation:2,data:{animation:[MH.transformPanelWrap,MH.transformPanel]},changeDetection:0}),n})(),FH=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({providers:[g7],imports:[[Ue,Qy,Kw,wn],dp,dM,Kw,wn]}),n})();const LH=new Set;let jb,VH=(()=>{class n{constructor(e){this._platform=e,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):b7}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&function(n){if(!LH.has(n))try{jb||(jb=document.createElement("style"),jb.setAttribute("type","text/css"),document.head.appendChild(jb)),jb.sheet&&(jb.sheet.insertRule(`@media ${n} {body{ }}`,0),LH.add(n))}catch(t){console.error(t)}}(e),this._matchMedia(e)}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(Un))},n.\u0275prov=r.Yz7({factory:function(){return new n(r.LFG(Un))},token:n,providedIn:"root"}),n})();function b7(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let C7=(()=>{class n{constructor(e,i){this._mediaMatcher=e,this._zone=i,this._queries=new Map,this._destroySubject=new yt.xQ}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return BH(Vy(e)).some(s=>this._registerQuery(s).mql.matches)}observe(e){let a=Hs(BH(Vy(e)).map(u=>this._registerQuery(u).observable));return a=Ka(a.pipe(Kn(1)),a.pipe(Rh(1),Jy(0))),a.pipe((0,At.U)(u=>{const f={matches:!1,breakpoints:{}};return u.forEach(({matches:g,query:C})=>{f.matches=f.matches||g,f.breakpoints[C]=g}),f}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);const i=this._mediaMatcher.matchMedia(e),a={observable:new Bn.y(u=>{const f=g=>this._zone.run(()=>u.next(g));return i.addListener(f),()=>{i.removeListener(f)}}).pipe(Di(i),(0,At.U)(({matches:u})=>({query:e,matches:u})),ri(this._destroySubject)),mql:i};return this._queries.set(e,a),a}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(VH),r.LFG(r.R0b))},n.\u0275prov=r.Yz7({factory:function(){return new n(r.LFG(VH),r.LFG(r.R0b))},token:n,providedIn:"root"}),n})();function BH(n){return n.map(t=>t.split(",")).reduce((t,e)=>t.concat(e)).map(t=>t.trim())}const E7={tooltipState:Rs("state",[ui("initial, void, hidden",en({opacity:0,transform:"scale(0)"})),ui("visible",en({transform:"scale(1)"})),Pn("* => visible",Si("200ms cubic-bezier(0, 0, 0.2, 1)",Tu([en({opacity:0,transform:"scale(0)",offset:0}),en({opacity:.5,transform:"scale(0.99)",offset:.5}),en({opacity:1,transform:"scale(1)",offset:1})]))),Pn("* => hidden",Si("100ms cubic-bezier(0, 0, 0.2, 1)",en({opacity:0})))])},UH="tooltip-panel",jH=ip({passive:!0}),HH=new r.OlP("mat-tooltip-scroll-strategy"),x7={provide:HH,deps:[Ia],useFactory:function(n){return()=>n.scrollStrategies.reposition({scrollThrottle:20})}},I7=new r.OlP("mat-tooltip-default-options",{providedIn:"root",factory:function(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}});let M7=(()=>{class n{constructor(e,i,s,a,u,f,g,C,x,R,G,ee){this._overlay=e,this._elementRef=i,this._scrollDispatcher=s,this._viewContainerRef=a,this._ngZone=u,this._platform=f,this._ariaDescriber=g,this._focusMonitor=C,this._dir=R,this._defaultOptions=G,this._position="below",this._disabled=!1,this._viewInitialized=!1,this._pointerExitEventsInitialized=!1,this._viewportMargin=8,this._cssClassPrefix="mat",this.showDelay=this._defaultOptions.showDelay,this.hideDelay=this._defaultOptions.hideDelay,this.touchGestures="auto",this._message="",this._passiveListeners=[],this._destroyed=new yt.xQ,this._handleKeydown=he=>{this._isTooltipVisible()&&27===he.keyCode&&!ks(he)&&(he.preventDefault(),he.stopPropagation(),this._ngZone.run(()=>this.hide(0)))},this._scrollStrategy=x,this._document=ee,G&&(G.position&&(this.position=G.position),G.touchGestures&&(this.touchGestures=G.touchGestures)),R.change.pipe(ri(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)}),u.runOutsideAngular(()=>{i.nativeElement.addEventListener("keydown",this._handleKeydown)})}get position(){return this._position}set position(e){var i;e!==this._position&&(this._position=e,this._overlayRef&&(this._updatePosition(this._overlayRef),null===(i=this._tooltipInstance)||void 0===i||i.show(0),this._overlayRef.updatePosition()))}get disabled(){return this._disabled}set disabled(e){this._disabled=Gt(e),this._disabled?this.hide(0):this._setupPointerEnterEventsIfNeeded()}get message(){return this._message}set message(e){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this._message,"tooltip"),this._message=null!=e?String(e).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage(),this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")})}))}get tooltipClass(){return this._tooltipClass}set tooltipClass(e){this._tooltipClass=e,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe(ri(this._destroyed)).subscribe(e=>{e?"keyboard"===e&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){const e=this._elementRef.nativeElement;clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),e.removeEventListener("keydown",this._handleKeydown),this._passiveListeners.forEach(([i,s])=>{e.removeEventListener(i,s,jH)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(e,this.message,"tooltip"),this._focusMonitor.stopMonitoring(e)}show(e=this.showDelay){if(this.disabled||!this.message||this._isTooltipVisible()&&!this._tooltipInstance._showTimeoutId&&!this._tooltipInstance._hideTimeoutId)return;const i=this._createOverlay();this._detach(),this._portal=this._portal||new mo(this._tooltipComponent,this._viewContainerRef),this._tooltipInstance=i.attach(this._portal).instance,this._tooltipInstance.afterHidden().pipe(ri(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),this._tooltipInstance.show(e)}hide(e=this.hideDelay){this._tooltipInstance&&this._tooltipInstance.hide(e)}toggle(){this._isTooltipVisible()?this.hide():this.show()}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(){if(this._overlayRef)return this._overlayRef;const e=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),i=this._overlay.position().flexibleConnectedTo(this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(e);return i.positionChanges.pipe(ri(this._destroyed)).subscribe(s=>{this._updateCurrentPositionClass(s.connectionPair),this._tooltipInstance&&s.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:i,panelClass:`${this._cssClassPrefix}-${UH}`,scrollStrategy:this._scrollStrategy()}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe(ri(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe(ri(this._destroyed)).subscribe(()=>{var s;return null===(s=this._tooltipInstance)||void 0===s?void 0:s._handleBodyInteraction()}),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(e){const i=e.getConfig().positionStrategy,s=this._getOrigin(),a=this._getOverlayPosition();i.withPositions([this._addOffset(Object.assign(Object.assign({},s.main),a.main)),this._addOffset(Object.assign(Object.assign({},s.fallback),a.fallback))])}_addOffset(e){return e}_getOrigin(){const e=!this._dir||"ltr"==this._dir.value,i=this.position;let s;"above"==i||"below"==i?s={originX:"center",originY:"above"==i?"top":"bottom"}:"before"==i||"left"==i&&e||"right"==i&&!e?s={originX:"start",originY:"center"}:("after"==i||"right"==i&&e||"left"==i&&!e)&&(s={originX:"end",originY:"center"});const{x:a,y:u}=this._invertPosition(s.originX,s.originY);return{main:s,fallback:{originX:a,originY:u}}}_getOverlayPosition(){const e=!this._dir||"ltr"==this._dir.value,i=this.position;let s;"above"==i?s={overlayX:"center",overlayY:"bottom"}:"below"==i?s={overlayX:"center",overlayY:"top"}:"before"==i||"left"==i&&e||"right"==i&&!e?s={overlayX:"end",overlayY:"center"}:("after"==i||"right"==i&&e||"left"==i&&!e)&&(s={overlayX:"start",overlayY:"center"});const{x:a,y:u}=this._invertPosition(s.overlayX,s.overlayY);return{main:s,fallback:{overlayX:a,overlayY:u}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),this._ngZone.onMicrotaskEmpty.pipe(Kn(1),ri(this._destroyed)).subscribe(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()}))}_setTooltipClass(e){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=e,this._tooltipInstance._markForCheck())}_invertPosition(e,i){return"above"===this.position||"below"===this.position?"top"===i?i="bottom":"bottom"===i&&(i="top"):"end"===e?e="start":"start"===e&&(e="end"),{x:e,y:i}}_updateCurrentPositionClass(e){const{overlayY:i,originX:s,originY:a}=e;let u;if(u="center"===i?this._dir&&"rtl"===this._dir.value?"end"===s?"left":"right":"start"===s?"left":"right":"bottom"===i&&"top"===a?"above":"below",u!==this._currentPosition){const f=this._overlayRef;if(f){const g=`${this._cssClassPrefix}-${UH}-`;f.removePanelClass(g+this._currentPosition),f.addPanelClass(g+u)}this._currentPosition=u}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",()=>{this._setupPointerExitEventsIfNeeded(),this.show()}]):"off"!==this.touchGestures&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",()=>{this._setupPointerExitEventsIfNeeded(),clearTimeout(this._touchstartTimeout),this._touchstartTimeout=setTimeout(()=>this.show(),500)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;const e=[];if(this._platformSupportsMouseEvents())e.push(["mouseleave",()=>this.hide()],["wheel",i=>this._wheelListener(i)]);else if("off"!==this.touchGestures){this._disableNativeGesturesIfNecessary();const i=()=>{clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions.touchendHideDelay)};e.push(["touchend",i],["touchcancel",i])}this._addListeners(e),this._passiveListeners.push(...e)}_addListeners(e){e.forEach(([i,s])=>{this._elementRef.nativeElement.addEventListener(i,s,jH)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(e){if(this._isTooltipVisible()){const i=this._document.elementFromPoint(e.clientX,e.clientY),s=this._elementRef.nativeElement;i!==s&&!s.contains(i)&&this.hide()}}_disableNativeGesturesIfNecessary(){const e=this.touchGestures;if("off"!==e){const i=this._elementRef.nativeElement,s=i.style;("on"===e||"INPUT"!==i.nodeName&&"TEXTAREA"!==i.nodeName)&&(s.userSelect=s.msUserSelect=s.webkitUserSelect=s.MozUserSelect="none"),("on"===e||!i.draggable)&&(s.webkitUserDrag="none"),s.touchAction="none",s.webkitTapHighlightColor="transparent"}}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(Ia),r.Y36(r.SBq),r.Y36(rm),r.Y36(r.s_b),r.Y36(r.R0b),r.Y36(Un),r.Y36(_p),r.Y36(Aa),r.Y36(void 0),r.Y36(Ms),r.Y36(void 0),r.Y36(F))},n.\u0275dir=r.lG2({type:n,inputs:{showDelay:["matTooltipShowDelay","showDelay"],hideDelay:["matTooltipHideDelay","hideDelay"],touchGestures:["matTooltipTouchGestures","touchGestures"],position:["matTooltipPosition","position"],disabled:["matTooltipDisabled","disabled"],message:["matTooltip","message"],tooltipClass:["matTooltipClass","tooltipClass"]}}),n})(),f_=(()=>{class n extends M7{constructor(e,i,s,a,u,f,g,C,x,R,G,ee){super(e,i,s,a,u,f,g,C,x,R,G,ee),this._tooltipComponent=R7}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(Ia),r.Y36(r.SBq),r.Y36(rm),r.Y36(r.s_b),r.Y36(r.R0b),r.Y36(Un),r.Y36(_p),r.Y36(Aa),r.Y36(HH),r.Y36(Ms,8),r.Y36(I7,8),r.Y36(F))},n.\u0275dir=r.lG2({type:n,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-tooltip-trigger"],exportAs:["matTooltip"],features:[r.qOj]}),n})(),k7=(()=>{class n{constructor(e){this._changeDetectorRef=e,this._visibility="initial",this._closeOnInteraction=!1,this._onHide=new yt.xQ}show(e){clearTimeout(this._hideTimeoutId),this._closeOnInteraction=!0,this._showTimeoutId=setTimeout(()=>{this._visibility="visible",this._showTimeoutId=void 0,this._onShow(),this._markForCheck()},e)}hide(e){clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._visibility="hidden",this._hideTimeoutId=void 0,this._markForCheck()},e)}afterHidden(){return this._onHide}isVisible(){return"visible"===this._visibility}ngOnDestroy(){clearTimeout(this._showTimeoutId),clearTimeout(this._hideTimeoutId),this._onHide.complete()}_animationStart(){this._closeOnInteraction=!1}_animationDone(e){const i=e.toState;"hidden"===i&&!this.isVisible()&&this._onHide.next(),("visible"===i||"hidden"===i)&&(this._closeOnInteraction=!0)}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_onShow(){}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(r.sBO))},n.\u0275dir=r.lG2({type:n}),n})(),R7=(()=>{class n extends k7{constructor(e,i){super(e),this._breakpointObserver=i,this._isHandset=this._breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)")}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(r.sBO),r.Y36(C7))},n.\u0275cmp=r.Xpm({type:n,selectors:[["mat-tooltip-component"]],hostAttrs:["aria-hidden","true"],hostVars:2,hostBindings:function(e,i){2&e&&r.Udp("zoom","visible"===i._visibility?1:null)},features:[r.qOj],decls:3,vars:7,consts:[[1,"mat-tooltip",3,"ngClass"]],template:function(e,i){if(1&e&&(r.TgZ(0,"div",0),r.NdJ("@state.start",function(){return i._animationStart()})("@state.done",function(a){return i._animationDone(a)}),r.ALo(1,"async"),r._uU(2),r.qZA()),2&e){let s;r.ekj("mat-tooltip-handset",null==(s=r.lcZ(1,5,i._isHandset))?null:s.matches),r.Q6J("ngClass",i.tooltipClass)("@state",i._visibility),r.xp6(2),r.Oqu(i.message)}},directives:[Or],pipes:[ua],styles:[".mat-tooltip-panel{pointer-events:none !important}.mat-tooltip{color:#fff;border-radius:4px;margin:14px;max-width:250px;padding-left:8px;padding-right:8px;overflow:hidden;text-overflow:ellipsis}.cdk-high-contrast-active .mat-tooltip{outline:solid 1px}.mat-tooltip-handset{margin:24px;padding-left:16px;padding-right:16px}\n"],encapsulation:2,data:{animation:[E7.tooltipState]},changeDetection:0}),n})(),qH=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({providers:[x7],imports:[[aw,Ue,Qy,wn],wn,dp]}),n})();function O7(n,t){if(1&n&&(r.TgZ(0,"mat-option",19),r._uU(1),r.qZA()),2&n){const e=t.$implicit;r.Q6J("value",e),r.xp6(1),r.hij(" ",e," ")}}function P7(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"mat-form-field",16),r.TgZ(1,"mat-select",17),r.NdJ("selectionChange",function(s){return r.CHM(e),r.oxw(2)._changePageSize(s.value)}),r.YNc(2,O7,2,2,"mat-option",18),r.qZA(),r.qZA()}if(2&n){const e=r.oxw(2);r.Q6J("appearance",e._formFieldAppearance)("color",e.color),r.xp6(1),r.Q6J("value",e.pageSize)("disabled",e.disabled)("aria-label",e._intl.itemsPerPageLabel),r.xp6(1),r.Q6J("ngForOf",e._displayedPageSizeOptions)}}function N7(n,t){if(1&n&&(r.TgZ(0,"div",20),r._uU(1),r.qZA()),2&n){const e=r.oxw(2);r.xp6(1),r.Oqu(e.pageSize)}}function F7(n,t){if(1&n&&(r.TgZ(0,"div",12),r.TgZ(1,"div",13),r._uU(2),r.qZA(),r.YNc(3,P7,3,6,"mat-form-field",14),r.YNc(4,N7,2,1,"div",15),r.qZA()),2&n){const e=r.oxw();r.xp6(2),r.hij(" ",e._intl.itemsPerPageLabel," "),r.xp6(1),r.Q6J("ngIf",e._displayedPageSizeOptions.length>1),r.xp6(1),r.Q6J("ngIf",e._displayedPageSizeOptions.length<=1)}}function L7(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"button",21),r.NdJ("click",function(){return r.CHM(e),r.oxw().firstPage()}),r.O4$(),r.TgZ(1,"svg",7),r._UZ(2,"path",22),r.qZA(),r.qZA()}if(2&n){const e=r.oxw();r.Q6J("matTooltip",e._intl.firstPageLabel)("matTooltipDisabled",e._previousButtonsDisabled())("matTooltipPosition","above")("disabled",e._previousButtonsDisabled()),r.uIk("aria-label",e._intl.firstPageLabel)}}function V7(n,t){if(1&n){const e=r.EpF();r.O4$(),r.kcU(),r.TgZ(0,"button",23),r.NdJ("click",function(){return r.CHM(e),r.oxw().lastPage()}),r.O4$(),r.TgZ(1,"svg",7),r._UZ(2,"path",24),r.qZA(),r.qZA()}if(2&n){const e=r.oxw();r.Q6J("matTooltip",e._intl.lastPageLabel)("matTooltipDisabled",e._nextButtonsDisabled())("matTooltipPosition","above")("disabled",e._nextButtonsDisabled()),r.uIk("aria-label",e._intl.lastPageLabel)}}let SD=(()=>{class n{constructor(){this.changes=new yt.xQ,this.itemsPerPageLabel="Items per page:",this.nextPageLabel="Next page",this.previousPageLabel="Previous page",this.firstPageLabel="First page",this.lastPageLabel="Last page",this.getRangeLabel=(e,i,s)=>{if(0==s||0==i)return`0 of ${s}`;const a=e*i;return`${a+1} \u2013 ${a<(s=Math.max(s,0))?Math.min(a+i,s):a+i} of ${s}`}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=r.Yz7({factory:function(){return new n},token:n,providedIn:"root"}),n})();const U7={provide:SD,deps:[[new r.FiY,new r.tp0,SD]],useFactory:function(n){return n||new SD}},H7=new r.OlP("MAT_PAGINATOR_DEFAULT_OPTIONS"),q7=Iu(SI(class{}));let z7=(()=>{class n extends q7{constructor(e,i,s){if(super(),this._intl=e,this._changeDetectorRef=i,this._pageIndex=0,this._length=0,this._pageSizeOptions=[],this._hidePageSize=!1,this._showFirstLastButtons=!1,this.page=new r.vpe,this._intlChanges=e.changes.subscribe(()=>this._changeDetectorRef.markForCheck()),s){const{pageSize:a,pageSizeOptions:u,hidePageSize:f,showFirstLastButtons:g}=s;null!=a&&(this._pageSize=a),null!=u&&(this._pageSizeOptions=u),null!=f&&(this._hidePageSize=f),null!=g&&(this._showFirstLastButtons=g)}}get pageIndex(){return this._pageIndex}set pageIndex(e){this._pageIndex=Math.max(As(e),0),this._changeDetectorRef.markForCheck()}get length(){return this._length}set length(e){this._length=As(e),this._changeDetectorRef.markForCheck()}get pageSize(){return this._pageSize}set pageSize(e){this._pageSize=Math.max(As(e),0),this._updateDisplayedPageSizeOptions()}get pageSizeOptions(){return this._pageSizeOptions}set pageSizeOptions(e){this._pageSizeOptions=(e||[]).map(i=>As(i)),this._updateDisplayedPageSizeOptions()}get hidePageSize(){return this._hidePageSize}set hidePageSize(e){this._hidePageSize=Gt(e)}get showFirstLastButtons(){return this._showFirstLastButtons}set showFirstLastButtons(e){this._showFirstLastButtons=Gt(e)}ngOnInit(){this._initialized=!0,this._updateDisplayedPageSizeOptions(),this._markInitialized()}ngOnDestroy(){this._intlChanges.unsubscribe()}nextPage(){if(!this.hasNextPage())return;const e=this.pageIndex;this.pageIndex++,this._emitPageEvent(e)}previousPage(){if(!this.hasPreviousPage())return;const e=this.pageIndex;this.pageIndex--,this._emitPageEvent(e)}firstPage(){if(!this.hasPreviousPage())return;const e=this.pageIndex;this.pageIndex=0,this._emitPageEvent(e)}lastPage(){if(!this.hasNextPage())return;const e=this.pageIndex;this.pageIndex=this.getNumberOfPages()-1,this._emitPageEvent(e)}hasPreviousPage(){return this.pageIndex>=1&&0!=this.pageSize}hasNextPage(){const e=this.getNumberOfPages()-1;return this.pageIndex<e&&0!=this.pageSize}getNumberOfPages(){return this.pageSize?Math.ceil(this.length/this.pageSize):0}_changePageSize(e){const s=this.pageIndex;this.pageIndex=Math.floor(this.pageIndex*this.pageSize/e)||0,this.pageSize=e,this._emitPageEvent(s)}_nextButtonsDisabled(){return this.disabled||!this.hasNextPage()}_previousButtonsDisabled(){return this.disabled||!this.hasPreviousPage()}_updateDisplayedPageSizeOptions(){!this._initialized||(this.pageSize||(this._pageSize=0!=this.pageSizeOptions.length?this.pageSizeOptions[0]:50),this._displayedPageSizeOptions=this.pageSizeOptions.slice(),-1===this._displayedPageSizeOptions.indexOf(this.pageSize)&&this._displayedPageSizeOptions.push(this.pageSize),this._displayedPageSizeOptions.sort((e,i)=>e-i),this._changeDetectorRef.markForCheck())}_emitPageEvent(e){this.page.emit({previousPageIndex:e,pageIndex:this.pageIndex,pageSize:this.pageSize,length:this.length})}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(SD),r.Y36(r.sBO),r.Y36(void 0))},n.\u0275dir=r.lG2({type:n,inputs:{pageIndex:"pageIndex",length:"length",pageSize:"pageSize",pageSizeOptions:"pageSizeOptions",hidePageSize:"hidePageSize",showFirstLastButtons:"showFirstLastButtons",color:"color"},outputs:{page:"page"},features:[r.qOj]}),n})(),gM=(()=>{class n extends z7{constructor(e,i,s){super(e,i,s),s&&null!=s.formFieldAppearance&&(this._formFieldAppearance=s.formFieldAppearance)}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(SD),r.Y36(r.sBO),r.Y36(H7,8))},n.\u0275cmp=r.Xpm({type:n,selectors:[["mat-paginator"]],hostAttrs:["role","group",1,"mat-paginator"],inputs:{disabled:"disabled"},exportAs:["matPaginator"],features:[r.qOj],decls:14,vars:14,consts:[[1,"mat-paginator-outer-container"],[1,"mat-paginator-container"],["class","mat-paginator-page-size",4,"ngIf"],[1,"mat-paginator-range-actions"],[1,"mat-paginator-range-label"],["mat-icon-button","","type","button","class","mat-paginator-navigation-first",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click",4,"ngIf"],["mat-icon-button","","type","button",1,"mat-paginator-navigation-previous",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["viewBox","0 0 24 24","focusable","false",1,"mat-paginator-icon"],["d","M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"],["mat-icon-button","","type","button",1,"mat-paginator-navigation-next",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"],["mat-icon-button","","type","button","class","mat-paginator-navigation-last",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click",4,"ngIf"],[1,"mat-paginator-page-size"],[1,"mat-paginator-page-size-label"],["class","mat-paginator-page-size-select",3,"appearance","color",4,"ngIf"],["class","mat-paginator-page-size-value",4,"ngIf"],[1,"mat-paginator-page-size-select",3,"appearance","color"],[3,"value","disabled","aria-label","selectionChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"mat-paginator-page-size-value"],["mat-icon-button","","type","button",1,"mat-paginator-navigation-first",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"],["mat-icon-button","","type","button",1,"mat-paginator-navigation-last",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"]],template:function(e,i){1&e&&(r.TgZ(0,"div",0),r.TgZ(1,"div",1),r.YNc(2,F7,5,3,"div",2),r.TgZ(3,"div",3),r.TgZ(4,"div",4),r._uU(5),r.qZA(),r.YNc(6,L7,3,5,"button",5),r.TgZ(7,"button",6),r.NdJ("click",function(){return i.previousPage()}),r.O4$(),r.TgZ(8,"svg",7),r._UZ(9,"path",8),r.qZA(),r.qZA(),r.kcU(),r.TgZ(10,"button",9),r.NdJ("click",function(){return i.nextPage()}),r.O4$(),r.TgZ(11,"svg",7),r._UZ(12,"path",10),r.qZA(),r.qZA(),r.YNc(13,V7,3,5,"button",11),r.qZA(),r.qZA(),r.qZA()),2&e&&(r.xp6(2),r.Q6J("ngIf",!i.hidePageSize),r.xp6(3),r.hij(" ",i._intl.getRangeLabel(i.pageIndex,i.pageSize,i.length)," "),r.xp6(1),r.Q6J("ngIf",i.showFirstLastButtons),r.xp6(1),r.Q6J("matTooltip",i._intl.previousPageLabel)("matTooltipDisabled",i._previousButtonsDisabled())("matTooltipPosition","above")("disabled",i._previousButtonsDisabled()),r.uIk("aria-label",i._intl.previousPageLabel),r.xp6(3),r.Q6J("matTooltip",i._intl.nextPageLabel)("matTooltipDisabled",i._nextButtonsDisabled())("matTooltipPosition","above")("disabled",i._nextButtonsDisabled()),r.uIk("aria-label",i._intl.nextPageLabel),r.xp6(3),r.Q6J("ngIf",i.showFirstLastButtons))},directives:[On,Ar,f_,tg,NH,un,Zo],styles:[".mat-paginator{display:block}.mat-paginator-outer-container{display:flex}.mat-paginator-container{display:flex;align-items:center;justify-content:flex-end;padding:0 8px;flex-wrap:wrap-reverse;width:100%}.mat-paginator-page-size{display:flex;align-items:baseline;margin-right:8px}[dir=rtl] .mat-paginator-page-size{margin-right:0;margin-left:8px}.mat-paginator-page-size-label{margin:0 4px}.mat-paginator-page-size-select{margin:6px 4px 0 4px;width:56px}.mat-paginator-page-size-select.mat-form-field-appearance-outline{width:64px}.mat-paginator-page-size-select.mat-form-field-appearance-fill{width:64px}.mat-paginator-range-label{margin:0 32px 0 24px}.mat-paginator-range-actions{display:flex;align-items:center}.mat-paginator-icon{width:28px;fill:currentColor}[dir=rtl] .mat-paginator-icon{transform:rotate(180deg)}.cdk-high-contrast-active .mat-paginator-icon{fill:CanvasText}\n"],encapsulation:2,changeDetection:0}),n})(),G7=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({providers:[U7],imports:[[Ue,Jw,FH,qH,wn]]}),n})(),mM=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=r.Xpm({type:n,selectors:[["app-dialog-confirm"]],decls:7,vars:2,consts:[["mat-dialog-content",""],["mat-dialog-actions",""],["mat-raised-button","","color","warn",3,"mat-dialog-close"],["mat-raised-button","",3,"mat-dialog-close"]],template:function(e,i){1&e&&(r.TgZ(0,"div",0),r._uU(1,"Deseja realmente prosseguir?"),r.qZA(),r.TgZ(2,"div",1),r.TgZ(3,"button",2),r._uU(4,"Sim"),r.qZA(),r.TgZ(5,"button",3),r._uU(6,"N\xe3o"),r.qZA(),r.qZA()),2&e&&(r.xp6(3),r.Q6J("mat-dialog-close",!0),r.xp6(2),r.Q6J("mat-dialog-close",!1))},directives:[Zh,Mu,Ar,Id],styles:[".mat-dialog-actions[_ngcontent-%COMP%]{justify-content:center}button[_ngcontent-%COMP%]{margin:4px!important}"]}),n})(),$7=(()=>{class n{constructor(e){this.data=e}ngOnInit(){this.data=""!==this.data&&void 0!==this.data?this.data:"Ocorreu um erro, tente novamente"}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(xd))},n.\u0275cmp=r.Xpm({type:n,selectors:[["app-dialog-error"]],decls:5,vars:2,consts:[["mat-dialog-content",""],["mat-dialog-actions",""],["color","primary","mat-raised-button","",3,"mat-dialog-close"]],template:function(e,i){1&e&&(r.TgZ(0,"div",0),r._uU(1),r.qZA(),r.TgZ(2,"div",1),r.TgZ(3,"button",2),r._uU(4,"Ok"),r.qZA(),r.qZA()),2&e&&(r.xp6(1),r.Oqu(i.data),r.xp6(2),r.Q6J("mat-dialog-close",!0))},directives:[Zh,Mu,Ar,Id],styles:[".mat-dialog-actions[_ngcontent-%COMP%]{justify-content:center}"]}),n})(),rf=(()=>{class n{constructor(e,i,s,a,u){this.dialog=e,this.route=i,this.router=s,this.socialAuthService=a,this.estoqueService=u}showError(e="",i=""){const s=new ls;s.disableClose=!0,s.autoFocus=!0,s.data=e,this.dialog.open($7,s).afterClosed().subscribe(u=>{u&&"logoff"!==i&&this.router.navigate([`/${i}`],{relativeTo:this.route,skipLocationChange:!0}),u&&"logoff"===i&&this.estoqueService.socialAuthServiceLogOut()})}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(cs),r.LFG(xs),r.LFG(nr),r.LFG(a_),r.LFG(pl))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Y7(n,t){1&n&&(r.TgZ(0,"div",2),r._UZ(1,"mat-progress-spinner",3),r.qZA())}function Z7(n,t){1&n&&(r.TgZ(0,"th",22),r._uU(1," A\xe7\xf5es "),r.qZA())}function W7(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"td",23),r.TgZ(1,"button",24),r.NdJ("click",function(){const a=r.CHM(e).$implicit;return r.oxw(2).estoqueService.navigateTo("editaItem/"+a.barcode)}),r.TgZ(2,"mat-icon"),r._uU(3,"edit"),r.qZA(),r.qZA(),r.TgZ(4,"button",25),r.NdJ("click",function(){const a=r.CHM(e).$implicit;return r.oxw(2).removerItem(a)}),r.TgZ(5,"mat-icon"),r._uU(6,"clear"),r.qZA(),r.qZA(),r.qZA()}}function K7(n,t){1&n&&(r.TgZ(0,"th",26),r._uU(1," C\xf3digo e "),r._UZ(2,"br"),r._uU(3," Produto "),r.qZA())}function Q7(n,t){if(1&n&&(r.TgZ(0,"td",23),r.TgZ(1,"p"),r._uU(2),r._UZ(3,"br"),r._uU(4),r.qZA(),r.TgZ(5,"p"),r._uU(6),r.qZA(),r.qZA()),2&n){const e=t.$implicit;r.xp6(2),r.Oqu(e.barcode),r.xp6(2),r.hij(" ",e.description,""),r.xp6(2),r.Oqu(e.additional)}}function J7(n,t){1&n&&(r.TgZ(0,"th",22),r._uU(1," Quant."),r._UZ(2,"br"),r._uU(3,"Itens "),r.qZA())}function X7(n,t){if(1&n&&(r.TgZ(0,"td",23),r._uU(1),r.qZA()),2&n){const e=t.$implicit;r.xp6(1),r.hij(" ",e.items," ")}}function eK(n,t){1&n&&(r.TgZ(0,"th",22),r._uU(1," Pre\xe7o "),r.qZA())}function tK(n,t){if(1&n&&(r.TgZ(0,"td",23),r._uU(1),r.ALo(2,"currency"),r.qZA()),2&n){const e=t.$implicit;r.xp6(1),r.hij(" ",r.xi3(2,1,e.price,"BRL")," ")}}function nK(n,t){1&n&&(r.TgZ(0,"th",22),r._uU(1," Mais info "),r.qZA())}function iK(n,t){if(1&n&&(r.TgZ(0,"td",23),r._uU(1),r.qZA()),2&n){const e=t.$implicit;r.xp6(1),r.hij(" ",e.additional," ")}}function rK(n,t){1&n&&r._UZ(0,"tr",27)}function sK(n,t){1&n&&r._UZ(0,"tr",28)}const oK=function(){return[5,10,20]};function aK(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"div",4),r.TgZ(1,"div",5),r.TgZ(2,"table",6),r.ynx(3,7),r.YNc(4,Z7,2,0,"th",8),r.YNc(5,W7,7,0,"td",9),r.BQk(),r.ynx(6,10),r.YNc(7,K7,4,0,"th",11),r.YNc(8,Q7,7,3,"td",9),r.BQk(),r.ynx(9,12),r.YNc(10,J7,4,0,"th",8),r.YNc(11,X7,2,1,"td",9),r.BQk(),r.ynx(12,13),r.YNc(13,eK,2,0,"th",8),r.YNc(14,tK,3,4,"td",9),r.BQk(),r.ynx(15,14),r.YNc(16,nK,2,0,"th",8),r.YNc(17,iK,2,1,"td",9),r.BQk(),r.YNc(18,rK,1,0,"tr",15),r.YNc(19,sK,1,0,"tr",16),r.qZA(),r.qZA(),r._UZ(20,"span",17),r.TgZ(21,"div",18),r.TgZ(22,"button",19),r.NdJ("click",function(){return r.CHM(e),r.oxw().adicionarItem()}),r.TgZ(23,"mat-icon"),r._uU(24,"add"),r.qZA(),r.qZA(),r._UZ(25,"mat-paginator",20,21),r.qZA(),r.qZA()}if(2&n){const e=r.oxw();r.xp6(2),r.Q6J("dataSource",e.dataSource),r.xp6(16),r.Q6J("matHeaderRowDef",e.displayedColumns),r.xp6(1),r.Q6J("matRowDefColumns",e.displayedColumns),r.xp6(6),r.Q6J("pageSizeOptions",r.DdM(4,oK))}}let lK=(()=>{class n{constructor(e,i,s,a,u){this.dialog=e,this.estoqueService=i,this.route=s,this.router=a,this.utilsService=u,this.isLoading=!1,this.displayedColumns=["actions","description","items","price"],this.dataSource=new Md}set matPaginator(e){this.dataSource.paginator=e}ngOnInit(){this.carregarEstoque()}carregarEstoque(){try{this.isLoading=!0,this.estoqueService.sendGetRequest().subscribe(e=>{e.length>0?this.dataSource=new Md(e):this.utilsService.showError("N\xe3o h\xe1 itens no estoque, cadastre um novo","novoItem"),this.isLoading=!1},e=>{this.utilsService.showError("")})}catch(e){this.utilsService.showError(String(e))}}removerItem(e){try{this.isLoading=!0;const i=new ls;i.disableClose=!0,i.autoFocus=!0,this.dialog.open(mM,i).afterClosed().subscribe(a=>{a?this.estoqueService.sendDeleteRequest(e._id||"").subscribe(u=>{this.ngOnInit()},u=>{this.utilsService.showError("")}):this.isLoading=!1})}catch(i){this.utilsService.showError(String(i))}}adicionarItem(){this.router.navigate(["/novoItem"],{relativeTo:this.route,skipLocationChange:!0})}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(cs),r.Y36(pl),r.Y36(xs),r.Y36(nr),r.Y36(rf))},n.\u0275cmp=r.Xpm({type:n,selectors:[["app-estoque-lista"]],viewQuery:function(e,i){if(1&e&&r.Gf(gM,5),2&e){let s;r.iGM(s=r.CRH())&&(i.matPaginator=s.first)}},decls:2,vars:2,consts:[["class","loadingSet",4,"ngIf"],["class","tela",4,"ngIf"],[1,"loadingSet"],["mode","indeterminate"],[1,"tela"],[1,"scrollTable"],["mat-table","",3,"dataSource"],["matColumnDef","actions"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","","class","colunaEstoque",4,"matCellDef"],["matColumnDef","description"],["mat-header-cell","","class","cabecalhoColunaEstoque",4,"matHeaderCellDef"],["matColumnDef","items"],["matColumnDef","price"],["matColumnDef","additional"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[1,"example-spacer"],[1,"buttons"],["mat-mini-fab","","color","accent","matTooltip","Cadastre um novo item ao estoque","aria-label","edit",1,"buttonFAB",3,"click"],["aria-label","pagina\xe7\xe3o do estoque",3,"pageSizeOptions"],["paginator",""],["mat-header-cell",""],["mat-cell","",1,"colunaEstoque"],["mat-mini-fab","","color","primary","matTooltip","Edite este item","aria-label","edit",1,"buttonAction",3,"click"],["mat-mini-fab","","color","warn","matTooltip","Remova este item do estoque","aria-label","remove",1,"buttonAction",3,"click"],["mat-header-cell","",1,"cabecalhoColunaEstoque"],["mat-header-row",""],["mat-row",""]],template:function(e,i){1&e&&(r.YNc(0,Y7,2,0,"div",0),r.YNc(1,aK,27,5,"div",1)),2&e&&(r.Q6J("ngIf",i.isLoading),r.xp6(1),r.Q6J("ngIf",!i.isLoading))},directives:[On,Co,sA,AE,IE,xE,oA,aA,Ar,f_,ng,gM,pb,gb,ME,kE],pipes:[Y],styles:[".loadingSet[_ngcontent-%COMP%]{width:100%;height:50%;display:flex;justify-content:center;align-items:center}table[_ngcontent-%COMP%]{width:100%}.scrollTable[_ngcontent-%COMP%]{overflow-y:auto;max-height:calc(100% - 90px)}.cabecalhoColunaEstoque[_ngcontent-%COMP%]{text-align:left}.colunaEstoque[_ngcontent-%COMP%]{vertical-align:middle;text-align:left}.buttonAction[_ngcontent-%COMP%]{display:block}.buttonFAB[_ngcontent-%COMP%]{display:block;margin:5px}.example-spacer[_ngcontent-%COMP%]{flex:1 1 auto}.tela[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:calc(100% - 56px)}.buttons[_ngcontent-%COMP%]{display:flex;justify-content:left;background-color:#fff}"]}),n})();var zH=M(4762),cK=M(3534),Vu=M.n(cK),uK=M(9339),dK=M.n(uK);const hK=["BarcodeScanner"],fK={inputStream:{name:"Live",type:"LiveStream",target:null,constraints:{width:{min:640},height:{min:480},aspectRatio:{min:1,max:2},facingMode:"environment"},singleChannel:!1},locator:{patchSize:"medium",halfSample:!0},locate:!0,numOfWorkers:4,decoder:{readers:["code_128_reader"]}},pK=["code_128","code_39","code_39_vin","ean","ean_extended","ean_8","upc","upc_e","codabar","i2of5","2of5","code_93"];function GH(n){if(!pK.some(t=>t===n))throw new Error(`This barcode type '${n}' is not valid.`)}function $H(n){return`${n}_reader`}let _M=(()=>{class n{constructor(){this.maxWidth="100%",this._valueChanges=new yt.xQ,this.valueChanges=new r.vpe,this.started=new r.vpe,this._started=!1,this._destroyed=new yt.xQ,this._valueChanges.pipe(ri(this._destroyed),xn(e=>{const i=e.codeResult.decodedCodes.filter(a=>void 0!==a.error).map(a=>a.error),s=this._getMedian(i);return!this.errorFilter||!(this.errorFilter.median&&s>this.errorFilter.median||this.errorFilter.threshold&&i.some(a=>a>this.errorFilter.threshold))})).subscribe(e=>{const i=Vu().canvas.ctx.overlay;Vu().ImageDebug.drawPath(e.line,{x:"x",y:"y"},i,{color:"red",lineWidth:3}),this.valueChanges.next(e)})}get _maxWidth(){return this.maxWidth?`${this.maxWidth}`:"auto"}get _maxHeight(){return this.maxHeight?`${this.maxHeight}`:"auto"}get isStarted(){return this._started}ngOnDestroy(){this.stop(),this._destroyed.next(!0),this._destroyed.complete()}ngOnChanges(){this.restart()}_init(){return new Promise((e,i)=>{Vu().onProcessed(s=>this.onProcessed(s)),Vu().onDetected(s=>this.onDetected(s)),this.configQuagga=dK()({},this.config,fK),this.configQuagga.inputStream.target=this.barcodeScanner.nativeElement,this.type&&(this.configQuagga.decoder.readers=function(n){return"string"==typeof n?(GH(n),[$H(n)]):n.map(t=>(GH(t),$H(t)))}(this.type)),this.deviceId&&(this.configQuagga.inputStream.constraints.deviceId=this.deviceId),Vu().init(this.configQuagga,s=>{if(s)return console.log(s),i(s);e()})})}_getMedian(e){e.sort((s,a)=>s-a);const i=Math.floor(e.length/2);return e.length%2==1?e[i]:(e[i-1]+e[i])/2}start(){return(0,zH.mG)(this,void 0,void 0,function*(){this._started||(yield this._init(),Vu().start(),this._started=!0,this.started.next(!0))})}stop(){this._started&&(Vu().stop(),this._started=!1,this.started.next(!1))}restart(){this._started&&(this.stop(),this.start())}onProcessed(e){const i=Vu().canvas.ctx.overlay,s=Vu().canvas.dom.overlay;e&&(e.boxes&&(i.clearRect(0,0,parseInt(s.getAttribute("width"),10),parseInt(s.getAttribute("height"),10)),e.boxes.filter(a=>a!==e.box).forEach(a=>{Vu().ImageDebug.drawPath(a,{x:0,y:1},i,{color:"green",lineWidth:2})})),e.box&&Vu().ImageDebug.drawPath(e.box,{x:0,y:1},i,{color:"#00F",lineWidth:2}))}onDetected(e){this._valueChanges.next(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=r.Xpm({type:n,selectors:[["barcode-scanner-livestream"]],viewQuery:function(e,i){if(1&e&&r.Gf(hK,5),2&e){let s;r.iGM(s=r.CRH())&&(i.barcodeScanner=s.first)}},inputs:{type:"type",deviceId:"deviceId",maxWidth:"maxWidth",maxHeight:"maxHeight",config:"config",errorFilter:"errorFilter"},outputs:{valueChanges:"valueChanges",started:"started"},features:[r.TTD],decls:4,vars:13,consts:[[1,"scanner",3,"hidden"],["BarcodeScanner",""],[1,"drawingBuffer"]],template:function(e,i){1&e&&(r.TgZ(0,"div",0,1),r._UZ(2,"video"),r._UZ(3,"canvas",2),r.qZA()),2&e&&(r.Udp("max-height",i._maxHeight)("max-width",i._maxWidth),r.Q6J("hidden",!i.isStarted),r.xp6(2),r.Udp("max-height",i._maxHeight)("max-width",i._maxWidth),r.xp6(1),r.Udp("max-height",i._maxHeight)("max-width",i._maxWidth))},styles:[".scanner{position:relative}.scanner video,.scanner canvas{width:100%;height:100%}.scanner canvas.drawingBuffer{position:absolute;left:0;top:0}\n"],encapsulation:2}),n})(),mK=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[[Ue]]}),n})();function _K(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"button",11),r.NdJ("click",function(){return r.CHM(e),r.oxw().consultar()}),r._uU(1,"Pesquisar"),r.qZA()}if(2&n){const e=r.oxw();r.Q6J("disabled",!e.barcode||0==e.barcode.length||e.desabilitarBotaoPesquisar)}}function yK(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"button",12),r.NdJ("click",function(){return r.CHM(e),r.oxw().enviarBarcode()}),r._uU(1,"Ok"),r.qZA()}if(2&n){const e=r.oxw();r.Q6J("disabled",!e.barcode||0==e.barcode.length)}}function vK(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"button",13),r.NdJ("click",function(){return r.CHM(e),r.oxw().tentarNovamente()}),r._uU(1,"Tentar novamente"),r.qZA()}if(2&n){const e=r.oxw();r.Q6J("disabled",!e.barcode||0==e.barcode.length)}}const bK=function(){return["code_128","code_39","ean_8","ean"]};function CK(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"barcode-scanner-livestream",14),r.NdJ("valueChanges",function(s){return r.CHM(e),r.oxw().onValueChanges(s)})("started",function(){return r.CHM(e),r.oxw().onStarted}),r.qZA()}if(2&n){const e=r.oxw();r.Q6J("config",e.config)("deviceId",e.estoqueService.cookieCamera)("type",r.DdM(3,bK))}}let yM=(()=>{class n{constructor(e,i,s,a,u,f,g){this.estoqueService=e,this.router=i,this.route=s,this.dialog=a,this.utilsService=u,this.dialogRef=g,this.desabilitarBotaoPesquisar=!1,this.median=.1,this.threshold=0,this.habilitarCamera=!1,this.config={frequency:5,debug:!0,decoder:{debug:{drawBoundingBox:!0,drawScanline:!0,showPattern:!0}},locator:{patchSize:"x-large",debug:{showCanvas:!0,showSkeleton:!0,showLabels:!0}}},this.mensagem="Pesquise o item",this.barcode="",this.externalData=f}ngOnInit(){this.mensagem="Pesquise o item",this.habilitarCamera="true"==this.estoqueService.habilitarCamera}consultar(){try{this.stopCamera(),""!==this.barcode?String(this.externalData).indexOf("retornaBarcode")>-1?this.enviarBarcode():String(this.externalData).indexOf("consulta")>-1&&(this.mensagem="Aguarde...",this.desabilitarBotaoPesquisar=!0,this.estoqueService.sendGetRequestByCode(this.barcode).subscribe(e=>{e&&e.length>0&&e[0].barcode&&""!==e[0].barcode&&void 0!==e[0].barcode?("consulta"===this.externalData&&this.router.navigate([`/editaItem/${this.barcode}`],{relativeTo:this.route,skipLocationChange:!0}),this.dialogRef.close(e[0])):(this.mensagem="Tente novamente...",this.barcode="",this.desabilitarBotaoPesquisar=!1,this.startCamera())},e=>{this.utilsService.showError("")})):this.dialogRef.close()}catch(e){this.utilsService.showError(String(e))}}ngAfterViewInit(){this.startCamera()}tentarNovamente(){this.startCamera()}enviarBarcode(){this.stopCamera(),this.dialogRef.close(this.barcode)}onValueChanges(e){this.stopCamera(),this.barcode=e.codeResult.code,String(this.externalData).indexOf("consulta")>-1?this.consultar():"retornaBarcode"===this.externalData&&this.stopCamera()}fecharModal(){this.stopCamera(),this.dialogRef.close(this.barcode)}stopCamera(){this.habilitarCamera&&this.barcodeScanner.stop()}startCamera(){this.habilitarCamera&&this.barcodeScanner.start()}onStarted(e){}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(pl),r.Y36(nr),r.Y36(xs),r.Y36(cs),r.Y36(rf),r.Y36(xd),r.Y36(Yh))},n.\u0275cmp=r.Xpm({type:n,selectors:[["app-dialog-consulta"]],viewQuery:function(e,i){if(1&e&&r.Gf(_M,5),2&e){let s;r.iGM(s=r.CRH())&&(i.barcodeScanner=s.first)}},decls:17,vars:6,consts:[["mat-dialog-content",""],[1,"item-form"],["appearance","fill",1,"item-full-width"],["type","number","autocomplete","off","matInput","","placeholder","Ex. 123456789","name","barcode",3,"ngModel","keyup.enter","ngModelChange"],["mat-dialog-actions",""],["id","btnConsultar","color","primary","mat-raised-button","","matTooltip","Pressione 'Enter' para pesquisar",3,"disabled","click",4,"ngIf"],["id","btnOk","color","primary","mat-raised-button","","matTooltip","Pressione 'Enter' para seguir",3,"disabled","click",4,"ngIf"],["id","btnTentarNovamente","color","warn","mat-raised-button","",3,"disabled","click",4,"ngIf"],["id","btnFechar","mat-raised-button","",3,"click"],[1,"barcode-scanner"],[3,"config","deviceId","type","valueChanges","started",4,"ngIf"],["id","btnConsultar","color","primary","mat-raised-button","","matTooltip","Pressione 'Enter' para pesquisar",3,"disabled","click"],["id","btnOk","color","primary","mat-raised-button","","matTooltip","Pressione 'Enter' para seguir",3,"disabled","click"],["id","btnTentarNovamente","color","warn","mat-raised-button","",3,"disabled","click"],[3,"config","deviceId","type","valueChanges","started"]],template:function(e,i){1&e&&(r.TgZ(0,"div",0),r._uU(1),r.qZA(),r._UZ(2,"br"),r.TgZ(3,"form",1),r.TgZ(4,"mat-form-field",2),r.TgZ(5,"mat-label"),r._uU(6,"C\xf3digo de barras"),r.qZA(),r.TgZ(7,"input",3),r.NdJ("keyup.enter",function(){return i.consultar()})("ngModelChange",function(a){return i.barcode=a}),r.qZA(),r.qZA(),r.qZA(),r.TgZ(8,"div",4),r.YNc(9,_K,2,1,"button",5),r.YNc(10,yK,2,1,"button",6),r.YNc(11,vK,2,1,"button",7),r.TgZ(12,"button",8),r.NdJ("click",function(){return i.fecharModal()}),r._uU(13,"Cancelar"),r.qZA(),r.qZA(),r._UZ(14,"br"),r.TgZ(15,"div",9),r.YNc(16,CK,1,4,"barcode-scanner-livestream",10),r.qZA()),2&e&&(r.xp6(1),r.Oqu(i.mensagem),r.xp6(6),r.Q6J("ngModel",i.barcode),r.xp6(2),r.Q6J("ngIf","retornaBarcode"!=i.externalData),r.xp6(1),r.Q6J("ngIf","retornaBarcode"==i.externalData),r.xp6(1),r.Q6J("ngIf","retornaBarcode"==i.externalData),r.xp6(5),r.Q6J("ngIf",i.habilitarCamera))},directives:[Zh,Xp,Jp,Oa,tg,nf,u_,d_,Od,Qp,tf,Mu,On,Ar,f_,_M],styles:[".mat-dialog-actions[_ngcontent-%COMP%]{justify-content:center}input[_ngcontent-%COMP%]{width:100%}mat-form-field[_ngcontent-%COMP%]{width:100%}form[_ngcontent-%COMP%]{width:100%}.barcode-scanner[_ngcontent-%COMP%]{justify-content:center;max-width:50%!important;margin:auto;min-width:240px}button[_ngcontent-%COMP%]{margin:4px!important}"]}),n})(),wK=0;const EK=Iu(class{});let DK=(()=>{class n extends EK{constructor(e,i,s,a,u){super(),this._ngZone=e,this._elementRef=i,this._ariaDescriber=s,this._renderer=a,this._animationMode=u,this._hasContent=!1,this._color="primary",this._overlap=!0,this.position="above after",this.size="medium",this._id=wK++}get color(){return this._color}set color(e){this._setColor(e),this._color=e}get overlap(){return this._overlap}set overlap(e){this._overlap=Gt(e)}get description(){return this._description}set description(e){if(e!==this._description){const i=this._badgeElement;this._updateHostAriaDescription(e,this._description),this._description=e,i&&(e?i.setAttribute("aria-label",e):i.removeAttribute("aria-label"))}}get hidden(){return this._hidden}set hidden(e){this._hidden=Gt(e)}isAbove(){return-1===this.position.indexOf("below")}isAfter(){return-1===this.position.indexOf("before")}ngOnChanges(e){const i=e.content;if(i){const s=i.currentValue;this._hasContent=null!=s&&`${s}`.trim().length>0,this._updateTextContent()}}ngOnDestroy(){const e=this._badgeElement;e&&(this.description&&this._ariaDescriber.removeDescription(e,this.description),this._renderer.destroyNode&&this._renderer.destroyNode(e))}getBadgeElement(){return this._badgeElement}_updateTextContent(){return this._badgeElement?this._badgeElement.textContent=this._stringifyContent():this._badgeElement=this._createBadgeElement(),this._badgeElement}_createBadgeElement(){const e=this._renderer.createElement("span"),i="mat-badge-active",s="mat-badge-content";return this._clearExistingBadges(s),e.setAttribute("id",`mat-badge-content-${this._id}`),e.classList.add(s),e.textContent=this._stringifyContent(),"NoopAnimations"===this._animationMode&&e.classList.add("_mat-animation-noopable"),this.description&&e.setAttribute("aria-label",this.description),this._elementRef.nativeElement.appendChild(e),"function"==typeof requestAnimationFrame&&"NoopAnimations"!==this._animationMode?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{e.classList.add(i)})}):e.classList.add(i),e}_updateHostAriaDescription(e,i){const s=this._updateTextContent();i&&this._ariaDescriber.removeDescription(s,i),e&&this._ariaDescriber.describe(s,e)}_setColor(e){if(e!==this._color){const i=this._elementRef.nativeElement.classList;this._color&&i.remove(`mat-badge-${this._color}`),e&&i.add(`mat-badge-${e}`)}}_clearExistingBadges(e){const i=this._elementRef.nativeElement;let s=i.children.length;for(;s--;){const a=i.children[s];a.classList.contains(e)&&i.removeChild(a)}}_stringifyContent(){const e=this.content;return null==e?"":`${e}`}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(r.R0b),r.Y36(r.SBq),r.Y36(_p),r.Y36(r.Qsj),r.Y36(yo,8))},n.\u0275dir=r.lG2({type:n,selectors:[["","matBadge",""]],hostAttrs:[1,"mat-badge"],hostVars:20,hostBindings:function(e,i){2&e&&r.ekj("mat-badge-overlap",i.overlap)("mat-badge-above",i.isAbove())("mat-badge-below",!i.isAbove())("mat-badge-before",!i.isAfter())("mat-badge-after",i.isAfter())("mat-badge-small","small"===i.size)("mat-badge-medium","medium"===i.size)("mat-badge-large","large"===i.size)("mat-badge-hidden",i.hidden||!i._hasContent)("mat-badge-disabled",i.disabled)},inputs:{disabled:["matBadgeDisabled","disabled"],position:["matBadgePosition","position"],size:["matBadgeSize","size"],color:["matBadgeColor","color"],overlap:["matBadgeOverlap","overlap"],description:["matBadgeDescription","description"],hidden:["matBadgeHidden","hidden"],content:["matBadge","content"]},features:[r.qOj,r.TTD]}),n})(),TK=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[[aw,wn],wn]}),n})();const SK=["*",[["mat-card-footer"]]],xK=["*","mat-card-footer"];let HF=(()=>{class n{constructor(e){this._animationMode=e}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(yo,8))},n.\u0275cmp=r.Xpm({type:n,selectors:[["mat-card"]],hostAttrs:[1,"mat-card","mat-focus-indicator"],hostVars:2,hostBindings:function(e,i){2&e&&r.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)},exportAs:["matCard"],ngContentSelectors:xK,decls:2,vars:0,template:function(e,i){1&e&&(r.F$t(SK),r.Hsn(0),r.Hsn(1,1))},styles:[".mat-card{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:block;position:relative;padding:16px;border-radius:4px}._mat-animation-noopable.mat-card{transition:none;animation:none}.mat-card .mat-divider-horizontal{position:absolute;left:0;width:100%}[dir=rtl] .mat-card .mat-divider-horizontal{left:auto;right:0}.mat-card .mat-divider-horizontal.mat-divider-inset{position:static;margin:0}[dir=rtl] .mat-card .mat-divider-horizontal.mat-divider-inset{margin-right:0}.cdk-high-contrast-active .mat-card{outline:solid 1px}.mat-card-actions,.mat-card-subtitle,.mat-card-content{display:block;margin-bottom:16px}.mat-card-title{display:block;margin-bottom:8px}.mat-card-actions{margin-left:-8px;margin-right:-8px;padding:8px 0}.mat-card-actions-align-end{display:flex;justify-content:flex-end}.mat-card-image{width:calc(100% + 32px);margin:0 -16px 16px -16px}.mat-card-footer{display:block;margin:0 -16px -16px -16px}.mat-card-actions .mat-button,.mat-card-actions .mat-raised-button,.mat-card-actions .mat-stroked-button{margin:0 8px}.mat-card-header{display:flex;flex-direction:row}.mat-card-header .mat-card-title{margin-bottom:12px}.mat-card-header-text{margin:0 16px}.mat-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;object-fit:cover}.mat-card-title-group{display:flex;justify-content:space-between}.mat-card-sm-image{width:80px;height:80px}.mat-card-md-image{width:112px;height:112px}.mat-card-lg-image{width:152px;height:152px}.mat-card-xl-image{width:240px;height:240px;margin:-8px}.mat-card-title-group>.mat-card-xl-image{margin:-8px 0 8px}@media(max-width: 599px){.mat-card-title-group{margin:0}.mat-card-xl-image{margin-left:0;margin-right:0}}.mat-card>:first-child,.mat-card-content>:first-child{margin-top:0}.mat-card>:last-child:not(.mat-card-footer),.mat-card-content>:last-child:not(.mat-card-footer){margin-bottom:0}.mat-card-image:first-child{margin-top:-16px;border-top-left-radius:inherit;border-top-right-radius:inherit}.mat-card>.mat-card-actions:last-child{margin-bottom:-8px;padding-bottom:0}.mat-card-actions:not(.mat-card-actions-align-end) .mat-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-raised-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-stroked-button:first-child{margin-left:0;margin-right:0}.mat-card-actions-align-end .mat-button:last-child,.mat-card-actions-align-end .mat-raised-button:last-child,.mat-card-actions-align-end .mat-stroked-button:last-child{margin-left:0;margin-right:0}.mat-card-title:not(:first-child),.mat-card-subtitle:not(:first-child){margin-top:-4px}.mat-card-header .mat-card-subtitle:not(:first-child){margin-top:-8px}.mat-card>.mat-card-xl-image:first-child{margin-top:-8px}.mat-card>.mat-card-xl-image:last-child{margin-bottom:-8px}\n"],encapsulation:2,changeDetection:0}),n})(),RK=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[[wn],wn]}),n})();function OK(n,t){if(1&n&&(r.TgZ(0,"div",10),r._UZ(1,"img",11),r.TgZ(2,"h1"),r._uU(3),r.qZA(),r.TgZ(4,"h3"),r._uU(5),r.qZA(),r.TgZ(6,"h4"),r._uU(7),r.qZA(),r.qZA()),2&n){const e=r.oxw();r.xp6(1),r.Q6J("src",e.estoqueService.user.photoUrl,r.LSH),r.xp6(2),r.Oqu(e.estoqueService.user.firstName||e.estoqueService.user.name),r.xp6(2),r.Oqu(e.estoqueService.loja.name),r.xp6(2),r.Oqu(e.estoqueService.loja.description)}}function PK(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"span",12),r.TgZ(1,"mat-card"),r._UZ(2,"div",13),r.TgZ(3,"div",14),r.TgZ(4,"button",15),r.NdJ("click",function(){const a=r.CHM(e).$implicit;return r.oxw().markAsRead(a)}),r.TgZ(5,"mat-icon"),r._uU(6,"done"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA()}if(2&n){const e=t.$implicit;r.Q6J("matBadge",e.icon)("matBadgeColor","primary"===e.color?"primary":"accent"===e.color?"accent":"warn"),r.xp6(2),r.Q6J("innerHTML",e.mesage,r.oJD)}}let NK=(()=>{class n{constructor(e,i){this.dialog=e,this.estoqueService=i,this.listaAvisos=[]}handleKeyboardEvent(e){switch(e.key){case"n":this.estoqueService.navigateTo("novaVenda");break;case"c":this.consultaPreco();break;case"e":this.estoqueService.navigateTo("listaEstoque")}}ngOnInit(){this.estoqueService.sendGetAvisosRequest().subscribe(e=>{this.listaAvisos=this.estoqueService.avisosLidos?e.filter(i=>{var s;return!(null===(s=this.estoqueService.avisosLidos)||void 0===s?void 0:s.includes(i._id))}):e})}markAsRead(e){this.estoqueService.avisosLidos=this.estoqueService.avisosLidos+","+e._id,this.listaAvisos=this.listaAvisos.filter(i=>{var s;return!(null===(s=this.estoqueService.avisosLidos)||void 0===s?void 0:s.includes(i._id))})}consultaPreco(){const e=new ls;e.disableClose=!0,e.autoFocus="true"==this.estoqueService.habilitarTeclado,e.data="consulta",this.dialog.open(yM,e).afterClosed().subscribe(s=>{})}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(cs),r.Y36(pl))},n.\u0275cmp=r.Xpm({type:n,selectors:[["app-home-page"]],hostBindings:function(e,i){1&e&&r.NdJ("keypress",function(a){return i.handleKeyboardEvent(a)},!1,r.evT)},decls:23,vars:2,consts:[[1,"profile"],["class","profile2",4,"ngIf"],[1,"spacer"],[1,"cardsNotif"],[1,"spacer2"],["matBadgePosition","before","class","p80Width",3,"matBadge","matBadgeColor",4,"ngFor","ngForOf"],[1,"linhaButton"],["mat-raised-button","","color","accent","matTooltip","Inicie uma nova venda","aria-label","edit",3,"click"],["mat-raised-button","","color","accent","matTooltip","Consulte o pre\xe7o de um produto","aria-label","edit",3,"click"],["mat-raised-button","","color","accent","matTooltip","Veja seu estoque","aria-label","edit",3,"click"],[1,"profile2"],[1,"profilepic",3,"src"],["matBadgePosition","before",1,"p80Width",3,"matBadge","matBadgeColor"],[3,"innerHTML"],[1,"linhaButtonCard"],["mat-button","","aria-label","lido","color","primary",1,"buttonCard",3,"click"]],template:function(e,i){1&e&&(r.TgZ(0,"div",0),r.YNc(1,OK,8,4,"div",1),r._UZ(2,"span",2),r.TgZ(3,"div",3),r._UZ(4,"span",4),r.YNc(5,PK,7,3,"span",5),r.qZA(),r._UZ(6,"span",2),r.TgZ(7,"div",6),r.TgZ(8,"button",7),r.NdJ("click",function(){return i.estoqueService.navigateTo("novaVenda")}),r.TgZ(9,"u"),r._uU(10,"N"),r.qZA(),r.TgZ(11,"span"),r._uU(12,"ova venda"),r.qZA(),r.qZA(),r.TgZ(13,"button",8),r.NdJ("click",function(){return i.consultaPreco()}),r.TgZ(14,"u"),r._uU(15,"C"),r.qZA(),r.TgZ(16,"span"),r._uU(17,"onsulta pre\xe7o"),r.qZA(),r.qZA(),r.TgZ(18,"button",9),r.NdJ("click",function(){return i.estoqueService.navigateTo("listaEstoque")}),r.TgZ(19,"u"),r._uU(20,"E"),r.qZA(),r.TgZ(21,"span"),r._uU(22,"stoque"),r.qZA(),r.qZA(),r.qZA(),r.qZA()),2&e&&(r.xp6(1),r.Q6J("ngIf",i.estoqueService.user),r.xp6(4),r.Q6J("ngForOf",i.listaAvisos))},directives:[On,un,Ar,f_,DK,HF,ng],styles:['.profile[_ngcontent-%COMP%]{height:calc(100% - 70px);width:100%;display:flex;position:relative;justify-content:center;padding-top:5px;flex-direction:column;align-items:center}.profile2[_ngcontent-%COMP%]{width:100%;display:flex;position:relative;justify-content:center;padding-top:5px;flex-direction:column;align-items:center}.profilepic[_ngcontent-%COMP%]{width:20%;border-radius:50%}.spacer[_ngcontent-%COMP%]{flex:1 1 auto}.spacer2[_ngcontent-%COMP%]{height:7px;margin:7px}.linhaButton[_ngcontent-%COMP%]{justify-content:center;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box}.linhaButtonCard[_ngcontent-%COMP%]{justify-content:center;display:flex;flex-wrap:wrap;align-items:center;box-sizing:content-box}button[_ngcontent-%COMP%]{margin:4px!important}.buttonCard[_ngcontent-%COMP%]{margin:0!important;min-height:0!important;line-height:20px!important}.p80Width[_ngcontent-%COMP%]{width:80%;margin-bottom:14px}.mat-badge-content[_ngcontent-%COMP%]{font-family:"Material Icons"}.cardsNotif[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;align-items:center;overflow-y:auto}  .h4Title{border-bottom:solid 1px #673ab7;width:100%;margin-left:-8px;padding-left:6px}']}),n})();const FK=["videoCamera"],LK=["canvasPhoto"],BK=["modalCaptura"];function UK(n,t){1&n&&r._UZ(0,"video",9,10)}function jK(n,t){if(1&n&&r._UZ(0,"img",11),2&n){const e=r.oxw();r.Q6J("src",e.photo,r.LSH)}}let HK=(()=>{class n{constructor(e,i,s,a,u){this.dialog=e,this.utilsService=i,this.estoqueService=s,this.dialogRef=u,this.btnCaptura="Capturar foto",this.exibirFoto=!1,this.externalData=a}ngAfterViewInit(){let e=this.videoCamera.nativeElement;setTimeout(()=>{this.externalData&&(this.btnCaptura="Capturar novamente",this.exibirFoto=!0,this.photo=this.externalData)},100),!this.externalData&&navigator.mediaDevices&&navigator.mediaDevices.getUserMedia&&navigator.mediaDevices.getUserMedia({video:this.hasVideo}).then(s=>{this.streamCamera=s,e.srcObject=s,e.play()})}ngOnInit(){this.hasVideo=!this.estoqueService.cookieCamera||{deviceId:{exact:this.estoqueService.cookieCamera}}}startCamera(){}takePhoto(){if(this.exibirFoto)this.exibirFoto=!1,setTimeout(()=>{if(navigator.mediaDevices&&navigator.mediaDevices.getUserMedia){let e=this.videoCamera.nativeElement;navigator.mediaDevices.getUserMedia({video:this.hasVideo}).then(i=>{this.streamCamera=i,e.srcObject=i,e.play(),this.btnCaptura="Capturar foto"})}},100);else{let e=this.videoCamera.nativeElement;this.btnCaptura="Capturar novamente",e.pause();let i=this.canvasPhoto.nativeElement;i.width=e.offsetWidth,i.height=e.offsetHeight,i.getContext("2d").drawImage(e,0,0,e.offsetWidth,e.offsetHeight);let s=i.toDataURL("image/jpeg");this.photo=s,this.exibirFoto=!0}}setPhoto(){this.streamCamera.getTracks()[0].stop(),this.dialogRef.close(this.photo)}cancelPhoto(){this.streamCamera&&this.streamCamera.getTracks()[0].stop(),this.dialogRef.close()}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(cs),r.Y36(rf),r.Y36(pl),r.Y36(xd),r.Y36(Yh))},n.\u0275cmp=r.Xpm({type:n,selectors:[["app-dialog-photo"]],viewQuery:function(e,i){if(1&e&&(r.Gf(FK,5),r.Gf(LK,5),r.Gf(BK,5)),2&e){let s;r.iGM(s=r.CRH())&&(i.videoCamera=s.first),r.iGM(s=r.CRH())&&(i.canvasPhoto=s.first),r.iGM(s=r.CRH())&&(i.modalCaptura=s.first)}},decls:13,vars:3,consts:[["width","100%"],["modalCaptura",""],["id","videoCamera","width","100%","autoplay","",4,"ngIf"],["hidden",""],["canvasPhoto",""],[3,"src",4,"ngIf"],["mat-dialog-actions",""],["mat-raised-button","","color","accent",3,"click"],["mat-raised-button","",3,"click"],["id","videoCamera","width","100%","autoplay",""],["videoCamera",""],[3,"src"]],template:function(e,i){1&e&&(r.TgZ(0,"div",0,1),r.YNc(2,UK,2,0,"video",2),r._UZ(3,"canvas",3,4),r.YNc(5,jK,1,1,"img",5),r.TgZ(6,"div",6),r.TgZ(7,"button",7),r.NdJ("click",function(){return i.takePhoto()}),r._uU(8),r.qZA(),r.TgZ(9,"button",7),r.NdJ("click",function(){return i.setPhoto()}),r._uU(10,"Salvar foto"),r.qZA(),r.TgZ(11,"button",8),r.NdJ("click",function(){return i.cancelPhoto()}),r._uU(12,"Cancelar"),r.qZA(),r.qZA(),r.qZA()),2&e&&(r.xp6(2),r.Q6J("ngIf",!i.exibirFoto),r.xp6(3),r.Q6J("ngIf",i.exibirFoto),r.xp6(3),r.Oqu(i.btnCaptura))},directives:[On,Mu,Ar],styles:[".mat-dialog-actions[_ngcontent-%COMP%]{justify-content:center}button[_ngcontent-%COMP%]{margin:4px!important}"]}),n})();const qK=["*",[["mat-toolbar-row"]]],zK=["*","mat-toolbar-row"],GK=jh(class{constructor(n){this._elementRef=n}});let qF=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=r.lG2({type:n,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),n})(),YH=(()=>{class n extends GK{constructor(e,i,s){super(e),this._platform=i,this._document=s}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(r.SBq),r.Y36(Un),r.Y36(F))},n.\u0275cmp=r.Xpm({type:n,selectors:[["mat-toolbar"]],contentQueries:function(e,i,s){if(1&e&&r.Suo(s,qF,5),2&e){let a;r.iGM(a=r.CRH())&&(i._toolbarRows=a)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(e,i){2&e&&r.ekj("mat-toolbar-multiple-rows",i._toolbarRows.length>0)("mat-toolbar-single-row",0===i._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[r.qOj],ngContentSelectors:zK,decls:2,vars:0,template:function(e,i){1&e&&(r.F$t(qK),r.Hsn(0),r.Hsn(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}\n"],encapsulation:2,changeDetection:0}),n})(),$K=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[[wn],wn]}),n})();function YK(n,t){1&n&&(r.TgZ(0,"div",2),r._UZ(1,"mat-progress-spinner",3),r.qZA())}function ZK(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"div",4),r.TgZ(1,"mat-toolbar",5),r.TgZ(2,"mat-toolbar-row",6),r.TgZ(3,"span"),r._uU(4),r.qZA(),r.qZA(),r.qZA(),r._UZ(5,"br"),r.TgZ(6,"form",7),r.TgZ(7,"div",8),r.TgZ(8,"button",9),r.NdJ("click",function(){return r.CHM(e),r.oxw().openScanner()}),r.TgZ(9,"mat-icon"),r._uU(10,"camera alt icon"),r.qZA(),r.qZA(),r.TgZ(11,"mat-form-field",10),r.TgZ(12,"mat-label"),r._uU(13,"C\xf3digo de barras"),r.qZA(),r.TgZ(14,"input",11),r.NdJ("keydown.enter",function(){return r.CHM(e),r.oxw().salvarItem()})("ngModelChange",function(s){return r.CHM(e),r.oxw().itemProduto.barcode=s}),r.qZA(),r.qZA(),r.qZA(),r.TgZ(15,"mat-form-field",12),r.TgZ(16,"mat-label"),r._uU(17,"Produto"),r.qZA(),r.TgZ(18,"input",13),r.NdJ("keydown.enter",function(){return r.CHM(e),r.oxw().salvarItem()})("ngModelChange",function(s){return r.CHM(e),r.oxw().itemProduto.description=s}),r.qZA(),r.qZA(),r.TgZ(19,"mat-form-field",12),r.TgZ(20,"mat-label"),r._uU(21,"Info. adicional #1"),r.qZA(),r.TgZ(22,"input",14),r.NdJ("keydown.enter",function(){return r.CHM(e),r.oxw().salvarItem()})("ngModelChange",function(s){return r.CHM(e),r.oxw().itemProduto.additional=s}),r.qZA(),r.qZA(),r.TgZ(23,"mat-form-field",12),r.TgZ(24,"mat-label"),r._uU(25,"Info. adicional #2"),r.qZA(),r.TgZ(26,"input",15),r.NdJ("keydown.enter",function(){return r.CHM(e),r.oxw().salvarItem()})("ngModelChange",function(s){return r.CHM(e),r.oxw().itemProduto.additional2=s}),r.qZA(),r.qZA(),r.TgZ(27,"mat-form-field",12),r.TgZ(28,"mat-label"),r._uU(29,"Info. adicional #3"),r.qZA(),r.TgZ(30,"input",16),r.NdJ("keydown.enter",function(){return r.CHM(e),r.oxw().salvarItem()})("ngModelChange",function(s){return r.CHM(e),r.oxw().itemProduto.additional3=s}),r.qZA(),r.qZA(),r.TgZ(31,"mat-form-field",12),r.TgZ(32,"mat-label"),r._uU(33,"Quantidade de itens em estoque"),r.qZA(),r.TgZ(34,"input",17),r.NdJ("keydown.enter",function(){return r.CHM(e),r.oxw().salvarItem()})("ngModelChange",function(s){return r.CHM(e),r.oxw().itemProduto.items=s}),r.qZA(),r.qZA(),r.TgZ(35,"mat-form-field",12),r.TgZ(36,"mat-label"),r._uU(37,"Pre\xe7o unit\xe1rio"),r.qZA(),r.TgZ(38,"span",18),r._uU(39,"R$ \xa0"),r.qZA(),r.TgZ(40,"input",19),r.NdJ("keydown.enter",function(){return r.CHM(e),r.oxw().salvarItem()})("ngModelChange",function(s){return r.CHM(e),r.oxw().itemProduto.price=s}),r.qZA(),r.qZA(),r.TgZ(41,"div",20),r.TgZ(42,"button",21),r.NdJ("click",function(){r.CHM(e);const s=r.oxw();return s.takePhoto(s.itemProduto.photo)}),r._uU(43),r.qZA(),r.qZA(),r._UZ(44,"span",22),r.qZA(),r._UZ(45,"span",22),r.TgZ(46,"div",20),r.TgZ(47,"button",23),r.NdJ("click",function(){return r.CHM(e),r.oxw().salvarItem()}),r._uU(48,"Salvar"),r.qZA(),r.qZA(),r.qZA()}if(2&n){const e=r.oxw();r.xp6(4),r.Oqu(e.statusProduto),r.xp6(10),r.Q6J("ngModel",e.itemProduto.barcode),r.xp6(4),r.Q6J("ngModel",e.itemProduto.description),r.xp6(4),r.Q6J("ngModel",e.itemProduto.additional),r.xp6(4),r.Q6J("ngModel",e.itemProduto.additional2),r.xp6(4),r.Q6J("ngModel",e.itemProduto.additional3),r.xp6(4),r.Q6J("ngModel",e.itemProduto.items),r.xp6(6),r.Q6J("ngModel",e.itemProduto.price),r.xp6(3),r.Oqu(e.itemProduto.photo?"Visualizar foto":"Adicionar foto do item")}}let ZH=(()=>{class n{constructor(e,i,s,a,u){this.router=e,this.route=i,this.estoqueService=s,this.dialog=a,this.utilsService=u,this.isLoading=!1,this.statusProduto=""}ngOnChanges(){this.ngOnInit()}ngOnInit(){try{this.isLoading=!0,this.route.params.subscribe(e=>{this.carregarProduto(""===e.barcode||void 0===e.barcode?"":e.barcode)})}catch(e){this.utilsService.showError(String(e))}}salvarItem(){try{this.isLoading=!0;let e="";this.route.params.subscribe(i=>{e=i.barcode}),""!==e&&void 0!==e?this.estoqueService.sendPutRequest(this.itemProduto).subscribe(i=>{this.exibirAlerta(i)},i=>{this.utilsService.showError("")}):this.estoqueService.sendPostRequest(this.itemProduto).subscribe(i=>{this.exibirAlerta(i)},i=>{this.utilsService.showError("")})}catch(e){this.utilsService.showError(String(e))}}exibirAlerta(e){this.isLoading=!0;const i=new ls;i.disableClose=!0,i.autoFocus=!0,this.dialog.open(Os,i).afterClosed().subscribe(a=>{this.router.navigate([`/editaItem/${e.barcode}`],{relativeTo:this.route,skipLocationChange:!0}),this.carregarProduto(e.barcode||"")})}carregarProduto(e){try{this.isLoading=!0,""!==e?this.estoqueService.sendGetRequestByCode(e).subscribe(i=>{i.length>0?(this.itemProduto=i[0],this.statusProduto="Atualizar"):(this.utilsService.showError("Produto n\xe3o localizado, cadastre um novo","novoItem"),this.iniciarNovoProduto()),this.isLoading=!1}):(this.iniciarNovoProduto(),this.isLoading=!1)}catch(i){this.utilsService.showError(String(i))}}iniciarNovoProduto(){this.statusProduto="Novo produto",this.itemProduto={barcode:"",description:"",additional:"",additional2:"",additional3:"",items:void 0,price:void 0,idLoja:this.estoqueService.usuario.idLoja}}openScanner(){const e=new ls;e.disableClose=!0,e.autoFocus="true"==this.estoqueService.habilitarTeclado,e.data="retornaBarcode",this.dialog.open(yM,e).afterClosed().subscribe(s=>{s?this.itemProduto.barcode=s:this.isLoading=!1})}takePhoto(e){const i=new ls;i.disableClose=!0,i.autoFocus=!1,i.data=e,this.dialog.open(HK,i).afterClosed().subscribe(a=>{a&&(this.itemProduto.photo=a)})}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(nr),r.Y36(xs),r.Y36(pl),r.Y36(cs),r.Y36(rf))},n.\u0275cmp=r.Xpm({type:n,selectors:[["app-item-editar"]],features:[r.TTD],decls:2,vars:2,consts:[["class","loadingSet",4,"ngIf"],["class","tela",4,"ngIf"],[1,"loadingSet"],["mode","indeterminate"],[1,"tela"],["color","accent",2,"min-height","20px","max-height","20px","font-size","15px"],[2,"min-height","20px","max-height","20px","font-size","15px"],[1,"item-form"],[1,"barcode-line"],["mat-mini-fab","","color","primary","aria-label","edit",1,"buttonAction",3,"click"],["appearance","fill",1,"item-full-width2"],["type","text","autocomplete","off","matInput","","placeholder","Ex. 123456789","name","barcode",3,"ngModel","keydown.enter","ngModelChange"],["appearance","fill",1,"item-full-width"],["autocomplete","off","matInput","","placeholder","Ex. Produto","name","description",3,"ngModel","keydown.enter","ngModelChange"],["autocomplete","off","matInput","","placeholder","Ex. Mais info","name","additional",3,"ngModel","keydown.enter","ngModelChange"],["autocomplete","off","matInput","","placeholder","Ex. Mais info","name","additional2",3,"ngModel","keydown.enter","ngModelChange"],["autocomplete","off","matInput","","placeholder","Ex. Mais info","name","additional3",3,"ngModel","keydown.enter","ngModelChange"],["autocomplete","off","type","number","matInput","","placeholder","Ex. 10","name","items",3,"ngModel","keydown.enter","ngModelChange"],["matPrefix",""],["autocomplete","off","type","number","min","0.00","step","0.01","matInput","","placeholder","Ex. R$10,00","name","price",3,"ngModel","keydown.enter","ngModelChange"],[1,"buttons"],["mat-raised-button","","color","primary",3,"click"],[1,"spacer"],["mat-raised-button","","color","accent",3,"click"]],template:function(e,i){1&e&&(r.YNc(0,YK,2,0,"div",0),r.YNc(1,ZK,49,9,"div",1)),2&e&&(r.Q6J("ngIf",i.isLoading),r.xp6(1),r.Q6J("ngIf",!i.isLoading))},directives:[On,Co,YH,qF,Xp,Jp,Oa,Ar,ng,tg,nf,d_,Od,Qp,tf,u_,CW,VF],styles:[".loadingSet[_ngcontent-%COMP%]{width:100%;height:50%;display:flex;justify-content:center;align-items:center}.item-form[_ngcontent-%COMP%]{min-width:150px;width:100%;display:inline-flex;justify-content:center;align-items:center;flex-direction:column}.barcode-line[_ngcontent-%COMP%]{width:90%}.item-full-width2[_ngcontent-%COMP%]{width:calc(100% - 40px)}.item-full-width[_ngcontent-%COMP%]{width:90%}.tela[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:calc(100% - 70px)}.spacer[_ngcontent-%COMP%]{flex:1 1 auto}.buttons[_ngcontent-%COMP%]{padding-bottom:1.34375em;display:flex;justify-content:center}"]}),n})(),WH=(()=>{class n{constructor(e,i,s){this.dialog=e,this.dialogRef=s,this.externalData=i}ngOnInit(){}enviar(){this.dialogRef.close(this.valor&&this.valor.length>0?this.valor:"1")}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(cs),r.Y36(xd),r.Y36(Yh))},n.\u0275cmp=r.Xpm({type:n,selectors:[["app-dialog-valor"]],decls:15,vars:11,consts:[["mat-dialog-content",""],[1,"item-form"],["appearance","fill",1,"item-full-width"],["autocomplete","off","matInput","","name","barcode",3,"type","placeholder","ngModel","keyup.enter","ngModelChange"],["mat-dialog-actions",""],["id","btnConsultar","color","primary","mat-raised-button","","matTooltip","Pressione 'Enter'",3,"mat-dialog-close","disabled"],["id","btnFechar","mat-raised-button","",3,"mat-dialog-close"],["id","btnCancelar","mat-raised-button","","mat-dialog-close",""]],template:function(e,i){1&e&&(r.TgZ(0,"div",0),r._uU(1),r.qZA(),r._UZ(2,"br"),r.TgZ(3,"form",1),r.TgZ(4,"mat-form-field",2),r.TgZ(5,"mat-label"),r._uU(6),r.qZA(),r.TgZ(7,"input",3),r.NdJ("keyup.enter",function(){return i.enviar()})("ngModelChange",function(a){return i.valor=a}),r.qZA(),r.qZA(),r.qZA(),r.TgZ(8,"div",4),r.TgZ(9,"button",5),r._uU(10),r.qZA(),r.TgZ(11,"button",6),r._uU(12),r.qZA(),r.TgZ(13,"button",7),r._uU(14,"Cancelar"),r.qZA(),r.qZA()),2&e&&(r.xp6(1),r.Oqu(i.externalData.mensagem),r.xp6(5),r.Oqu(i.externalData.campo),r.xp6(1),r.Q6J("type",i.externalData.tipo)("placeholder",i.externalData.exemplo)("ngModel",i.valor),r.xp6(2),r.Q6J("mat-dialog-close",i.valor)("disabled",!i.valor||0==i.valor.length),r.xp6(1),r.AsE("",""==i.externalData.btn1?"Ok":i.valor,"",i.externalData.btn1,""),r.xp6(1),r.Q6J("mat-dialog-close",i.externalData.btn2.valor),r.xp6(1),r.Oqu(i.externalData.btn2.texto))},directives:[Zh,Xp,Jp,Oa,tg,nf,d_,Od,Qp,tf,Mu,Ar,f_,Id],styles:[".mat-dialog-actions[_ngcontent-%COMP%]{justify-content:center}input[_ngcontent-%COMP%]{width:100%}mat-form-field[_ngcontent-%COMP%]{width:100%}form[_ngcontent-%COMP%]{width:100%}button[_ngcontent-%COMP%]{margin:4px!important}"]}),n})();function WK(n,t){1&n&&(r.TgZ(0,"div",2),r._UZ(1,"mat-progress-spinner",3),r.qZA())}function KK(n,t){1&n&&(r.TgZ(0,"th",24),r._uU(1," A\xe7\xf5es "),r.qZA())}function QK(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"td",25),r.TgZ(1,"button",26),r.NdJ("click",function(){const a=r.CHM(e).$implicit;return r.oxw(2).removerItem(a)}),r.TgZ(2,"mat-icon"),r._uU(3,"clear"),r.qZA(),r.qZA(),r.qZA()}}function JK(n,t){1&n&&(r.TgZ(0,"th",27),r._uU(1," Descri\xe7\xe3o "),r.qZA())}function XK(n,t){if(1&n&&(r.TgZ(0,"td",25),r.TgZ(1,"p"),r._uU(2),r.qZA(),r.TgZ(3,"p"),r._uU(4),r.qZA(),r.qZA()),2&n){const e=t.$implicit;r.xp6(2),r.Oqu(e.description),r.xp6(2),r.Oqu(e.additional)}}function e9(n,t){1&n&&(r.TgZ(0,"th",24),r._uU(1," Quant. "),r.qZA())}function t9(n,t){if(1&n&&(r.TgZ(0,"td",25),r._uU(1),r.qZA()),2&n){const e=t.$implicit;r.xp6(1),r.hij(" ",e.items," ")}}function n9(n,t){1&n&&(r.TgZ(0,"th",24),r._uU(1," Pre\xe7o unit."),r._UZ(2,"br"),r._uU(3,"e Total "),r.qZA())}function i9(n,t){if(1&n&&(r.TgZ(0,"td",25),r._uU(1),r.ALo(2,"currency"),r._UZ(3,"br"),r._uU(4),r.ALo(5,"currency"),r.qZA()),2&n){const e=t.$implicit;r.xp6(1),r.hij(" ",r.xi3(2,2,e.price,"BRL"),""),r.xp6(3),r.hij(" ",r.xi3(5,5,e.totalPrice,"BRL")," ")}}function r9(n,t){1&n&&(r.TgZ(0,"th",24),r._uU(1," Mais info "),r.qZA())}function s9(n,t){if(1&n&&(r.TgZ(0,"td",25),r._uU(1),r.qZA()),2&n){const e=t.$implicit;r.xp6(1),r.hij(" ",e.additional," ")}}function o9(n,t){1&n&&r._UZ(0,"tr",28)}function a9(n,t){1&n&&r._UZ(0,"tr",29)}const l9=function(){return[5,10,20]};function c9(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"div",4),r.TgZ(1,"div",5),r.TgZ(2,"table",6),r.ynx(3,7),r.YNc(4,KK,2,0,"th",8),r.YNc(5,QK,4,0,"td",9),r.BQk(),r.ynx(6,10),r.YNc(7,JK,2,0,"th",11),r.YNc(8,XK,5,2,"td",9),r.BQk(),r.ynx(9,12),r.YNc(10,e9,2,0,"th",8),r.YNc(11,t9,2,1,"td",9),r.BQk(),r.ynx(12,13),r.YNc(13,n9,4,0,"th",8),r.YNc(14,i9,6,8,"td",9),r.BQk(),r.ynx(15,14),r.YNc(16,r9,2,0,"th",8),r.YNc(17,s9,2,1,"td",9),r.BQk(),r.YNc(18,o9,1,0,"tr",15),r.YNc(19,a9,1,0,"tr",16),r.qZA(),r.qZA(),r._UZ(20,"span",17),r._UZ(21,"mat-paginator",18,19),r.TgZ(23,"div",20),r.TgZ(24,"span"),r.TgZ(25,"p",21),r.TgZ(26,"b"),r._uU(27,"Total"),r.qZA(),r.qZA(),r.TgZ(28,"p",21),r._uU(29),r.ALo(30,"currency"),r.qZA(),r.qZA(),r.TgZ(31,"button",22),r.NdJ("click",function(){return r.CHM(e),r.oxw().exibirAlerta()}),r.TgZ(32,"u"),r._uU(33,"N"),r.qZA(),r.TgZ(34,"span"),r._uU(35,"ovo item"),r.qZA(),r.qZA(),r.TgZ(36,"button",23),r.NdJ("click",function(){return r.CHM(e),r.oxw().fecharCompra()}),r.TgZ(37,"u"),r._uU(38,"F"),r.qZA(),r.TgZ(39,"span"),r._uU(40,"echar venda"),r.qZA(),r.qZA(),r.qZA(),r.qZA()}if(2&n){const e=r.oxw();r.xp6(2),r.Q6J("dataSource",e.dataSource),r.xp6(16),r.Q6J("matHeaderRowDef",e.displayedColumns),r.xp6(1),r.Q6J("matRowDefColumns",e.displayedColumns),r.xp6(2),r.Q6J("pageSizeOptions",r.DdM(9,l9)),r.xp6(8),r.Oqu(r.xi3(30,6,e.valorTotal,"BRL")),r.xp6(7),r.Q6J("disabled",0==e.dataSource.data.length)}}let u9=(()=>{class n{constructor(e,i,s,a,u){this.dialog=e,this.route=i,this.router=s,this.estoqueService=a,this.utilsService=u,this.isLoading=!1,this.displayedColumns=["actions","description","items","price"],this.dataSource=new Md,this.itensLista=[],this.valorTotal=0,this.itemNumero=1}set matPaginator(e){this.dataSource.paginator=e}handleKeyboardEvent(e){switch(e.key){case"f":this.dataSource.data.length>0&&this.fecharCompra();break;case"n":this.exibirAlerta()}}ngAfterViewInit(){0===this.dataSource.data.length&&this.exibirAlerta()}ngOnInit(){this.estoqueService.listaCompra.data.length>0&&!this.estoqueService.compraFechada?(this.itensLista=this.estoqueService.listaCompra.data,this.valorTotal=0,this.itemNumero=1,this.itensLista.forEach((e,i)=>{e.item=this.itemNumero,this.valorTotal+=(e.items||1)*(e.price||0),this.itemNumero+=1}),this.dataSource=new Md(this.itensLista),this.estoqueService.listaCompra=this.dataSource,this.isLoading=!1):this.estoqueService.compraFechada=!1}removerItem(e){try{this.isLoading=!0;const i=new ls;i.disableClose=!0,i.autoFocus=!0,this.dialog.open(mM,i).afterClosed().subscribe(a=>{a?(this.valorTotal=0,this.itensLista=this.itensLista.filter((u,f)=>!(u.barcode===e.barcode&&u.item===e.item)),this.itemNumero=1,this.itensLista.forEach((u,f)=>{u.item=this.itemNumero,this.valorTotal+=(u.items||1)*(u.price||0),this.itemNumero+=1}),this.dataSource=new Md(this.itensLista),this.estoqueService.listaCompra=this.dataSource,this.isLoading=!1):this.isLoading=!1})}catch(i){this.utilsService.showError(String(i))}}exibirAlerta(){const e=new ls;e.disableClose=!0,e.autoFocus="true"==this.estoqueService.habilitarTeclado,e.data="consulta2",this.dialog.open(yM,e).afterClosed().subscribe(s=>{s?(e.data={mensagem:"Informe a quantidade ou Pressione Enter para 1 item",campo:"Quantidade",tipo:"number",exemplo:"Ex. 1",btn1:" itens",btn2:{texto:"1 item",valor:"1"}},e.autoFocus="true"==this.estoqueService.habilitarTeclado,this.dialog.open(WH,e).afterClosed().subscribe(u=>{u&&void 0!==u&&""!==u&&0!==u&&(s.items=u,s.item=this.itemNumero,s.totalPrice=s.items*s.price,this.itensLista.push(s),this.valorTotal+=s.items*s.price,this.dataSource=new Md(this.itensLista),this.estoqueService.listaCompra=this.dataSource,this.itemNumero+=1)},u=>{this.utilsService.showError("")})):this.isLoading=!1})}fecharCompra(){const e=new ls;e.disableClose=!0,e.autoFocus="true"==this.estoqueService.habilitarTeclado,e.data={mensagem:"Informe o CPF/CNPJ do cliente",campo:"CPF/CNPJ",tipo:"number",exemplo:"CPF/CNPJ",btn1:"",btn2:{texto:"Sem CPF/CNPJ",valor:" >"}},e.autoFocus="true"==this.estoqueService.habilitarTeclado,this.dialog.open(WH,e).afterClosed().subscribe(s=>{s&&void 0!==s&&""!==s&&0!==s&&(this.estoqueService.listaCompra=this.dataSource,this.dataSource=new Md,this.estoqueService.listaCompra.data.forEach(a=>{this.estoqueService.sendGetRequestByCode(String(a.barcode)).subscribe(u=>{u[0].items=Number(u[0].items)-Number(a.items),this.estoqueService.sendPutRequest(u[0]).subscribe(f=>{},f=>{})})}),this.router.navigate(["/cupomPage"],{relativeTo:this.route,skipLocationChange:!0,state:{venda:this.itensLista,valorTotal:this.valorTotal,cpf:s}}))},s=>{this.utilsService.showError("")})}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(cs),r.Y36(xs),r.Y36(nr),r.Y36(pl),r.Y36(rf))},n.\u0275cmp=r.Xpm({type:n,selectors:[["app-nova-venda"]],viewQuery:function(e,i){if(1&e&&r.Gf(gM,5),2&e){let s;r.iGM(s=r.CRH())&&(i.matPaginator=s.first)}},hostBindings:function(e,i){1&e&&r.NdJ("keypress",function(a){return i.handleKeyboardEvent(a)},!1,r.evT)},decls:2,vars:2,consts:[["class","loadingSet",4,"ngIf"],["class","tela",4,"ngIf"],[1,"loadingSet"],["mode","indeterminate"],[1,"tela"],[1,"scrollTable"],["mat-table","",1,"paddingLeftCol",3,"dataSource"],["matColumnDef","actions"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","","class","colunaEstoque",4,"matCellDef"],["matColumnDef","description"],["mat-header-cell","","class","cabecalhoColunaEstoque",4,"matHeaderCellDef"],["matColumnDef","items"],["matColumnDef","price"],["matColumnDef","additional"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[1,"example-spacer"],["id","matPaginatorVenda","aria-label","pagina\xe7\xe3o do estoque",3,"pageSizeOptions"],["matPaginatorVenda",""],[1,"buttons"],[1,"infoBotton"],["mat-raised-button","","color","primary","matTooltip","Pressione 'N' para um novo item",3,"click"],["mat-raised-button","","color","accent","matTooltip","Pressione 'F' para fechar a compra",3,"disabled","click"],["mat-header-cell",""],["mat-cell","",1,"colunaEstoque"],["mat-mini-fab","","color","warn","aria-label","remove","matTooltip","Clique para remover o item da lista",1,"buttonAction",3,"click"],["mat-header-cell","",1,"cabecalhoColunaEstoque"],["mat-header-row",""],["mat-row",""]],template:function(e,i){1&e&&(r.YNc(0,WK,2,0,"div",0),r.YNc(1,c9,41,10,"div",1)),2&e&&(r.Q6J("ngIf",i.isLoading),r.xp6(1),r.Q6J("ngIf",!i.isLoading))},directives:[On,Co,sA,AE,IE,xE,oA,aA,gM,Ar,f_,pb,gb,ng,ME,kE],pipes:[Y],styles:[".loadingSet[_ngcontent-%COMP%]{width:100%;height:50%;display:flex;justify-content:center;align-items:center}table[_ngcontent-%COMP%]{width:100%}.scrollTable[_ngcontent-%COMP%]{overflow-y:auto;max-height:calc(100% - 109px)}.cabecalhoColunaEstoque[_ngcontent-%COMP%]{text-align:left}.paddingLeftCol[_ngcontent-%COMP%]{padding-left:10px!important}  .cdk-header-cell{padding-left:10px!important}  .mat-cell{padding-left:10px!important}.colunaEstoque[_ngcontent-%COMP%]{vertical-align:middle;text-align:left}.buttonAction[_ngcontent-%COMP%]{display:block}.buttons[_ngcontent-%COMP%]{justify-content:center;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box}.example-spacer[_ngcontent-%COMP%]{flex:1 1 auto}.tela[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:calc(100% - 70px)}.infoBotton[_ngcontent-%COMP%]{margin:2px 12px 0!important;text-align:center}button[_ngcontent-%COMP%]{margin:5px}"]}),n})();class KH{constructor(){this._id=void 0,this.name="",this.description="",this.cnpj=void 0}}class d9{constructor(){this._id=void 0,this.name="",this.email="",this.active=!0,this.roles="funcionario",this.idLoja=""}}var h9=M(6877);function f9(n,t){if(1&n&&r._UZ(0,"canvas",1),2&n){const e=r.oxw();r.Q6J("qrCode",e.value)("qrCodeErrorCorrectionLevel",e.errorCorrectionLevel)("qrCodeCenterImageSrc",e.centerImageSrc)("qrCodeCenterImageWidth",e.centerImageSize)("qrCodeCenterImageHeight",e.centerImageSize)("qrCodeMargin",e.margin)("width",e.size)("height",e.size)("darkColor",e.darkColor)("lightColor",e.lightColor)}}const QH=/^#(?:[0-9a-fA-F]{3,4}){1,2}$/;let p9=(()=>{class n{constructor(e){this.viewContainerRef=e,this.errorCorrectionLevel=n.DEFAULT_ERROR_CORRECTION_LEVEL,this.darkColor="#000000FF",this.lightColor="#FFFFFFFF",this.margin=16}ngOnChanges(){var e,i;return(0,zH.mG)(this,void 0,void 0,function*(){if(!this.value)return;this.version&&this.version>40?(console.warn("[qrCode] max version is 40, clamping"),this.version=40):this.version&&this.version<1?(console.warn("[qrCode] min version is 1, clamping"),this.version=1):void 0!==this.version&&isNaN(this.version)&&(console.warn("[qrCode] version should be set to a number, defaulting to auto"),this.version=void 0);const s=this.viewContainerRef.element.nativeElement;if(!s)return;const a=s.getContext("2d");a&&a.clearRect(0,0,a.canvas.width,a.canvas.height);const u=null!==(e=this.errorCorrectionLevel)&&void 0!==e?e:n.DEFAULT_ERROR_CORRECTION_LEVEL,f=QH.test(this.darkColor)?this.darkColor:void 0,g=QH.test(this.lightColor)?this.lightColor:void 0;(0,r.X6Q)()&&(!f&&this.darkColor&&console.error("[ng-qrcode] darkColor set to invalid value, must be RGBA hex color string, eg: #3050A1FF"),!g&&this.lightColor&&console.error("[ng-qrcode] lightColor set to invalid value, must be RGBA hex color string, eg: #3050A130")),yield h9.toCanvas(s,this.value,{version:this.version,errorCorrectionLevel:u,width:this.width,margin:this.margin,color:{dark:f,light:g}});const C=this.centerImageSrc,x=JH(this.centerImageWidth,n.DEFAULT_CENTER_IMAGE_SIZE),R=JH(this.centerImageHeight,n.DEFAULT_CENTER_IMAGE_SIZE);if(C&&a){this.centerImage||(this.centerImage=new Image(x,R)),C!==(null===(i=this.centerImage)||void 0===i?void 0:i.src)&&(this.centerImage.src=C),x!==this.centerImage.width&&(this.centerImage.width=x),R!==this.centerImage.height&&(this.centerImage.height=R);const G=this.centerImage;G.onload=()=>{a.drawImage(G,s.width/2-x/2,s.height/2-R/2,x,R)}}})}}return n.DEFAULT_ERROR_CORRECTION_LEVEL="M",n.DEFAULT_CENTER_IMAGE_SIZE=40,n.\u0275fac=function(e){return new(e||n)(r.Y36(r.s_b))},n.\u0275dir=r.lG2({type:n,selectors:[["canvas","qrCode",""]],inputs:{value:["qrCode","value"],version:["qrCodeVersion","version"],errorCorrectionLevel:["qrCodeErrorCorrectionLevel","errorCorrectionLevel"],width:"width",height:"height",darkColor:"darkColor",lightColor:"lightColor",centerImageSrc:["qrCodeCenterImageSrc","centerImageSrc"],centerImageWidth:["qrCodeCenterImageWidth","centerImageWidth"],centerImageHeight:["qrCodeCenterImageHeight","centerImageHeight"],margin:["qrCodeMargin","margin"]},features:[r.TTD]}),n})();function JH(n,t){return void 0===n||""===n?t:"string"==typeof n?parseInt(n,10):n}let g9=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=r.Xpm({type:n,selectors:[["qr-code"]],inputs:{value:"value",size:"size",darkColor:"darkColor",lightColor:"lightColor",errorCorrectionLevel:"errorCorrectionLevel",centerImageSrc:"centerImageSrc",centerImageSize:"centerImageSize",margin:"margin"},decls:1,vars:1,consts:[[3,"qrCode","qrCodeErrorCorrectionLevel","qrCodeCenterImageSrc","qrCodeCenterImageWidth","qrCodeCenterImageHeight","qrCodeMargin","width","height","darkColor","lightColor",4,"ngIf"],[3,"qrCode","qrCodeErrorCorrectionLevel","qrCodeCenterImageSrc","qrCodeCenterImageWidth","qrCodeCenterImageHeight","qrCodeMargin","width","height","darkColor","lightColor"]],template:function(e,i){1&e&&r.YNc(0,f9,1,10,"canvas",0),2&e&&r.Q6J("ngIf",i.value)},directives:[On,p9],encapsulation:2}),n})(),m9=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[[Ue]]}),n})(),_9=(()=>{class n{constructor(e,i,s){this.dialog=e,this.dialogRef=s,this.textoQr="",this.codigo="",this.textoQr=i}ngOnInit(){}onCodeResult(e){this.codigo=e,this.dialogRef.close(this.codigo)}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(cs),r.Y36(xd),r.Y36(Yh))},n.\u0275cmp=r.Xpm({type:n,selectors:[["app-dialog-qrcode"]],decls:4,vars:1,consts:[["size","200","errorCorrectionLevel","M",3,"value"],["mat-dialog-actions",""],["color","primary","mat-raised-button","","mat-dialog-close",""]],template:function(e,i){1&e&&(r._UZ(0,"qr-code",0),r.TgZ(1,"div",1),r.TgZ(2,"button",2),r._uU(3,"Fechar"),r.qZA(),r.qZA()),2&e&&r.Q6J("value",i.textoQr)},directives:[g9,Mu,Ar,Id],styles:[".mat-dialog-actions[_ngcontent-%COMP%]{justify-content:center}.item-full-width[_ngcontent-%COMP%]{width:100%}"]}),n})();function y9(n,t){1&n&&(r.TgZ(0,"div",2),r._UZ(1,"mat-progress-spinner",3),r.qZA())}function v9(n,t){1&n&&(r.TgZ(0,"p",20),r._uU(1,"**Se voc\xea vai fazer parte de um com\xe9rcio que j\xe1 existe, verifique com algu\xe9m que j\xe1 fa\xe7a parte e informe o ID aqui, se n\xe3o, pode deixar em branco."),r.qZA())}function b9(n,t){1&n&&(r.TgZ(0,"p",20),r._uU(1,"**Se mais gente for fazer parte do seu com\xe9rcio, compartilhe este ID."),r.qZA())}function C9(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"div",4),r.TgZ(1,"form",5),r.TgZ(2,"mat-card"),r.TgZ(3,"h4"),r._uU(4,"Dados pessoais"),r.qZA(),r.TgZ(5,"mat-form-field",6),r.TgZ(6,"mat-label"),r._uU(7,"Seu nome"),r.qZA(),r.TgZ(8,"input",7),r.NdJ("keydown.enter",function(){return r.CHM(e),r.oxw().salvarItem()})("ngModelChange",function(s){return r.CHM(e),r.oxw().dadosUsuario.name=s}),r.qZA(),r.qZA(),r.TgZ(9,"mat-form-field",6),r.TgZ(10,"mat-label"),r._uU(11,"Seu email"),r.qZA(),r.TgZ(12,"input",8),r.NdJ("keydown.enter",function(){return r.CHM(e),r.oxw().salvarItem()})("ngModelChange",function(s){return r.CHM(e),r.oxw().dadosUsuario.email=s}),r.qZA(),r.qZA(),r.qZA(),r._UZ(13,"br"),r.TgZ(14,"mat-card"),r.TgZ(15,"h4"),r._uU(16,"Sua loja"),r.qZA(),r.YNc(17,v9,2,0,"p",9),r.YNc(18,b9,2,0,"p",9),r.TgZ(19,"div",10),r.TgZ(20,"button",11),r.NdJ("click",function(){return r.CHM(e),r.oxw().exibirQrCode()}),r.TgZ(21,"mat-icon"),r._uU(22,"share"),r.qZA(),r.qZA(),r.TgZ(23,"mat-form-field",12),r.TgZ(24,"mat-label"),r._uU(25,"ID do com\xe9rcio"),r.qZA(),r.TgZ(26,"input",13),r.NdJ("keydown.enter",function(){return r.CHM(e),r.oxw().salvarItem()})("blur",function(){return r.CHM(e),r.oxw().carregarLoja()})("ngModelChange",function(s){return r.CHM(e),r.oxw().dadosLoja._id=s}),r.qZA(),r.qZA(),r.qZA(),r.TgZ(27,"mat-form-field",6),r.TgZ(28,"mat-label"),r._uU(29,"Nome do seu com\xe9rcio"),r.qZA(),r.TgZ(30,"input",14),r.NdJ("keydown.enter",function(){return r.CHM(e),r.oxw().salvarItem()})("ngModelChange",function(s){return r.CHM(e),r.oxw().dadosLoja.name=s}),r.qZA(),r.qZA(),r.TgZ(31,"mat-form-field",6),r.TgZ(32,"mat-label"),r._uU(33,"Informe seu CPF ou o CNPJ da loja"),r.qZA(),r.TgZ(34,"input",15),r.NdJ("keydown.enter",function(){return r.CHM(e),r.oxw().salvarItem()})("ngModelChange",function(s){return r.CHM(e),r.oxw().dadosLoja.cnpj=s}),r.qZA(),r.qZA(),r.TgZ(35,"mat-form-field",6),r.TgZ(36,"mat-label"),r._uU(37,"Breve descri\xe7\xe3o do seu Com\xe9rcio"),r.qZA(),r.TgZ(38,"input",16),r.NdJ("keydown.enter",function(){return r.CHM(e),r.oxw().salvarItem()})("ngModelChange",function(s){return r.CHM(e),r.oxw().dadosLoja.description=s}),r.qZA(),r.qZA(),r.qZA(),r._UZ(39,"br"),r.qZA(),r._UZ(40,"span",17),r.TgZ(41,"div",18),r.TgZ(42,"button",19),r.NdJ("click",function(){return r.CHM(e),r.oxw().salvarItem()}),r._uU(43,"Salvar"),r.qZA(),r.qZA(),r.qZA()}if(2&n){const e=r.oxw();r.xp6(8),r.Q6J("ngModel",e.dadosUsuario.name),r.xp6(4),r.Q6J("disabled",e.atualizarCadastro)("ngModel",e.dadosUsuario.email),r.xp6(5),r.Q6J("ngIf",!e.atualizarCadastro),r.xp6(1),r.Q6J("ngIf",e.atualizarCadastro),r.xp6(8),r.Q6J("ngModel",e.dadosLoja._id)("disabled",e.atualizarCadastro),r.xp6(4),r.Q6J("disabled",e.lojaExistente)("ngModel",e.dadosLoja.name),r.xp6(4),r.Q6J("disabled",e.lojaExistente)("ngModel",e.dadosLoja.cnpj),r.xp6(4),r.Q6J("disabled",e.lojaExistente)("ngModel",e.dadosLoja.description)}}let XH=(()=>{class n{constructor(e,i,s){this.estoqueService=e,this.dialog=i,this.utilsService=s,this.isLoading=!1,this.dadosUsuario=new d9,this.dadosLoja=new KH,this.lojaExistente=!1,this.atualizarCadastro=!1}ngOnInit(){var e;this.dadosUsuario.name=this.estoqueService.user.name,this.dadosUsuario.email=this.estoqueService.user.email,this.dadosUsuario._id=null===(e=this.estoqueService.usuario)||void 0===e?void 0:e._id,this.dadosLoja=void 0!==this.estoqueService.loja?this.estoqueService.loja:new KH,this.atualizarCadastro=void 0!==this.estoqueService.loja&&void 0!==this.estoqueService.usuario}exibirQrCode(){const e=new ls;e.disableClose=!0,e.autoFocus=!0,e.data=this.dadosLoja._id,this.dialog.open(_9,e).afterClosed().subscribe(s=>{void 0!==s&&""!==s&&(this.dadosLoja._id=s,this.carregarLoja())})}carregarLoja(){void 0!==this.dadosLoja._id&&""!==this.dadosLoja._id&&(this.isLoading=!0,this.estoqueService.sendGetLojaRequest(this.dadosLoja._id).subscribe(e=>{e.length>0?(this.dadosLoja=e[0],this.lojaExistente=!0,this.isLoading=!1):(this.dadosLoja._id="",this.isLoading=!1)}))}salvarItem(){this.isLoading=!0,this.atualizarCadastro?this.estoqueService.sendPutLojaRequest(this.dadosLoja).subscribe(e=>{this.dadosUsuario.idLoja=e._id,this.estoqueService.sendPutUserRequest(this.dadosUsuario).subscribe(i=>{this.isLoading=!1,location.reload(),this.utilsService.showError("Cadastro Atualizado com sucesso.","logoff")})}):this.lojaExistente?(this.dadosUsuario.idLoja=this.dadosLoja._id,this.estoqueService.sendPostUserRequest(this.dadosUsuario).subscribe(e=>{this.isLoading=!1,location.reload(),this.utilsService.showError("Usu\xe1rio cadastrado com sucesso! Fa\xe7a seu login novamente para confirmar.","logoff")})):this.estoqueService.sendPostLojaRequest(this.dadosLoja).subscribe(e=>{this.dadosUsuario.idLoja=e._id,this.estoqueService.sendPostUserRequest(this.dadosUsuario).subscribe(i=>{this.isLoading=!1,location.reload(),this.utilsService.showError("Usu\xe1rio cadastrado com sucesso! Fa\xe7a seu login novamente para confirmar.","logoff")})})}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(pl),r.Y36(cs),r.Y36(rf))},n.\u0275cmp=r.Xpm({type:n,selectors:[["app-cadastro-usuario-loja"]],decls:3,vars:2,consts:[["class","loadingSet",4,"ngIf"],["class","tela",4,"ngIf"],[1,"loadingSet"],["mode","indeterminate"],[1,"tela"],[1,"item-form"],["appearance","fill",1,"item-full-width"],["type","text","autocomplete","off","matInput","","placeholder","Ex. Seu nome","name","nameUser",3,"ngModel","keydown.enter","ngModelChange"],["type","email","autocomplete","off","matInput","","placeholder","Ex. emails@email.com","name","email",3,"disabled","ngModel","keydown.enter","ngModelChange"],["class","item-full-width",4,"ngIf"],[1,"barcode-line"],["mat-mini-fab","","color","primary","aria-label","edit",1,"buttonAction",3,"click"],["appearance","fill",1,"item-full-width2"],["type","text","autocomplete","off","matInput","","placeholder","ID do com\xe9rcio","name","_id",3,"ngModel","disabled","keydown.enter","blur","ngModelChange"],["type","text","autocomplete","off","matInput","","placeholder","Ex. Minha Lojinha","name","nameLoja",3,"disabled","ngModel","keydown.enter","ngModelChange"],["type","text","autocomplete","off","matInput","","placeholder","Ex. 33344455544","name","cnpj",3,"disabled","ngModel","keydown.enter","ngModelChange"],["type","text","autocomplete","off","matInput","","placeholder","Ex. Minha Lojinha","name","description",3,"disabled","ngModel","keydown.enter","ngModelChange"],[1,"spacer"],[1,"buttons"],["mat-raised-button","","color","accent",3,"click"],[1,"item-full-width"]],template:function(e,i){1&e&&(r.YNc(0,y9,2,0,"div",0),r._UZ(1,"br"),r.YNc(2,C9,44,13,"div",1)),2&e&&(r.Q6J("ngIf",i.isLoading),r.xp6(2),r.Q6J("ngIf",!i.isLoading))},directives:[On,Co,Xp,Jp,Oa,HF,tg,nf,d_,Od,Qp,tf,Ar,ng],styles:[".loadingSet[_ngcontent-%COMP%]{width:100%;height:50%;display:flex;justify-content:center;align-items:center}.item-form[_ngcontent-%COMP%]{min-width:150px;width:100%;display:inline-flex;justify-content:center;align-items:center;flex-direction:column}.item-full-width[_ngcontent-%COMP%]{width:90%}.item-full-width2[_ngcontent-%COMP%]{width:calc(100% - 40px)}.barcode-line[_ngcontent-%COMP%]{width:90%}.tela[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:calc(100% - 90px)}.spacer[_ngcontent-%COMP%]{flex:1 1 auto}.buttons[_ngcontent-%COMP%]{display:flex;justify-content:center}h4[_ngcontent-%COMP%]{border-bottom:solid 1px #673ab7;width:calc(100% + 8px);margin-left:-8px;padding-left:6px}mat-card[_ngcontent-%COMP%]{width:88%;display:flex;flex-direction:column;align-items:center}"]}),n})();const w9=["input"],E9=function(n){return{enterDuration:n}},D9=["*"],T9=new r.OlP("mat-checkbox-default-options",{providedIn:"root",factory:eq});function eq(){return{color:"accent",clickAction:"check-indeterminate"}}let S9=0;const tq=eq(),x9={provide:Ra,useExisting:(0,r.Gpc)(()=>nq),multi:!0};class I9{}const A9=Bv(jh(Im(Iu(class{constructor(n){this._elementRef=n}}))));let nq=(()=>{class n extends A9{constructor(e,i,s,a,u,f,g){super(e),this._changeDetectorRef=i,this._focusMonitor=s,this._ngZone=a,this._animationMode=f,this._options=g,this.ariaLabel="",this.ariaLabelledby=null,this._uniqueId="mat-checkbox-"+ ++S9,this.id=this._uniqueId,this.labelPosition="after",this.name=null,this.change=new r.vpe,this.indeterminateChange=new r.vpe,this._onTouched=()=>{},this._currentAnimationClass="",this._currentCheckState=0,this._controlValueAccessorChangeFn=()=>{},this._checked=!1,this._disabled=!1,this._indeterminate=!1,this._options=this._options||tq,this.color=this.defaultColor=this._options.color||tq.color,this.tabIndex=parseInt(u)||0}get inputId(){return`${this.id||this._uniqueId}-input`}get required(){return this._required}set required(e){this._required=Gt(e)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(e=>{e||Promise.resolve().then(()=>{this._onTouched(),this._changeDetectorRef.markForCheck()})}),this._syncIndeterminate(this._indeterminate)}ngAfterViewChecked(){}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}get checked(){return this._checked}set checked(e){e!=this.checked&&(this._checked=e,this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(e){const i=Gt(e);i!==this.disabled&&(this._disabled=i,this._changeDetectorRef.markForCheck())}get indeterminate(){return this._indeterminate}set indeterminate(e){const i=e!=this._indeterminate;this._indeterminate=Gt(e),i&&(this._transitionCheckState(this._indeterminate?3:this.checked?1:2),this.indeterminateChange.emit(this._indeterminate)),this._syncIndeterminate(this._indeterminate)}_isRippleDisabled(){return this.disableRipple||this.disabled}_onLabelTextChange(){this._changeDetectorRef.detectChanges()}writeValue(e){this.checked=!!e}registerOnChange(e){this._controlValueAccessorChangeFn=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e}_getAriaChecked(){return this.checked?"true":this.indeterminate?"mixed":"false"}_transitionCheckState(e){let i=this._currentCheckState,s=this._elementRef.nativeElement;if(i!==e&&(this._currentAnimationClass.length>0&&s.classList.remove(this._currentAnimationClass),this._currentAnimationClass=this._getAnimationClassForCheckStateTransition(i,e),this._currentCheckState=e,this._currentAnimationClass.length>0)){s.classList.add(this._currentAnimationClass);const a=this._currentAnimationClass;this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{s.classList.remove(a)},1e3)})}}_emitChangeEvent(){const e=new I9;e.source=this,e.checked=this.checked,this._controlValueAccessorChangeFn(this.checked),this.change.emit(e),this._inputElement&&(this._inputElement.nativeElement.checked=this.checked)}toggle(){this.checked=!this.checked}_onInputClick(e){var i;const s=null===(i=this._options)||void 0===i?void 0:i.clickAction;e.stopPropagation(),this.disabled||"noop"===s?!this.disabled&&"noop"===s&&(this._inputElement.nativeElement.checked=this.checked,this._inputElement.nativeElement.indeterminate=this.indeterminate):(this.indeterminate&&"check"!==s&&Promise.resolve().then(()=>{this._indeterminate=!1,this.indeterminateChange.emit(this._indeterminate)}),this.toggle(),this._transitionCheckState(this._checked?1:2),this._emitChangeEvent())}focus(e,i){e?this._focusMonitor.focusVia(this._inputElement,e,i):this._inputElement.nativeElement.focus(i)}_onInteractionEvent(e){e.stopPropagation()}_getAnimationClassForCheckStateTransition(e,i){if("NoopAnimations"===this._animationMode)return"";let s="";switch(e){case 0:if(1===i)s="unchecked-checked";else{if(3!=i)return"";s="unchecked-indeterminate"}break;case 2:s=1===i?"unchecked-checked":"unchecked-indeterminate";break;case 1:s=2===i?"checked-unchecked":"checked-indeterminate";break;case 3:s=1===i?"indeterminate-checked":"indeterminate-unchecked"}return`mat-checkbox-anim-${s}`}_syncIndeterminate(e){const i=this._inputElement;i&&(i.nativeElement.indeterminate=e)}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(r.SBq),r.Y36(r.sBO),r.Y36(Aa),r.Y36(r.R0b),r.$8M("tabindex"),r.Y36(yo,8),r.Y36(T9,8))},n.\u0275cmp=r.Xpm({type:n,selectors:[["mat-checkbox"]],viewQuery:function(e,i){if(1&e&&(r.Gf(w9,5),r.Gf(Ma,5)),2&e){let s;r.iGM(s=r.CRH())&&(i._inputElement=s.first),r.iGM(s=r.CRH())&&(i.ripple=s.first)}},hostAttrs:[1,"mat-checkbox"],hostVars:12,hostBindings:function(e,i){2&e&&(r.Ikx("id",i.id),r.uIk("tabindex",null),r.ekj("mat-checkbox-indeterminate",i.indeterminate)("mat-checkbox-checked",i.checked)("mat-checkbox-disabled",i.disabled)("mat-checkbox-label-before","before"==i.labelPosition)("_mat-animation-noopable","NoopAnimations"===i._animationMode))},inputs:{disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],id:"id",labelPosition:"labelPosition",name:"name",required:"required",checked:"checked",disabled:"disabled",indeterminate:"indeterminate",ariaDescribedby:["aria-describedby","ariaDescribedby"],value:"value"},outputs:{change:"change",indeterminateChange:"indeterminateChange"},exportAs:["matCheckbox"],features:[r._Bn([x9]),r.qOj],ngContentSelectors:D9,decls:17,vars:21,consts:[[1,"mat-checkbox-layout"],["label",""],[1,"mat-checkbox-inner-container"],["type","checkbox",1,"mat-checkbox-input","cdk-visually-hidden",3,"id","required","checked","disabled","tabIndex","change","click"],["input",""],["matRipple","",1,"mat-checkbox-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleRadius","matRippleCentered","matRippleAnimation"],[1,"mat-ripple-element","mat-checkbox-persistent-ripple"],[1,"mat-checkbox-frame"],[1,"mat-checkbox-background"],["version","1.1","focusable","false","viewBox","0 0 24 24",0,"xml","space","preserve","aria-hidden","true",1,"mat-checkbox-checkmark"],["fill","none","stroke","white","d","M4.1,12.7 9,17.6 20.3,6.3",1,"mat-checkbox-checkmark-path"],[1,"mat-checkbox-mixedmark"],[1,"mat-checkbox-label",3,"cdkObserveContent"],["checkboxLabel",""],[2,"display","none"]],template:function(e,i){if(1&e&&(r.F$t(),r.TgZ(0,"label",0,1),r.TgZ(2,"span",2),r.TgZ(3,"input",3,4),r.NdJ("change",function(a){return i._onInteractionEvent(a)})("click",function(a){return i._onInputClick(a)}),r.qZA(),r.TgZ(5,"span",5),r._UZ(6,"span",6),r.qZA(),r._UZ(7,"span",7),r.TgZ(8,"span",8),r.O4$(),r.TgZ(9,"svg",9),r._UZ(10,"path",10),r.qZA(),r.kcU(),r._UZ(11,"span",11),r.qZA(),r.qZA(),r.TgZ(12,"span",12,13),r.NdJ("cdkObserveContent",function(){return i._onLabelTextChange()}),r.TgZ(14,"span",14),r._uU(15,"\xa0"),r.qZA(),r.Hsn(16),r.qZA(),r.qZA()),2&e){const s=r.MAs(1),a=r.MAs(13);r.uIk("for",i.inputId),r.xp6(2),r.ekj("mat-checkbox-inner-container-no-side-margin",!a.textContent||!a.textContent.trim()),r.xp6(1),r.Q6J("id",i.inputId)("required",i.required)("checked",i.checked)("disabled",i.disabled)("tabIndex",i.tabIndex),r.uIk("value",i.value)("name",i.name)("aria-label",i.ariaLabel||null)("aria-labelledby",i.ariaLabelledby)("aria-checked",i._getAriaChecked())("aria-describedby",i.ariaDescribedby),r.xp6(2),r.Q6J("matRippleTrigger",s)("matRippleDisabled",i._isRippleDisabled())("matRippleRadius",20)("matRippleCentered",!0)("matRippleAnimation",r.VKq(19,E9,"NoopAnimations"===i._animationMode?0:150))}},directives:[Ma,pm],styles:["@keyframes mat-checkbox-fade-in-background{0%{opacity:0}50%{opacity:1}}@keyframes mat-checkbox-fade-out-background{0%,50%{opacity:1}100%{opacity:0}}@keyframes mat-checkbox-unchecked-checked-checkmark-path{0%,50%{stroke-dashoffset:22.910259}50%{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1)}100%{stroke-dashoffset:0}}@keyframes mat-checkbox-unchecked-indeterminate-mixedmark{0%,68.2%{transform:scaleX(0)}68.2%{animation-timing-function:cubic-bezier(0, 0, 0, 1)}100%{transform:scaleX(1)}}@keyframes mat-checkbox-checked-unchecked-checkmark-path{from{animation-timing-function:cubic-bezier(0.4, 0, 1, 1);stroke-dashoffset:0}to{stroke-dashoffset:-22.910259}}@keyframes mat-checkbox-checked-indeterminate-checkmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1);opacity:1;transform:rotate(0deg)}to{opacity:0;transform:rotate(45deg)}}@keyframes mat-checkbox-indeterminate-checked-checkmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);opacity:0;transform:rotate(45deg)}to{opacity:1;transform:rotate(360deg)}}@keyframes mat-checkbox-checked-indeterminate-mixedmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1);opacity:0;transform:rotate(-45deg)}to{opacity:1;transform:rotate(0deg)}}@keyframes mat-checkbox-indeterminate-checked-mixedmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);opacity:1;transform:rotate(0deg)}to{opacity:0;transform:rotate(315deg)}}@keyframes mat-checkbox-indeterminate-unchecked-mixedmark{0%{animation-timing-function:linear;opacity:1;transform:scaleX(1)}32.8%,100%{opacity:0;transform:scaleX(0)}}.mat-checkbox-background,.mat-checkbox-frame{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:2px;box-sizing:border-box;pointer-events:none}.mat-checkbox{display:inline-block;transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);cursor:pointer;-webkit-tap-highlight-color:transparent}._mat-animation-noopable.mat-checkbox{transition:none;animation:none}.mat-checkbox .mat-ripple-element:not(.mat-checkbox-persistent-ripple){opacity:.16}.mat-checkbox .mat-checkbox-ripple{position:absolute;left:calc(50% - 20px);top:calc(50% - 20px);height:40px;width:40px;z-index:1;pointer-events:none}.cdk-high-contrast-active .mat-checkbox.cdk-keyboard-focused .mat-checkbox-ripple{outline:solid 3px}.mat-checkbox-layout{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:inherit;align-items:baseline;vertical-align:middle;display:inline-flex;white-space:nowrap}.mat-checkbox-label{-webkit-user-select:auto;-moz-user-select:auto;-ms-user-select:auto;user-select:auto}.mat-checkbox-inner-container{display:inline-block;height:16px;line-height:0;margin:auto;margin-right:8px;order:0;position:relative;vertical-align:middle;white-space:nowrap;width:16px;flex-shrink:0}[dir=rtl] .mat-checkbox-inner-container{margin-left:8px;margin-right:auto}.mat-checkbox-inner-container-no-side-margin{margin-left:0;margin-right:0}.mat-checkbox-frame{background-color:transparent;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1);border-width:2px;border-style:solid}._mat-animation-noopable .mat-checkbox-frame{transition:none}.mat-checkbox-background{align-items:center;display:inline-flex;justify-content:center;transition:background-color 90ms cubic-bezier(0, 0, 0.2, 0.1),opacity 90ms cubic-bezier(0, 0, 0.2, 0.1);-webkit-print-color-adjust:exact;color-adjust:exact}._mat-animation-noopable .mat-checkbox-background{transition:none}.cdk-high-contrast-active .mat-checkbox .mat-checkbox-background{background:none}.mat-checkbox-persistent-ripple{display:block;width:100%;height:100%;transform:none}.mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{opacity:.04}.mat-checkbox.cdk-keyboard-focused .mat-checkbox-persistent-ripple{opacity:.12}.mat-checkbox-persistent-ripple,.mat-checkbox.mat-checkbox-disabled .mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{opacity:0}@media(hover: none){.mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{display:none}}.mat-checkbox-checkmark{top:0;left:0;right:0;bottom:0;position:absolute;width:100%}.mat-checkbox-checkmark-path{stroke-dashoffset:22.910259;stroke-dasharray:22.910259;stroke-width:2.1333333333px}.cdk-high-contrast-black-on-white .mat-checkbox-checkmark-path{stroke:#000 !important}.mat-checkbox-mixedmark{width:calc(100% - 6px);height:2px;opacity:0;transform:scaleX(0) rotate(0deg);border-radius:2px}.cdk-high-contrast-active .mat-checkbox-mixedmark{height:0;border-top:solid 2px;margin-top:2px}.mat-checkbox-label-before .mat-checkbox-inner-container{order:1;margin-left:8px;margin-right:auto}[dir=rtl] .mat-checkbox-label-before .mat-checkbox-inner-container{margin-left:auto;margin-right:8px}.mat-checkbox-checked .mat-checkbox-checkmark{opacity:1}.mat-checkbox-checked .mat-checkbox-checkmark-path{stroke-dashoffset:0}.mat-checkbox-checked .mat-checkbox-mixedmark{transform:scaleX(1) rotate(-45deg)}.mat-checkbox-indeterminate .mat-checkbox-checkmark{opacity:0;transform:rotate(45deg)}.mat-checkbox-indeterminate .mat-checkbox-checkmark-path{stroke-dashoffset:0}.mat-checkbox-indeterminate .mat-checkbox-mixedmark{opacity:1;transform:scaleX(1) rotate(0deg)}.mat-checkbox-unchecked .mat-checkbox-background{background-color:transparent}.mat-checkbox-disabled{cursor:default}.cdk-high-contrast-active .mat-checkbox-disabled{opacity:.5}.mat-checkbox-anim-unchecked-checked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-in-background}.mat-checkbox-anim-unchecked-checked .mat-checkbox-checkmark-path{animation:180ms linear 0ms mat-checkbox-unchecked-checked-checkmark-path}.mat-checkbox-anim-unchecked-indeterminate .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-in-background}.mat-checkbox-anim-unchecked-indeterminate .mat-checkbox-mixedmark{animation:90ms linear 0ms mat-checkbox-unchecked-indeterminate-mixedmark}.mat-checkbox-anim-checked-unchecked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-out-background}.mat-checkbox-anim-checked-unchecked .mat-checkbox-checkmark-path{animation:90ms linear 0ms mat-checkbox-checked-unchecked-checkmark-path}.mat-checkbox-anim-checked-indeterminate .mat-checkbox-checkmark{animation:90ms linear 0ms mat-checkbox-checked-indeterminate-checkmark}.mat-checkbox-anim-checked-indeterminate .mat-checkbox-mixedmark{animation:90ms linear 0ms mat-checkbox-checked-indeterminate-mixedmark}.mat-checkbox-anim-indeterminate-checked .mat-checkbox-checkmark{animation:500ms linear 0ms mat-checkbox-indeterminate-checked-checkmark}.mat-checkbox-anim-indeterminate-checked .mat-checkbox-mixedmark{animation:500ms linear 0ms mat-checkbox-indeterminate-checked-mixedmark}.mat-checkbox-anim-indeterminate-unchecked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-out-background}.mat-checkbox-anim-indeterminate-unchecked .mat-checkbox-mixedmark{animation:300ms linear 0ms mat-checkbox-indeterminate-unchecked-mixedmark}.mat-checkbox-input{bottom:0;left:50%}\n"],encapsulation:2,changeDetection:0}),n})(),iq=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({}),n})(),R9=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[[Au,wn,GC,iq],wn,iq]}),n})();function O9(n,t){1&n&&(r.TgZ(0,"div",2),r._UZ(1,"mat-progress-spinner",3),r.qZA())}function P9(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"mat-form-field",6),r.TgZ(1,"mat-label"),r._uU(2,"Veja aqui se o c\xf3digo est\xe1 digitalizando corretamente"),r.qZA(),r.TgZ(3,"input",17),r.NdJ("ngModelChange",function(s){return r.CHM(e),r.oxw(2).resultado=s}),r.qZA(),r.qZA()}if(2&n){const e=r.oxw(2);r.xp6(3),r.Q6J("ngModel",e.resultado)}}function N9(n,t){if(1&n&&(r.TgZ(0,"mat-option",20),r._uU(1),r.qZA()),2&n){const e=t.$implicit;r.Q6J("value",e.deviceId),r.xp6(1),r.hij(" ",e.label," ")}}function F9(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"mat-form-field",6),r.TgZ(1,"mat-label"),r._uU(2,"Escolha a c\xe2mera"),r.qZA(),r.TgZ(3,"mat-select",18),r.NdJ("ngModelChange",function(s){return r.CHM(e),r.oxw(2).cameraSelecionada=s})("selectionChange",function(s){return r.CHM(e),r.oxw(2).setCamera(s)}),r.YNc(4,N9,2,2,"mat-option",19),r.qZA(),r.qZA()}if(2&n){const e=r.oxw(2);r.xp6(3),r.Q6J("ngModel",e.cameraSelecionada),r.xp6(1),r.Q6J("ngForOf",e.configuracao.cameras)}}const L9=function(){return["code_128","code_39","ean_8","ean"]};function V9(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"div",4),r.TgZ(1,"form",5),r.TgZ(2,"mat-card"),r.TgZ(3,"h4"),r._uU(4,"Ao digitalizar um c\xf3digo de barras"),r.qZA(),r.TgZ(5,"section",6),r.TgZ(6,"mat-checkbox",7),r.NdJ("ngModelChange",function(s){return r.CHM(e),r.oxw().habilitarTeclado=s}),r._uU(7,"Habilitar o foco na caixa de texto automaticamente ao abrir um pop-up (maior agilidade)"),r.qZA(),r.qZA(),r._UZ(8,"br"),r.TgZ(9,"section",6),r.TgZ(10,"mat-checkbox",8),r.NdJ("change",function(){r.CHM(e);const s=r.oxw();return s.enableCamera(s.cameraSelecionada)})("ngModelChange",function(s){return r.CHM(e),r.oxw().habilitarCamera=s}),r._uU(11,"Habilitar camera ao escanear c\xf3digos de barras"),r.qZA(),r.qZA(),r._UZ(12,"br"),r.YNc(13,P9,4,1,"mat-form-field",9),r.qZA(),r._UZ(14,"br"),r.TgZ(15,"mat-card"),r.TgZ(16,"h4"),r._uU(17,"Configure sua c\xe2mera"),r.qZA(),r.TgZ(18,"label",10),r._uU(19,"Aqui voc\xea pode mudar a c\xe2mera para escanear os c\xf3digos ou para tirar fotos dos produtos"),r.qZA(),r.YNc(20,F9,5,2,"mat-form-field",11),r.TgZ(21,"barcode-scanner-livestream",12),r.NdJ("valueChanges",function(s){return r.CHM(e),r.oxw().onValueChanges(s)}),r.qZA(),r.qZA(),r._UZ(22,"br"),r.TgZ(23,"mat-card"),r.TgZ(24,"h4"),r._uU(25,"Dados, Cache e Conta"),r.qZA(),r.TgZ(26,"label",10),r._uU(27,"Limpar o cache do aplicativo"),r.qZA(),r.TgZ(28,"button",13),r.NdJ("click",function(){return r.CHM(e),r.oxw().limparDados()}),r._uU(29,"Limpar dados"),r.qZA(),r._UZ(30,"br"),r.TgZ(31,"label",10),r._uU(32,"Apagar minha conta e loja. Aten\xe7\xe3o, n\xe3o pode ser desfeito, todos os seus dados ser\xe3o perdidos"),r.qZA(),r.TgZ(33,"button",13),r.NdJ("click",function(){return r.CHM(e),r.oxw().apagarConta()}),r._uU(34,"Apagar conta"),r.qZA(),r.qZA(),r.qZA(),r._UZ(35,"span",14),r._UZ(36,"br"),r.TgZ(37,"div",15),r.TgZ(38,"button",16),r.NdJ("click",function(){return r.CHM(e),r.oxw().salvarItem()}),r._uU(39,"Salvar"),r.qZA(),r.qZA(),r.qZA()}if(2&n){const e=r.oxw();r.xp6(6),r.Q6J("ngModel",e.habilitarTeclado),r.xp6(4),r.Q6J("ngModel",e.habilitarCamera),r.xp6(3),r.Q6J("ngIf",e.habilitarCamera),r.xp6(7),r.Q6J("ngIf",e.configuracao.cameras.length>0),r.xp6(1),r.Q6J("config",e.config)("deviceId",e.cameraSelecionada)("type",r.DdM(7,L9))}}let B9=(()=>{class n{constructor(e,i,s){this.estoqueService=e,this.dialog=i,this.utilsService=s,this.isLoading=!1,this.habilitarCamera=!1,this.habilitarTeclado=!1,this.configuracao={camera:"",cameras:[]},this.resultado="",this.config={frequency:5,debug:!0,decoder:{debug:{drawBoundingBox:!0,drawScanline:!0,showPattern:!0}},locator:{patchSize:"x-large",debug:{showCanvas:!0,showSkeleton:!0,showLabels:!0}}}}ngAfterViewInit(){this.habilitarCamera="true"==this.estoqueService.habilitarCamera,this.habilitarTeclado="true"==this.estoqueService.habilitarTeclado,this.habilitarCamera&&this.cameraSelecionada&&setTimeout(()=>{this.barcodeScanner.start()},1e3)}ngOnInit(){this.isLoading=!0,this.estoqueService.cookieCamera&&(this.cameraSelecionada=this.estoqueService.cookieCamera),this.getCameras()}getCameras(){let e=1;navigator.mediaDevices.enumerateDevices().then(i=>{i.forEach(s=>{"videoinput"===s.kind&&(this.configuracao.cameras.push({deviceId:s.deviceId,label:`Camera ${e}`}),e++),this.configuracao.cameras.length>0&&!this.cameraSelecionada&&(this.cameraSelecionada=this.configuracao.cameras[0].deviceId,this.enableCamera(this.cameraSelecionada)),this.isLoading=!1})}).catch(function(i){})}enableCamera(e){this.cameraSelecionada?setTimeout(()=>{this.cameraSelecionada=e,this.barcodeScanner.start()},1e3):this.barcodeScanner.stop()}setCamera(e){this.barcodeScanner.stop(),setTimeout(()=>{this.cameraSelecionada=e.value,this.barcodeScanner.start()},1e3)}salvarItem(){this.estoqueService.cookieCamera=this.cameraSelecionada,this.estoqueService.habilitarCamera=this.habilitarCamera,this.estoqueService.habilitarTeclado=this.habilitarTeclado}limparDados(){try{this.isLoading=!0;const e=new ls;e.disableClose=!0,e.autoFocus=!0,this.dialog.open(mM,e).afterClosed().subscribe(s=>{s?(this.estoqueService.cookieCamera="",this.estoqueService.habilitarCamera="",this.estoqueService.habilitarTeclado="",this.estoqueService.avisosLidos="",this.isLoading=!1):this.isLoading=!1})}catch(e){this.utilsService.showError(String(e))}}onValueChanges(e){this.resultado=e.codeResult.code}apagarConta(){try{this.isLoading=!0;const e=new ls;e.disableClose=!0,e.autoFocus=!0,this.dialog.open(mM,e).afterClosed().subscribe(s=>{s?this.apagarLoja():this.isLoading=!1})}catch(e){this.utilsService.showError(String(e))}}apagarLoja(){this.estoqueService.sendDeleteLojaRequest().subscribe(e=>{this.apagarEstoque()})}apagarEstoque(){this.estoqueService.sendGetRequest().subscribe(e=>{e.length>0?this.estoqueService.sendDeleteEstoqueRequest().subscribe(i=>{this.apagarUsuario()}):this.apagarUsuario()})}apagarUsuario(){this.estoqueService.sendDeleteUserRequest().subscribe(e=>{this.estoqueService.cookieCamera="",this.estoqueService.habilitarCamera="",this.estoqueService.habilitarTeclado="",this.estoqueService.avisosLidos="",this.isLoading=!1,location.reload(),this.estoqueService.socialAuthServiceRevoke()})}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(pl),r.Y36(cs),r.Y36(rf))},n.\u0275cmp=r.Xpm({type:n,selectors:[["app-configuracao"]],viewQuery:function(e,i){if(1&e&&r.Gf(_M,5),2&e){let s;r.iGM(s=r.CRH())&&(i.barcodeScanner=s.first)}},decls:3,vars:2,consts:[["class","loadingSet",4,"ngIf"],["class","tela",4,"ngIf"],[1,"loadingSet"],["mode","indeterminate"],[1,"tela"],[1,"item-form"],["appearance","fill",1,"item-full-width"],["name","keyboardenable","color","primary",3,"ngModel","ngModelChange"],["name","cameraenable","color","primary",3,"ngModel","change","ngModelChange"],["class","item-full-width","appearance","fill",4,"ngIf"],[1,"item-full-width"],["appearance","fill","class","item-full-width",4,"ngIf"],[1,"item-full-width2",3,"config","deviceId","type","valueChanges"],["mat-raised-button","","color","warn",3,"click"],[1,"spacer"],[1,"buttons"],["mat-raised-button","","color","accent",3,"click"],["type","number","autocomplete","off","matInput","","disabled","","placeholder","Ex. 123456789","name","description",3,"ngModel","ngModelChange"],["name","camera",3,"ngModel","ngModelChange","selectionChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(e,i){1&e&&(r.YNc(0,O9,2,0,"div",0),r._UZ(1,"br"),r.YNc(2,V9,40,8,"div",1)),2&e&&(r.Q6J("ngIf",i.isLoading),r.xp6(2),r.Q6J("ngIf",!i.isLoading))},directives:[On,Co,Xp,Jp,Oa,HF,nq,Qp,tf,_M,Ar,tg,nf,u_,d_,Od,NH,un,Zo],styles:[".loadingSet[_ngcontent-%COMP%]{width:100%;height:50%;display:flex;justify-content:center;align-items:center}.item-form[_ngcontent-%COMP%]{min-width:150px;width:100%;display:inline-flex;justify-content:center;align-items:center;flex-direction:column}.item-full-width[_ngcontent-%COMP%]{width:100%}.item-full-width2[_ngcontent-%COMP%]{width:50%}.barcode-line[_ngcontent-%COMP%]{width:90%}.tela[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:calc(100% - 90px)}.spacer[_ngcontent-%COMP%]{flex:1 1 auto}.buttons[_ngcontent-%COMP%]{padding-bottom:1.34375em;display:flex;justify-content:center}  .mat-checkbox-label{white-space:normal}h4[_ngcontent-%COMP%]{border-bottom:solid 1px #673ab7;width:calc(100% + 8px);margin-left:-8px;padding-left:6px}mat-card[_ngcontent-%COMP%]{width:88%;display:flex;flex-direction:column;align-items:center}"]}),n})(),U9=0;const zF=new r.OlP("CdkAccordion");let j9=(()=>{class n{constructor(){this._stateChanges=new yt.xQ,this._openCloseAllActions=new yt.xQ,this.id="cdk-accordion-"+U9++,this._multi=!1}get multi(){return this._multi}set multi(e){this._multi=Gt(e)}openAll(){this._multi&&this._openCloseAllActions.next(!0)}closeAll(){this._openCloseAllActions.next(!1)}ngOnChanges(e){this._stateChanges.next(e)}ngOnDestroy(){this._stateChanges.complete(),this._openCloseAllActions.complete()}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=r.lG2({type:n,selectors:[["cdk-accordion"],["","cdkAccordion",""]],inputs:{multi:"multi"},exportAs:["cdkAccordion"],features:[r._Bn([{provide:zF,useExisting:n}]),r.TTD]}),n})(),H9=0,z9=(()=>{class n{constructor(e,i,s){this.accordion=e,this._changeDetectorRef=i,this._expansionDispatcher=s,this._openCloseAllSubscription=Qn.w.EMPTY,this.closed=new r.vpe,this.opened=new r.vpe,this.destroyed=new r.vpe,this.expandedChange=new r.vpe,this.id="cdk-accordion-child-"+H9++,this._expanded=!1,this._disabled=!1,this._removeUniqueSelectionListener=()=>{},this._removeUniqueSelectionListener=s.listen((a,u)=>{this.accordion&&!this.accordion.multi&&this.accordion.id===u&&this.id!==a&&(this.expanded=!1)}),this.accordion&&(this._openCloseAllSubscription=this._subscribeToOpenCloseAllActions())}get expanded(){return this._expanded}set expanded(e){e=Gt(e),this._expanded!==e&&(this._expanded=e,this.expandedChange.emit(e),e?(this.opened.emit(),this._expansionDispatcher.notify(this.id,this.accordion?this.accordion.id:this.id)):this.closed.emit(),this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(e){this._disabled=Gt(e)}ngOnDestroy(){this.opened.complete(),this.closed.complete(),this.destroyed.emit(),this.destroyed.complete(),this._removeUniqueSelectionListener(),this._openCloseAllSubscription.unsubscribe()}toggle(){this.disabled||(this.expanded=!this.expanded)}close(){this.disabled||(this.expanded=!1)}open(){this.disabled||(this.expanded=!0)}_subscribeToOpenCloseAllActions(){return this.accordion._openCloseAllActions.subscribe(e=>{this.disabled||(this.expanded=e)})}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(zF,12),r.Y36(r.sBO),r.Y36(im))},n.\u0275dir=r.lG2({type:n,selectors:[["cdk-accordion-item"],["","cdkAccordionItem",""]],inputs:{expanded:"expanded",disabled:"disabled"},outputs:{closed:"closed",opened:"opened",destroyed:"destroyed",expandedChange:"expandedChange"},exportAs:["cdkAccordionItem"],features:[r._Bn([{provide:zF,useValue:void 0}])]}),n})(),G9=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({}),n})();const $9=["body"];function Y9(n,t){}const Z9=[[["mat-expansion-panel-header"]],"*",[["mat-action-row"]]],W9=["mat-expansion-panel-header","*","mat-action-row"];function K9(n,t){if(1&n&&r._UZ(0,"span",2),2&n){const e=r.oxw();r.Q6J("@indicatorRotate",e._getExpandedState())}}const Q9=[[["mat-panel-title"]],[["mat-panel-description"]],"*"],J9=["mat-panel-title","mat-panel-description","*"],GF=new r.OlP("MAT_ACCORDION"),rq="225ms cubic-bezier(0.4,0.0,0.2,1)",sq={indicatorRotate:Rs("indicatorRotate",[ui("collapsed, void",en({transform:"rotate(0deg)"})),ui("expanded",en({transform:"rotate(180deg)"})),Pn("expanded <=> collapsed, void => collapsed",Si(rq))]),bodyExpansion:Rs("bodyExpansion",[ui("collapsed, void",en({height:"0px",visibility:"hidden"})),ui("expanded",en({height:"*",visibility:"visible"})),Pn("expanded <=> collapsed, void => collapsed",Si(rq))])};let oq=(()=>{class n{constructor(e){this._template=e}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(r.Rgc))},n.\u0275dir=r.lG2({type:n,selectors:[["ng-template","matExpansionPanelContent",""]]}),n})(),X9=0;const aq=new r.OlP("MAT_EXPANSION_PANEL_DEFAULT_OPTIONS");let lq=(()=>{class n extends z9{constructor(e,i,s,a,u,f,g){super(e,i,s),this._viewContainerRef=a,this._animationMode=f,this._hideToggle=!1,this.afterExpand=new r.vpe,this.afterCollapse=new r.vpe,this._inputChanges=new yt.xQ,this._headerId="mat-expansion-panel-header-"+X9++,this._bodyAnimationDone=new yt.xQ,this.accordion=e,this._document=u,this._bodyAnimationDone.pipe(yd((C,x)=>C.fromState===x.fromState&&C.toState===x.toState)).subscribe(C=>{"void"!==C.fromState&&("expanded"===C.toState?this.afterExpand.emit():"collapsed"===C.toState&&this.afterCollapse.emit())}),g&&(this.hideToggle=g.hideToggle)}get hideToggle(){return this._hideToggle||this.accordion&&this.accordion.hideToggle}set hideToggle(e){this._hideToggle=Gt(e)}get togglePosition(){return this._togglePosition||this.accordion&&this.accordion.togglePosition}set togglePosition(e){this._togglePosition=e}_hasSpacing(){return!!this.accordion&&this.expanded&&"default"===this.accordion.displayMode}_getExpandedState(){return this.expanded?"expanded":"collapsed"}toggle(){this.expanded=!this.expanded}close(){this.expanded=!1}open(){this.expanded=!0}ngAfterContentInit(){this._lazyContent&&this.opened.pipe(Di(null),xn(()=>this.expanded&&!this._portal),Kn(1)).subscribe(()=>{this._portal=new Sc(this._lazyContent._template,this._viewContainerRef)})}ngOnChanges(e){this._inputChanges.next(e)}ngOnDestroy(){super.ngOnDestroy(),this._bodyAnimationDone.complete(),this._inputChanges.complete()}_containsFocus(){if(this._body){const e=this._document.activeElement,i=this._body.nativeElement;return e===i||i.contains(e)}return!1}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(GF,12),r.Y36(r.sBO),r.Y36(im),r.Y36(r.s_b),r.Y36(F),r.Y36(yo,8),r.Y36(aq,8))},n.\u0275cmp=r.Xpm({type:n,selectors:[["mat-expansion-panel"]],contentQueries:function(e,i,s){if(1&e&&r.Suo(s,oq,5),2&e){let a;r.iGM(a=r.CRH())&&(i._lazyContent=a.first)}},viewQuery:function(e,i){if(1&e&&r.Gf($9,5),2&e){let s;r.iGM(s=r.CRH())&&(i._body=s.first)}},hostAttrs:[1,"mat-expansion-panel"],hostVars:6,hostBindings:function(e,i){2&e&&r.ekj("mat-expanded",i.expanded)("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-expansion-panel-spacing",i._hasSpacing())},inputs:{disabled:"disabled",expanded:"expanded",hideToggle:"hideToggle",togglePosition:"togglePosition"},outputs:{opened:"opened",closed:"closed",expandedChange:"expandedChange",afterExpand:"afterExpand",afterCollapse:"afterCollapse"},exportAs:["matExpansionPanel"],features:[r._Bn([{provide:GF,useValue:void 0}]),r.qOj,r.TTD],ngContentSelectors:W9,decls:7,vars:4,consts:[["role","region",1,"mat-expansion-panel-content",3,"id"],["body",""],[1,"mat-expansion-panel-body"],[3,"cdkPortalOutlet"]],template:function(e,i){1&e&&(r.F$t(Z9),r.Hsn(0),r.TgZ(1,"div",0,1),r.NdJ("@bodyExpansion.done",function(a){return i._bodyAnimationDone.next(a)}),r.TgZ(3,"div",2),r.Hsn(4,1),r.YNc(5,Y9,0,0,"ng-template",3),r.qZA(),r.Hsn(6,2),r.qZA()),2&e&&(r.xp6(1),r.Q6J("@bodyExpansion",i._getExpandedState())("id",i.id),r.uIk("aria-labelledby",i._headerId),r.xp6(4),r.Q6J("cdkPortalOutlet",i._portal))},directives:[Cu],styles:[".mat-expansion-panel{box-sizing:content-box;display:block;margin:0;border-radius:4px;overflow:hidden;transition:margin 225ms cubic-bezier(0.4, 0, 0.2, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);position:relative}.mat-accordion .mat-expansion-panel:not(.mat-expanded),.mat-accordion .mat-expansion-panel:not(.mat-expansion-panel-spacing){border-radius:0}.mat-accordion .mat-expansion-panel:first-of-type{border-top-right-radius:4px;border-top-left-radius:4px}.mat-accordion .mat-expansion-panel:last-of-type{border-bottom-right-radius:4px;border-bottom-left-radius:4px}.cdk-high-contrast-active .mat-expansion-panel{outline:solid 1px}.mat-expansion-panel.ng-animate-disabled,.ng-animate-disabled .mat-expansion-panel,.mat-expansion-panel._mat-animation-noopable{transition:none}.mat-expansion-panel-content{display:flex;flex-direction:column;overflow:visible}.mat-expansion-panel-body{padding:0 24px 16px}.mat-expansion-panel-spacing{margin:16px 0}.mat-accordion>.mat-expansion-panel-spacing:first-child,.mat-accordion>*:first-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-top:0}.mat-accordion>.mat-expansion-panel-spacing:last-child,.mat-accordion>*:last-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-bottom:0}.mat-action-row{border-top-style:solid;border-top-width:1px;display:flex;flex-direction:row;justify-content:flex-end;padding:16px 8px 16px 24px}.mat-action-row button.mat-button-base,.mat-action-row button.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-action-row button.mat-button-base,[dir=rtl] .mat-action-row button.mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[sq.bodyExpansion]},changeDetection:0}),n})();class tQ{}const nQ=Bv(tQ);let cq=(()=>{class n extends nQ{constructor(e,i,s,a,u,f,g){super(),this.panel=e,this._element=i,this._focusMonitor=s,this._changeDetectorRef=a,this._animationMode=f,this._parentChangeSubscription=Qn.w.EMPTY;const C=e.accordion?e.accordion._stateChanges.pipe(xn(x=>!(!x.hideToggle&&!x.togglePosition))):zs.E;this.tabIndex=parseInt(g||"")||0,this._parentChangeSubscription=(0,ir.T)(e.opened,e.closed,C,e._inputChanges.pipe(xn(x=>!!(x.hideToggle||x.disabled||x.togglePosition)))).subscribe(()=>this._changeDetectorRef.markForCheck()),e.closed.pipe(xn(()=>e._containsFocus())).subscribe(()=>s.focusVia(i,"program")),u&&(this.expandedHeight=u.expandedHeight,this.collapsedHeight=u.collapsedHeight)}get disabled(){return this.panel.disabled}_toggle(){this.disabled||this.panel.toggle()}_isExpanded(){return this.panel.expanded}_getExpandedState(){return this.panel._getExpandedState()}_getPanelId(){return this.panel.id}_getTogglePosition(){return this.panel.togglePosition}_showToggle(){return!this.panel.hideToggle&&!this.panel.disabled}_getHeaderHeight(){const e=this._isExpanded();return e&&this.expandedHeight?this.expandedHeight:!e&&this.collapsedHeight?this.collapsedHeight:null}_keydown(e){switch(e.keyCode){case 32:case 13:ks(e)||(e.preventDefault(),this._toggle());break;default:return void(this.panel.accordion&&this.panel.accordion._handleHeaderKeydown(e))}}focus(e,i){e?this._focusMonitor.focusVia(this._element,e,i):this._element.nativeElement.focus(i)}ngAfterViewInit(){this._focusMonitor.monitor(this._element).subscribe(e=>{e&&this.panel.accordion&&this.panel.accordion._handleHeaderFocus(this)})}ngOnDestroy(){this._parentChangeSubscription.unsubscribe(),this._focusMonitor.stopMonitoring(this._element)}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(lq,1),r.Y36(r.SBq),r.Y36(Aa),r.Y36(r.sBO),r.Y36(aq,8),r.Y36(yo,8),r.$8M("tabindex"))},n.\u0275cmp=r.Xpm({type:n,selectors:[["mat-expansion-panel-header"]],hostAttrs:["role","button",1,"mat-expansion-panel-header","mat-focus-indicator"],hostVars:15,hostBindings:function(e,i){1&e&&r.NdJ("click",function(){return i._toggle()})("keydown",function(a){return i._keydown(a)}),2&e&&(r.uIk("id",i.panel._headerId)("tabindex",i.tabIndex)("aria-controls",i._getPanelId())("aria-expanded",i._isExpanded())("aria-disabled",i.panel.disabled),r.Udp("height",i._getHeaderHeight()),r.ekj("mat-expanded",i._isExpanded())("mat-expansion-toggle-indicator-after","after"===i._getTogglePosition())("mat-expansion-toggle-indicator-before","before"===i._getTogglePosition())("_mat-animation-noopable","NoopAnimations"===i._animationMode))},inputs:{tabIndex:"tabIndex",expandedHeight:"expandedHeight",collapsedHeight:"collapsedHeight"},features:[r.qOj],ngContentSelectors:J9,decls:5,vars:1,consts:[[1,"mat-content"],["class","mat-expansion-indicator",4,"ngIf"],[1,"mat-expansion-indicator"]],template:function(e,i){1&e&&(r.F$t(Q9),r.TgZ(0,"span",0),r.Hsn(1),r.Hsn(2,1),r.Hsn(3,2),r.qZA(),r.YNc(4,K9,1,1,"span",1)),2&e&&(r.xp6(4),r.Q6J("ngIf",i._showToggle()))},directives:[On],styles:['.mat-expansion-panel-header{display:flex;flex-direction:row;align-items:center;padding:0 24px;border-radius:inherit;transition:height 225ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-expansion-panel-header._mat-animation-noopable{transition:none}.mat-expansion-panel-header:focus,.mat-expansion-panel-header:hover{outline:none}.mat-expansion-panel-header.mat-expanded:focus,.mat-expansion-panel-header.mat-expanded:hover{background:inherit}.mat-expansion-panel-header:not([aria-disabled=true]){cursor:pointer}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before{flex-direction:row-reverse}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 16px 0 0}[dir=rtl] .mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 0 0 16px}.mat-content{display:flex;flex:1;flex-direction:row;overflow:hidden}.mat-expansion-panel-header-title,.mat-expansion-panel-header-description{display:flex;flex-grow:1;margin-right:16px}[dir=rtl] .mat-expansion-panel-header-title,[dir=rtl] .mat-expansion-panel-header-description{margin-right:0;margin-left:16px}.mat-expansion-panel-header-description{flex-grow:2}.mat-expansion-indicator::after{border-style:solid;border-width:0 2px 2px 0;content:"";display:inline-block;padding:3px;transform:rotate(45deg);vertical-align:middle}.cdk-high-contrast-active .mat-expansion-panel .mat-expansion-panel-header.cdk-keyboard-focused:not([aria-disabled=true])::before,.cdk-high-contrast-active .mat-expansion-panel .mat-expansion-panel-header.cdk-program-focused:not([aria-disabled=true])::before,.cdk-high-contrast-active .mat-expansion-panel:not(.mat-expanded) .mat-expansion-panel-header:hover:not([aria-disabled=true])::before{top:0;left:0;right:0;bottom:0;position:absolute;box-sizing:border-box;pointer-events:none;border:3px solid;border-radius:4px;content:""}.cdk-high-contrast-active .mat-expansion-panel-content{border-top:1px solid;border-top-left-radius:0;border-top-right-radius:0}\n'],encapsulation:2,data:{animation:[sq.indicatorRotate]},changeDetection:0}),n})(),iQ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=r.lG2({type:n,selectors:[["mat-panel-description"]],hostAttrs:[1,"mat-expansion-panel-header-description"]}),n})(),rQ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=r.lG2({type:n,selectors:[["mat-panel-title"]],hostAttrs:[1,"mat-expansion-panel-header-title"]}),n})(),sQ=(()=>{class n extends j9{constructor(){super(...arguments),this._ownHeaders=new r.n_E,this._hideToggle=!1,this.displayMode="default",this.togglePosition="after"}get hideToggle(){return this._hideToggle}set hideToggle(e){this._hideToggle=Gt(e)}ngAfterContentInit(){this._headers.changes.pipe(Di(this._headers)).subscribe(e=>{this._ownHeaders.reset(e.filter(i=>i.panel.accordion===this)),this._ownHeaders.notifyOnChanges()}),this._keyManager=new yp(this._ownHeaders).withWrap().withHomeAndEnd()}_handleHeaderKeydown(e){this._keyManager.onKeydown(e)}_handleHeaderFocus(e){this._keyManager.updateActiveItem(e)}ngOnDestroy(){super.ngOnDestroy(),this._ownHeaders.destroy()}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=r.n5z(n)))(i||n)}}(),n.\u0275dir=r.lG2({type:n,selectors:[["mat-accordion"]],contentQueries:function(e,i,s){if(1&e&&r.Suo(s,cq,5),2&e){let a;r.iGM(a=r.CRH())&&(i._headers=a)}},hostAttrs:[1,"mat-accordion"],hostVars:2,hostBindings:function(e,i){2&e&&r.ekj("mat-accordion-multi",i.multi)},inputs:{multi:"multi",displayMode:"displayMode",togglePosition:"togglePosition",hideToggle:"hideToggle"},exportAs:["matAccordion"],features:[r._Bn([{provide:GF,useExisting:n}]),r.qOj]}),n})(),oQ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[[Ue,wn,G9,zy]]}),n})();function aQ(n,t){1&n&&(r.TgZ(0,"div",2),r._UZ(1,"mat-progress-spinner",3),r.qZA())}function lQ(n,t){1&n&&r._uU(0," Fa\xe7a sua primeira venda e ela aparecer\xe1 aqui! ")}function cQ(n,t){1&n&&(r.TgZ(0,"mat-expansion-panel",7),r.TgZ(1,"mat-expansion-panel-header"),r.TgZ(2,"mat-panel-title"),r._uU(3," N\xe3o h\xe1 vendas a serem exibidas "),r.qZA(),r.qZA(),r.YNc(4,lQ,1,0,"ng-template",8),r.qZA())}function uQ(n,t){1&n&&r._uU(0," Abaixo voc\xea pode ver o cupom completo de cada venda realizada e o email do vendedor ")}function dQ(n,t){1&n&&(r.TgZ(0,"mat-expansion-panel",7),r.TgZ(1,"mat-expansion-panel-header"),r.TgZ(2,"mat-panel-title"),r._uU(3," Data e Hora "),r.qZA(),r.TgZ(4,"mat-panel-description"),r._uU(5," Valor da venda "),r.qZA(),r.qZA(),r.YNc(6,uQ,1,0,"ng-template",8),r.qZA())}function hQ(n,t){if(1&n){const e=r.EpF();r._uU(0),r.TgZ(1,"div",9),r._uU(2),r.qZA(),r.TgZ(3,"span",10),r.TgZ(4,"form",11),r.TgZ(5,"mat-form-field",12),r.TgZ(6,"mat-label"),r._uU(7,"Telefone para envio com DDD+N\xfamero"),r.qZA(),r.TgZ(8,"input",13),r.NdJ("ngModelChange",function(s){return r.CHM(e),r.oxw(3).telefoneCliente=s}),r.qZA(),r.qZA(),r.qZA(),r.TgZ(9,"button",14),r.NdJ("click",function(){r.CHM(e);const s=r.oxw().$implicit;return r.oxw(2).enviarWA(s)}),r.TgZ(10,"mat-icon"),r._uU(11,"whatsapp"),r.qZA(),r.qZA(),r.qZA(),r.TgZ(12,"span",10),r.TgZ(13,"button",15),r.NdJ("click",function(){return r.CHM(e),r.oxw(3).compartilhar()}),r.TgZ(14,"mat-icon"),r._uU(15,"share"),r.qZA(),r.qZA(),r.qZA()}if(2&n){const e=r.oxw().$implicit,i=r.oxw(2);r.hij(" Vendedor ",e.vendedor," "),r.xp6(1),r.Q6J("id","print-section"+e.datahora),r.xp6(1),r.hij(" ",i.substr(e.cupom)," "),r.xp6(6),r.Q6J("ngModel",i.telefoneCliente),r.xp6(1),r.Q6J("disabled",!i.telefoneCliente)}}function fQ(n,t){if(1&n&&(r.TgZ(0,"mat-expansion-panel"),r.TgZ(1,"mat-expansion-panel-header"),r.TgZ(2,"mat-panel-title"),r._uU(3),r.ALo(4,"date"),r.qZA(),r.TgZ(5,"mat-panel-description"),r._uU(6),r.qZA(),r.qZA(),r.YNc(7,hQ,16,5,"ng-template",8),r.qZA()),2&n){const e=t.$implicit;r.xp6(3),r.hij(" ",r.gM2(4,2,e.datahora,"dd MMMM yyyy HH:mm","","pt-BR")," "),r.xp6(3),r.hij(" "," R$"+(null==e.valorvenda?null:e.valorvenda.toFixed(2))," ")}}function pQ(n,t){if(1&n&&(r.TgZ(0,"div",4),r.TgZ(1,"mat-accordion"),r.YNc(2,cQ,5,0,"mat-expansion-panel",5),r.YNc(3,dQ,7,0,"mat-expansion-panel",5),r.YNc(4,fQ,8,7,"mat-expansion-panel",6),r.qZA(),r.qZA()),2&n){const e=r.oxw();r.xp6(2),r.Q6J("ngIf",0==e.vendas.length),r.xp6(1),r.Q6J("ngIf",e.vendas.length>0),r.xp6(1),r.Q6J("ngForOf",e.vendas)}}const gQ=[{path:"",component:NK},{path:"listaEstoque",component:lK},{path:"novaVenda",component:u9},{path:"novoItem",component:ZH},{path:"cupomPage",component:t7},{path:"editaItem/:barcode",component:ZH},{path:"cadastro",component:XH},{path:"configuracao",component:B9},{path:"vendas",component:(()=>{class n{constructor(e,i,s,a,u){this.router=e,this.route=i,this.estoqueService=s,this.dialog=a,this.utilsService=u,this.isLoading=!1,this.vendas=[]}ngOnInit(){this.isLoading=!0,this.estoqueService.sendGetVendasRequest().subscribe(e=>{this.vendas=e,this.isLoading=!1})}substr(e=" sem cupom"){return" "===String(e).substring(0,1)?String(e).substring(1):String(e)}enviarWA(e){this.estoqueService.getCupom(String(e.datahora)).subscribe(i=>{window.open(`https://api.whatsapp.com/send?phone=55${this.telefoneCliente}&text=${encodeURI(`Ol\xe1 segue seu cupom! Ele ficar\xe1 dispon\xedvel por 30 dias\n${i}`)}`,"_blank")},i=>{tb(document.getElementById("print-section"+String(e.datahora))||void 0,{backgroundColor:"white"}).then(a=>{this.estoqueService.salvaCupom(a,String(e.datahora)).subscribe(u=>{window.open(`https://api.whatsapp.com/send?phone=55${this.telefoneCliente}&text=${encodeURI(`Ol\xe1 segue seu cupom! Ele ficar\xe1 dispon\xedvel por 30 dias\n${u}`)}`,"_blank")})})})}compartilhar(){var e;const i={title:"Cupom",text:String(null===(e=document.getElementById("print-section"))||void 0===e?void 0:e.innerText)};navigator.share(i)}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(nr),r.Y36(xs),r.Y36(pl),r.Y36(cs),r.Y36(rf))},n.\u0275cmp=r.Xpm({type:n,selectors:[["app-exibir-vendas"]],decls:2,vars:2,consts:[["class","loadingSet",4,"ngIf"],["class","tela",4,"ngIf"],[1,"loadingSet"],["mode","indeterminate"],[1,"tela"],["hideToggle","",4,"ngIf"],[4,"ngFor","ngForOf"],["hideToggle",""],["matExpansionPanelContent",""],[1,"noFormat",3,"id"],[1,"linhaButton"],[1,"item-form"],["appearance","fill",1,"item-full-width2"],["type","number","autocomplete","off","matInput","","placeholder","Ex. 11999998888","name","email",3,"ngModel","ngModelChange"],["mat-mini-fab","","color","primary",3,"disabled","click"],["mat-mini-fab","","color","primary",3,"click"]],template:function(e,i){1&e&&(r.YNc(0,aQ,2,0,"div",0),r.YNc(1,pQ,5,3,"div",1)),2&e&&(r.Q6J("ngIf",i.isLoading),r.xp6(1),r.Q6J("ngIf",!i.isLoading))},directives:[On,Co,sQ,un,lq,cq,rQ,oq,iQ,Xp,Jp,Oa,tg,nf,u_,d_,Od,Qp,tf,Ar,ng],pipes:[ha],styles:[".loadingSet[_ngcontent-%COMP%]{width:100%;height:50%;display:flex;justify-content:center;align-items:center}.item-form[_ngcontent-%COMP%]{min-width:150px;width:100%;display:inline-flex;justify-content:center;align-items:center;flex-direction:column}.item-full-width2[_ngcontent-%COMP%]{width:calc(100% - 10px)}.item-full-width[_ngcontent-%COMP%]{width:90%}.tela[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:calc(100% - 70px)}.spacer[_ngcontent-%COMP%]{flex:1 1 auto}.buttons[_ngcontent-%COMP%]{padding-bottom:1.34375em;display:flex;justify-content:center}.noFormat[_ngcontent-%COMP%]{margin-top:10px;font-family:monospace;white-space:pre}  .mat-expansion-panel-body{padding:0 8px 16px!important}.linhaButton[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:flex-start}button[_ngcontent-%COMP%]{margin:5px}"]}),n})()}];let mQ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[[pC.forRoot(gQ)],pC]}),n})();var uq=M(3098);function $F(n,t=Sh.P){const i=function(n){return n instanceof Date&&!isNaN(+n)}(n)?+n-t.now():Math.abs(n);return s=>s.lift(new yQ(i,t))}class yQ{constructor(t,e){this.delay=t,this.scheduler=e}call(t,e){return e.subscribe(new YF(t,this.delay,this.scheduler))}}class YF extends Oi.L{constructor(t,e,i){super(t),this.delay=e,this.scheduler=i,this.queue=[],this.active=!1,this.errored=!1}static dispatch(t){const e=t.source,i=e.queue,s=t.scheduler,a=t.destination;for(;i.length>0&&i[0].time-s.now()<=0;)i.shift().notification.observe(a);if(i.length>0){const u=Math.max(0,i[0].time-s.now());this.schedule(t,u)}else this.unsubscribe(),e.active=!1}_schedule(t){this.active=!0,this.destination.add(t.schedule(YF.dispatch,this.delay,{source:this,destination:this.destination,scheduler:t}))}scheduleNotification(t){if(!0===this.errored)return;const e=this.scheduler,i=new vQ(e.now()+this.delay,t);this.queue.push(i),!1===this.active&&this._schedule(e)}_next(t){this.scheduleNotification(uq.P.createNext(t))}_error(t){this.errored=!0,this.queue=[],this.destination.error(t),this.unsubscribe()}_complete(){this.scheduleNotification(uq.P.createComplete()),this.unsubscribe()}}class vQ{constructor(t,e){this.time=t,this.notification=e}}const bQ=["mat-menu-item",""];function CQ(n,t){1&n&&(r.O4$(),r.TgZ(0,"svg",2),r._UZ(1,"polygon",3),r.qZA())}const dq=["*"];function wQ(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"div",0),r.NdJ("keydown",function(s){return r.CHM(e),r.oxw()._handleKeydown(s)})("click",function(){return r.CHM(e),r.oxw().closed.emit("click")})("@transformMenu.start",function(s){return r.CHM(e),r.oxw()._onAnimationStart(s)})("@transformMenu.done",function(s){return r.CHM(e),r.oxw()._onAnimationDone(s)}),r.TgZ(1,"div",1),r.Hsn(2),r.qZA(),r.qZA()}if(2&n){const e=r.oxw();r.Q6J("id",e.panelId)("ngClass",e._classList)("@transformMenu",e._panelAnimationState),r.uIk("aria-label",e.ariaLabel||null)("aria-labelledby",e.ariaLabelledby||null)("aria-describedby",e.ariaDescribedby||null)}}const vM={transformMenu:Rs("transformMenu",[ui("void",en({opacity:0,transform:"scale(0.8)"})),Pn("void => enter",Si("120ms cubic-bezier(0, 0, 0.2, 1)",en({opacity:1,transform:"scale(1)"}))),Pn("* => void",Si("100ms 25ms linear",en({opacity:0})))]),fadeInItems:Rs("fadeInItems",[ui("showing",en({opacity:1})),Pn("void => *",[en({opacity:0}),Si("400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])},hq=new r.OlP("MatMenuContent"),ZF=new r.OlP("MAT_MENU_PANEL"),DQ=Im(Iu(class{}));let bM=(()=>{class n extends DQ{constructor(e,i,s,a,u){super(),this._elementRef=e,this._focusMonitor=s,this._parentMenu=a,this._changeDetectorRef=u,this.role="menuitem",this._hovered=new yt.xQ,this._focused=new yt.xQ,this._highlighted=!1,this._triggersSubmenu=!1,a&&a.addItem&&a.addItem(this)}focus(e,i){this._focusMonitor&&e?this._focusMonitor.focusVia(this._getHostElement(),e,i):this._getHostElement().focus(i),this._focused.next(this)}ngAfterViewInit(){this._focusMonitor&&this._focusMonitor.monitor(this._elementRef,!1)}ngOnDestroy(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._elementRef.nativeElement}_checkDisabled(e){this.disabled&&(e.preventDefault(),e.stopPropagation())}_handleMouseEnter(){this._hovered.next(this)}getLabel(){var e,i;const s=this._elementRef.nativeElement.cloneNode(!0),a=s.querySelectorAll("mat-icon, .material-icons");for(let u=0;u<a.length;u++){const f=a[u];null===(e=f.parentNode)||void 0===e||e.removeChild(f)}return(null===(i=s.textContent)||void 0===i?void 0:i.trim())||""}_setHighlighted(e){var i;this._highlighted=e,null===(i=this._changeDetectorRef)||void 0===i||i.markForCheck()}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(r.SBq),r.Y36(F),r.Y36(Aa),r.Y36(ZF,8),r.Y36(r.sBO))},n.\u0275cmp=r.Xpm({type:n,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-focus-indicator"],hostVars:10,hostBindings:function(e,i){1&e&&r.NdJ("click",function(a){return i._checkDisabled(a)})("mouseenter",function(){return i._handleMouseEnter()}),2&e&&(r.uIk("role",i.role)("tabindex",i._getTabIndex())("aria-disabled",i.disabled.toString())("disabled",i.disabled||null),r.ekj("mat-menu-item",!0)("mat-menu-item-highlighted",i._highlighted)("mat-menu-item-submenu-trigger",i._triggersSubmenu))},inputs:{disabled:"disabled",disableRipple:"disableRipple",role:"role"},exportAs:["matMenuItem"],features:[r.qOj],attrs:bQ,ngContentSelectors:dq,decls:3,vars:3,consts:[["matRipple","",1,"mat-menu-ripple",3,"matRippleDisabled","matRippleTrigger"],["class","mat-menu-submenu-icon","viewBox","0 0 5 10","focusable","false",4,"ngIf"],["viewBox","0 0 5 10","focusable","false",1,"mat-menu-submenu-icon"],["points","0,0 5,5 0,10"]],template:function(e,i){1&e&&(r.F$t(),r.Hsn(0),r._UZ(1,"div",0),r.YNc(2,CQ,2,0,"svg",1)),2&e&&(r.xp6(1),r.Q6J("matRippleDisabled",i.disableRipple||i.disabled)("matRippleTrigger",i._getHostElement()),r.xp6(1),r.Q6J("ngIf",i._triggersSubmenu))},directives:[Ma,On],encapsulation:2,changeDetection:0}),n})();const fq=new r.OlP("mat-menu-default-options",{providedIn:"root",factory:function(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}});let SQ=0,xD=(()=>{class n{constructor(e,i,s){this._elementRef=e,this._ngZone=i,this._defaultOptions=s,this._xPosition=this._defaultOptions.xPosition,this._yPosition=this._defaultOptions.yPosition,this._directDescendantItems=new r.n_E,this._tabSubscription=Qn.w.EMPTY,this._classList={},this._panelAnimationState="void",this._animationDone=new yt.xQ,this.overlayPanelClass=this._defaultOptions.overlayPanelClass||"",this.backdropClass=this._defaultOptions.backdropClass,this._overlapTrigger=this._defaultOptions.overlapTrigger,this._hasBackdrop=this._defaultOptions.hasBackdrop,this.closed=new r.vpe,this.close=this.closed,this.panelId="mat-menu-panel-"+SQ++}get xPosition(){return this._xPosition}set xPosition(e){this._xPosition=e,this.setPositionClasses()}get yPosition(){return this._yPosition}set yPosition(e){this._yPosition=e,this.setPositionClasses()}get overlapTrigger(){return this._overlapTrigger}set overlapTrigger(e){this._overlapTrigger=Gt(e)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(e){this._hasBackdrop=Gt(e)}set panelClass(e){const i=this._previousPanelClass;i&&i.length&&i.split(" ").forEach(s=>{this._classList[s]=!1}),this._previousPanelClass=e,e&&e.length&&(e.split(" ").forEach(s=>{this._classList[s]=!0}),this._elementRef.nativeElement.className="")}get classList(){return this.panelClass}set classList(e){this.panelClass=e}ngOnInit(){this.setPositionClasses()}ngAfterContentInit(){this._updateDirectDescendants(),this._keyManager=new yp(this._directDescendantItems).withWrap().withTypeAhead().withHomeAndEnd(),this._tabSubscription=this._keyManager.tabOut.subscribe(()=>this.closed.emit("tab")),this._directDescendantItems.changes.pipe(Di(this._directDescendantItems),li(e=>(0,ir.T)(...e.map(i=>i._focused)))).subscribe(e=>this._keyManager.updateActiveItem(e))}ngOnDestroy(){this._directDescendantItems.destroy(),this._tabSubscription.unsubscribe(),this.closed.complete()}_hovered(){return this._directDescendantItems.changes.pipe(Di(this._directDescendantItems),li(i=>(0,ir.T)(...i.map(s=>s._hovered))))}addItem(e){}removeItem(e){}_handleKeydown(e){const i=e.keyCode,s=this._keyManager;switch(i){case 27:ks(e)||(e.preventDefault(),this.closed.emit("keydown"));break;case 37:this.parentMenu&&"ltr"===this.direction&&this.closed.emit("keydown");break;case 39:this.parentMenu&&"rtl"===this.direction&&this.closed.emit("keydown");break;default:(38===i||40===i)&&s.setFocusOrigin("keyboard"),s.onKeydown(e)}}focusFirstItem(e="program"){this.lazyContent?this._ngZone.onStable.pipe(Kn(1)).subscribe(()=>this._focusFirstItem(e)):this._focusFirstItem(e)}_focusFirstItem(e){const i=this._keyManager;if(i.setFocusOrigin(e).setFirstItemActive(),!i.activeItem&&this._directDescendantItems.length){let s=this._directDescendantItems.first._getHostElement().parentElement;for(;s;){if("menu"===s.getAttribute("role")){s.focus();break}s=s.parentElement}}}resetActiveItem(){this._keyManager.setActiveItem(-1)}setElevation(e){const i=Math.min(this._baseElevation+e,24),s=`${this._elevationPrefix}${i}`,a=Object.keys(this._classList).find(u=>u.startsWith(this._elevationPrefix));(!a||a===this._previousElevation)&&(this._previousElevation&&(this._classList[this._previousElevation]=!1),this._classList[s]=!0,this._previousElevation=s)}setPositionClasses(e=this.xPosition,i=this.yPosition){const s=this._classList;s["mat-menu-before"]="before"===e,s["mat-menu-after"]="after"===e,s["mat-menu-above"]="above"===i,s["mat-menu-below"]="below"===i}_startAnimation(){this._panelAnimationState="enter"}_resetAnimation(){this._panelAnimationState="void"}_onAnimationDone(e){this._animationDone.next(e),this._isAnimating=!1}_onAnimationStart(e){this._isAnimating=!0,"enter"===e.toState&&0===this._keyManager.activeItemIndex&&(e.element.scrollTop=0)}_updateDirectDescendants(){this._allItems.changes.pipe(Di(this._allItems)).subscribe(e=>{this._directDescendantItems.reset(e.filter(i=>i._parentMenu===this)),this._directDescendantItems.notifyOnChanges()})}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(r.SBq),r.Y36(r.R0b),r.Y36(fq))},n.\u0275dir=r.lG2({type:n,contentQueries:function(e,i,s){if(1&e&&(r.Suo(s,hq,5),r.Suo(s,bM,5),r.Suo(s,bM,4)),2&e){let a;r.iGM(a=r.CRH())&&(i.lazyContent=a.first),r.iGM(a=r.CRH())&&(i._allItems=a),r.iGM(a=r.CRH())&&(i.items=a)}},viewQuery:function(e,i){if(1&e&&r.Gf(r.Rgc,5),2&e){let s;r.iGM(s=r.CRH())&&(i.templateRef=s.first)}},inputs:{backdropClass:"backdropClass",xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:"overlapTrigger",hasBackdrop:"hasBackdrop",panelClass:["class","panelClass"],classList:"classList",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"]},outputs:{closed:"closed",close:"close"}}),n})(),xQ=(()=>{class n extends xD{constructor(e,i,s){super(e,i,s),this._elevationPrefix="mat-elevation-z",this._baseElevation=4}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(r.SBq),r.Y36(r.R0b),r.Y36(fq))},n.\u0275cmp=r.Xpm({type:n,selectors:[["mat-menu"]],hostVars:3,hostBindings:function(e,i){2&e&&r.uIk("aria-label",null)("aria-labelledby",null)("aria-describedby",null)},exportAs:["matMenu"],features:[r._Bn([{provide:ZF,useExisting:n}]),r.qOj],ngContentSelectors:dq,decls:1,vars:0,consts:[["tabindex","-1","role","menu",1,"mat-menu-panel",3,"id","ngClass","keydown","click"],[1,"mat-menu-content"]],template:function(e,i){1&e&&(r.F$t(),r.YNc(0,wQ,3,6,"ng-template"))},directives:[Or],styles:["mat-menu{display:none}.mat-menu-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;max-height:calc(100vh - 48px);border-radius:4px;outline:0;min-height:64px}.mat-menu-panel.ng-animating{pointer-events:none}.cdk-high-contrast-active .mat-menu-panel{outline:solid 1px}.mat-menu-content:not(:empty){padding-top:8px;padding-bottom:8px}.mat-menu-item{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative}.mat-menu-item::-moz-focus-inner{border:0}.mat-menu-item[disabled]{cursor:default}[dir=rtl] .mat-menu-item{text-align:right}.mat-menu-item .mat-icon{margin-right:16px;vertical-align:middle}.mat-menu-item .mat-icon svg{vertical-align:top}[dir=rtl] .mat-menu-item .mat-icon{margin-left:16px;margin-right:0}.mat-menu-item[disabled]{pointer-events:none}.cdk-high-contrast-active .mat-menu-item{margin-top:1px}.cdk-high-contrast-active .mat-menu-item.cdk-program-focused,.cdk-high-contrast-active .mat-menu-item.cdk-keyboard-focused,.cdk-high-contrast-active .mat-menu-item-highlighted{outline:dotted 1px}.mat-menu-item-submenu-trigger{padding-right:32px}[dir=rtl] .mat-menu-item-submenu-trigger{padding-right:16px;padding-left:32px}.mat-menu-submenu-icon{position:absolute;top:50%;right:16px;transform:translateY(-50%);width:5px;height:10px;fill:currentColor}[dir=rtl] .mat-menu-submenu-icon{right:auto;left:16px;transform:translateY(-50%) scaleX(-1)}.cdk-high-contrast-active .mat-menu-submenu-icon{fill:CanvasText}button.mat-menu-item{width:100%}.mat-menu-item .mat-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}\n"],encapsulation:2,data:{animation:[vM.transformMenu,vM.fadeInItems]},changeDetection:0}),n})();const pq=new r.OlP("mat-menu-scroll-strategy"),AQ={provide:pq,deps:[Ia],useFactory:function(n){return()=>n.scrollStrategies.reposition()}},mq=ip({passive:!0});let MQ=(()=>{class n{constructor(e,i,s,a,u,f,g,C){this._overlay=e,this._element=i,this._viewContainerRef=s,this._menuItemInstance=f,this._dir=g,this._focusMonitor=C,this._overlayRef=null,this._menuOpen=!1,this._closingActionsSubscription=Qn.w.EMPTY,this._hoverSubscription=Qn.w.EMPTY,this._menuCloseSubscription=Qn.w.EMPTY,this._handleTouchStart=x=>{mm(x)||(this._openedBy="touch")},this._openedBy=void 0,this._ariaHaspopup=!0,this.restoreFocus=!0,this.menuOpened=new r.vpe,this.onMenuOpen=this.menuOpened,this.menuClosed=new r.vpe,this.onMenuClose=this.menuClosed,this._scrollStrategy=a,this._parentMaterialMenu=u instanceof xD?u:void 0,i.nativeElement.addEventListener("touchstart",this._handleTouchStart,mq),f&&(f._triggersSubmenu=this.triggersSubmenu())}get _ariaExpanded(){return this.menuOpen||null}get _ariaControl(){return this.menuOpen?this.menu.panelId:null}get _deprecatedMatMenuTriggerFor(){return this.menu}set _deprecatedMatMenuTriggerFor(e){this.menu=e}get menu(){return this._menu}set menu(e){e!==this._menu&&(this._menu=e,this._menuCloseSubscription.unsubscribe(),e&&(this._menuCloseSubscription=e.close.subscribe(i=>{this._destroyMenu(i),("click"===i||"tab"===i)&&this._parentMaterialMenu&&this._parentMaterialMenu.closed.emit(i)})))}ngAfterContentInit(){this._checkMenu(),this._handleHover()}ngOnDestroy(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null),this._element.nativeElement.removeEventListener("touchstart",this._handleTouchStart,mq),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._hoverSubscription.unsubscribe()}get menuOpen(){return this._menuOpen}get dir(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}triggersSubmenu(){return!(!this._menuItemInstance||!this._parentMaterialMenu)}toggleMenu(){return this._menuOpen?this.closeMenu():this.openMenu()}openMenu(){if(this._menuOpen)return;this._checkMenu();const e=this._createOverlay(),i=e.getConfig();this._setPosition(i.positionStrategy),i.hasBackdrop=null==this.menu.hasBackdrop?!this.triggersSubmenu():this.menu.hasBackdrop,e.attach(this._getPortal()),this.menu.lazyContent&&this.menu.lazyContent.attach(this.menuData),this._closingActionsSubscription=this._menuClosingActions().subscribe(()=>this.closeMenu()),this._initMenu(),this.menu instanceof xD&&this.menu._startAnimation()}closeMenu(){this.menu.close.emit()}focus(e,i){this._focusMonitor&&e?this._focusMonitor.focusVia(this._element,e,i):this._element.nativeElement.focus(i)}updatePosition(){var e;null===(e=this._overlayRef)||void 0===e||e.updatePosition()}_destroyMenu(e){if(!this._overlayRef||!this.menuOpen)return;const i=this.menu;this._closingActionsSubscription.unsubscribe(),this._overlayRef.detach(),this.restoreFocus&&("keydown"===e||!this._openedBy||!this.triggersSubmenu())&&this.focus(this._openedBy),this._openedBy=void 0,i instanceof xD?(i._resetAnimation(),i.lazyContent?i._animationDone.pipe(xn(s=>"void"===s.toState),Kn(1),ri(i.lazyContent._attached)).subscribe({next:()=>i.lazyContent.detach(),complete:()=>this._setIsMenuOpen(!1)}):this._setIsMenuOpen(!1)):(this._setIsMenuOpen(!1),i.lazyContent&&i.lazyContent.detach())}_initMenu(){this.menu.parentMenu=this.triggersSubmenu()?this._parentMaterialMenu:void 0,this.menu.direction=this.dir,this._setMenuElevation(),this.menu.focusFirstItem(this._openedBy||"program"),this._setIsMenuOpen(!0)}_setMenuElevation(){if(this.menu.setElevation){let e=0,i=this.menu.parentMenu;for(;i;)e++,i=i.parentMenu;this.menu.setElevation(e)}}_setIsMenuOpen(e){this._menuOpen=e,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&this._menuItemInstance._setHighlighted(e)}_checkMenu(){}_createOverlay(){if(!this._overlayRef){const e=this._getOverlayConfig();this._subscribeToPositions(e.positionStrategy),this._overlayRef=this._overlay.create(e),this._overlayRef.keydownEvents().subscribe()}return this._overlayRef}_getOverlayConfig(){return new mp({positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withLockedPosition().withGrowAfterOpen().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:this.menu.backdropClass||"cdk-overlay-transparent-backdrop",panelClass:this.menu.overlayPanelClass,scrollStrategy:this._scrollStrategy(),direction:this._dir})}_subscribeToPositions(e){this.menu.setPositionClasses&&e.positionChanges.subscribe(i=>{this.menu.setPositionClasses("start"===i.connectionPair.overlayX?"after":"before","top"===i.connectionPair.overlayY?"below":"above")})}_setPosition(e){let[i,s]="before"===this.menu.xPosition?["end","start"]:["start","end"],[a,u]="above"===this.menu.yPosition?["bottom","top"]:["top","bottom"],[f,g]=[a,u],[C,x]=[i,s],R=0;this.triggersSubmenu()?(x=i="before"===this.menu.xPosition?"start":"end",s=C="end"===i?"start":"end",R="bottom"===a?8:-8):this.menu.overlapTrigger||(f="top"===a?"bottom":"top",g="top"===u?"bottom":"top"),e.withPositions([{originX:i,originY:f,overlayX:C,overlayY:a,offsetY:R},{originX:s,originY:f,overlayX:x,overlayY:a,offsetY:R},{originX:i,originY:g,overlayX:C,overlayY:u,offsetY:-R},{originX:s,originY:g,overlayX:x,overlayY:u,offsetY:-R}])}_menuClosingActions(){const e=this._overlayRef.backdropClick(),i=this._overlayRef.detachments(),s=this._parentMaterialMenu?this._parentMaterialMenu.closed:(0,ft.of)(),a=this._parentMaterialMenu?this._parentMaterialMenu._hovered().pipe(xn(u=>u!==this._menuItemInstance),xn(()=>this._menuOpen)):(0,ft.of)();return(0,ir.T)(e,s,a,i)}_handleMousedown(e){sv(e)||(this._openedBy=0===e.button?"mouse":void 0,this.triggersSubmenu()&&e.preventDefault())}_handleKeydown(e){const i=e.keyCode;(13===i||32===i)&&(this._openedBy="keyboard"),this.triggersSubmenu()&&(39===i&&"ltr"===this.dir||37===i&&"rtl"===this.dir)&&(this._openedBy="keyboard",this.openMenu())}_handleClick(e){this.triggersSubmenu()?(e.stopPropagation(),this.openMenu()):this.toggleMenu()}_handleHover(){!this.triggersSubmenu()||!this._parentMaterialMenu||(this._hoverSubscription=this._parentMaterialMenu._hovered().pipe(xn(e=>e===this._menuItemInstance&&!e.disabled),$F(0,ep.E)).subscribe(()=>{this._openedBy="mouse",this.menu instanceof xD&&this.menu._isAnimating?this.menu._animationDone.pipe(Kn(1),$F(0,ep.E),ri(this._parentMaterialMenu._hovered())).subscribe(()=>this.openMenu()):this.openMenu()}))}_getPortal(){return(!this._portal||this._portal.templateRef!==this.menu.templateRef)&&(this._portal=new Sc(this.menu.templateRef,this._viewContainerRef)),this._portal}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(Ia),r.Y36(r.SBq),r.Y36(r.s_b),r.Y36(pq),r.Y36(ZF,8),r.Y36(bM,10),r.Y36(Ms,8),r.Y36(Aa))},n.\u0275dir=r.lG2({type:n,hostVars:3,hostBindings:function(e,i){1&e&&r.NdJ("mousedown",function(a){return i._handleMousedown(a)})("keydown",function(a){return i._handleKeydown(a)})("click",function(a){return i._handleClick(a)}),2&e&&r.uIk("aria-haspopup",i._ariaHaspopup)("aria-expanded",i._ariaExpanded)("aria-controls",i._ariaControl)},inputs:{restoreFocus:["matMenuTriggerRestoreFocus","restoreFocus"],_deprecatedMatMenuTriggerFor:["mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:["matMenuTriggerFor","menu"],menuData:["matMenuTriggerData","menuData"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"}}),n})(),kQ=(()=>{class n extends MQ{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=r.n5z(n)))(i||n)}}(),n.\u0275dir=r.lG2({type:n,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:[1,"mat-menu-trigger"],exportAs:["matMenuTrigger"],features:[r.qOj]}),n})(),RQ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({providers:[AQ],imports:[[Ue,wn,Au,Qy],dp,wn]}),n})(),OQ=(()=>{class n{constructor(){this._vertical=!1,this._inset=!1}get vertical(){return this._vertical}set vertical(e){this._vertical=Gt(e)}get inset(){return this._inset}set inset(e){this._inset=Gt(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=r.Xpm({type:n,selectors:[["mat-divider"]],hostAttrs:["role","separator",1,"mat-divider"],hostVars:7,hostBindings:function(e,i){2&e&&(r.uIk("aria-orientation",i.vertical?"vertical":"horizontal"),r.ekj("mat-divider-vertical",i.vertical)("mat-divider-horizontal",!i.vertical)("mat-divider-inset",i.inset))},inputs:{vertical:"vertical",inset:"inset"},decls:0,vars:0,template:function(e,i){},styles:[".mat-divider{display:block;margin:0;border-top-width:1px;border-top-style:solid}.mat-divider.mat-divider-vertical{border-top:0;border-right-width:1px;border-right-style:solid}.mat-divider.mat-divider-inset{margin-left:80px}[dir=rtl] .mat-divider.mat-divider-inset{margin-left:auto;margin-right:80px}\n"],encapsulation:2,changeDetection:0}),n})(),PQ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[[wn],wn]}),n})();function NQ(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"button",15),r.NdJ("click",function(){return r.CHM(e),r.oxw().estoqueService.navigateTo("")}),r.TgZ(1,"mat-icon"),r._uU(2,"home"),r.qZA(),r.qZA()}}function FQ(n,t){if(1&n&&(r.TgZ(0,"button",16),r.TgZ(1,"mat-icon"),r._uU(2,"menu"),r.qZA(),r.qZA()),2&n){r.oxw();const e=r.MAs(8);r.Q6J("matMenuTriggerFor",e)}}function LQ(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"button",17),r.NdJ("click",function(){return r.CHM(e),r.oxw().lougout()}),r._uU(1,"Sair"),r.qZA()}}let VQ=(()=>{class n{constructor(e,i,s){this.dialog=e,this.socialAuthService=i,this.estoqueService=s}ngOnInit(){}exibirAlerta(){const e=new ls;e.disableClose=!0,e.autoFocus="true"==this.estoqueService.habilitarTeclado,e.data="consulta",this.dialog.open(yM,e).afterClosed().subscribe(s=>{})}lougout(){this.estoqueService.socialAuthServiceLogOut()}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(cs),r.Y36(a_),r.Y36(pl))},n.\u0275cmp=r.Xpm({type:n,selectors:[["app-title"]],decls:30,vars:4,consts:[["color","primary"],[1,"example-spacer"],["mat-icon-button","","matTooltip","V\xe1 para p\xe1gina inicial","aria-label","abrir pagina inicial",3,"click",4,"ngIf"],["mat-icon-button","","aria-label","abrir menu principal",3,"matMenuTriggerFor",4,"ngIf"],["mainMenu","matMenu"],["mat-menu-item","","aria-label","abrir menu estoque",3,"matMenuTriggerFor"],["mat-menu-item","","aria-label","fazer nova venda","matTooltip","Inicie uma nova venda",3,"click"],["mat-menu-item","","aria-label","consultar pre\xe7o","matTooltip","Consulte o pre\xe7o de um produto",3,"click"],["mat-menu-item","","aria-label","listar vendas","matTooltip","Veja suas vendas",3,"click"],["mat-menu-item","","aria-label","meu cadastro","matTooltip","Altere seu cadastro",3,"click"],["mat-menu-item","","aria-label","configura\xe7\xf5es","matTooltip","Acesse suas configura\xe7\xf5es, voc\xea pode alterar a c\xe2mera por exemplo",3,"click"],["mat-menu-item","","aria-label","consultar pre\xe7o","matTooltip","Finalizar sess\xe3o",3,"click",4,"ngIf"],["estoqueMenu","matMenu"],["mat-menu-item","","aria-label","ver todo estoque","matTooltip","Veja seu estoque",3,"click"],["mat-menu-item","","aria-label","adicionar item","matTooltip","Cadastre um novo item no estoque",3,"click"],["mat-icon-button","","matTooltip","V\xe1 para p\xe1gina inicial","aria-label","abrir pagina inicial",3,"click"],["mat-icon-button","","aria-label","abrir menu principal",3,"matMenuTriggerFor"],["mat-menu-item","","aria-label","consultar pre\xe7o","matTooltip","Finalizar sess\xe3o",3,"click"]],template:function(e,i){if(1&e&&(r.TgZ(0,"mat-toolbar",0),r.TgZ(1,"mat-toolbar-row"),r.TgZ(2,"span"),r._uU(3,"OnStock"),r.qZA(),r._UZ(4,"span",1),r.YNc(5,NQ,3,0,"button",2),r.YNc(6,FQ,3,1,"button",3),r.TgZ(7,"mat-menu",null,4),r.TgZ(9,"button",5),r._uU(10,"Estoque"),r.qZA(),r.TgZ(11,"button",6),r.NdJ("click",function(){return i.estoqueService.navigateTo("novaVenda")}),r._uU(12,"Nova venda"),r.qZA(),r.TgZ(13,"button",7),r.NdJ("click",function(){return i.exibirAlerta()}),r._uU(14,"Consulta pre\xe7o"),r.qZA(),r.TgZ(15,"button",8),r.NdJ("click",function(){return i.estoqueService.navigateTo("vendas")}),r._uU(16,"Exibir vendas"),r.qZA(),r._UZ(17,"mat-divider"),r.TgZ(18,"button",9),r.NdJ("click",function(){return i.estoqueService.navigateTo("cadastro")}),r._uU(19,"Meu cadastro"),r.qZA(),r.TgZ(20,"button",10),r.NdJ("click",function(){return i.estoqueService.navigateTo("configuracao")}),r._uU(21,"Configura\xe7\xf5es"),r.qZA(),r._UZ(22,"mat-divider"),r.YNc(23,LQ,2,0,"button",11),r.qZA(),r.TgZ(24,"mat-menu",null,12),r.TgZ(26,"button",13),r.NdJ("click",function(){return i.estoqueService.navigateTo("listaEstoque")}),r._uU(27,"Ver tudo"),r.qZA(),r.TgZ(28,"button",14),r.NdJ("click",function(){return i.estoqueService.navigateTo("novoItem")}),r._uU(29,"Adicionar item"),r.qZA(),r.qZA(),r.qZA(),r.qZA()),2&e){const s=r.MAs(25);r.xp6(5),r.Q6J("ngIf",null!=i.estoqueService.user),r.xp6(1),r.Q6J("ngIf",null!=i.estoqueService.user),r.xp6(3),r.Q6J("matMenuTriggerFor",s),r.xp6(14),r.Q6J("ngIf",null!=i.estoqueService.user)}},directives:[YH,qF,On,xQ,bM,kQ,f_,OQ,Ar,ng],styles:[".example-spacer[_ngcontent-%COMP%]{flex:1 1 auto}"]}),n})(),BQ=(()=>{class n{constructor(e,i,s){this.formBuilder=e,this.socialAuthService=i,this.estoqueService=s,this.isAuthenticated=!1,this.isLoggedin=!1,this.startSignup=!1}ngOnInit(){this.loginForm=this.formBuilder.group({email:["",c_.required],password:["",c_.required]})}loginWithGoogle(){this.socialAuthService.signIn(_D.PROVIDER_ID)}logOut(){this.estoqueService.socialAuthServiceLogOut()}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(uH),r.Y36(a_),r.Y36(pl))},n.\u0275cmp=r.Xpm({type:n,selectors:[["app-login-page"]],decls:6,vars:0,consts:[[1,"profile"],[1,"linhaButton"],["mat-raised-button","","color","accent","aria-label","login",3,"click"]],template:function(e,i){1&e&&(r.TgZ(0,"div",0),r.TgZ(1,"h1"),r._uU(2," Antes de seguir, fa\xe7a seu login "),r.qZA(),r.TgZ(3,"div",1),r.TgZ(4,"button",2),r.NdJ("click",function(){return i.loginWithGoogle()}),r._uU(5,"Log in"),r.qZA(),r.qZA(),r.qZA())},directives:[Ar],styles:[".linhaButton[_ngcontent-%COMP%]{justify-content:center}.profile[_ngcontent-%COMP%]{height:calc(100% - 70px);width:100%;display:flex;position:relative;justify-content:center;padding-top:5px;flex-direction:column;align-items:center}"]}),n})();function UQ(n,t){1&n&&(r.TgZ(0,"div",2),r._UZ(1,"mat-progress-spinner",3),r.qZA())}function jQ(n,t){1&n&&r._UZ(0,"router-outlet")}function HQ(n,t){1&n&&(r.TgZ(0,"app-login-page"),r._uU(1,"Log in"),r.qZA())}function qQ(n,t){1&n&&r._UZ(0,"app-cadastro-usuario-loja")}let zQ=(()=>{class n{constructor(e,i,s,a,u,f){this.route=e,this.router=i,this.estoqueService=s,this.utilsService=a,this.formBuilder=u,this.socialAuthService=f,this.isLoggedin=!1,this.startSignup=!1,this.isLoading=!1,this.title="onstock",this.isAuthenticated=!1}ngOnInit(){this.loginForm=this.formBuilder.group({email:["",c_.required],password:["",c_.required]}),this.socialAuthService.authState.subscribe(e=>{this.estoqueService.user=e,this.authLogin()})}authLogin(){null!==this.estoqueService.user?(this.isLoading=!0,this.estoqueService.sendGetUserRequest(this.estoqueService.user.email).subscribe(e=>{0!==e.length?(this.estoqueService.usuario=e[0],this.estoqueService.sendGetLojaRequest().subscribe(i=>{this.estoqueService.loja=i[0],this.isAuthenticated=e.length>0&&e[0].active&&null!=this.estoqueService.user,this.router.navigate(["/"],{relativeTo:this.route,skipLocationChange:!0}),this.isLoading=!1})):0===e.length&&(this.utilsService.showError("Usu\xe1rio n\xe3o cadastrado, fa\xe7a seu cadastro."),this.startSignup=!0,this.isLoading=!1)})):this.isAuthenticated=!1}loginWithGoogle(){this.socialAuthService.signIn(_D.PROVIDER_ID)}logOut(){this.estoqueService.socialAuthServiceLogOut()}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(xs),r.Y36(nr),r.Y36(pl),r.Y36(rf),r.Y36(uH),r.Y36(a_))},n.\u0275cmp=r.Xpm({type:n,selectors:[["app-root"]],decls:5,vars:4,consts:[["class","loadingSet",4,"ngIf"],[4,"ngIf"],[1,"loadingSet"],["mode","indeterminate"]],template:function(e,i){1&e&&(r._UZ(0,"app-title"),r.YNc(1,UQ,2,0,"div",0),r.YNc(2,jQ,1,0,"router-outlet",1),r.YNc(3,HQ,2,0,"app-login-page",1),r.YNc(4,qQ,1,0,"app-cadastro-usuario-loja",1)),2&e&&(r.xp6(1),r.Q6J("ngIf",i.isLoading),r.xp6(1),r.Q6J("ngIf",i.isAuthenticated&&!i.isLoading),r.xp6(1),r.Q6J("ngIf",!i.isAuthenticated&&!i.isLoading&&!i.startSignup),r.xp6(1),r.Q6J("ngIf",i.startSignup))},directives:[VQ,On,Co,Xf,BQ,XH],styles:[".example-form[_ngcontent-%COMP%]{min-width:150px;max-width:500px;width:100%}.example-full-width[_ngcontent-%COMP%]{width:100%}.loadingSet[_ngcontent-%COMP%]{width:100%;height:50%;display:flex;justify-content:center;align-items:center}"]}),n})();var GQ=M(8640);const p_=new Bn.y(GQ.Z);var _q=M(4458);const ID="Service workers are disabled or not supported by this browser";class CM{constructor(t){if(this.serviceWorker=t,t){const i=md(t,"controllerchange").pipe((0,At.U)(()=>t.controller)),a=Ka(os(()=>(0,ft.of)(t.controller)),i);this.worker=a.pipe(xn(x=>!!x)),this.registration=this.worker.pipe(li(()=>t.getRegistration()));const C=md(t,"message").pipe((0,At.U)(x=>x.data)).pipe(xn(x=>x&&x.type)).pipe((0,_q.O)(new yt.xQ));C.connect(),this.events=C}else this.worker=this.events=this.registration=(ID,os(()=>(0,CH._)(new Error("Service workers are disabled or not supported by this browser"))))}postMessage(t,e){return this.worker.pipe(Kn(1),(0,Pi.b)(i=>{i.postMessage(Object.assign({action:t},e))})).toPromise().then(()=>{})}postMessageWithStatus(t,e,i){const s=this.waitForStatus(i),a=this.postMessage(t,e);return Promise.all([s,a]).then(()=>{})}generateNonce(){return Math.round(1e7*Math.random())}eventsOfType(t){return this.events.pipe(xn(i=>i.type===t))}nextEventOfType(t){return this.eventsOfType(t).pipe(Kn(1))}waitForStatus(t){return this.eventsOfType("STATUS").pipe(xn(e=>e.nonce===t),Kn(1),(0,At.U)(e=>{if(!e.status)throw new Error(e.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}}let ZQ=(()=>{class n{constructor(e){if(this.sw=e,this.subscriptionChanges=new yt.xQ,!e.isEnabled)return this.messages=p_,this.notificationClicks=p_,void(this.subscription=p_);this.messages=this.sw.eventsOfType("PUSH").pipe((0,At.U)(s=>s.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe((0,At.U)(s=>s.data)),this.pushManager=this.sw.registration.pipe((0,At.U)(s=>s.pushManager));const i=this.pushManager.pipe(li(s=>s.getSubscription()));this.subscription=(0,ir.T)(i,this.subscriptionChanges)}get isEnabled(){return this.sw.isEnabled}requestSubscription(e){if(!this.sw.isEnabled)return Promise.reject(new Error(ID));const i={userVisibleOnly:!0};let s=this.decodeBase64(e.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),a=new Uint8Array(new ArrayBuffer(s.length));for(let u=0;u<s.length;u++)a[u]=s.charCodeAt(u);return i.applicationServerKey=a,this.pushManager.pipe(li(u=>u.subscribe(i)),Kn(1)).toPromise().then(u=>(this.subscriptionChanges.next(u),u))}unsubscribe(){return this.sw.isEnabled?this.subscription.pipe(Kn(1),li(i=>{if(null===i)throw new Error("Not subscribed to push notifications.");return i.unsubscribe().then(s=>{if(!s)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})})).toPromise():Promise.reject(new Error(ID))}decodeBase64(e){return atob(e)}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(CM))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac}),n})(),WQ=(()=>{class n{constructor(e){if(this.sw=e,!e.isEnabled)return this.available=p_,this.activated=p_,void(this.unrecoverable=p_);this.available=this.sw.eventsOfType("UPDATE_AVAILABLE"),this.activated=this.sw.eventsOfType("UPDATE_ACTIVATED"),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}get isEnabled(){return this.sw.isEnabled}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(ID));const e=this.sw.generateNonce();return this.sw.postMessageWithStatus("CHECK_FOR_UPDATES",{statusNonce:e},e)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(ID));const e=this.sw.generateNonce();return this.sw.postMessageWithStatus("ACTIVATE_UPDATE",{statusNonce:e},e)}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(CM))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac}),n})();class WF{}const yq=new r.OlP("NGSW_REGISTER_SCRIPT");function KQ(n,t,e,i){return()=>{if(!Ne(i)||!("serviceWorker"in navigator)||!1===e.enabled)return;let a;if(navigator.serviceWorker.addEventListener("controllerchange",()=>{null!==navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({action:"INITIALIZE"})}),"function"==typeof e.registrationStrategy)a=e.registrationStrategy();else{const[f,...g]=(e.registrationStrategy||"registerWhenStable:30000").split(":");switch(f){case"registerImmediately":a=(0,ft.of)(null);break;case"registerWithDelay":a=vq(+g[0]||0);break;case"registerWhenStable":a=g[0]?(0,ir.T)(bq(n),vq(+g[0])):bq(n);break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${e.registrationStrategy}`)}}n.get(r.R0b).runOutsideAngular(()=>a.pipe(Kn(1)).subscribe(()=>navigator.serviceWorker.register(t,{scope:e.scope}).catch(f=>console.error("Service worker registration failed with:",f))))}}function vq(n){return(0,ft.of)(null).pipe($F(n))}function bq(n){return n.get(r.z2F).isStable.pipe(xn(e=>e))}function QQ(n,t){return new CM(Ne(t)&&!1!==n.enabled?navigator.serviceWorker:void 0)}let JQ=(()=>{class n{static register(e,i={}){return{ngModule:n,providers:[{provide:yq,useValue:e},{provide:WF,useValue:i},{provide:CM,useFactory:QQ,deps:[WF,r.Lbi]},{provide:r.ip1,useFactory:KQ,deps:[r.zs3,yq,WF,r.Lbi],multi:!0}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({providers:[ZQ,WQ]}),n})();const KF_firebase={apiKey:"AIzaSyAkzWC-wsfaxLPFnFO7Rq42E5wrOqAWOHk",authDomain:"meuestoque-7f9dc.firebaseapp.com",projectId:"meuestoque-7f9dc",storageBucket:"meuestoque-7f9dc.appspot.com",messagingSenderId:"219446893949",appId:"1:219446893949:web:c0910a0dd369ec2b824014",measurementId:"G-44DNDNDVE2"};class eJ{constructor(t,e){this.observables=t,this.project=e}call(t,e){return e.subscribe(new tJ(t,this.observables,this.project))}}class tJ extends Qu{constructor(t,e,i){super(t),this.observables=e,this.project=i,this.toRespond=[];const s=e.length;this.values=new Array(s);for(let a=0;a<s;a++)this.toRespond.push(a);for(let a=0;a<s;a++)this.add(Af(this,e[a],void 0,a))}notifyNext(t,e,i){this.values[i]=e;const s=this.toRespond;if(s.length>0){const a=s.indexOf(i);-1!==a&&s.splice(a,1)}}notifyComplete(){}_next(t){if(0===this.toRespond.length){const e=[t,...this.values];this.project?this._tryProject(e):this.destination.next(e)}}_tryProject(t){let e;try{e=this.project.apply(this,t)}catch(i){return void this.destination.error(i)}this.destination.next(e)}}class iJ{constructor(t){this.predicate=t}call(t,e){return e.subscribe(new rJ(t,this.predicate))}}class rJ extends Oi.L{constructor(t,e){super(t),this.predicate=e,this.skipping=!0,this.index=0}_next(t){const e=this.destination;this.skipping&&this.tryCallPredicate(t),this.skipping||e.next(t)}tryCallPredicate(t){try{const e=this.predicate(t,this.index++);this.skipping=Boolean(e)}catch(e){this.destination.error(e)}}}M(1390);const Cq="@firebase/database";let QF="";function Eq(n){QF=n}class sJ{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),(0,oe.Pz)(e))}get(t){const e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:(0,oe.cI)(e)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}class oJ{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e}get(t){return(0,oe.r3)(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}const Dq=function(n){try{if("undefined"!=typeof window&&void 0!==window[n]){const t=window[n];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new sJ(t)}}catch(t){}return new oJ},g_=Dq("localStorage"),JF=Dq("sessionStorage"),Hb=new Qo.Yd("@firebase/database"),Tq=function(){let n=1;return function(){return n++}}(),Sq=function(n){const t=(0,oe.dS)(n),e=new oe.gQ;e.update(t);const i=e.digest();return oe.US.encodeByteArray(i)},AD=function(...n){let t="";for(let e=0;e<n.length;e++){const i=n[e];Array.isArray(i)||i&&"object"==typeof i&&"number"==typeof i.length?t+=AD.apply(null,i):t+="object"==typeof i?(0,oe.Pz)(i):i,t+=" "}return t};let m_=null,xq=!0;const Iq=function(n,t){(0,oe.hu)(!t||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(Hb.logLevel=Qo.in.VERBOSE,m_=Hb.log.bind(Hb),t&&JF.set("logging_enabled",!0)):"function"==typeof n?m_=n:(m_=null,JF.remove("logging_enabled"))},Ks=function(...n){if(!0===xq&&(xq=!1,null===m_&&!0===JF.get("logging_enabled")&&Iq(!0)),m_){const t=AD.apply(null,n);m_(t)}},MD=function(n){return function(...t){Ks(n,...t)}},XF=function(...n){const t="FIREBASE INTERNAL ERROR: "+AD(...n);Hb.error(t)},Pd=function(...n){const t=`FIREBASE FATAL ERROR: ${AD(...n)}`;throw Hb.error(t),new Error(t)},Pa=function(...n){const t="FIREBASE WARNING: "+AD(...n);Hb.warn(t)},wM=function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},sf="[MIN_NAME]",Nd="[MAX_NAME]",__=function(n,t){if(n===t)return 0;if(n===sf||t===Nd)return-1;if(t===sf||n===Nd)return 1;{const e=EM(n),i=EM(t);return null!==e?null!==i?e-i==0?n.length-t.length:e-i:-1:null!==i?1:n<t?-1:1}},cJ=function(n,t){return n===t?0:n<t?-1:1},kD=function(n,t){if(t&&n in t)return t[n];throw new Error("Missing required key ("+n+") in object: "+(0,oe.Pz)(t))},eL=function(n){if("object"!=typeof n||null===n)return(0,oe.Pz)(n);const t=[];for(const i in n)t.push(i);t.sort();let e="{";for(let i=0;i<t.length;i++)0!==i&&(e+=","),e+=(0,oe.Pz)(t[i]),e+=":",e+=eL(n[t[i]]);return e+="}",e},Aq=function(n,t){const e=n.length;if(e<=t)return[n];const i=[];for(let s=0;s<e;s+=t)i.push(n.substring(s,s+t>e?e:s+t));return i};function Qs(n,t){for(const e in n)n.hasOwnProperty(e)&&t(e,n[e])}const Mq=function(n){(0,oe.hu)(!wM(n),"Invalid JSON number");const i=1023;let s,a,u,f,g;0===n?(a=0,u=0,s=1/n==-1/0?1:0):(s=n<0,(n=Math.abs(n))>=Math.pow(2,1-i)?(f=Math.min(Math.floor(Math.log(n)/Math.LN2),i),a=f+i,u=Math.round(n*Math.pow(2,52-f)-Math.pow(2,52))):(a=0,u=Math.round(n/Math.pow(2,-1074))));const C=[];for(g=52;g;g-=1)C.push(u%2?1:0),u=Math.floor(u/2);for(g=11;g;g-=1)C.push(a%2?1:0),a=Math.floor(a/2);C.push(s?1:0),C.reverse();const x=C.join("");let R="";for(g=0;g<64;g+=8){let G=parseInt(x.substr(g,8),2).toString(16);1===G.length&&(G="0"+G),R+=G}return R.toLowerCase()},fJ=new RegExp("^-?(0*)\\d{1,10}$"),kq=-2147483648,tL=2147483647,EM=function(n){if(fJ.test(n)){const t=Number(n);if(t>=kq&&t<=tL)return t}return null},qb=function(n){try{n()}catch(t){setTimeout(()=>{throw Pa("Exception was thrown by user callback.",t.stack||""),t},Math.floor(0))}},RD=function(n,t){const e=setTimeout(n,t);return"object"==typeof e&&e.unref&&e.unref(),e};class gJ{constructor(t,e){this.appName_=t,this.appCheckProvider=e,this.appCheck=null==e?void 0:e.getImmediate({optional:!0}),this.appCheck||null==e||e.get().then(i=>this.appCheck=i)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((e,i)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(e,i):e(null)},0)})}addTokenChangeListener(t){var e;null===(e=this.appCheckProvider)||void 0===e||e.get().then(i=>i.addTokenListener(t))}notifyForInvalidToken(){Pa(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class mJ{constructor(t,e,i){this.appName_=t,this.firebaseOptions_=e,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(s=>this.auth_=s)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(e=>e&&"auth/token-not-initialized"===e.code?(Ks("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)):new Promise((e,i)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(e,i):e(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(e=>e.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(e=>e.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';t+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Pa(t)}}let OD=(()=>{class n{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const Fq=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Vq="websocket",Bq="long_polling";class iL{constructor(t,e,i,s,a=!1,u="",f=!1){this.secure=e,this.namespace=i,this.webSocketOnly=s,this.nodeAdmin=a,this.persistenceKey=u,this.includeNamespaceInQueryParams=f,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=g_.get("host:"+t)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&g_.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function Uq(n,t,e){let i;if((0,oe.hu)("string"==typeof t,"typeof type must == string"),(0,oe.hu)("object"==typeof e,"typeof params must == object"),t===Vq)i=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(t!==Bq)throw new Error("Unknown connection type: "+t);i=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(e.ns=n.namespace);const s=[];return Qs(e,(a,u)=>{s.push(a+"="+u)}),i+s.join("&")}class vJ{constructor(){this.counters_={}}incrementCounter(t,e=1){(0,oe.r3)(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e}get(){return(0,oe.p$)(this.counters_)}}const rL={},sL={};function oL(n){const t=n.toString();return rL[t]||(rL[t]=new vJ),rL[t]}class CJ{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,e){for(this.pendingResponses[t]=e;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let s=0;s<i.length;++s)i[s]&&qb(()=>{this.onMessage_(i[s])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class zb{constructor(t,e,i,s,a,u,f){this.connId=t,this.repoInfo=e,this.applicationId=i,this.appCheckToken=s,this.authToken=a,this.transportSessionId=u,this.lastSessionId=f,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=MD(t),this.stats_=oL(e),this.urlFn=g=>(this.appCheckToken&&(g.ac=this.appCheckToken),Uq(e,Bq,g))}open(t,e){this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new CJ(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if((0,oe.Yr)()||"complete"===document.readyState)n();else{let t=!1;const e=function(){document.body?t||(t=!0,n()):setTimeout(e,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",e,!1),window.addEventListener("load",e,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&e()}),window.attachEvent("onload",e))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new aL((...a)=>{const[u,f,g,C,x]=a;if(this.incrementIncomingBytes_(a),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===u)this.id=f,this.password=g;else{if("close"!==u)throw new Error("Unrecognized command received: "+u);f?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(f,()=>{this.onClosed_()})):this.onClosed_()}},(...a)=>{const[u,f]=a;this.incrementIncomingBytes_(a),this.myPacketOrderer.handleResponse(u,f)},()=>{this.onClosed_()},this.urlFn);const i={start:"t"};i.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(i.cb=this.scriptTagHolder.uniqueCallbackIdentifier),i.v="5",this.transportSessionId&&(i.s=this.transportSessionId),this.lastSessionId&&(i.ls=this.lastSessionId),this.applicationId&&(i.p=this.applicationId),this.appCheckToken&&(i.ac=this.appCheckToken),"undefined"!=typeof location&&location.hostname&&Fq.test(location.hostname)&&(i.r="f");const s=this.urlFn(i);this.log_("Connecting via long-poll to "+s),this.scriptTagHolder.addTag(s,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){zb.forceAllow_=!0}static forceDisallow(){zb.forceDisallow_=!0}static isAvailable(){return!((0,oe.Yr)()||!zb.forceAllow_&&(zb.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const e=(0,oe.Pz)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);const i=(0,oe.h$)(e),s=Aq(i,1840);for(let a=0;a<s.length;a++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,s.length,s[a]),this.curSegmentNum++}addDisconnectPingFrame(t,e){if((0,oe.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const i={dframe:"t"};i.id=t,i.pw=e,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const e=(0,oe.Pz)(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)}}class aL{constructor(t,e,i,s){if(this.onDisconnect=i,this.urlFn=s,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,oe.Yr)())this.commandCB=t,this.onMessageCB=e;else{this.uniqueCallbackIdentifier=Tq(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=e,this.myIFrame=aL.createIFrame_();let a="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length)&&(a='<script>document.domain="'+document.domain+'";<\/script>');const u="<html><body>"+a+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(u),this.myIFrame.doc.close()}catch(f){Ks("frame writing exception"),f.stack&&Ks(f.stack),Ks(f)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||Ks("No IE domain setting required")}catch(e){const i=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;let e=this.urlFn(t),i="",s=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+i.length<=1870;){const u=this.pendingSegs.shift();i=i+"&seg"+s+"="+u.seg+"&ts"+s+"="+u.ts+"&d"+s+"="+u.d,s++}return e+=i,this.addLongPollTag_(e,this.currentSerial),!0}return!1}enqueueSegment(t,e,i){this.pendingSegs.push({seg:t,ts:e,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(t,e){this.outstandingRequests.add(e);const i=()=>{this.outstandingRequests.delete(e),this.newRequest_()},s=setTimeout(i,Math.floor(25e3));this.addTag(t,()=>{clearTimeout(s),i()})}addTag(t,e){(0,oe.Yr)()?this.doNodeLongPoll(t,e):setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=t,i.onload=i.onreadystatechange=function(){const s=i.readyState;(!s||"loaded"===s||"complete"===s)&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),e())},i.onerror=()=>{Ks("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch(i){}},Math.floor(1))}}let PD=null;"undefined"!=typeof MozWebSocket?PD=MozWebSocket:"undefined"!=typeof WebSocket&&(PD=WebSocket);let ND=(()=>{class n{constructor(e,i,s,a,u,f,g){this.connId=e,this.applicationId=s,this.appCheckToken=a,this.authToken=u,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=MD(this.connId),this.stats_=oL(i),this.connURL=n.connectionURL_(i,f,g,a),this.nodeAdmin=i.nodeAdmin}static connectionURL_(e,i,s,a){const u={v:"5"};return!(0,oe.Yr)()&&"undefined"!=typeof location&&location.hostname&&Fq.test(location.hostname)&&(u.r="f"),i&&(u.s=i),s&&(u.ls=s),a&&(u.ac=a),Uq(e,Vq,u)}open(e,i){this.onDisconnect=i,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,g_.set("previous_websocket_failure",!0);try{if((0,oe.Yr)()){const a={headers:{"User-Agent":`Firebase/5/${QF}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}};this.authToken&&(a.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(a.headers["X-Firebase-AppCheck"]=this.appCheckToken);const u=process.env,f=0===this.connURL.indexOf("wss://")?u.HTTPS_PROXY||u.https_proxy:u.HTTP_PROXY||u.http_proxy;f&&(a.proxy={origin:f}),this.mySock=new PD(this.connURL,[],a)}else this.mySock=new PD(this.connURL,[],{headers:{"X-Firebase-GMPID":this.applicationId||"","X-Firebase-AppCheck":this.appCheckToken||""}})}catch(s){this.log_("Error instantiating WebSocket.");const a=s.message||s.data;return a&&this.log_(a),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=s=>{this.handleIncomingFrame(s)},this.mySock.onerror=s=>{this.log_("WebSocket error.  Closing connection.");const a=s.message||s.data;a&&this.log_(a),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let e=!1;if("undefined"!=typeof navigator&&navigator.userAgent){const s=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);s&&s.length>1&&parseFloat(s[1])<4.4&&(e=!0)}return!e&&null!==PD&&!n.forceDisallow_}static previouslyFailed(){return g_.isInMemoryStorage||!0===g_.get("previous_websocket_failure")}markConnectionHealthy(){g_.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const s=(0,oe.cI)(i);this.onMessage(s)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if((0,oe.hu)(null===this.frames,"We already have a frame buffer"),e.length<=6){const i=Number(e);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const i=e.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(i);else{const s=this.extractFrameCount_(i);null!==s&&this.appendFrame_(s)}}send(e){this.resetKeepAlive();const i=(0,oe.Pz)(e);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const s=Aq(i,16384);s.length>1&&this.sendString_(String(s.length));for(let a=0;a<s.length;a++)this.sendString_(s[a])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})();class lL{constructor(t){this.initTransports_(t)}static get ALL_TRANSPORTS(){return[zb,ND]}initTransports_(t){const e=ND&&ND.isAvailable();let i=e&&!ND.previouslyFailed();if(t.webSocketOnly&&(e||Pa("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[ND];else{const s=this.transports_=[];for(const a of lL.ALL_TRANSPORTS)a&&a.isAvailable()&&s.push(a)}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}class Xq{constructor(t,e,i,s,a,u,f,g,C,x){this.id=t,this.repoInfo_=e,this.applicationId_=i,this.appCheckToken_=s,this.authToken_=a,this.onMessage_=u,this.onReady_=f,this.onDisconnect_=g,this.onKill_=C,this.lastSessionId=x,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=MD("c:"+this.id+":"),this.transportManager_=new lL(e),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(e,i)},Math.floor(0));const s=t.healthyTimeout||0;s>0&&(this.healthyTimeout_=RD(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(s)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return e=>{t===this.conn_?this.onConnectionLost_(e):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return e=>{2!==this.state_&&(t===this.rx_?this.onPrimaryMessageReceived_(e):t===this.secondaryConn_?this.onSecondaryMessageReceived_(e):this.log_("message on old connection"))}}sendRequest(t){this.sendData_({t:"d",d:t})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if("t"in t){const e=t.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const e=kD("t",t),i=kD("d",t);if("c"===e)this.onSecondaryControl_(i);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(i)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const e=kD("t",t),i=kD("d",t);"c"===e?this.onControl_(i):"d"===e&&this.onDataMessage_(i)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const e=kD("t",t);if("d"in t){const i=t.d;if("h"===e)this.onHandshake_(i);else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let s=0;s<this.pendingDataMessages.length;++s)this.onDataMessage_(this.pendingDataMessages[s]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(i):"r"===e?this.onReset_(i):"e"===e?XF("Server Error: "+i):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):XF("Unknown control packet command: "+e)}}onHandshake_(t){const e=t.ts,i=t.v,s=t.h;this.sessionId=t.s,this.repoInfo_.host=s,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==i&&Pa("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(e,i),RD(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,e){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):RD(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(g_.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class e4{put(t,e,i,s){}merge(t,e,i,s){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,e,i){}onDisconnectMerge(t,e,i){}onDisconnectCancel(t,e){}reportStats(t){}}class t4{constructor(t){this.allowedEvents_=t,this.listeners_={},(0,oe.hu)(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...e){if(Array.isArray(this.listeners_[t])){const i=[...this.listeners_[t]];for(let s=0;s<i.length;s++)i[s].callback.apply(i[s].context,e)}}on(t,e,i){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:i});const s=this.getInitialEvent(t);s&&e.apply(i,s)}off(t,e,i){this.validateEventType_(t);const s=this.listeners_[t]||[];for(let a=0;a<s.length;a++)if(s[a].callback===e&&(!i||i===s[a].context))return void s.splice(a,1)}validateEventType_(t){(0,oe.hu)(this.allowedEvents_.find(e=>e===t),"Unknown event: "+t)}}class TM extends t4{constructor(){super(["online"]),this.online_=!0,"undefined"!=typeof window&&void 0!==window.addEventListener&&!(0,oe.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new TM}getInitialEvent(t){return(0,oe.hu)("online"===t,"Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}class gi{constructor(t,e){if(void 0===e){this.pieces_=t.split("/");let i=0;for(let s=0;s<this.pieces_.length;s++)this.pieces_[s].length>0&&(this.pieces_[i]=this.pieces_[s],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}toString(){let t="";for(let e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"}}function hi(){return new gi("")}function Mn(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function ig(n){return n.pieces_.length-n.pieceNum_}function Fi(n){let t=n.pieceNum_;return t<n.pieces_.length&&t++,new gi(n.pieces_,t)}function uL(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function FD(n,t=0){return n.pieces_.slice(n.pieceNum_+t)}function r4(n){if(n.pieceNum_>=n.pieces_.length)return null;const t=[];for(let e=n.pieceNum_;e<n.pieces_.length-1;e++)t.push(n.pieces_[e]);return new gi(t,0)}function yr(n,t){const e=[];for(let i=n.pieceNum_;i<n.pieces_.length;i++)e.push(n.pieces_[i]);if(t instanceof gi)for(let i=t.pieceNum_;i<t.pieces_.length;i++)e.push(t.pieces_[i]);else{const i=t.split("/");for(let s=0;s<i.length;s++)i[s].length>0&&e.push(i[s])}return new gi(e,0)}function kn(n){return n.pieceNum_>=n.pieces_.length}function Na(n,t){const e=Mn(n),i=Mn(t);if(null===e)return t;if(e===i)return Na(Fi(n),Fi(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+n+")")}function qJ(n,t){const e=FD(n,0),i=FD(t,0);for(let s=0;s<e.length&&s<i.length;s++){const a=__(e[s],i[s]);if(0!==a)return a}return e.length===i.length?0:e.length<i.length?-1:1}function dL(n,t){if(ig(n)!==ig(t))return!1;for(let e=n.pieceNum_,i=t.pieceNum_;e<=n.pieces_.length;e++,i++)if(n.pieces_[e]!==t.pieces_[i])return!1;return!0}function Pc(n,t){let e=n.pieceNum_,i=t.pieceNum_;if(ig(n)>ig(t))return!1;for(;e<n.pieces_.length;){if(n.pieces_[e]!==t.pieces_[i])return!1;++e,++i}return!0}class zJ{constructor(t,e){this.errorPrefix_=e,this.parts_=FD(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=(0,oe.ug)(this.parts_[i]);s4(this)}}function s4(n){if(n.byteLength_>768)throw new Error(n.errorPrefix_+"has a key path longer than 768 bytes ("+n.byteLength_+").");if(n.parts_.length>32)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+y_(n))}function y_(n){return 0===n.parts_.length?"":"in property '"+n.parts_.join(".")+"'"}class hL extends t4{constructor(){let t,e;super(["visible"]),"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(e="visibilitychange",t="hidden"):void 0!==document.mozHidden?(e="mozvisibilitychange",t="mozHidden"):void 0!==document.msHidden?(e="msvisibilitychange",t="msHidden"):void 0!==document.webkitHidden&&(e="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,e&&document.addEventListener(e,()=>{const i=!document[t];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}static getInstance(){return new hL}getInitialEvent(t){return(0,oe.hu)("visible"===t,"Unknown event type: "+t),[this.visible_]}}const LD=1e3;let xM,v_=(()=>{class n extends e4{constructor(e,i,s,a,u,f,g,C){if(super(),this.repoInfo_=e,this.applicationId_=i,this.onDataUpdate_=s,this.onConnectStatus_=a,this.onServerInfoUpdate_=u,this.authTokenProvider_=f,this.appCheckTokenProvider_=g,this.authOverride_=C,this.id=n.nextPersistentConnectionId_++,this.log_=MD("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=LD,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,C&&!(0,oe.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");hL.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&TM.getInstance().on("online",this.onOnline_,this)}sendRequest(e,i,s){const a=++this.requestNumber_,u={r:a,a:e,b:i};this.log_((0,oe.Pz)(u)),(0,oe.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(u),s&&(this.requestCBHash_[a]=s)}get(e){this.initConnection_();const i=new oe.BH,s={p:e._path.toString(),q:e._queryObject},a={action:"g",request:s,onComplete:f=>{const g=f.d;"ok"===f.s?(this.onDataUpdate_(s.p,g,!1,null),i.resolve(g)):i.reject(g)}};this.outstandingGets_.push(a),this.outstandingGetCount_++;const u=this.outstandingGets_.length-1;return this.connected_||setTimeout(()=>{const f=this.outstandingGets_[u];void 0===f||a!==f||(delete this.outstandingGets_[u],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),this.log_("get "+u+" timed out on connection"),i.reject(new Error("Client is offline.")))},3e3),this.connected_&&this.sendGet_(u),i.promise}listen(e,i,s,a){this.initConnection_();const u=e._queryIdentifier,f=e._path.toString();this.log_("Listen called for "+f+" "+u),this.listens.has(f)||this.listens.set(f,new Map),(0,oe.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,oe.hu)(!this.listens.get(f).has(u),"listen() called twice for same path/queryId.");const g={onComplete:a,hashFn:i,query:e,tag:s};this.listens.get(f).set(u,g),this.connected_&&this.sendListen_(g)}sendGet_(e){const i=this.outstandingGets_[e];this.sendRequest("g",i.request,s=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(s)})}sendListen_(e){const i=e.query,s=i._path.toString(),a=i._queryIdentifier;this.log_("Listen on "+s+" for "+a);const u={p:s};e.tag&&(u.q=i._queryObject,u.t=e.tag),u.h=e.hashFn(),this.sendRequest("q",u,g=>{const C=g.d,x=g.s;n.warnOnListenWarnings_(C,i),(this.listens.get(s)&&this.listens.get(s).get(a))===e&&(this.log_("listen response",g),"ok"!==x&&this.removeListen_(s,a),e.onComplete&&e.onComplete(x,C))})}static warnOnListenWarnings_(e,i){if(e&&"object"==typeof e&&(0,oe.r3)(e,"w")){const s=(0,oe.DV)(e,"w");if(Array.isArray(s)&&~s.indexOf("no_index")){const a='".indexOn": "'+i._queryParams.getIndex().toString()+'"',u=i._path.toString();Pa(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${a} at ${u} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||(0,oe.GJ)(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,i=(0,oe.w9)(e)?"auth":"gauth",s={cred:e};null===this.authOverride_?s.noauth=!0:"object"==typeof this.authOverride_&&(s.authvar=this.authOverride_),this.sendRequest(i,s,a=>{const u=a.s,f=a.d||"error";this.authToken_===e&&("ok"===u?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(u,f))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const i=e.s,s=e.d||"error";"ok"===i?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,s)})}unlisten(e,i){const s=e._path.toString(),a=e._queryIdentifier;this.log_("Unlisten called for "+s+" "+a),(0,oe.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(s,a)&&this.connected_&&this.sendUnlisten_(s,a,e._queryObject,i)}sendUnlisten_(e,i,s,a){this.log_("Unlisten on "+e+" for "+i);const u={p:e};a&&(u.q=s,u.t=a),this.sendRequest("n",u)}onDisconnectPut(e,i,s){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,i,s):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:i,onComplete:s})}onDisconnectMerge(e,i,s){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,i,s):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:i,onComplete:s})}onDisconnectCancel(e,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(e,i,s,a){const u={p:i,d:s};this.log_("onDisconnect "+e,u),this.sendRequest(e,u,f=>{a&&setTimeout(()=>{a(f.s,f.d)},Math.floor(0))})}put(e,i,s,a){this.putInternal("p",e,i,s,a)}merge(e,i,s,a){this.putInternal("m",e,i,s,a)}putInternal(e,i,s,a,u){this.initConnection_();const f={p:i,d:s};void 0!==u&&(f.h=u),this.outstandingPuts_.push({action:e,request:f,onComplete:a}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+i)}sendPut_(e){const i=this.outstandingPuts_[e].action,s=this.outstandingPuts_[e].request,a=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(i,s,u=>{this.log_(i+" response",u),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),a&&a(u.s,u.d)})}reportStats(e){if(this.connected_){const i={c:e};this.log_("reportStats",i),this.sendRequest("s",i,s=>{"ok"!==s.s&&this.log_("reportStats","Error sending stats: "+s.d)})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+(0,oe.Pz)(e));const i=e.r,s=this.requestCBHash_[i];s&&(delete this.requestCBHash_[i],s(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,i){this.log_("handleServerMessage",e,i),"d"===e?this.onDataUpdate_(i.p,i.d,!1,i.t):"m"===e?this.onDataUpdate_(i.p,i.d,!0,i.t):"c"===e?this.onListenRevoked_(i.p,i.q):"ac"===e?this.onAuthRevoked_(i.s,i.d):"apc"===e?this.onAppCheckRevoked_(i.s,i.d):"sd"===e?this.onSecurityDebugPacket_(i):XF("Unrecognized action received from server: "+(0,oe.Pz)(e)+"\nAre you using the latest client?")}onReady_(e,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){(0,oe.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=LD,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=LD,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=LD),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const e=(new Date).getTime()-this.lastConnectionAttemptTime_;let i=Math.max(0,this.reconnectDelay_-e);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var e=this;return(0,Je.Z)(function*(){if(e.shouldReconnect_()){e.log_("Making a connection attempt"),e.lastConnectionAttemptTime_=(new Date).getTime(),e.lastConnectionEstablishedTime_=null;const i=e.onDataMessage_.bind(e),s=e.onReady_.bind(e),a=e.onRealtimeDisconnect_.bind(e),u=e.id+":"+n.nextConnectionId_++,f=e.lastSessionId;let g=!1,C=null;const x=function(){C?C.close():(g=!0,a())};e.realtime_={close:x,sendRequest:function(ee){(0,oe.hu)(C,"sendRequest call when we're not connected not allowed."),C.sendRequest(ee)}};const G=e.forceTokenRefresh_;e.forceTokenRefresh_=!1;try{const[ee,he]=yield Promise.all([e.authTokenProvider_.getToken(G),e.appCheckTokenProvider_.getToken(G)]);g?Ks("getToken() completed but was canceled"):(Ks("getToken() completed. Creating connection."),e.authToken_=ee&&ee.accessToken,e.appCheckToken_=he&&he.token,C=new Xq(u,e.repoInfo_,e.applicationId_,e.appCheckToken_,e.authToken_,i,s,a,Fe=>{Pa(Fe+" ("+e.repoInfo_.toString()+")"),e.interrupt("server_kill")},f))}catch(ee){e.log_("Failed to get token: "+ee),g||(e.repoInfo_.nodeAdmin&&Pa(ee),x())}}})()}interrupt(e){Ks("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Ks("Resuming connection for reason: "+e),delete this.interruptReasons_[e],(0,oe.xb)(this.interruptReasons_)&&(this.reconnectDelay_=LD,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const i=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const i=this.outstandingPuts_[e];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,i){let s;s=i?i.map(u=>eL(u)).join("$"):"default";const a=this.removeListen_(e,s);a&&a.onComplete&&a.onComplete("permission_denied")}removeListen_(e,i){const s=new gi(e).toString();let a;if(this.listens.has(s)){const u=this.listens.get(s);a=u.get(i),u.delete(i),0===u.size&&this.listens.delete(s)}else a=void 0;return a}onAuthRevoked_(e,i){Ks("Auth token revoked: "+e+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===e||"permission_denied"===e)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,i){Ks("App check token revoked: "+e+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===e||"permission_denied"===e)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const i of e.values())this.sendListen_(i);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let i="js";(0,oe.Yr)()&&(i=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+i+"."+QF.replace(/\./g,"-")]=1,(0,oe.uI)()?e["framework.cordova"]=1:(0,oe.b$)()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=TM.getInstance().currentlyOnline();return(0,oe.xb)(this.interruptReasons_)&&e}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class Nn{constructor(t,e){this.name=t,this.node=e}static Wrap(t,e){return new Nn(t,e)}}class SM{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,e){const i=new Nn(sf,t),s=new Nn(sf,e);return 0!==this.compare(i,s)}minPost(){return Nn.MIN}}class l4 extends SM{static get __EMPTY_NODE(){return xM}static set __EMPTY_NODE(t){xM=t}compare(t,e){return __(t.name,e.name)}isDefinedOn(t){throw(0,oe.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,e){return!1}minPost(){return Nn.MIN}maxPost(){return new Nn(Nd,xM)}makePost(t,e){return(0,oe.hu)("string"==typeof t,"KeyIndex indexValue must always be a string."),new Nn(t,xM)}toString(){return".key"}}const Fd=new l4;class IM{constructor(t,e,i,s,a=null){this.isReverse_=s,this.resultGenerator_=a,this.nodeStack_=[];let u=1;for(;!t.isEmpty();)if(t=t,u=e?i(t.key,e):1,s&&(u*=-1),u<0)t=this.isReverse_?t.left:t.right;else{if(0===u){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}let pL,Bu=(()=>{class n{constructor(e,i,s,a,u){this.key=e,this.value=i,this.color=null!=s?s:n.RED,this.left=null!=a?a:gl.EMPTY_NODE,this.right=null!=u?u:gl.EMPTY_NODE}copy(e,i,s,a,u){return new n(null!=e?e:this.key,null!=i?i:this.value,null!=s?s:this.color,null!=a?a:this.left,null!=u?u:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,s){let a=this;const u=s(e,a.key);return a=u<0?a.copy(null,null,null,a.left.insert(e,i,s),null):0===u?a.copy(null,i,null,null,null):a.copy(null,null,null,null,a.right.insert(e,i,s)),a.fixUp_()}removeMin_(){if(this.left.isEmpty())return gl.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,i){let s,a;if(s=this,i(e,s.key)<0)!s.left.isEmpty()&&!s.left.isRed_()&&!s.left.left.isRed_()&&(s=s.moveRedLeft_()),s=s.copy(null,null,null,s.left.remove(e,i),null);else{if(s.left.isRed_()&&(s=s.rotateRight_()),!s.right.isEmpty()&&!s.right.isRed_()&&!s.right.left.isRed_()&&(s=s.moveRedRight_()),0===i(e,s.key)){if(s.right.isEmpty())return gl.EMPTY_NODE;a=s.right.min_(),s=s.copy(a.key,a.value,null,null,s.right.removeMin_())}s=s.copy(null,null,null,null,s.right.remove(e,i))}return s.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class gl{constructor(t,e=gl.EMPTY_NODE){this.comparator_=t,this.root_=e}insert(t,e){return new gl(this.comparator_,this.root_.insert(t,e,this.comparator_).copy(null,null,Bu.BLACK,null,null))}remove(t){return new gl(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,Bu.BLACK,null,null))}get(t){let e,i=this.root_;for(;!i.isEmpty();){if(e=this.comparator_(t,i.key),0===e)return i.value;e<0?i=i.left:e>0&&(i=i.right)}return null}getPredecessorKey(t){let e,i=this.root_,s=null;for(;!i.isEmpty();){if(e=this.comparator_(t,i.key),0===e){if(i.left.isEmpty())return s?s.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}e<0?i=i.left:e>0&&(s=i,i=i.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new IM(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,e){return new IM(this.root_,t,this.comparator_,!1,e)}getReverseIteratorFrom(t,e){return new IM(this.root_,t,this.comparator_,!0,e)}getReverseIterator(t){return new IM(this.root_,null,this.comparator_,!0,t)}}function XJ(n,t){return __(n.name,t.name)}function fL(n,t){return __(n,t)}gl.EMPTY_NODE=new class{copy(t,e,i,s,a){return this}insert(t,e,i){return new Bu(t,e,null)}remove(t,e){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const c4=function(n){return"number"==typeof n?"number:"+Mq(n):"string:"+n},u4=function(n){if(n.isLeafNode()){const t=n.val();(0,oe.hu)("string"==typeof t||"number"==typeof t||"object"==typeof t&&(0,oe.r3)(t,".sv"),"Priority must be a string or number.")}else(0,oe.hu)(n===pL||n.isEmpty(),"priority of unexpected type.");(0,oe.hu)(n===pL||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let d4,h4,f4,Gb=(()=>{class n{constructor(e,i=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=i,this.lazyHash_=null,(0,oe.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),u4(this.priorityNode_)}static set __childrenNodeConstructor(e){d4=e}static get __childrenNodeConstructor(){return d4}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new n(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return kn(e)?this:".priority"===Mn(e)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,i){return null}updateImmediateChild(e,i){return".priority"===e?this.updatePriority(i):i.isEmpty()&&".priority"!==e?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,i).updatePriority(this.priorityNode_)}updateChild(e,i){const s=Mn(e);return null===s?i:i.isEmpty()&&".priority"!==s?this:((0,oe.hu)(".priority"!==s||1===ig(e),".priority must be the last token in a path"),this.updateImmediateChild(s,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(Fi(e),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,i){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+c4(this.priorityNode_.val())+":");const i=typeof this.value_;e+=i+":",e+="number"===i?Mq(this.value_):this.value_,this.lazyHash_=Sq(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===n.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof n.__childrenNodeConstructor?-1:((0,oe.hu)(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const i=typeof e.value_,s=typeof this.value_,a=n.VALUE_TYPE_ORDER.indexOf(i),u=n.VALUE_TYPE_ORDER.indexOf(s);return(0,oe.hu)(a>=0,"Unknown leaf type: "+i),(0,oe.hu)(u>=0,"Unknown leaf type: "+s),a===u?"object"===s?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:u-a}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const i=e;return this.value_===i.value_&&this.priorityNode_.equals(i.priorityNode_)}return!1}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();const Wi=new class extends SM{compare(t,e){const i=t.node.getPriority(),s=e.node.getPriority(),a=i.compareTo(s);return 0===a?__(t.name,e.name):a}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,e){return!t.getPriority().equals(e.getPriority())}minPost(){return Nn.MIN}maxPost(){return new Nn(Nd,new Gb("[PRIORITY-POST]",f4))}makePost(t,e){const i=h4(t);return new Nn(e,new Gb("[PRIORITY-POST]",i))}toString(){return".priority"}},rX=Math.log(2);class sX{constructor(t){this.count=parseInt(Math.log(t+1)/rX,10),this.current_=this.count-1;const s=(a=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=t+1&s}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const AM=function(n,t,e,i){n.sort(t);const s=function(g,C){const x=C-g;let R,G;if(0===x)return null;if(1===x)return R=n[g],G=e?e(R):R,new Bu(G,R.node,Bu.BLACK,null,null);{const ee=parseInt(x/2,10)+g,he=s(g,ee),Fe=s(ee+1,C);return R=n[ee],G=e?e(R):R,new Bu(G,R.node,Bu.BLACK,he,Fe)}},f=function(g){let C=null,x=null,R=n.length;const G=function(he,Fe){const He=R-he,ht=R;R-=he;const mt=s(He+1,ht),Et=n[He],Ct=e?e(Et):Et;ee(new Bu(Ct,Et.node,Fe,null,mt))},ee=function(he){C?(C.left=he,C=he):(x=he,C=he)};for(let he=0;he<g.count;++he){const Fe=g.nextBitIsOne(),He=Math.pow(2,g.count-(he+1));Fe?G(He,Bu.BLACK):(G(He,Bu.BLACK),G(He,Bu.RED))}return x}(new sX(n.length));return new gl(i||t,f)};let gL;const $b={};class af{constructor(t,e){this.indexes_=t,this.indexSet_=e}static get Default(){return(0,oe.hu)($b&&Wi,"ChildrenNode.ts has not been loaded"),gL=gL||new af({".priority":$b},{".priority":Wi}),gL}get(t){const e=(0,oe.DV)(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof gl?e:null}hasIndex(t){return(0,oe.r3)(this.indexSet_,t.toString())}addIndex(t,e){(0,oe.hu)(t!==Fd,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let s=!1;const a=e.getIterator(Nn.Wrap);let f,u=a.getNext();for(;u;)s=s||t.isDefinedOn(u.node),i.push(u),u=a.getNext();f=s?AM(i,t.getCompare()):$b;const g=t.toString(),C=Object.assign({},this.indexSet_);C[g]=t;const x=Object.assign({},this.indexes_);return x[g]=f,new af(x,C)}addToIndexes(t,e){const i=(0,oe.UI)(this.indexes_,(s,a)=>{const u=(0,oe.DV)(this.indexSet_,a);if((0,oe.hu)(u,"Missing index implementation for "+a),s===$b){if(u.isDefinedOn(t.node)){const f=[],g=e.getIterator(Nn.Wrap);let C=g.getNext();for(;C;)C.name!==t.name&&f.push(C),C=g.getNext();return f.push(t),AM(f,u.getCompare())}return $b}{const f=e.get(t.name);let g=s;return f&&(g=g.remove(new Nn(t.name,f))),g.insert(t,t.node)}});return new af(i,this.indexSet_)}removeFromIndexes(t,e){const i=(0,oe.UI)(this.indexes_,s=>{if(s===$b)return s;{const a=e.get(t.name);return a?s.remove(new Nn(t.name,a)):s}});return new af(i,this.indexSet_)}}let VD,En=(()=>{class n{constructor(e,i,s){this.children_=e,this.priorityNode_=i,this.indexMap_=s,this.lazyHash_=null,this.priorityNode_&&u4(this.priorityNode_),this.children_.isEmpty()&&(0,oe.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return VD||(VD=new n(new gl(fL),null,af.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||VD}updatePriority(e){return this.children_.isEmpty()?this:new n(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const i=this.children_.get(e);return null===i?VD:i}}getChild(e){const i=Mn(e);return null===i?this:this.getImmediateChild(i).getChild(Fi(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,i){if((0,oe.hu)(i,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(i);{const s=new Nn(e,i);let a,u;i.isEmpty()?(a=this.children_.remove(e),u=this.indexMap_.removeFromIndexes(s,this.children_)):(a=this.children_.insert(e,i),u=this.indexMap_.addToIndexes(s,this.children_));const f=a.isEmpty()?VD:this.priorityNode_;return new n(a,f,u)}}updateChild(e,i){const s=Mn(e);if(null===s)return i;{(0,oe.hu)(".priority"!==Mn(e)||1===ig(e),".priority must be the last token in a path");const a=this.getImmediateChild(s).updateChild(Fi(e),i);return this.updateImmediateChild(s,a)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const i={};let s=0,a=0,u=!0;if(this.forEachChild(Wi,(f,g)=>{i[f]=g.val(e),s++,u&&n.INTEGER_REGEXP_.test(f)?a=Math.max(a,Number(f)):u=!1}),!e&&u&&a<2*s){const f=[];for(const g in i)f[g]=i[g];return f}return e&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+c4(this.getPriority().val())+":"),this.forEachChild(Wi,(i,s)=>{const a=s.hash();""!==a&&(e+=":"+i+":"+a)}),this.lazyHash_=""===e?"":Sq(e)}return this.lazyHash_}getPredecessorChildName(e,i,s){const a=this.resolveIndex_(s);if(a){const u=a.getPredecessorKey(new Nn(e,i));return u?u.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const i=this.resolveIndex_(e);if(i){const s=i.minKey();return s&&s.name}return this.children_.minKey()}getFirstChild(e){const i=this.getFirstChildName(e);return i?new Nn(i,this.children_.get(i)):null}getLastChildName(e){const i=this.resolveIndex_(e);if(i){const s=i.maxKey();return s&&s.name}return this.children_.maxKey()}getLastChild(e){const i=this.getLastChildName(e);return i?new Nn(i,this.children_.get(i)):null}forEachChild(e,i){const s=this.resolveIndex_(e);return s?s.inorderTraversal(a=>i(a.name,a.node)):this.children_.inorderTraversal(i)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,i){const s=this.resolveIndex_(i);if(s)return s.getIteratorFrom(e,a=>a);{const a=this.children_.getIteratorFrom(e.name,Nn.Wrap);let u=a.peek();for(;null!=u&&i.compare(u,e)<0;)a.getNext(),u=a.peek();return a}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,i){const s=this.resolveIndex_(i);if(s)return s.getReverseIteratorFrom(e,a=>a);{const a=this.children_.getReverseIteratorFrom(e.name,Nn.Wrap);let u=a.peek();for(;null!=u&&i.compare(u,e)>0;)a.getNext(),u=a.peek();return a}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===BD?-1:0}withIndex(e){if(e===Fd||this.indexMap_.hasIndex(e))return this;{const i=this.indexMap_.addIndex(e,this.children_);return new n(this.children_,this.priorityNode_,i)}}isIndexed(e){return e===Fd||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const i=e;if(this.getPriority().equals(i.getPriority())){if(this.children_.count()===i.children_.count()){const s=this.getIterator(Wi),a=i.getIterator(Wi);let u=s.getNext(),f=a.getNext();for(;u&&f;){if(u.name!==f.name||!u.node.equals(f.node))return!1;u=s.getNext(),f=a.getNext()}return null===u&&null===f}return!1}return!1}}resolveIndex_(e){return e===Fd?null:this.indexMap_.get(e.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();const BD=new class extends En{constructor(){super(new gl(fL),En.EMPTY_NODE,af.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return En.EMPTY_NODE}isEmpty(){return!1}};function kr(n,t=null){if(null===n)return En.EMPTY_NODE;if("object"==typeof n&&".priority"in n&&(t=n[".priority"]),(0,oe.hu)(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof n&&".value"in n&&null!==n[".value"]&&(n=n[".value"]),"object"!=typeof n||".sv"in n)return new Gb(n,kr(t));if(n instanceof Array){let e=En.EMPTY_NODE;return Qs(n,(i,s)=>{if((0,oe.r3)(n,i)&&"."!==i.substring(0,1)){const a=kr(s);(a.isLeafNode()||!a.isEmpty())&&(e=e.updateImmediateChild(i,a))}}),e.updatePriority(kr(t))}{const e=[];let i=!1;if(Qs(n,(u,f)=>{if("."!==u.substring(0,1)){const g=kr(f);g.isEmpty()||(i=i||!g.getPriority().isEmpty(),e.push(new Nn(u,g)))}}),0===e.length)return En.EMPTY_NODE;const a=AM(e,XJ,u=>u.name,fL);if(i){const u=AM(e,Wi.getCompare());return new En(a,kr(t),new af({".priority":u},{".priority":Wi}))}return new En(a,kr(t),af.Default)}}Object.defineProperties(Nn,{MIN:{value:new Nn(sf,En.EMPTY_NODE)},MAX:{value:new Nn(Nd,BD)}}),l4.__EMPTY_NODE=En.EMPTY_NODE,Gb.__childrenNodeConstructor=En,pL=BD,f4=BD,function(n){h4=n}(kr);class mL extends SM{constructor(t){super(),this.indexPath_=t,(0,oe.hu)(!kn(t)&&".priority"!==Mn(t),"Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,e){const i=this.extractChild(t.node),s=this.extractChild(e.node),a=i.compareTo(s);return 0===a?__(t.name,e.name):a}makePost(t,e){const i=kr(t),s=En.EMPTY_NODE.updateChild(this.indexPath_,i);return new Nn(e,s)}maxPost(){const t=En.EMPTY_NODE.updateChild(this.indexPath_,BD);return new Nn(Nd,t)}toString(){return FD(this.indexPath_,0).join("/")}}const _L=new class extends SM{compare(t,e){const i=t.node.compareTo(e.node);return 0===i?__(t.name,e.name):i}isDefinedOn(t){return!0}indexedValueChanged(t,e){return!t.equals(e)}minPost(){return Nn.MIN}maxPost(){return Nn.MAX}makePost(t,e){const i=kr(t);return new Nn(e,i)}toString(){return".value"}},Yb="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",cX=function(){let n=0;const t=[];return function(e){const i=e===n;let s;n=e;const a=new Array(8);for(s=7;s>=0;s--)a[s]=Yb.charAt(e%64),e=Math.floor(e/64);(0,oe.hu)(0===e,"Cannot push at time == 0");let u=a.join("");if(i){for(s=11;s>=0&&63===t[s];s--)t[s]=0;t[s]++}else for(s=0;s<12;s++)t[s]=Math.floor(64*Math.random());for(s=0;s<12;s++)u+=Yb.charAt(t[s]);return(0,oe.hu)(20===u.length,"nextPushId: Length should be 20."),u}}(),m4=function(n){if(n===""+tL)return"-";const t=EM(n);if(null!=t)return""+(t+1);const e=new Array(n.length);for(let u=0;u<e.length;u++)e[u]=n.charAt(u);if(e.length<786)return e.push("-"),e.join("");let i=e.length-1;for(;i>=0&&"z"===e[i];)i--;if(-1===i)return Nd;const a=Yb.charAt(Yb.indexOf(e[i])+1);return e[i]=a,e.slice(0,i+1).join("")},_4=function(n){if(n===""+kq)return sf;const t=EM(n);if(null!=t)return""+(t-1);const e=new Array(n.length);for(let i=0;i<e.length;i++)e[i]=n.charAt(i);return"-"===e[e.length-1]?1===e.length?""+tL:(delete e[e.length-1],e.join("")):(e[e.length-1]=Yb.charAt(Yb.indexOf(e[e.length-1])-1),e.join("")+"z".repeat(786-e.length))};function y4(n){return{type:"value",snapshotNode:n}}function Zb(n,t){return{type:"child_added",snapshotNode:t,childName:n}}function UD(n,t){return{type:"child_removed",snapshotNode:t,childName:n}}function jD(n,t,e){return{type:"child_changed",snapshotNode:t,childName:n,oldSnap:e}}class vL{constructor(t){this.index_=t}updateChild(t,e,i,s,a,u){(0,oe.hu)(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const f=t.getImmediateChild(e);return f.getChild(s).equals(i.getChild(s))&&f.isEmpty()===i.isEmpty()||(null!=u&&(i.isEmpty()?t.hasChild(e)?u.trackChildChange(UD(e,f)):(0,oe.hu)(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):f.isEmpty()?u.trackChildChange(Zb(e,i)):u.trackChildChange(jD(e,i,f))),t.isLeafNode()&&i.isEmpty())?t:t.updateImmediateChild(e,i).withIndex(this.index_)}updateFullNode(t,e,i){return null!=i&&(t.isLeafNode()||t.forEachChild(Wi,(s,a)=>{e.hasChild(s)||i.trackChildChange(UD(s,a))}),e.isLeafNode()||e.forEachChild(Wi,(s,a)=>{if(t.hasChild(s)){const u=t.getImmediateChild(s);u.equals(a)||i.trackChildChange(jD(s,a,u))}else i.trackChildChange(Zb(s,a))})),e.withIndex(this.index_)}updatePriority(t,e){return t.isEmpty()?En.EMPTY_NODE:t.updatePriority(e)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class HD{constructor(t){this.indexedFilter_=new vL(t.getIndex()),this.index_=t.getIndex(),this.startPost_=HD.getStartPost_(t),this.endPost_=HD.getEndPost_(t)}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){return this.index_.compare(this.getStartPost(),t)<=0&&this.index_.compare(t,this.getEndPost())<=0}updateChild(t,e,i,s,a,u){return this.matches(new Nn(e,i))||(i=En.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,i,s,a,u)}updateFullNode(t,e,i){e.isLeafNode()&&(e=En.EMPTY_NODE);let s=e.withIndex(this.index_);s=s.updatePriority(En.EMPTY_NODE);const a=this;return e.forEachChild(Wi,(u,f)=>{a.matches(new Nn(u,f))||(s=s.updateImmediateChild(u,En.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,s,i)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()}}class dX{constructor(t){this.rangedFilter_=new HD(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}updateChild(t,e,i,s,a,u){return this.rangedFilter_.matches(new Nn(e,i))||(i=En.EMPTY_NODE),t.getImmediateChild(e).equals(i)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,i,s,a,u):this.fullLimitUpdateChild_(t,e,i,a,u)}updateFullNode(t,e,i){let s;if(e.isLeafNode()||e.isEmpty())s=En.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){let a;s=En.EMPTY_NODE.withIndex(this.index_),a=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let u=0;for(;a.hasNext()&&u<this.limit_;){const f=a.getNext();let g;if(g=this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),f)<=0:this.index_.compare(f,this.rangedFilter_.getEndPost())<=0,!g)break;s=s.updateImmediateChild(f.name,f.node),u++}}else{let a,u,f,g;if(s=e.withIndex(this.index_),s=s.updatePriority(En.EMPTY_NODE),this.reverse_){g=s.getReverseIterator(this.index_),a=this.rangedFilter_.getEndPost(),u=this.rangedFilter_.getStartPost();const R=this.index_.getCompare();f=(G,ee)=>R(ee,G)}else g=s.getIterator(this.index_),a=this.rangedFilter_.getStartPost(),u=this.rangedFilter_.getEndPost(),f=this.index_.getCompare();let C=0,x=!1;for(;g.hasNext();){const R=g.getNext();!x&&f(a,R)<=0&&(x=!0),x&&C<this.limit_&&f(R,u)<=0?C++:s=s.updateImmediateChild(R.name,En.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,s,i)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,e,i,s,a){let u;if(this.reverse_){const R=this.index_.getCompare();u=(G,ee)=>R(ee,G)}else u=this.index_.getCompare();const f=t;(0,oe.hu)(f.numChildren()===this.limit_,"");const g=new Nn(e,i),C=this.reverse_?f.getFirstChild(this.index_):f.getLastChild(this.index_),x=this.rangedFilter_.matches(g);if(f.hasChild(e)){const R=f.getImmediateChild(e);let G=s.getChildAfterChild(this.index_,C,this.reverse_);for(;null!=G&&(G.name===e||f.hasChild(G.name));)G=s.getChildAfterChild(this.index_,G,this.reverse_);const ee=null==G?1:u(G,g);if(x&&!i.isEmpty()&&ee>=0)return null!=a&&a.trackChildChange(jD(e,i,R)),f.updateImmediateChild(e,i);{null!=a&&a.trackChildChange(UD(e,R));const Fe=f.updateImmediateChild(e,En.EMPTY_NODE);return null!=G&&this.rangedFilter_.matches(G)?(null!=a&&a.trackChildChange(Zb(G.name,G.node)),Fe.updateImmediateChild(G.name,G.node)):Fe}}return i.isEmpty()?t:x&&u(C,g)>=0?(null!=a&&(a.trackChildChange(UD(C.name,C.node)),a.trackChildChange(Zb(e,i))),f.updateImmediateChild(e,i).updateImmediateChild(C.name,En.EMPTY_NODE)):t}}class MM{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Wi}hasStart(){return this.startSet_}hasStartAfter(){return this.startAfterSet_}hasEndBefore(){return this.endBeforeSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,oe.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,oe.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:sf}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,oe.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,oe.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Nd}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,oe.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Wi}copy(){const t=new MM;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function bL(n,t,e){const i=n.copy();return i.startSet_=!0,void 0===t&&(t=null),i.indexStartValue_=t,null!=e?(i.startNameSet_=!0,i.indexStartName_=e):(i.startNameSet_=!1,i.indexStartName_=""),i}function CL(n,t,e){const i=n.copy();return i.endSet_=!0,void 0===t&&(t=null),i.indexEndValue_=t,void 0!==e?(i.endNameSet_=!0,i.indexEndName_=e):(i.endNameSet_=!1,i.indexEndName_=""),i}function kM(n,t){const e=n.copy();return e.index_=t,e}function v4(n){const t={};if(n.isDefault())return t;let e;return n.index_===Wi?e="$priority":n.index_===_L?e="$value":n.index_===Fd?e="$key":((0,oe.hu)(n.index_ instanceof mL,"Unrecognized index type!"),e=n.index_.toString()),t.orderBy=(0,oe.Pz)(e),n.startSet_&&(t.startAt=(0,oe.Pz)(n.indexStartValue_),n.startNameSet_&&(t.startAt+=","+(0,oe.Pz)(n.indexStartName_))),n.endSet_&&(t.endAt=(0,oe.Pz)(n.indexEndValue_),n.endNameSet_&&(t.endAt+=","+(0,oe.Pz)(n.indexEndName_))),n.limitSet_&&(n.isViewFromLeft()?t.limitToFirst=n.limit_:t.limitToLast=n.limit_),t}function b4(n){const t={};if(n.startSet_&&(t.sp=n.indexStartValue_,n.startNameSet_&&(t.sn=n.indexStartName_)),n.endSet_&&(t.ep=n.indexEndValue_,n.endNameSet_&&(t.en=n.indexEndName_)),n.limitSet_){t.l=n.limit_;let e=n.viewFrom_;""===e&&(e=n.isViewFromLeft()?"l":"r"),t.vf=e}return n.index_!==Wi&&(t.i=n.index_.toString()),t}class RM extends e4{constructor(t,e,i,s){super(),this.repoInfo_=t,this.onDataUpdate_=e,this.authTokenProvider_=i,this.appCheckTokenProvider_=s,this.log_=MD("p:rest:"),this.listens_={}}reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,e){return void 0!==e?"tag$"+e:((0,oe.hu)(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}listen(t,e,i,s){const a=t._path.toString();this.log_("Listen called for "+a+" "+t._queryIdentifier);const u=RM.getListenId_(t,i),f={};this.listens_[u]=f;const g=v4(t._queryParams);this.restRequest_(a+".json",g,(C,x)=>{let R=x;if(404===C&&(R=null,C=null),null===C&&this.onDataUpdate_(a,R,!1,i),(0,oe.DV)(this.listens_,u)===f){let G;G=C?401===C?"permission_denied":"rest_error:"+C:"ok",s(G,null)}})}unlisten(t,e){const i=RM.getListenId_(t,e);delete this.listens_[i]}get(t){const e=v4(t._queryParams),i=t._path.toString(),s=new oe.BH;return this.restRequest_(i+".json",e,(a,u)=>{let f=u;404===a&&(f=null,a=null),null===a?(this.onDataUpdate_(i,f,!1,null),s.resolve(f)):s.reject(new Error(f))}),s.promise}refreshAuthToken(t){}restRequest_(t,e={},i){return e.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([s,a])=>{s&&s.accessToken&&(e.auth=s.accessToken),a&&a.token&&(e.ac=a.token);const u=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+(0,oe.xO)(e);this.log_("Sending REST request for "+u);const f=new XMLHttpRequest;f.onreadystatechange=()=>{if(i&&4===f.readyState){this.log_("REST Response for "+u+" received. status:",f.status,"response:",f.responseText);let g=null;if(f.status>=200&&f.status<300){try{g=(0,oe.cI)(f.responseText)}catch(C){Pa("Failed to parse JSON response for "+u+": "+f.responseText)}i(null,g)}else 401!==f.status&&404!==f.status&&Pa("Got unsuccessful REST response for "+u+" Status: "+f.status),i(f.status);i=null}},f.open("GET",u,!0),f.send()})}}class _X{constructor(){this.rootNode_=En.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)}}function OM(){return{value:null,children:new Map}}function Wb(n,t,e){if(kn(t))n.value=e,n.children.clear();else if(null!==n.value)n.value=n.value.updateChild(t,e);else{const i=Mn(t);n.children.has(i)||n.children.set(i,OM()),Wb(n.children.get(i),t=Fi(t),e)}}function wL(n,t){if(kn(t))return n.value=null,n.children.clear(),!0;if(null!==n.value){if(n.value.isLeafNode())return!1;{const e=n.value;return n.value=null,e.forEachChild(Wi,(i,s)=>{Wb(n,new gi(i),s)}),wL(n,t)}}if(n.children.size>0){const e=Mn(t);return t=Fi(t),n.children.has(e)&&wL(n.children.get(e),t)&&n.children.delete(e),0===n.children.size}return!0}function EL(n,t,e){null!==n.value?e(t,n.value):function(n,t){n.children.forEach((e,i)=>{t(i,e)})}(n,(i,s)=>{EL(s,new gi(t.toString()+"/"+i),e)})}class vX{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),e=Object.assign({},t);return this.last_&&Qs(this.last_,(i,s)=>{e[i]=e[i]-s}),this.last_=t,e}}class wX{constructor(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new vX(t);const i=1e4+2e4*Math.random();RD(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const t=this.statsListener_.get(),e={};let i=!1;Qs(t,(s,a)=>{a>0&&(0,oe.r3)(this.statsToReport_,s)&&(e[s]=a,i=!0)}),i&&this.server_.reportStats(e),RD(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var Nc=(()=>(function(n){n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(Nc||(Nc={})),Nc))();function SL(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class PM{constructor(t,e,i){this.path=t,this.affectedTree=e,this.revert=i,this.type=Nc.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(t){if(kn(this.path)){if(null!=this.affectedTree.value)return(0,oe.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const e=this.affectedTree.subtree(new gi(t));return new PM(hi(),e,this.revert)}}return(0,oe.hu)(Mn(this.path)===t,"operationForChild called for unrelated child."),new PM(Fi(this.path),this.affectedTree,this.revert)}}class qD{constructor(t,e){this.source=t,this.path=e,this.type=Nc.LISTEN_COMPLETE}operationForChild(t){return kn(this.path)?new qD(this.source,hi()):new qD(this.source,Fi(this.path))}}class b_{constructor(t,e,i){this.source=t,this.path=e,this.snap=i,this.type=Nc.OVERWRITE}operationForChild(t){return kn(this.path)?new b_(this.source,hi(),this.snap.getImmediateChild(t)):new b_(this.source,Fi(this.path),this.snap)}}class Kb{constructor(t,e,i){this.source=t,this.path=e,this.children=i,this.type=Nc.MERGE}operationForChild(t){if(kn(this.path)){const e=this.children.subtree(new gi(t));return e.isEmpty()?null:e.value?new b_(this.source,hi(),e.value):new Kb(this.source,hi(),e)}return(0,oe.hu)(Mn(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new Kb(this.source,Fi(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class rg{constructor(t,e,i){this.node_=t,this.fullyInitialized_=e,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(kn(t))return this.isFullyInitialized()&&!this.filtered_;const e=Mn(t);return this.isCompleteForChild(e)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}class EX{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function zD(n,t,e,i,s,a){const u=i.filter(f=>f.type===e);u.sort((f,g)=>function(n,t,e){if(null==t.childName||null==e.childName)throw(0,oe.g5)("Should only compare child_ events.");const i=new Nn(t.childName,t.snapshotNode),s=new Nn(e.childName,e.snapshotNode);return n.index_.compare(i,s)}(n,f,g)),u.forEach(f=>{const g=function(n,t,e){return"value"===t.type||"child_removed"===t.type||(t.prevName=e.getPredecessorChildName(t.childName,t.snapshotNode,n.index_)),t}(n,f,a);s.forEach(C=>{C.respondsTo(f.type)&&t.push(C.createEvent(g,n.query_))})})}function NM(n,t){return{eventCache:n,serverCache:t}}function GD(n,t,e,i){return NM(new rg(t,e,i),n.serverCache)}function w4(n,t,e,i){return NM(n.eventCache,new rg(t,e,i))}function FM(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function C_(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let xL;class Ki{constructor(t,e=(()=>(xL||(xL=new gl(cJ)),xL))()){this.value=t,this.children=e}static fromObject(t){let e=new Ki(null);return Qs(t,(i,s)=>{e=e.set(new gi(i),s)}),e}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,e){if(null!=this.value&&e(this.value))return{path:hi(),value:this.value};if(kn(t))return null;{const i=Mn(t),s=this.children.get(i);if(null!==s){const a=s.findRootMostMatchingPathAndValue(Fi(t),e);return null!=a?{path:yr(new gi(i),a.path),value:a.value}:null}return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(kn(t))return this;{const e=Mn(t),i=this.children.get(e);return null!==i?i.subtree(Fi(t)):new Ki(null)}}set(t,e){if(kn(t))return new Ki(e,this.children);{const i=Mn(t),a=(this.children.get(i)||new Ki(null)).set(Fi(t),e),u=this.children.insert(i,a);return new Ki(this.value,u)}}remove(t){if(kn(t))return this.children.isEmpty()?new Ki(null):new Ki(null,this.children);{const e=Mn(t),i=this.children.get(e);if(i){const s=i.remove(Fi(t));let a;return a=s.isEmpty()?this.children.remove(e):this.children.insert(e,s),null===this.value&&a.isEmpty()?new Ki(null):new Ki(this.value,a)}return this}}get(t){if(kn(t))return this.value;{const e=Mn(t),i=this.children.get(e);return i?i.get(Fi(t)):null}}setTree(t,e){if(kn(t))return e;{const i=Mn(t),a=(this.children.get(i)||new Ki(null)).setTree(Fi(t),e);let u;return u=a.isEmpty()?this.children.remove(i):this.children.insert(i,a),new Ki(this.value,u)}}fold(t){return this.fold_(hi(),t)}fold_(t,e){const i={};return this.children.inorderTraversal((s,a)=>{i[s]=a.fold_(yr(t,s),e)}),e(t,this.value,i)}findOnPath(t,e){return this.findOnPath_(t,hi(),e)}findOnPath_(t,e,i){const s=!!this.value&&i(e,this.value);if(s)return s;if(kn(t))return null;{const a=Mn(t),u=this.children.get(a);return u?u.findOnPath_(Fi(t),yr(e,a),i):null}}foreachOnPath(t,e){return this.foreachOnPath_(t,hi(),e)}foreachOnPath_(t,e,i){if(kn(t))return this;{this.value&&i(e,this.value);const s=Mn(t),a=this.children.get(s);return a?a.foreachOnPath_(Fi(t),yr(e,s),i):new Ki(null)}}foreach(t){this.foreach_(hi(),t)}foreach_(t,e){this.children.inorderTraversal((i,s)=>{s.foreach_(yr(t,i),e)}),this.value&&e(t,this.value)}foreachChild(t){this.children.inorderTraversal((e,i)=>{i.value&&t(e,i.value)})}}class Uu{constructor(t){this.writeTree_=t}static empty(){return new Uu(new Ki(null))}}function $D(n,t,e){if(kn(t))return new Uu(new Ki(e));{const i=n.writeTree_.findRootMostValueAndPath(t);if(null!=i){const s=i.path;let a=i.value;const u=Na(s,t);return a=a.updateChild(u,e),new Uu(n.writeTree_.set(s,a))}{const s=new Ki(e),a=n.writeTree_.setTree(t,s);return new Uu(a)}}}function IL(n,t,e){let i=n;return Qs(e,(s,a)=>{i=$D(i,yr(t,s),a)}),i}function E4(n,t){if(kn(t))return Uu.empty();{const e=n.writeTree_.setTree(t,new Ki(null));return new Uu(e)}}function AL(n,t){return null!=w_(n,t)}function w_(n,t){const e=n.writeTree_.findRootMostValueAndPath(t);return null!=e?n.writeTree_.get(e.path).getChild(Na(e.path,t)):null}function D4(n){const t=[],e=n.writeTree_.value;return null!=e?e.isLeafNode()||e.forEachChild(Wi,(i,s)=>{t.push(new Nn(i,s))}):n.writeTree_.children.inorderTraversal((i,s)=>{null!=s.value&&t.push(new Nn(i,s.value))}),t}function sg(n,t){if(kn(t))return n;{const e=w_(n,t);return new Uu(null!=e?new Ki(e):n.writeTree_.subtree(t))}}function ML(n){return n.writeTree_.isEmpty()}function Qb(n,t){return T4(hi(),n.writeTree_,t)}function T4(n,t,e){if(null!=t.value)return e.updateChild(n,t.value);{let i=null;return t.children.inorderTraversal((s,a)=>{".priority"===s?((0,oe.hu)(null!==a.value,"Priority writes must always be leaf nodes"),i=a.value):e=T4(yr(n,s),a,e)}),!e.getChild(n).isEmpty()&&null!==i&&(e=e.updateChild(yr(n,".priority"),i)),e}}function LM(n,t){return M4(t,n)}function RX(n,t){if(n.snap)return Pc(n.path,t);for(const e in n.children)if(n.children.hasOwnProperty(e)&&Pc(yr(n.path,e),t))return!0;return!1}function PX(n){return n.visible}function S4(n,t,e){let i=Uu.empty();for(let s=0;s<n.length;++s){const a=n[s];if(t(a)){const u=a.path;let f;if(a.snap)Pc(e,u)?(f=Na(e,u),i=$D(i,f,a.snap)):Pc(u,e)&&(f=Na(u,e),i=$D(i,hi(),a.snap.getChild(f)));else{if(!a.children)throw(0,oe.g5)("WriteRecord should have .snap or .children");if(Pc(e,u))f=Na(e,u),i=IL(i,f,a.children);else if(Pc(u,e))if(f=Na(u,e),kn(f))i=IL(i,hi(),a.children);else{const g=(0,oe.DV)(a.children,Mn(f));if(g){const C=g.getChild(Fi(f));i=$D(i,hi(),C)}}}}}return i}function x4(n,t,e,i,s){if(i||s){const a=sg(n.visibleWrites,t);return!s&&ML(a)?e:s||null!=e||AL(a,hi())?Qb(S4(n.allWrites,function(C){return(C.visible||s)&&(!i||!~i.indexOf(C.writeId))&&(Pc(C.path,t)||Pc(t,C.path))},t),e||En.EMPTY_NODE):null}{const a=w_(n.visibleWrites,t);if(null!=a)return a;{const u=sg(n.visibleWrites,t);return ML(u)?e:null!=e||AL(u,hi())?Qb(u,e||En.EMPTY_NODE):null}}}function VM(n,t,e,i){return x4(n.writeTree,n.treePath,t,e,i)}function kL(n,t){return function(n,t,e){let i=En.EMPTY_NODE;const s=w_(n.visibleWrites,t);if(s)return s.isLeafNode()||s.forEachChild(Wi,(a,u)=>{i=i.updateImmediateChild(a,u)}),i;if(e){const a=sg(n.visibleWrites,t);return e.forEachChild(Wi,(u,f)=>{const g=Qb(sg(a,new gi(u)),f);i=i.updateImmediateChild(u,g)}),D4(a).forEach(u=>{i=i.updateImmediateChild(u.name,u.node)}),i}return D4(sg(n.visibleWrites,t)).forEach(u=>{i=i.updateImmediateChild(u.name,u.node)}),i}(n.writeTree,n.treePath,t)}function I4(n,t,e,i){return function(n,t,e,i,s){(0,oe.hu)(i||s,"Either existingEventSnap or existingServerSnap must exist");const a=yr(t,e);if(AL(n.visibleWrites,a))return null;{const u=sg(n.visibleWrites,a);return ML(u)?s.getChild(e):Qb(u,s.getChild(e))}}(n.writeTree,n.treePath,t,e,i)}function BM(n,t){return function(n,t){return w_(n.visibleWrites,t)}(n.writeTree,yr(n.treePath,t))}function RL(n,t,e){return function(n,t,e,i){const s=yr(t,e),a=w_(n.visibleWrites,s);return null!=a?a:i.isCompleteForChild(e)?Qb(sg(n.visibleWrites,s),i.getNode().getImmediateChild(e)):null}(n.writeTree,n.treePath,t,e)}function A4(n,t){return M4(yr(n.treePath,t),n.writeTree)}function M4(n,t){return{treePath:n,writeTree:t}}class HX{constructor(){this.changeMap=new Map}trackChildChange(t){const e=t.type,i=t.childName;(0,oe.hu)("child_added"===e||"child_changed"===e||"child_removed"===e,"Only child changes supported for tracking"),(0,oe.hu)(".priority"!==i,"Only non-priority child changes can be tracked.");const s=this.changeMap.get(i);if(s){const a=s.type;if("child_added"===e&&"child_removed"===a)this.changeMap.set(i,jD(i,t.snapshotNode,s.snapshotNode));else if("child_removed"===e&&"child_added"===a)this.changeMap.delete(i);else if("child_removed"===e&&"child_changed"===a)this.changeMap.set(i,UD(i,s.oldSnap));else if("child_changed"===e&&"child_added"===a)this.changeMap.set(i,Zb(i,t.snapshotNode));else{if("child_changed"!==e||"child_changed"!==a)throw(0,oe.g5)("Illegal combination of changes: "+t+" occurred after "+s);this.changeMap.set(i,jD(i,t.snapshotNode,s.oldSnap))}}else this.changeMap.set(i,t)}getChanges(){return Array.from(this.changeMap.values())}}const k4=new class{getCompleteChild(t){return null}getChildAfterChild(t,e,i){return null}};class OL{constructor(t,e,i=null){this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=i}getCompleteChild(t){const e=this.viewCache_.eventCache;if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);{const i=null!=this.optCompleteServerCache_?new rg(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return RL(this.writes_,t,i)}}getChildAfterChild(t,e,i){const s=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:C_(this.viewCache_),a=function(n,t,e,i,s,a){return function(n,t,e,i,s,a,u){let f;const g=sg(n.visibleWrites,t),C=w_(g,hi());if(null!=C)f=C;else{if(null==e)return[];f=Qb(g,e)}if(f=f.withIndex(u),f.isEmpty()||f.isLeafNode())return[];{const x=[],R=u.getCompare(),G=a?f.getReverseIteratorFrom(i,u):f.getIteratorFrom(i,u);let ee=G.getNext();for(;ee&&x.length<s;)0!==R(ee,i)&&x.push(ee),ee=G.getNext();return x}}(n.writeTree,n.treePath,t,e,i,s,a)}(this.writes_,s,e,1,i,t);return 0===a.length?null:a[0]}}function R4(n,t,e,i,s,a){const u=t.eventCache;if(null!=BM(i,e))return t;{let f,g;if(kn(e))if((0,oe.hu)(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const C=C_(t),R=kL(i,C instanceof En?C:En.EMPTY_NODE);f=n.filter.updateFullNode(t.eventCache.getNode(),R,a)}else{const C=VM(i,C_(t));f=n.filter.updateFullNode(t.eventCache.getNode(),C,a)}else{const C=Mn(e);if(".priority"===C){(0,oe.hu)(1===ig(e),"Can't have a priority with additional path components");const x=u.getNode();g=t.serverCache.getNode();const R=I4(i,e,x,g);f=null!=R?n.filter.updatePriority(x,R):u.getNode()}else{const x=Fi(e);let R;if(u.isCompleteForChild(C)){g=t.serverCache.getNode();const G=I4(i,e,u.getNode(),g);R=null!=G?u.getNode().getImmediateChild(C).updateChild(x,G):u.getNode().getImmediateChild(C)}else R=RL(i,C,t.serverCache);f=null!=R?n.filter.updateChild(u.getNode(),C,R,x,s,a):u.getNode()}}return GD(t,f,u.isFullyInitialized()||kn(e),n.filter.filtersNodes())}}function UM(n,t,e,i,s,a,u,f){const g=t.serverCache;let C;const x=u?n.filter:n.filter.getIndexedFilter();if(kn(e))C=x.updateFullNode(g.getNode(),i,null);else if(x.filtersNodes()&&!g.isFiltered()){const ee=g.getNode().updateChild(e,i);C=x.updateFullNode(g.getNode(),ee,null)}else{const ee=Mn(e);if(!g.isCompleteForPath(e)&&ig(e)>1)return t;const he=Fi(e),He=g.getNode().getImmediateChild(ee).updateChild(he,i);C=".priority"===ee?x.updatePriority(g.getNode(),He):x.updateChild(g.getNode(),ee,He,he,k4,null)}const R=w4(t,C,g.isFullyInitialized()||kn(e),x.filtersNodes());return R4(n,R,e,s,new OL(s,R,a),f)}function PL(n,t,e,i,s,a,u){const f=t.eventCache;let g,C;const x=new OL(s,t,a);if(kn(e))C=n.filter.updateFullNode(t.eventCache.getNode(),i,u),g=GD(t,C,!0,n.filter.filtersNodes());else{const R=Mn(e);if(".priority"===R)C=n.filter.updatePriority(t.eventCache.getNode(),i),g=GD(t,C,f.isFullyInitialized(),f.isFiltered());else{const G=Fi(e),ee=f.getNode().getImmediateChild(R);let he;if(kn(G))he=i;else{const Fe=x.getCompleteChild(R);he=null!=Fe?".priority"===uL(G)&&Fe.getChild(r4(G)).isEmpty()?Fe:Fe.updateChild(G,i):En.EMPTY_NODE}g=ee.equals(he)?t:GD(t,n.filter.updateChild(f.getNode(),R,he,G,x,u),f.isFullyInitialized(),n.filter.filtersNodes())}}return g}function O4(n,t){return n.eventCache.isCompleteForChild(t)}function P4(n,t,e){return e.foreach((i,s)=>{t=t.updateChild(i,s)}),t}function NL(n,t,e,i,s,a,u,f){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let C,g=t;C=kn(e)?i:new Ki(null).setTree(e,i);const x=t.serverCache.getNode();return C.children.inorderTraversal((R,G)=>{if(x.hasChild(R)){const he=P4(0,t.serverCache.getNode().getImmediateChild(R),G);g=UM(n,g,new gi(R),he,s,a,u,f)}}),C.children.inorderTraversal((R,G)=>{const ee=!t.serverCache.isCompleteForChild(R)&&void 0===G.value;if(!x.hasChild(R)&&!ee){const Fe=P4(0,t.serverCache.getNode().getImmediateChild(R),G);g=UM(n,g,new gi(R),Fe,s,a,u,f)}}),g}class JX{constructor(t,e){this.query_=t,this.eventRegistrations_=[];const i=this.query_._queryParams,s=new vL(i.getIndex()),a=function(n){return n.loadsAllData()?new vL(n.getIndex()):n.hasLimit()?new dX(n):new HD(n)}(i);this.processor_=function(n){return{filter:n}}(a);const u=e.serverCache,f=e.eventCache,g=s.updateFullNode(En.EMPTY_NODE,u.getNode(),null),C=a.updateFullNode(En.EMPTY_NODE,f.getNode(),null),x=new rg(g,u.isFullyInitialized(),s.filtersNodes()),R=new rg(C,f.isFullyInitialized(),a.filtersNodes());this.viewCache_=NM(R,x),this.eventGenerator_=new EX(this.query_)}get query(){return this.query_}}function tee(n,t){const e=C_(n.viewCache_);return e&&(n.query._queryParams.loadsAllData()||!kn(t)&&!e.getImmediateChild(Mn(t)).isEmpty())?e.getChild(t):null}function N4(n){return 0===n.eventRegistrations_.length}function F4(n,t,e){const i=[];if(e){(0,oe.hu)(null==t,"A cancel should cancel all event registrations.");const s=n.query._path;n.eventRegistrations_.forEach(a=>{const u=a.createCancelEvent(e,s);u&&i.push(u)})}if(t){let s=[];for(let a=0;a<n.eventRegistrations_.length;++a){const u=n.eventRegistrations_[a];if(u.matches(t)){if(t.hasAnyCallback()){s=s.concat(n.eventRegistrations_.slice(a+1));break}}else s.push(u)}n.eventRegistrations_=s}else n.eventRegistrations_=[];return i}function L4(n,t,e,i){t.type===Nc.MERGE&&null!==t.source.queryId&&((0,oe.hu)(C_(n.viewCache_),"We should always have a full cache before handling merges"),(0,oe.hu)(FM(n.viewCache_),"Missing event cache, even though we have a server cache"));const s=n.viewCache_,a=function(n,t,e,i,s){const a=new HX;let u,f;if(e.type===Nc.OVERWRITE){const C=e;C.source.fromUser?u=PL(n,t,C.path,C.snap,i,s,a):((0,oe.hu)(C.source.fromServer,"Unknown source."),f=C.source.tagged||t.serverCache.isFiltered()&&!kn(C.path),u=UM(n,t,C.path,C.snap,i,s,f,a))}else if(e.type===Nc.MERGE){const C=e;C.source.fromUser?u=function(n,t,e,i,s,a,u){let f=t;return i.foreach((g,C)=>{const x=yr(e,g);O4(t,Mn(x))&&(f=PL(n,f,x,C,s,a,u))}),i.foreach((g,C)=>{const x=yr(e,g);O4(t,Mn(x))||(f=PL(n,f,x,C,s,a,u))}),f}(n,t,C.path,C.children,i,s,a):((0,oe.hu)(C.source.fromServer,"Unknown source."),f=C.source.tagged||t.serverCache.isFiltered(),u=NL(n,t,C.path,C.children,i,s,f,a))}else if(e.type===Nc.ACK_USER_WRITE){const C=e;u=C.revert?function(n,t,e,i,s,a){let u;if(null!=BM(i,e))return t;{const f=new OL(i,t,s),g=t.eventCache.getNode();let C;if(kn(e)||".priority"===Mn(e)){let x;if(t.serverCache.isFullyInitialized())x=VM(i,C_(t));else{const R=t.serverCache.getNode();(0,oe.hu)(R instanceof En,"serverChildren would be complete if leaf node"),x=kL(i,R)}x=x,C=n.filter.updateFullNode(g,x,a)}else{const x=Mn(e);let R=RL(i,x,t.serverCache);null==R&&t.serverCache.isCompleteForChild(x)&&(R=g.getImmediateChild(x)),C=null!=R?n.filter.updateChild(g,x,R,Fi(e),f,a):t.eventCache.getNode().hasChild(x)?n.filter.updateChild(g,x,En.EMPTY_NODE,Fi(e),f,a):g,C.isEmpty()&&t.serverCache.isFullyInitialized()&&(u=VM(i,C_(t)),u.isLeafNode()&&(C=n.filter.updateFullNode(C,u,a)))}return u=t.serverCache.isFullyInitialized()||null!=BM(i,hi()),GD(t,C,u,n.filter.filtersNodes())}}(n,t,C.path,i,s,a):function(n,t,e,i,s,a,u){if(null!=BM(s,e))return t;const f=t.serverCache.isFiltered(),g=t.serverCache;if(null!=i.value){if(kn(e)&&g.isFullyInitialized()||g.isCompleteForPath(e))return UM(n,t,e,g.getNode().getChild(e),s,a,f,u);if(kn(e)){let C=new Ki(null);return g.getNode().forEachChild(Fd,(x,R)=>{C=C.set(new gi(x),R)}),NL(n,t,e,C,s,a,f,u)}return t}{let C=new Ki(null);return i.foreach((x,R)=>{const G=yr(e,x);g.isCompleteForPath(G)&&(C=C.set(x,g.getNode().getChild(G)))}),NL(n,t,e,C,s,a,f,u)}}(n,t,C.path,C.affectedTree,i,s,a)}else{if(e.type!==Nc.LISTEN_COMPLETE)throw(0,oe.g5)("Unknown operation type: "+e.type);u=function(n,t,e,i,s){const a=t.serverCache;return R4(n,w4(t,a.getNode(),a.isFullyInitialized()||kn(e),a.isFiltered()),e,i,k4,s)}(n,t,e.path,i,a)}const g=a.getChanges();return function(n,t,e){const i=t.eventCache;if(i.isFullyInitialized()){const s=i.getNode().isLeafNode()||i.getNode().isEmpty(),a=FM(n);(e.length>0||!n.eventCache.isFullyInitialized()||s&&!i.getNode().equals(a)||!i.getNode().getPriority().equals(a.getPriority()))&&e.push(y4(FM(t)))}}(t,u,g),{viewCache:u,changes:g}}(n.processor_,s,t,e,i);return function(n,t){(0,oe.hu)(t.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),(0,oe.hu)(t.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}(n.processor_,a.viewCache),(0,oe.hu)(a.viewCache.serverCache.isFullyInitialized()||!s.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=a.viewCache,V4(n,a.changes,a.viewCache.eventCache.getNode(),null)}function V4(n,t,e,i){return function(n,t,e,i){const s=[],a=[];return t.forEach(u=>{"child_changed"===u.type&&n.index_.indexedValueChanged(u.oldSnap,u.snapshotNode)&&a.push(function(n,t){return{type:"child_moved",snapshotNode:t,childName:n}}(u.childName,u.snapshotNode))}),zD(n,s,"child_removed",t,i,e),zD(n,s,"child_added",t,i,e),zD(n,s,"child_moved",a,i,e),zD(n,s,"child_changed",t,i,e),zD(n,s,"value",t,i,e),s}(n.eventGenerator_,t,e,i?[i]:n.eventRegistrations_)}let jM,qM;class B4{constructor(){this.views=new Map}}function FL(n,t,e,i){const s=t.source.queryId;if(null!==s){const a=n.views.get(s);return(0,oe.hu)(null!=a,"SyncTree gave us an op for an invalid query."),L4(a,t,e,i)}{let a=[];for(const u of n.views.values())a=a.concat(L4(u,t,e,i));return a}}function U4(n,t,e,i,s){const u=n.views.get(t._queryIdentifier);if(!u){let f=VM(e,s?i:null),g=!1;f?g=!0:i instanceof En?(f=kL(e,i),g=!1):(f=En.EMPTY_NODE,g=!1);const C=NM(new rg(f,g,!1),new rg(i,s,!1));return new JX(t,C)}return u}function j4(n){const t=[];for(const e of n.views.values())e.query._queryParams.loadsAllData()||t.push(e);return t}function og(n,t){let e=null;for(const i of n.views.values())e=e||tee(i,t);return e}function H4(n,t){return t._queryParams.loadsAllData()?HM(n):n.views.get(t._queryIdentifier)}function q4(n,t){return null!=H4(n,t)}function ag(n){return null!=HM(n)}function HM(n){for(const t of n.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let dee=1;class z4{constructor(t){this.listenProvider_=t,this.syncPointTree_=new Ki(null),this.pendingWriteTree_={visibleWrites:Uu.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function LL(n,t,e,i,s){return function(n,t,e,i,s){(0,oe.hu)(i>n.lastWriteId,"Stacking an older write on top of newer ones"),void 0===s&&(s=!0),n.allWrites.push({path:t,snap:e,writeId:i,visible:s}),s&&(n.visibleWrites=$D(n.visibleWrites,t,e)),n.lastWriteId=i}(n.pendingWriteTree_,t,e,i,s),s?Jb(n,new b_({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,e)):[]}function lg(n,t,e=!1){const i=function(n,t){for(let e=0;e<n.allWrites.length;e++){const i=n.allWrites[e];if(i.writeId===t)return i}return null}(n.pendingWriteTree_,t);if(function(n,t){const e=n.allWrites.findIndex(f=>f.writeId===t);(0,oe.hu)(e>=0,"removeWrite called with nonexistent writeId.");const i=n.allWrites[e];n.allWrites.splice(e,1);let s=i.visible,a=!1,u=n.allWrites.length-1;for(;s&&u>=0;){const f=n.allWrites[u];f.visible&&(u>=e&&RX(f,i.path)?s=!1:Pc(i.path,f.path)&&(a=!0)),u--}return!!s&&(a?(function(n){n.visibleWrites=S4(n.allWrites,PX,hi()),n.lastWriteId=n.allWrites.length>0?n.allWrites[n.allWrites.length-1].writeId:-1}(n),!0):(i.snap?n.visibleWrites=E4(n.visibleWrites,i.path):Qs(i.children,g=>{n.visibleWrites=E4(n.visibleWrites,yr(i.path,g))}),!0))}(n.pendingWriteTree_,t)){let a=new Ki(null);return null!=i.snap?a=a.set(hi(),!0):Qs(i.children,u=>{a=a.set(new gi(u),!0)}),Jb(n,new PM(i.path,a,e))}return[]}function YD(n,t,e){return Jb(n,new b_({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,e))}function VL(n,t,e,i){const s=t._path,a=n.syncPointTree_.get(s);let u=[];if(a&&("default"===t._queryIdentifier||q4(a,t))){const f=function(n,t,e,i){const s=t._queryIdentifier,a=[];let u=[];const f=ag(n);if("default"===s)for(const[g,C]of n.views.entries())u=u.concat(F4(C,e,i)),N4(C)&&(n.views.delete(g),C.query._queryParams.loadsAllData()||a.push(C.query));else{const g=n.views.get(s);g&&(u=u.concat(F4(g,e,i)),N4(g)&&(n.views.delete(s),g.query._queryParams.loadsAllData()||a.push(g.query)))}return f&&!ag(n)&&a.push(new((0,oe.hu)(jM,"Reference.ts has not been loaded"),jM)(t._repo,t._path)),{removed:a,events:u}}(a,t,e,i);(function(n){return 0===n.views.size})(a)&&(n.syncPointTree_=n.syncPointTree_.remove(s));const g=f.removed;u=f.events;const C=-1!==g.findIndex(R=>R._queryParams.loadsAllData()),x=n.syncPointTree_.findOnPath(s,(R,G)=>ag(G));if(C&&!x){const R=n.syncPointTree_.subtree(s);if(!R.isEmpty()){const G=function(n){return n.fold((t,e,i)=>{if(e&&ag(e))return[HM(e)];{let s=[];return e&&(s=j4(e)),Qs(i,(a,u)=>{s=s.concat(u)}),s}})}(R);for(let ee=0;ee<G.length;++ee){const he=G[ee],Fe=he.query,He=Z4(n,he);n.listenProvider_.startListening(ZD(Fe),GM(n,Fe),He.hashFn,He.onComplete)}}}if(!x&&g.length>0&&!i)if(C){const R=null;n.listenProvider_.stopListening(ZD(t),R)}else g.forEach(R=>{const G=n.queryToTagMap.get($M(R));n.listenProvider_.stopListening(ZD(R),G)});!function(n,t){for(let e=0;e<t.length;++e){const i=t[e];if(!i._queryParams.loadsAllData()){const s=$M(i),a=n.queryToTagMap.get(s);n.queryToTagMap.delete(s),n.tagToQueryMap.delete(a)}}}(n,g)}return u}function G4(n,t,e){const i=t._path;let s=null,a=!1;n.syncPointTree_.foreachOnPath(i,(R,G)=>{const ee=Na(R,i);s=s||og(G,ee),a=a||ag(G)});let f,u=n.syncPointTree_.get(i);u?(a=a||ag(u),s=s||og(u,hi())):(u=new B4,n.syncPointTree_=n.syncPointTree_.set(i,u)),null!=s?f=!0:(f=!1,s=En.EMPTY_NODE,n.syncPointTree_.subtree(i).foreachChild((G,ee)=>{const he=og(ee,hi());he&&(s=s.updateImmediateChild(G,he))}));const g=q4(u,t);if(!g&&!t._queryParams.loadsAllData()){const R=$M(t);(0,oe.hu)(!n.queryToTagMap.has(R),"View does not exist, but we have a tag");const G=dee++;n.queryToTagMap.set(R,G),n.tagToQueryMap.set(G,R)}let x=function(n,t,e,i,s,a){const u=U4(n,t,i,s,a);return n.views.has(t._queryIdentifier)||n.views.set(t._queryIdentifier,u),function(n,t){n.eventRegistrations_.push(t)}(u,e),function(n,t){const e=n.viewCache_.eventCache,i=[];return e.getNode().isLeafNode()||e.getNode().forEachChild(Wi,(a,u)=>{i.push(Zb(a,u))}),e.isFullyInitialized()&&i.push(y4(e.getNode())),V4(n,i,e.getNode(),t)}(u,e)}(u,t,e,LM(n.pendingWriteTree_,i),s,f);if(!g&&!a){const R=H4(u,t);x=x.concat(function(n,t,e){const i=t._path,s=GM(n,t),a=Z4(n,e),u=n.listenProvider_.startListening(ZD(t),s,a.hashFn,a.onComplete),f=n.syncPointTree_.subtree(i);if(s)(0,oe.hu)(!ag(f.value),"If we're adding a query, it shouldn't be shadowed");else{const g=f.fold((C,x,R)=>{if(!kn(C)&&x&&ag(x))return[HM(x).query];{let G=[];return x&&(G=G.concat(j4(x).map(ee=>ee.query))),Qs(R,(ee,he)=>{G=G.concat(he)}),G}});for(let C=0;C<g.length;++C){const x=g[C];n.listenProvider_.stopListening(ZD(x),GM(n,x))}}return u}(n,t,R))}return x}function zM(n,t,e){const s=n.pendingWriteTree_,a=n.syncPointTree_.findOnPath(t,(u,f)=>{const C=og(f,Na(u,t));if(C)return C});return x4(s,t,a,e,!0)}function Jb(n,t){return $4(t,n.syncPointTree_,null,LM(n.pendingWriteTree_,hi()))}function $4(n,t,e,i){if(kn(n.path))return Y4(n,t,e,i);{const s=t.get(hi());null==e&&null!=s&&(e=og(s,hi()));let a=[];const u=Mn(n.path),f=n.operationForChild(u),g=t.children.get(u);if(g&&f){const C=e?e.getImmediateChild(u):null,x=A4(i,u);a=a.concat($4(f,g,C,x))}return s&&(a=a.concat(FL(s,n,i,e))),a}}function Y4(n,t,e,i){const s=t.get(hi());null==e&&null!=s&&(e=og(s,hi()));let a=[];return t.children.inorderTraversal((u,f)=>{const g=e?e.getImmediateChild(u):null,C=A4(i,u),x=n.operationForChild(u);x&&(a=a.concat(Y4(x,f,g,C)))}),s&&(a=a.concat(FL(s,n,i,e))),a}function Z4(n,t){const e=t.query,i=GM(n,e);return{hashFn:()=>(function(n){return n.viewCache_.serverCache.getNode()}(t)||En.EMPTY_NODE).hash(),onComplete:s=>{if("ok"===s)return i?function(n,t,e){const i=BL(n,e);if(i){const s=UL(i),a=s.path,u=s.queryId,f=Na(a,t);return jL(n,a,new qD(SL(u),f))}return[]}(n,e._path,i):function(n,t){return Jb(n,new qD({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(n,e._path);{const a=function(n,t){let e="Unknown Error";"too_big"===n?e="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===n?e="Client doesn't have permission to access the desired data.":"unavailable"===n&&(e="The service is unavailable");const i=new Error(n+" at "+t._path.toString()+": "+e);return i.code=n.toUpperCase(),i}(s,e);return VL(n,e,null,a)}}}}function GM(n,t){const e=$M(t);return n.queryToTagMap.get(e)}function $M(n){return n._path.toString()+"$"+n._queryIdentifier}function BL(n,t){return n.tagToQueryMap.get(t)}function UL(n){const t=n.indexOf("$");return(0,oe.hu)(-1!==t&&t<n.length-1,"Bad queryKey."),{queryId:n.substr(t+1),path:new gi(n.substr(0,t))}}function jL(n,t,e){const i=n.syncPointTree_.get(t);return(0,oe.hu)(i,"Missing sync point for query tag that we're tracking"),FL(i,e,LM(n.pendingWriteTree_,t),null)}function ZD(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new((0,oe.hu)(qM,"Reference.ts has not been loaded"),qM)(n._repo,n._path):n}class HL{constructor(t){this.node_=t}getImmediateChild(t){const e=this.node_.getImmediateChild(t);return new HL(e)}node(){return this.node_}}class qL{constructor(t,e){this.syncTree_=t,this.path_=e}getImmediateChild(t){const e=yr(this.path_,t);return new qL(this.syncTree_,e)}node(){return zM(this.syncTree_,this.path_)}}const W4=function(n,t,e){return n&&"object"==typeof n?((0,oe.hu)(".sv"in n,"Unexpected leaf node or priority contents"),"string"==typeof n[".sv"]?Dee(n[".sv"],t,e):"object"==typeof n[".sv"]?Tee(n[".sv"],t):void(0,oe.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2))):n},Dee=function(n,t,e){switch(n){case"timestamp":return e.timestamp;default:(0,oe.hu)(!1,"Unexpected server value: "+n)}},Tee=function(n,t,e){n.hasOwnProperty("increment")||(0,oe.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const i=n.increment;"number"!=typeof i&&(0,oe.hu)(!1,"Unexpected increment value: "+i);const s=t.node();if((0,oe.hu)(null!=s,"Expected ChildrenNode.EMPTY_NODE for nulls"),!s.isLeafNode())return i;const u=s.getValue();return"number"!=typeof u?i:u+i},K4=function(n,t,e,i){return GL(t,new qL(e,n),i)},zL=function(n,t,e){return GL(n,new HL(t),e)};function GL(n,t,e){const i=n.getPriority().val(),s=W4(i,t.getImmediateChild(".priority"),e);let a;if(n.isLeafNode()){const u=n,f=W4(u.getValue(),t,e);return f!==u.getValue()||s!==u.getPriority().val()?new Gb(f,kr(s)):n}{const u=n;return a=u,s!==u.getPriority().val()&&(a=a.updatePriority(new Gb(s))),u.forEachChild(Wi,(f,g)=>{const C=GL(g,t.getImmediateChild(f),e);C!==g&&(a=a.updateImmediateChild(f,C))}),a}}class $L{constructor(t="",e=null,i={children:{},childCount:0}){this.name=t,this.parent=e,this.node=i}}function YM(n,t){let e=t instanceof gi?t:new gi(t),i=n,s=Mn(e);for(;null!==s;){const a=(0,oe.DV)(i.node.children,s)||{children:{},childCount:0};i=new $L(s,i,a),e=Fi(e),s=Mn(e)}return i}function E_(n){return n.node.value}function YL(n,t){n.node.value=t,ZL(n)}function Q4(n){return n.node.childCount>0}function ZM(n,t){Qs(n.node.children,(e,i)=>{t(new $L(e,n,i))})}function J4(n,t,e,i){e&&!i&&t(n),ZM(n,s=>{J4(s,t,!0,i)}),e&&i&&t(n)}function WD(n){return new gi(null===n.parent?n.name:WD(n.parent)+"/"+n.name)}function ZL(n){null!==n.parent&&function(n,t,e){const i=function(n){return void 0===E_(n)&&!Q4(n)}(e),s=(0,oe.r3)(n.node.children,t);i&&s?(delete n.node.children[t],n.node.childCount--,ZL(n)):!i&&!s&&(n.node.children[t]=e.node,n.node.childCount++,ZL(n))}(n.parent,n.name,n)}const Aee=/[\[\].#$\/\u0000-\u001F\u007F]/,Mee=/[\[\].#$\u0000-\u001F\u007F]/,WL=10485760,WM=function(n){return"string"==typeof n&&0!==n.length&&!Aee.test(n)},X4=function(n){return"string"==typeof n&&0!==n.length&&!Mee.test(n)},KD=function(n){return null===n||"string"==typeof n||"number"==typeof n&&!wM(n)||n&&"object"==typeof n&&(0,oe.r3)(n,".sv")},Ld=function(n,t,e,i){i&&void 0===t||QD((0,oe.gK)(n,"value"),t,e)},QD=function(n,t,e){const i=e instanceof gi?new zJ(e,n):e;if(void 0===t)throw new Error(n+"contains undefined "+y_(i));if("function"==typeof t)throw new Error(n+"contains a function "+y_(i)+" with contents = "+t.toString());if(wM(t))throw new Error(n+"contains "+t.toString()+" "+y_(i));if("string"==typeof t&&t.length>WL/3&&(0,oe.ug)(t)>WL)throw new Error(n+"contains a string greater than "+WL+" utf8 bytes "+y_(i)+" ('"+t.substring(0,50)+"...')");if(t&&"object"==typeof t){let s=!1,a=!1;if(Qs(t,(u,f)=>{if(".value"===u)s=!0;else if(".priority"!==u&&".sv"!==u&&(a=!0,!WM(u)))throw new Error(n+" contains an invalid key ("+u+") "+y_(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function(n,t){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(t),n.byteLength_+=(0,oe.ug)(t),s4(n)})(i,u),QD(n,f,i),function(n){const t=n.parts_.pop();n.byteLength_-=(0,oe.ug)(t),n.parts_.length>0&&(n.byteLength_-=1)}(i)}),s&&a)throw new Error(n+' contains ".value" child '+y_(i)+" in addition to actual children.")}},ez=function(n,t,e,i){if(i&&void 0===t)return;const s=(0,oe.gK)(n,"values");if(!t||"object"!=typeof t||Array.isArray(t))throw new Error(s+" must be an object containing the children to replace.");const a=[];Qs(t,(u,f)=>{const g=new gi(u);if(QD(s,f,yr(e,g)),".priority"===uL(g)&&!KD(f))throw new Error(s+"contains an invalid value for '"+g.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");a.push(g)}),function(n,t){let e,i;for(e=0;e<t.length;e++){i=t[e];const a=FD(i);for(let u=0;u<a.length;u++)if((".priority"!==a[u]||u!==a.length-1)&&!WM(a[u]))throw new Error(n+"contains an invalid key ("+a[u]+") in path "+i.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}t.sort(qJ);let s=null;for(e=0;e<t.length;e++){if(i=t[e],null!==s&&Pc(s,i))throw new Error(n+"contains a path "+s.toString()+" that is ancestor of another path "+i.toString());s=i}}(s,a)},KL=function(n,t,e){if(!e||void 0!==t){if(wM(t))throw new Error((0,oe.gK)(n,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!KD(t))throw new Error((0,oe.gK)(n,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},JD=function(n,t,e,i){if(!(i&&void 0===e||WM(e)))throw new Error((0,oe.gK)(n,t)+'was an invalid key = "'+e+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},XD=function(n,t,e,i){if(!(i&&void 0===e||X4(e)))throw new Error((0,oe.gK)(n,t)+'was an invalid path = "'+e+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Fc=function(n,t){if(".info"===Mn(t))throw new Error(n+" failed = Can't modify data under /.info/")},tz=function(n,t){const e=t.path.toString();if("string"!=typeof t.repoInfo.host||0===t.repoInfo.host.length||!WM(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==e.length&&!function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),X4(n)}(e))throw new Error((0,oe.gK)(n,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class Pee{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function KM(n,t){let e=null;for(let i=0;i<t.length;i++){const s=t[i],a=s.getPath();null!==e&&!dL(a,e.path)&&(n.eventLists_.push(e),e=null),null===e&&(e={events:[],path:a}),e.events.push(s)}e&&n.eventLists_.push(e)}function QL(n,t,e){KM(n,e),nz(n,i=>dL(i,t))}function Lc(n,t,e){KM(n,e),nz(n,i=>Pc(i,t)||Pc(t,i))}function nz(n,t){n.recursionDepth_++;let e=!0;for(let i=0;i<n.eventLists_.length;i++){const s=n.eventLists_[i];s&&(t(s.path)?(Nee(n.eventLists_[i]),n.eventLists_[i]=null):e=!1)}e&&(n.eventLists_=[]),n.recursionDepth_--}function Nee(n){for(let t=0;t<n.events.length;t++){const e=n.events[t];if(null!==e){n.events[t]=null;const i=e.getEventRunner();m_&&Ks("event: "+e.toString()),qb(i)}}}const iz="repo_interrupt";class Lee{constructor(t,e,i,s){this.repoInfo_=t,this.forceRestClient_=e,this.authTokenProvider_=i,this.appCheckProvider_=s,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Pee,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=OM(),this.transactionQueueTree_=new $L,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function rz(n){const e=n.infoData_.getNode(new gi(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+e}function eT(n){return function(n){return(n=n||{}).timestamp=n.timestamp||(new Date).getTime(),n}({timestamp:rz(n)})}function sz(n,t,e,i,s){n.dataUpdateCount++;const a=new gi(t);e=n.interceptServerDataCallback_?n.interceptServerDataCallback_(t,e):e;let u=[];if(s)if(i){const g=(0,oe.UI)(e,C=>kr(C));u=function(n,t,e,i){const s=BL(n,i);if(s){const a=UL(s),u=a.path,f=a.queryId,g=Na(u,t),C=Ki.fromObject(e);return jL(n,u,new Kb(SL(f),g,C))}return[]}(n.serverSyncTree_,a,g,s)}else{const g=kr(e);u=function(n,t,e,i){const s=BL(n,i);if(null!=s){const a=UL(s),u=a.path,f=a.queryId,g=Na(u,t);return jL(n,u,new b_(SL(f),g,e))}return[]}(n.serverSyncTree_,a,g,s)}else if(i){const g=(0,oe.UI)(e,C=>kr(C));u=function(n,t,e){const i=Ki.fromObject(e);return Jb(n,new Kb({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,i))}(n.serverSyncTree_,a,g)}else{const g=kr(e);u=YD(n.serverSyncTree_,a,g)}let f=a;u.length>0&&(f=e0(n,a)),Lc(n.eventQueue_,f,u)}function oz(n,t){JL(n,"connected",t),!1===t&&function(n){Xb(n,"onDisconnectEvents");const t=eT(n),e=OM();EL(n.onDisconnect_,hi(),(s,a)=>{const u=K4(s,a,n.serverSyncTree_,t);Wb(e,s,u)});let i=[];EL(e,hi(),(s,a)=>{i=i.concat(YD(n.serverSyncTree_,s,a));const u=n2(n,s);e0(n,u)}),n.onDisconnect_=OM(),Lc(n.eventQueue_,hi(),i)}(n)}function JL(n,t,e){const i=new gi("/.info/"+t),s=kr(e);n.infoData_.updateSnapshot(i,s);const a=YD(n.infoSyncTree_,i,s);Lc(n.eventQueue_,i,a)}function QM(n){return n.nextWriteId_++}function XL(n,t,e,i,s){Xb(n,"set",{path:t.toString(),value:e,priority:i});const a=eT(n),u=kr(e,i),f=zM(n.serverSyncTree_,t),g=zL(u,f,a),C=QM(n),x=LL(n.serverSyncTree_,t,g,C,!0);KM(n.eventQueue_,x),n.server_.put(t.toString(),u.val(!0),(G,ee)=>{const he="ok"===G;he||Pa("set at "+t+" failed: "+G);const Fe=lg(n.serverSyncTree_,C,!he);Lc(n.eventQueue_,t,Fe),cg(0,s,G,ee)});const R=n2(n,t);e0(n,R),Lc(n.eventQueue_,R,[])}function qee(n,t,e){n.server_.onDisconnectCancel(t.toString(),(i,s)=>{"ok"===i&&wL(n.onDisconnect_,t),cg(0,e,i,s)})}function az(n,t,e,i){const s=kr(e);n.server_.onDisconnectPut(t.toString(),s.val(!0),(a,u)=>{"ok"===a&&Wb(n.onDisconnect_,t,s),cg(0,i,a,u)})}function e2(n,t,e){let i;i=".info"===Mn(t._path)?VL(n.infoSyncTree_,t,e):VL(n.serverSyncTree_,t,e),QL(n.eventQueue_,t._path,i)}function lz(n){n.persistentConnection_&&n.persistentConnection_.interrupt(iz)}function Xb(n,...t){let e="";n.persistentConnection_&&(e=n.persistentConnection_.id+":"),Ks(e,...t)}function cg(n,t,e,i){t&&qb(()=>{if("ok"===e)t(null);else{const s=(e||"error").toUpperCase();let a=s;i&&(a+=": "+i);const u=new Error(a);u.code=s,t(u)}})}function t2(n,t,e){return zM(n.serverSyncTree_,t,e)||En.EMPTY_NODE}function JM(n,t=n.transactionQueueTree_){if(t||XM(n,t),E_(t)){const e=uz(n,t);(0,oe.hu)(e.length>0,"Sending zero length transaction queue"),e.every(s=>0===s.status)&&function(n,t,e){const i=e.map(C=>C.currentWriteId),s=t2(n,t,i);let a=s;const u=s.hash();for(let C=0;C<e.length;C++){const x=e[C];(0,oe.hu)(0===x.status,"tryToSendTransactionQueue_: items in queue should all be run."),x.status=1,x.retryCount++;const R=Na(t,x.path);a=a.updateChild(R,x.currentOutputSnapshotRaw)}const f=a.val(!0),g=t;n.server_.put(g.toString(),f,C=>{Xb(n,"transaction put response",{path:g.toString(),status:C});let x=[];if("ok"===C){const R=[];for(let G=0;G<e.length;G++)e[G].status=2,x=x.concat(lg(n.serverSyncTree_,e[G].currentWriteId)),e[G].onComplete&&R.push(()=>e[G].onComplete(null,!0,e[G].currentOutputSnapshotResolved)),e[G].unwatcher();XM(n,YM(n.transactionQueueTree_,t)),JM(n,n.transactionQueueTree_),Lc(n.eventQueue_,t,x);for(let G=0;G<R.length;G++)qb(R[G])}else{if("datastale"===C)for(let R=0;R<e.length;R++)e[R].status=3===e[R].status?4:0;else{Pa("transaction at "+g.toString()+" failed: "+C);for(let R=0;R<e.length;R++)e[R].status=4,e[R].abortReason=C}e0(n,t)}},u)}(n,WD(t),e)}else Q4(t)&&ZM(t,e=>{JM(n,e)})}function e0(n,t){const e=cz(n,t),i=WD(e);return function(n,t,e){if(0===t.length)return;const i=[];let s=[];const u=t.filter(f=>0===f.status).map(f=>f.currentWriteId);for(let f=0;f<t.length;f++){const g=t[f],C=Na(e,g.path);let R,x=!1;if((0,oe.hu)(null!==C,"rerunTransactionsUnderNode_: relativePath should not be null."),4===g.status)x=!0,R=g.abortReason,s=s.concat(lg(n.serverSyncTree_,g.currentWriteId,!0));else if(0===g.status)if(g.retryCount>=25)x=!0,R="maxretry",s=s.concat(lg(n.serverSyncTree_,g.currentWriteId,!0));else{const G=t2(n,g.path,u);g.currentInputSnapshot=G;const ee=t[f].update(G.val());if(void 0!==ee){QD("transaction failed: Data returned ",ee,g.path);let he=kr(ee);"object"==typeof ee&&null!=ee&&(0,oe.r3)(ee,".priority")||(he=he.updatePriority(G.getPriority()));const He=g.currentWriteId,ht=eT(n),mt=zL(he,G,ht);g.currentOutputSnapshotRaw=he,g.currentOutputSnapshotResolved=mt,g.currentWriteId=QM(n),u.splice(u.indexOf(He),1),s=s.concat(LL(n.serverSyncTree_,g.path,mt,g.currentWriteId,g.applyLocally)),s=s.concat(lg(n.serverSyncTree_,He,!0))}else x=!0,R="nodata",s=s.concat(lg(n.serverSyncTree_,g.currentWriteId,!0))}Lc(n.eventQueue_,e,s),s=[],x&&(t[f].status=2,setTimeout(t[f].unwatcher,Math.floor(0)),t[f].onComplete&&i.push("nodata"===R?()=>t[f].onComplete(null,!1,t[f].currentInputSnapshot):()=>t[f].onComplete(new Error(R),!1,null)))}XM(n,n.transactionQueueTree_);for(let f=0;f<i.length;f++)qb(i[f]);JM(n,n.transactionQueueTree_)}(n,uz(n,e),i),i}function cz(n,t){let e,i=n.transactionQueueTree_;for(e=Mn(t);null!==e&&void 0===E_(i);)i=YM(i,e),e=Mn(t=Fi(t));return i}function uz(n,t){const e=[];return dz(n,t,e),e.sort((i,s)=>i.order-s.order),e}function dz(n,t,e){const i=E_(t);if(i)for(let s=0;s<i.length;s++)e.push(i[s]);ZM(t,s=>{dz(n,s,e)})}function XM(n,t){const e=E_(t);if(e){let i=0;for(let s=0;s<e.length;s++)2!==e[s].status&&(e[i]=e[s],i++);e.length=i,YL(t,e.length>0?e:void 0)}ZM(t,i=>{XM(n,i)})}function n2(n,t){const e=WD(cz(n,t)),i=YM(n.transactionQueueTree_,t);return function(n,t,e){let i=n.parent;for(;null!==i;){if(t(i))return!0;i=i.parent}}(i,s=>{r2(n,s)}),r2(n,i),J4(i,s=>{r2(n,s)}),e}function r2(n,t){const e=E_(t);if(e){const i=[];let s=[],a=-1;for(let u=0;u<e.length;u++)3===e[u].status||(1===e[u].status?((0,oe.hu)(a===u-1,"All SENT items should be at beginning of queue."),a=u,e[u].status=3,e[u].abortReason="set"):((0,oe.hu)(0===e[u].status,"Unexpected transaction status in abort"),e[u].unwatcher(),s=s.concat(lg(n.serverSyncTree_,e[u].currentWriteId,!0)),e[u].onComplete&&i.push(e[u].onComplete.bind(null,new Error("set"),!1,null))));-1===a?YL(t,void 0):e.length=a+1,Lc(n.eventQueue_,WD(t),s);for(let u=0;u<i.length;u++)qb(i[u])}}const s2=function(n,t){const e=Xee(n),i=e.namespace;return"firebase.com"===e.domain&&Pd(e.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||"undefined"===i)&&"localhost"!==e.domain&&Pd("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),e.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Pa("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new iL(e.host,e.secure,i,t,"ws"===e.scheme||"wss"===e.scheme,"",i!==e.subdomain),path:new gi(e.pathString)}},Xee=function(n){let t="",e="",i="",s="",a="",u=!0,f="https",g=443;if("string"==typeof n){let C=n.indexOf("//");C>=0&&(f=n.substring(0,C-1),n=n.substring(C+2));let x=n.indexOf("/");-1===x&&(x=n.length);let R=n.indexOf("?");-1===R&&(R=n.length),t=n.substring(0,Math.min(x,R)),x<R&&(s=function(n){let t="";const e=n.split("/");for(let i=0;i<e.length;i++)if(e[i].length>0){let s=e[i];try{s=decodeURIComponent(s.replace(/\+/g," "))}catch(a){}t+="/"+s}return t}(n.substring(x,R)));const G=function(n){const t={};"?"===n.charAt(0)&&(n=n.substring(1));for(const e of n.split("&")){if(0===e.length)continue;const i=e.split("=");2===i.length?t[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):Pa(`Invalid query segment '${e}' in query '${n}'`)}return t}(n.substring(Math.min(n.length,R)));C=t.indexOf(":"),C>=0?(u="https"===f||"wss"===f,g=parseInt(t.substring(C+1),10)):C=t.length;const ee=t.slice(0,C);if("localhost"===ee.toLowerCase())e="localhost";else if(ee.split(".").length<=2)e=ee;else{const he=t.indexOf(".");i=t.substring(0,he).toLowerCase(),e=t.substring(he+1),a=i}"ns"in G&&(a=G.ns)}return{host:t,port:g,domain:e,subdomain:i,secure:u,scheme:f,pathString:s,namespace:a}};class hz{constructor(t,e,i,s){this.eventType=t,this.eventRegistration=e,this.snapshot=i,this.prevName=s}getPath(){const t=this.snapshot.ref;return"value"===this.eventType?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,oe.Pz)(this.snapshot.exportVal())}}class fz{constructor(t,e,i){this.eventRegistration=t,this.error=e,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class pz{constructor(t,e){this.snapshotCallback=t,this.cancelCallback=e}onValue(t,e){this.snapshotCallback.call(null,t,e)}onCancel(t){return(0,oe.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}class gz{constructor(t,e){this._repo=t,this._path=e}cancel(){const t=new oe.BH;return qee(this._repo,this._path,t.wrapCallback(()=>{})),t.promise}remove(){Fc("OnDisconnect.remove",this._path);const t=new oe.BH;return az(this._repo,this._path,null,t.wrapCallback(()=>{})),t.promise}set(t){Fc("OnDisconnect.set",this._path),Ld("OnDisconnect.set",t,this._path,!1);const e=new oe.BH;return az(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}setWithPriority(t,e){Fc("OnDisconnect.setWithPriority",this._path),Ld("OnDisconnect.setWithPriority",t,this._path,!1),KL("OnDisconnect.setWithPriority",e,!1);const i=new oe.BH;return function(n,t,e,i,s){const a=kr(e,i);n.server_.onDisconnectPut(t.toString(),a.val(!0),(u,f)=>{"ok"===u&&Wb(n.onDisconnect_,t,a),cg(0,s,u,f)})}(this._repo,this._path,t,e,i.wrapCallback(()=>{})),i.promise}update(t){Fc("OnDisconnect.update",this._path),ez("OnDisconnect.update",t,this._path,!1);const e=new oe.BH;return function(n,t,e,i){if((0,oe.xb)(e))return Ks("onDisconnect().update() called with empty data.  Don't do anything."),void cg(0,i,"ok",void 0);n.server_.onDisconnectMerge(t.toString(),e,(s,a)=>{"ok"===s&&Qs(e,(u,f)=>{const g=kr(f);Wb(n.onDisconnect_,yr(t,u),g)}),cg(0,i,s,a)})}(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}}class ml{constructor(t,e,i,s){this._repo=t,this._path=e,this._queryParams=i,this._orderByCalled=s}get key(){return kn(this._path)?null:uL(this._path)}get ref(){return new Vc(this._repo,this._path)}get _queryIdentifier(){const t=b4(this._queryParams),e=eL(t);return"{}"===e?"default":e}get _queryObject(){return b4(this._queryParams)}isEqual(t){if(!((t=(0,oe.m9)(t))instanceof ml))return!1;const e=this._repo===t._repo,i=dL(this._path,t._path);return e&&i&&this._queryIdentifier===t._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function(n){let t="";for(let e=n.pieceNum_;e<n.pieces_.length;e++)""!==n.pieces_[e]&&(t+="/"+encodeURIComponent(String(n.pieces_[e])));return t||"/"}(this._path)}}function e1(n,t){if(!0===n._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function ug(n){let t=null,e=null;if(n.hasStart()&&(t=n.getIndexStartValue()),n.hasEnd()&&(e=n.getIndexEndValue()),n.getIndex()===Fd){const i="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",s="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(n.hasStart()){if(n.getIndexStartName()!==sf)throw new Error(i);if("string"!=typeof t)throw new Error(s)}if(n.hasEnd()){if(n.getIndexEndName()!==Nd)throw new Error(i);if("string"!=typeof e)throw new Error(s)}}else if(n.getIndex()===Wi){if(null!=t&&!KD(t)||null!=e&&!KD(e))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,oe.hu)(n.getIndex()instanceof mL||n.getIndex()===_L,"unknown index type."),null!=t&&"object"==typeof t||null!=e&&"object"==typeof e)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function t1(n){if(n.hasStart()&&n.hasEnd()&&n.hasLimit()&&!n.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class Vc extends ml{constructor(t,e){super(t,e,new MM,!1)}get parent(){const t=r4(this._path);return null===t?null:new Vc(this._repo,t)}get root(){let t=this;for(;null!==t.parent;)t=t.parent;return t}}class D_{constructor(t,e,i){this._node=t,this.ref=e,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const e=new gi(t),i=T_(this.ref,t);return new D_(this._node.getChild(e),i,Wi)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(i,s)=>t(new D_(s,T_(this.ref,i),Wi)))}hasChild(t){const e=new gi(t);return!this._node.getChild(e).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function mz(n,t){return(n=(0,oe.m9)(n))._checkNotDeleted("ref"),void 0!==t?T_(n._root,t):n._root}function _z(n,t){(n=(0,oe.m9)(n))._checkNotDeleted("refFromURL");const e=s2(t,n._repo.repoInfo_.nodeAdmin);tz("refFromURL",e);const i=e.repoInfo;return!n._repo.repoInfo_.isCustomHost()&&i.host!==n._repo.repoInfo_.host&&Pd("refFromURL: Host name does not match the current database: (found "+i.host+" but expected "+n._repo.repoInfo_.host+")"),mz(n,e.path.toString())}function T_(n,t){return null===Mn((n=(0,oe.m9)(n))._path)?((e=t)&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),XD("child","path",e,!1)):XD("child","path",t,!1),new Vc(n._repo,yr(n._path,t));var e}function o2(n,t){n=(0,oe.m9)(n),Fc("set",n._path),Ld("set",t,n._path,!1);const e=new oe.BH;return XL(n._repo,n._path,t,null,e.wrapCallback(()=>{})),e.promise}function rte(n,t){ez("update",t,n._path,!1);const e=new oe.BH;return function(n,t,e,i){Xb(n,"update",{path:t.toString(),value:e});let s=!0;const a=eT(n),u={};if(Qs(e,(f,g)=>{s=!1,u[f]=K4(yr(t,f),kr(g),n.serverSyncTree_,a)}),s)Ks("update() called with empty data.  Don't do anything."),cg(0,i,"ok",void 0);else{const f=QM(n),g=function(n,t,e,i){!function(n,t,e,i){(0,oe.hu)(i>n.lastWriteId,"Stacking an older merge on top of newer ones"),n.allWrites.push({path:t,children:e,writeId:i,visible:!0}),n.visibleWrites=IL(n.visibleWrites,t,e),n.lastWriteId=i}(n.pendingWriteTree_,t,e,i);const s=Ki.fromObject(e);return Jb(n,new Kb({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,s))}(n.serverSyncTree_,t,u,f);KM(n.eventQueue_,g),n.server_.merge(t.toString(),e,(C,x)=>{const R="ok"===C;R||Pa("update at "+t+" failed: "+C);const G=lg(n.serverSyncTree_,f,!R),ee=G.length>0?e0(n,t):t;Lc(n.eventQueue_,ee,G),cg(0,i,C,x)}),Qs(e,C=>{const x=n2(n,yr(t,C));e0(n,x)}),Lc(n.eventQueue_,t,[])}}(n._repo,n._path,t,e.wrapCallback(()=>{})),e.promise}function ste(n){return function(n,t){const e=function(n,t){const e=t._path;let i=null;n.syncPointTree_.foreachOnPath(e,(C,x)=>{const R=Na(C,e);i=i||og(x,R)});let s=n.syncPointTree_.get(e);s?i=i||og(s,hi()):(s=new B4,n.syncPointTree_=n.syncPointTree_.set(e,s));const a=null!=i,u=a?new rg(i,!0,!1):null;return function(n){return FM(n.viewCache_)}(U4(s,t,LM(n.pendingWriteTree_,t._path),a?u.getNode():En.EMPTY_NODE,a))}(n.serverSyncTree_,t);return null!=e?Promise.resolve(e):n.server_.get(t).then(i=>{const s=kr(i).withIndex(t._queryParams.getIndex()),a=YD(n.serverSyncTree_,t._path,s);return QL(n.eventQueue_,t._path,a),Promise.resolve(s)},i=>(Xb(n,"get for query "+(0,oe.Pz)(t)+" failed: "+i),Promise.reject(new Error(i))))}((n=(0,oe.m9)(n))._repo,n).then(t=>new D_(t,new Vc(n._repo,n._path),n._queryParams.getIndex()))}class n1{constructor(t){this.callbackContext=t}respondsTo(t){return"value"===t}createEvent(t,e){const i=e._queryParams.getIndex();return new hz("value",this,new D_(t.snapshotNode,new Vc(e._repo,e._path),i))}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new fz(this,t,e):null}matches(t){return t instanceof n1&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class i1{constructor(t,e){this.eventType=t,this.callbackContext=e}respondsTo(t){let e="children_added"===t?"child_added":t;return e="children_removed"===e?"child_removed":e,this.eventType===e}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new fz(this,t,e):null}createEvent(t,e){(0,oe.hu)(null!=t.childName,"Child events should have a childName.");const i=T_(new Vc(e._repo,e._path),t.childName),s=e._queryParams.getIndex();return new hz(t.type,this,new D_(t.snapshotNode,i,s),t.prevName)}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,t.prevName)}matches(t){return t instanceof i1&&this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function tT(n,t,e,i,s){let a;if("object"==typeof i&&(a=void 0,s=i),"function"==typeof i&&(a=i),s&&s.onlyOnce){const g=e,C=(x,R)=>{e2(n._repo,n,f),g(x,R)};C.userCallback=e.userCallback,C.context=e.context,e=C}const u=new pz(e,a||void 0),f="value"===t?new n1(u):new i1(t,u);return function(n,t,e){let i;i=".info"===Mn(t._path)?G4(n.infoSyncTree_,t,e):G4(n.serverSyncTree_,t,e),QL(n.eventQueue_,t._path,i)}(n._repo,n,f),()=>e2(n._repo,n,f)}function a2(n,t,e,i){return tT(n,"value",t,e,i)}function yz(n,t,e,i){return tT(n,"child_added",t,e,i)}function vz(n,t,e,i){return tT(n,"child_changed",t,e,i)}function bz(n,t,e,i){return tT(n,"child_moved",t,e,i)}function Cz(n,t,e,i){return tT(n,"child_removed",t,e,i)}function wz(n,t,e){let i=null;const s=e?new pz(e):null;"value"===t?i=new n1(s):t&&(i=new i1(t,s)),e2(n._repo,n,i)}class ju{}class Ez extends ju{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){Ld("endAt",this._value,t._path,!0);const e=CL(t._queryParams,this._value,this._key);if(t1(e),ug(e),t._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new ml(t._repo,t._path,e,t._orderByCalled)}}class ate extends ju{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){Ld("endBefore",this._value,t._path,!1);const e=function(n,t,e){let i,s;return n.index_===Fd?("string"==typeof t&&(t=_4(t)),s=CL(n,t,e)):(i=null==e?sf:_4(e),s=CL(n,t,i)),s.endBeforeSet_=!0,s}(t._queryParams,this._value,this._key);if(t1(e),ug(e),t._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new ml(t._repo,t._path,e,t._orderByCalled)}}class Dz extends ju{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){Ld("startAt",this._value,t._path,!0);const e=bL(t._queryParams,this._value,this._key);if(t1(e),ug(e),t._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new ml(t._repo,t._path,e,t._orderByCalled)}}class ute extends ju{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){Ld("startAfter",this._value,t._path,!1);const e=function(n,t,e){let i;if(n.index_===Fd)"string"==typeof t&&(t=m4(t)),i=bL(n,t,e);else{let s;s=null==e?Nd:m4(e),i=bL(n,t,s)}return i.startAfterSet_=!0,i}(t._queryParams,this._value,this._key);if(t1(e),ug(e),t._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new ml(t._repo,t._path,e,t._orderByCalled)}}class hte extends ju{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new ml(t._repo,t._path,function(n,t){const e=n.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="l",e}(t._queryParams,this._limit),t._orderByCalled)}}class pte extends ju{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new ml(t._repo,t._path,function(n,t){const e=n.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="r",e}(t._queryParams,this._limit),t._orderByCalled)}}class mte extends ju{constructor(t){super(),this._path=t}_apply(t){e1(t,"orderByChild");const e=new gi(this._path);if(kn(e))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const i=new mL(e),s=kM(t._queryParams,i);return ug(s),new ml(t._repo,t._path,s,!0)}}class yte extends ju{_apply(t){e1(t,"orderByKey");const e=kM(t._queryParams,Fd);return ug(e),new ml(t._repo,t._path,e,!0)}}class bte extends ju{_apply(t){e1(t,"orderByPriority");const e=kM(t._queryParams,Wi);return ug(e),new ml(t._repo,t._path,e,!0)}}class wte extends ju{_apply(t){e1(t,"orderByValue");const e=kM(t._queryParams,_L);return ug(e),new ml(t._repo,t._path,e,!0)}}class Dte extends ju{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){if(Ld("equalTo",this._value,t._path,!1),t._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(t._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new Ez(this._value,this._key)._apply(new Dz(this._value,this._key)._apply(t))}}function Hu(n,...t){let e=(0,oe.m9)(n);for(const i of t)e=i._apply(e);return e}(function(n){(0,oe.hu)(!jM,"__referenceConstructor has already been defined"),jM=n})(Vc),function(n){(0,oe.hu)(!qM,"__referenceConstructor has already been defined"),qM=n}(Vc);const l2={};function Sz(n,t,e,i,s){let a=i||n.options.databaseURL;void 0===a&&(n.options.projectId||Pd("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Ks("Using default host for project ",n.options.projectId),a=`${n.options.projectId}-default-rtdb.firebaseio.com`);let g,C,u=s2(a,s),f=u.repoInfo;"undefined"!=typeof process&&(C=process.env.FIREBASE_DATABASE_EMULATOR_HOST),C?(g=!0,a=`http://${C}?ns=${f.namespace}`,u=s2(a,s),f=u.repoInfo):g=!u.repoInfo.secure;const x=s&&g?new OD(OD.OWNER):new mJ(n.name,n.options,t);tz("Invalid Firebase Database URL",u),kn(u.path)||Pd("Database URL must point to the root of a Firebase Database (not including a child path).");const R=function(n,t,e,i){let s=l2[t.name];s||(s={},l2[t.name]=s);let a=s[n.toURLString()];return a&&Pd("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),a=new Lee(n,false,e,i),s[n.toURLString()]=a,a}(f,n,x,new gJ(n.name,e));return new kte(R,n)}class kte{constructor(t,e){this._repoInternal=t,this.app=e,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function(n,t,e){if(n.stats_=oL(n.repoInfo_),n.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)n.server_=new RM(n.repoInfo_,(i,s,a,u)=>{sz(n,i,s,a,u)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>oz(n,!0),0);else{if(null!=e){if("object"!=typeof e)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,oe.Pz)(e)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}n.persistentConnection_=new v_(n.repoInfo_,t,(i,s,a,u)=>{sz(n,i,s,a,u)},i=>{oz(n,i)},i=>{!function(n,t){Qs(t,(e,i)=>{JL(n,e,i)})}(n,i)},n.authTokenProvider_,n.appCheckProvider_,e),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(i=>{n.server_.refreshAuthToken(i)}),n.appCheckProvider_.addTokenChangeListener(i=>{n.server_.refreshAppCheckToken(i.token)}),n.statsReporter_=function(n,t){const e=n.toString();return sL[e]||(sL[e]=t()),sL[e]}(n.repoInfo_,()=>new wX(n.stats_,n.server_)),n.infoData_=new _X,n.infoSyncTree_=new z4({startListening:(i,s,a,u)=>{let f=[];const g=n.infoData_.getNode(i._path);return g.isEmpty()||(f=YD(n.infoSyncTree_,i._path,g),setTimeout(()=>{u("ok")},0)),f},stopListening:()=>{}}),JL(n,"connected",!1),n.serverSyncTree_=new z4({startListening:(i,s,a,u)=>(n.server_.listen(i,a,s,(f,g)=>{const C=u(f,g);Lc(n.eventQueue_,i._path,C)}),[]),stopListening:(i,s)=>{n.server_.unlisten(i,s)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Vc(this._repo,hi())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function(n,t){const e=l2[t];(!e||e[n.key]!==n)&&Pd(`Database ${t}(${n.repoInfo_}) has already been deleted.`),lz(n),delete e[n.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){null===this._rootInternal&&Pd("Cannot call "+t+" on a deleted database.")}}function Nte(n,t){Iq(n,t)}class Ute{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}v_.prototype.simpleListen=function(n,t){this.sendRequest("q",{p:n},t)},v_.prototype.echo=function(n,t){this.sendRequest("echo",{d:n},t)},Eq(vo.SDK_VERSION),(0,vo._registerComponent)(new dl.wA("database",(t,{instanceIdentifier:e})=>Sz(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"),t.getProvider("app-check-internal"),e),"PUBLIC").setMultipleInstances(!0)),(0,vo.registerVersion)(Cq,"0.12.5",void 0),(0,vo.registerVersion)(Cq,"0.12.5","esm2017");const zte=new Qo.Yd("@firebase/database-compat"),xz=function(n){zte.warn("FIREBASE WARNING: "+n)};class Yte{constructor(t){this._delegate=t}cancel(t){(0,oe.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,oe.Wj)("OnDisconnect.cancel","onComplete",t,!0);const e=this._delegate.cancel();return t&&e.then(()=>t(null),i=>t(i)),e}remove(t){(0,oe.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,oe.Wj)("OnDisconnect.remove","onComplete",t,!0);const e=this._delegate.remove();return t&&e.then(()=>t(null),i=>t(i)),e}set(t,e){(0,oe.Dv)("OnDisconnect.set",1,2,arguments.length),(0,oe.Wj)("OnDisconnect.set","onComplete",e,!0);const i=this._delegate.set(t);return e&&i.then(()=>e(null),s=>e(s)),i}setWithPriority(t,e,i){(0,oe.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,oe.Wj)("OnDisconnect.setWithPriority","onComplete",i,!0);const s=this._delegate.setWithPriority(t,e);return i&&s.then(()=>i(null),a=>i(a)),s}update(t,e){if((0,oe.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(t)){const s={};for(let a=0;a<t.length;++a)s[""+a]=t[a];t=s,xz("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,oe.Wj)("OnDisconnect.update","onComplete",e,!0);const i=this._delegate.update(t);return e&&i.then(()=>e(null),s=>e(s)),i}}class Zte{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return(0,oe.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class dg{constructor(t,e){this._database=t,this._delegate=e}val(){return(0,oe.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,oe.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,oe.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,oe.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(t){return(0,oe.Dv)("DataSnapshot.child",0,1,arguments.length),t=String(t),XD("DataSnapshot.child","path",t,!1),new dg(this._database,this._delegate.child(t))}hasChild(t){return(0,oe.Dv)("DataSnapshot.hasChild",1,1,arguments.length),XD("DataSnapshot.hasChild","path",t,!1),this._delegate.hasChild(t)}getPriority(){return(0,oe.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(t){return(0,oe.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,oe.Wj)("DataSnapshot.forEach","action",t,!1),this._delegate.forEach(e=>t(new dg(this._database,e)))}hasChildren(){return(0,oe.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,oe.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,oe.Dv)("DataSnapshot.ref",0,0,arguments.length),new Ql(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class wo{constructor(t,e){this.database=t,this._delegate=e}on(t,e,i,s){var a;(0,oe.Dv)("Query.on",2,4,arguments.length),(0,oe.Wj)("Query.on","callback",e,!1);const u=wo.getCancelAndContextArgs_("Query.on",i,s),f=(C,x)=>{e.call(u.context,new dg(this.database,C),x)};f.userCallback=e,f.context=u.context;const g=null===(a=u.cancel)||void 0===a?void 0:a.bind(u.context);switch(t){case"value":return a2(this._delegate,f,g),e;case"child_added":return yz(this._delegate,f,g),e;case"child_removed":return Cz(this._delegate,f,g),e;case"child_changed":return vz(this._delegate,f,g),e;case"child_moved":return bz(this._delegate,f,g),e;default:throw new Error((0,oe.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(t,e,i){if((0,oe.Dv)("Query.off",0,3,arguments.length),function(n,t,e){if(void 0!==t)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,oe.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,t),(0,oe.Wj)("Query.off","callback",e,!0),(0,oe.lb)("Query.off","context",i,!0),e){const s=()=>{};s.userCallback=e,s.context=i,wz(this._delegate,t,s)}else wz(this._delegate,t)}get(){return ste(this._delegate).then(t=>new dg(this.database,t))}once(t,e,i,s){(0,oe.Dv)("Query.once",1,4,arguments.length),(0,oe.Wj)("Query.once","callback",e,!0);const a=wo.getCancelAndContextArgs_("Query.once",i,s),u=new oe.BH,f=(C,x)=>{const R=new dg(this.database,C);e&&e.call(a.context,R,x),u.resolve(R)};f.userCallback=e,f.context=a.context;const g=C=>{a.cancel&&a.cancel.call(a.context,C),u.reject(C)};switch(t){case"value":a2(this._delegate,f,g,{onlyOnce:!0});break;case"child_added":yz(this._delegate,f,g,{onlyOnce:!0});break;case"child_removed":Cz(this._delegate,f,g,{onlyOnce:!0});break;case"child_changed":vz(this._delegate,f,g,{onlyOnce:!0});break;case"child_moved":bz(this._delegate,f,g,{onlyOnce:!0});break;default:throw new Error((0,oe.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return u.promise}limitToFirst(t){return(0,oe.Dv)("Query.limitToFirst",1,1,arguments.length),new wo(this.database,Hu(this._delegate,function(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new hte(n)}(t)))}limitToLast(t){return(0,oe.Dv)("Query.limitToLast",1,1,arguments.length),new wo(this.database,Hu(this._delegate,function(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new pte(n)}(t)))}orderByChild(t){return(0,oe.Dv)("Query.orderByChild",1,1,arguments.length),new wo(this.database,Hu(this._delegate,function(n){if("$key"===n)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===n)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===n)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return XD("orderByChild","path",n,!1),new mte(n)}(t)))}orderByKey(){return(0,oe.Dv)("Query.orderByKey",0,0,arguments.length),new wo(this.database,Hu(this._delegate,new yte))}orderByPriority(){return(0,oe.Dv)("Query.orderByPriority",0,0,arguments.length),new wo(this.database,Hu(this._delegate,new bte))}orderByValue(){return(0,oe.Dv)("Query.orderByValue",0,0,arguments.length),new wo(this.database,Hu(this._delegate,new wte))}startAt(t=null,e){return(0,oe.Dv)("Query.startAt",0,2,arguments.length),new wo(this.database,Hu(this._delegate,function(n=null,t){return JD("startAt","key",t,!0),new Dz(n,t)}(t,e)))}startAfter(t=null,e){return(0,oe.Dv)("Query.startAfter",0,2,arguments.length),new wo(this.database,Hu(this._delegate,function(n,t){return JD("startAfter","key",t,!0),new ute(n,t)}(t,e)))}endAt(t=null,e){return(0,oe.Dv)("Query.endAt",0,2,arguments.length),new wo(this.database,Hu(this._delegate,function(n,t){return JD("endAt","key",t,!0),new Ez(n,t)}(t,e)))}endBefore(t=null,e){return(0,oe.Dv)("Query.endBefore",0,2,arguments.length),new wo(this.database,Hu(this._delegate,function(n,t){return JD("endBefore","key",t,!0),new ate(n,t)}(t,e)))}equalTo(t,e){return(0,oe.Dv)("Query.equalTo",1,2,arguments.length),new wo(this.database,Hu(this._delegate,function(n,t){return JD("equalTo","key",t,!0),new Dte(n,t)}(t,e)))}toString(){return(0,oe.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,oe.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(t){if((0,oe.Dv)("Query.isEqual",1,1,arguments.length),!(t instanceof wo))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(t._delegate)}static getCancelAndContextArgs_(t,e,i){const s={cancel:void 0,context:void 0};if(e&&i)s.cancel=e,(0,oe.Wj)(t,"cancel",s.cancel,!0),s.context=i,(0,oe.lb)(t,"context",s.context,!0);else if(e)if("object"==typeof e&&null!==e)s.context=e;else{if("function"!=typeof e)throw new Error((0,oe.gK)(t,"cancelOrContext")+" must either be a cancel callback or a context object.");s.cancel=e}return s}get ref(){return new Ql(this.database,new Vc(this._delegate._repo,this._delegate._path))}}class Ql extends wo{constructor(t,e){super(t,new ml(e._repo,e._path,new MM,!1)),this.database=t,this._delegate=e}getKey(){return(0,oe.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(t){return(0,oe.Dv)("Reference.child",1,1,arguments.length),"number"==typeof t&&(t=String(t)),new Ql(this.database,T_(this._delegate,t))}getParent(){(0,oe.Dv)("Reference.parent",0,0,arguments.length);const t=this._delegate.parent;return t?new Ql(this.database,t):null}getRoot(){return(0,oe.Dv)("Reference.root",0,0,arguments.length),new Ql(this.database,this._delegate.root)}set(t,e){(0,oe.Dv)("Reference.set",1,2,arguments.length),(0,oe.Wj)("Reference.set","onComplete",e,!0);const i=o2(this._delegate,t);return e&&i.then(()=>e(null),s=>e(s)),i}update(t,e){if((0,oe.Dv)("Reference.update",1,2,arguments.length),Array.isArray(t)){const s={};for(let a=0;a<t.length;++a)s[""+a]=t[a];t=s,xz("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Fc("Reference.update",this._delegate._path),(0,oe.Wj)("Reference.update","onComplete",e,!0);const i=rte(this._delegate,t);return e&&i.then(()=>e(null),s=>e(s)),i}setWithPriority(t,e,i){(0,oe.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,oe.Wj)("Reference.setWithPriority","onComplete",i,!0);const s=function(n,t,e){if(Fc("setWithPriority",n._path),Ld("setWithPriority",t,n._path,!1),KL("setWithPriority",e,!1),".length"===n.key||".keys"===n.key)throw"setWithPriority failed: "+n.key+" is a read-only object.";const i=new oe.BH;return XL(n._repo,n._path,t,e,i.wrapCallback(()=>{})),i.promise}(this._delegate,t,e);return i&&s.then(()=>i(null),a=>i(a)),s}remove(t){(0,oe.Dv)("Reference.remove",0,1,arguments.length),(0,oe.Wj)("Reference.remove","onComplete",t,!0);const e=function(n){return Fc("remove",n._path),o2(n,null)}(this._delegate);return t&&e.then(()=>t(null),i=>t(i)),e}transaction(t,e,i){(0,oe.Dv)("Reference.transaction",1,3,arguments.length),(0,oe.Wj)("Reference.transaction","transactionUpdate",t,!1),(0,oe.Wj)("Reference.transaction","onComplete",e,!0),function(n,t,e,i){if(void 0!==e&&"boolean"!=typeof e)throw new Error((0,oe.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,i);const s=function(n,t,e){var i;if(n=(0,oe.m9)(n),Fc("Reference.transaction",n._path),".length"===n.key||".keys"===n.key)throw"Reference.transaction failed: "+n.key+" is a read-only object.";const s=null===(i=null==e?void 0:e.applyLocally)||void 0===i||i,a=new oe.BH,f=a2(n,()=>{});return function(n,t,e,i,s,a){Xb(n,"transaction on "+t);const u={path:t,update:e,onComplete:i,status:null,order:Tq(),applyLocally:a,retryCount:0,unwatcher:s,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},f=t2(n,t,void 0);u.currentInputSnapshot=f;const g=u.update(f.val());if(void 0===g)u.unwatcher(),u.currentOutputSnapshotRaw=null,u.currentOutputSnapshotResolved=null,u.onComplete&&u.onComplete(null,!1,u.currentInputSnapshot);else{QD("transaction failed: Data returned ",g,u.path),u.status=0;const C=YM(n.transactionQueueTree_,t),x=E_(C)||[];let R;x.push(u),YL(C,x),"object"==typeof g&&null!==g&&(0,oe.r3)(g,".priority")?(R=(0,oe.DV)(g,".priority"),(0,oe.hu)(KD(R),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):R=(zM(n.serverSyncTree_,t)||En.EMPTY_NODE).getPriority().val();const G=eT(n),ee=kr(g,R),he=zL(ee,f,G);u.currentOutputSnapshotRaw=ee,u.currentOutputSnapshotResolved=he,u.currentWriteId=QM(n);const Fe=LL(n.serverSyncTree_,t,he,u.currentWriteId,u.applyLocally);Lc(n.eventQueue_,t,Fe),JM(n,n.transactionQueueTree_)}}(n._repo,n._path,t,(g,C,x)=>{let R=null;g?a.reject(g):(R=new D_(x,new Vc(n._repo,n._path),Wi),a.resolve(new Ute(C,R)))},f,s),a.promise}(this._delegate,t,{applyLocally:i}).then(a=>new Zte(a.committed,new dg(this.database,a.snapshot)));return e&&s.then(a=>e(null,a.committed,a.snapshot),a=>e(a,!1,null)),s}setPriority(t,e){(0,oe.Dv)("Reference.setPriority",1,2,arguments.length),(0,oe.Wj)("Reference.setPriority","onComplete",e,!0);const i=function(n,t){n=(0,oe.m9)(n),Fc("setPriority",n._path),KL("setPriority",t,!1);const e=new oe.BH;return XL(n._repo,yr(n._path,".priority"),t,null,e.wrapCallback(()=>{})),e.promise}(this._delegate,t);return e&&i.then(()=>e(null),s=>e(s)),i}push(t,e){(0,oe.Dv)("Reference.push",0,2,arguments.length),(0,oe.Wj)("Reference.push","onComplete",e,!0);const i=function(n,t){n=(0,oe.m9)(n),Fc("push",n._path),Ld("push",t,n._path,!0);const e=rz(n._repo),i=cX(e),s=T_(n,i),a=T_(n,i);let u;return u=null!=t?o2(a,t).then(()=>a):Promise.resolve(a),s.then=u.then.bind(u),s.catch=u.then.bind(u,void 0),s}(this._delegate,t),s=i.then(u=>new Ql(this.database,u));e&&s.then(()=>e(null),u=>e(u));const a=new Ql(this.database,i);return a.then=s.then.bind(s),a.catch=s.catch.bind(s,void 0),a}onDisconnect(){return Fc("Reference.onDisconnect",this._delegate._path),new Yte(new gz(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class nT{constructor(t,e){this._delegate=t,this.app=e,this.INTERNAL={delete:()=>this._delegate._delete()}}useEmulator(t,e,i={}){!function(n,t,e,i={}){(n=(0,oe.m9)(n))._checkNotDeleted("useEmulator"),n._instanceStarted&&Pd("Cannot call useEmulator() after instance has already been initialized.");const s=n._repoInternal;let a;if(s.repoInfo_.nodeAdmin)i.mockUserToken&&Pd('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),a=new OD(OD.OWNER);else if(i.mockUserToken){const u="string"==typeof i.mockUserToken?i.mockUserToken:(0,oe.Sg)(i.mockUserToken,n.app.options.projectId);a=new OD(u)}!function(n,t,e,i){n.repoInfo_=new iL(`${t}:${e}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams),i&&(n.authTokenProvider_=i)}(s,t,e,a)}(this._delegate,t,e,i)}ref(t){if((0,oe.Dv)("database.ref",0,1,arguments.length),t instanceof Ql){const e=_z(this._delegate,t.toString());return new Ql(this,e)}{const e=mz(this._delegate,t);return new Ql(this,e)}}refFromURL(t){(0,oe.Dv)("database.refFromURL",1,1,arguments.length);const i=_z(this._delegate,t);return new Ql(this,i)}goOffline(){return(0,oe.Dv)("database.goOffline",0,0,arguments.length),function(n){(n=(0,oe.m9)(n))._checkNotDeleted("goOffline"),lz(n._repo)}(this._delegate)}goOnline(){return(0,oe.Dv)("database.goOnline",0,0,arguments.length),function(n){(n=(0,oe.m9)(n))._checkNotDeleted("goOnline"),function(n){n.persistentConnection_&&n.persistentConnection_.resume(iz)}(n._repo)}(this._delegate)}}nT.ServerValue={TIMESTAMP:{".sv":"timestamp"},increment:n=>function(n){return{".sv":{increment:n}}}(n)};var Kte=Object.freeze({__proto__:null,initStandalone:function({app:n,url:t,version:e,customAuthImpl:i,namespace:s,nodeAdmin:a=!1}){Eq(e);const u=new dl.zt("auth-internal",new dl.H0("database-standalone"));return u.setComponent(new dl.wA("auth-internal",()=>i,"PRIVATE")),{instance:new nT(Sz(n,u,void 0,t,a),n),namespace:s}}});const Qte=nT.ServerValue;function Iz(n,t){return t?li(()=>n,t):li(()=>n)}!function(n){n.INTERNAL.registerComponent(new dl.wA("database-compat",(t,{instanceIdentifier:e})=>{const i=t.getProvider("app-compat").getImmediate(),s=t.getProvider("database").getImmediate({identifier:e});return new nT(s,i)},"PUBLIC").setServiceProps({Reference:Ql,Query:wo,Database:nT,DataSnapshot:dg,enableLogging:Nte,INTERNAL:Kte,ServerValue:Qte}).setMultipleInstances(!0)),n.registerVersion("@firebase/database-compat","0.1.5")}(mb.Z);var c2=M(9673);const u2=new r.OlP("angularfire2.auth.use-emulator"),d2=new r.OlP("angularfire2.auth.settings"),h2=new r.OlP("angularfire2.auth.tenant-id"),f2=new r.OlP("angularfire2.auth.langugage-code"),p2=new r.OlP("angularfire2.auth.use-device-language"),g2=new r.OlP("angularfire.auth.persistence"),m2=(n,t,e,i,s,a,u,f)=>(0,Zi.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const g=t.runOutsideAngular(()=>n.auth());if(e&&g.useEmulator(...e),i&&(g.tenantId=i),g.languageCode=s,a&&g.useDeviceLanguage(),u)for(const[C,x]of Object.entries(u))g.settings[C]=x;return f&&g.setPersistence(f),g},[e,i,s,a,u,f]);let _2=(()=>{class n{constructor(e,i,s,a,u,f,g,C,x,R,G,ee){const he=new yt.xQ,Fe=(0,ft.of)(void 0).pipe((0,Uy.QV)(u.outsideAngular),li(()=>a.runOutsideAngular(()=>Promise.resolve().then(M.bind(M,1390)))),(0,At.U)(()=>(0,Zi.on)(e,a,i)),(0,At.U)(He=>m2(He,a,f,C,x,R,g,G)),Dc({bufferSize:1,refCount:!1}));if(it(s))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,ft.of)(null);else{Fe.pipe(qi()).subscribe();const ht=Fe.pipe(li(Ct=>Ct.getRedirectResult().then(Ln=>Ln,()=>null)),$n.iC,Dc({bufferSize:1,refCount:!1})),mt=Fe.pipe(li(Ct=>new Bn.y(Ln=>({unsubscribe:a.runOutsideAngular(()=>Ct.onAuthStateChanged(Ci=>Ln.next(Ci),Ci=>Ln.error(Ci),()=>Ln.complete()))})))),Et=Fe.pipe(li(Ct=>new Bn.y(Ln=>({unsubscribe:a.runOutsideAngular(()=>Ct.onIdTokenChanged(Ci=>Ln.next(Ci),Ci=>Ln.error(Ci),()=>Ln.complete()))}))));this.authState=ht.pipe(Iz(mt),(0,c2.R)(u.outsideAngular),(0,Uy.QV)(u.insideAngular)),this.user=ht.pipe(Iz(Et),(0,c2.R)(u.outsideAngular),(0,Uy.QV)(u.insideAngular)),this.idToken=this.user.pipe(li(Ct=>Ct?(0,Gn.D)(Ct.getIdToken()):(0,ft.of)(null))),this.idTokenResult=this.user.pipe(li(Ct=>Ct?(0,Gn.D)(Ct.getIdTokenResult()):(0,ft.of)(null))),this.credential=(0,ir.T)(ht,he,this.authState.pipe(xn(Ct=>!Ct))).pipe((0,At.U)(Ct=>(null==Ct?void 0:Ct.user)?Ct:null),(0,c2.R)(u.outsideAngular),(0,Uy.QV)(u.insideAngular))}return(0,Zi.pX)(this,Fe,a,{spy:{apply:(He,ht,mt)=>{(He.startsWith("signIn")||He.startsWith("createUser"))&&mt.then(Et=>he.next(Et))}}})}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(Zi.Dh),r.LFG(Zi.xv,8),r.LFG(r.Lbi),r.LFG(r.R0b),r.LFG($n.HU),r.LFG(u2,8),r.LFG(d2,8),r.LFG(h2,8),r.LFG(f2,8),r.LFG(p2,8),r.LFG(g2,8),r.LFG(mD,8))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function Az(n){return null==n}function Mz(n){return"function"==typeof n.set}function kz(n,t){return Mz(t)?t:n.ref(t)}function Rz(n,t){if(function(n){return"string"==typeof n}(n))return t.stringCase();if(Mz(n))return t.firebaseCase();if(function(n){return"function"==typeof n.exportVal}(n))return t.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof n)}function iT(n,t,e="on",i=Sh.z){return new Bn.y(s=>{let a=null;return a=n[e](t,(u,f)=>{i.schedule(()=>{s.next({snapshot:u,prevKey:f})}),"once"===e&&i.schedule(()=>s.complete())},u=>{i.schedule(()=>s.error(u))}),"on"===e?{unsubscribe(){null!=a&&n.off(t,a)}}:{unsubscribe(){}}}).pipe((0,At.U)(s=>{const{snapshot:a,prevKey:u}=s;let f=null;return a.exists()&&(f=a.key),{type:t,payload:a,prevKey:u,key:f}}),(0,wH.B)())}function Oz(n,t){const e=n.length;for(let i=0;i<e;i++)if(n[i].payload.key===t)return i;return-1}function rne(n,t){const{payload:e,prevKey:i,key:s}=t,a=Oz(n,s),u=function(n,t){if(Az(t))return 0;{const e=Oz(n,t);return-1===e?n.length:e+1}}(n,i);switch(t.type){case"value":if(t.payload&&t.payload.exists()){let f=null;t.payload.forEach(g=>{const C={payload:g,type:"value",prevKey:f,key:g.key};return f=g.key,n=[...n,C],!1})}return n;case"child_added":if(a>-1){const f=n[a-1];(f&&f.key||null)!==i&&(n=n.filter(g=>g.payload.key!==e.key)).splice(u,0,t)}else{if(null==i)return[t,...n];(n=n.slice()).splice(u,0,t)}return n;case"child_removed":return n.filter(f=>f.payload.key!==e.key);case"child_changed":return n.map(f=>f.payload.key===s?t:f);case"child_moved":if(a>-1){const f=n.splice(a,1)[0];return(n=n.slice()).splice(u,0,f),n}return n;default:return n}}function Pz(n){return(Az(n)||0===n.length)&&(n=["child_added","child_removed","child_changed","child_moved"]),n}function Nz(n,t,e){return function(n,t,e){return iT(n,"value","once",e).pipe(li(i=>{const s=[(0,ft.of)(i)];return t.forEach(a=>s.push(iT(n,a,"on",e))),(0,ir.T)(...s).pipe(Il(rne,[]))}),yd())}(n,t=Pz(t),e)}function Fz(n,t,e){const i=(t=Pz(t)).map(s=>iT(n,s,"on",e));return(0,ir.T)(...i)}function Lz(n,t){return function(i,s){return Rz(i,{stringCase:()=>n.child(i)[t](s),firebaseCase:()=>i[t](s),snapshotCase:()=>i.ref[t](s)})}}function lne(n){return function(e){return e?Rz(e,{stringCase:()=>n.child(e).remove(),firebaseCase:()=>e.remove(),snapshotCase:()=>e.ref.remove()}):n.remove()}}function Vz(n,t){return function(){return iT(n,"value","on",t)}}const dne=new r.OlP("angularfire2.realtimeDatabaseURL"),hne=new r.OlP("angularfire2.database.use-emulator");let fne=(()=>{class n{constructor(e,i,s,a,u,f,g,C,x,R,G,ee,he,Fe,He){this.schedulers=f;const ht=g,mt=(0,Zi.on)(e,u,i);C&&m2(mt,u,x,G,ee,he,R,Fe),this.database=(0,Zi.cc)(`${mt.name}.database.${s}`,"AngularFireDatabase",mt.name,()=>{const Et=u.runOutsideAngular(()=>mt.database(s||void 0));return ht&&Et.useEmulator(...ht),Et},[ht])}list(e,i){const s=this.schedulers.ngZone.runOutsideAngular(()=>kz(this.database,e));let a=s;return i&&(a=i(s)),function(n,t){const e=t.schedulers.outsideAngular,i=t.schedulers.ngZone.run(()=>n.ref);return{query:n,update:Lz(i,"update"),set:Lz(i,"set"),push:s=>i.push(s),remove:lne(i),snapshotChanges:s=>Nz(n,s,e).pipe($n.iC),stateChanges:s=>Fz(n,s,e).pipe($n.iC),auditTrail:s=>function(n,t,e){return function(n,t,e){return function(n,t){return iT(n,"value","on",t).pipe((0,At.U)(e=>{let i;return e.payload.forEach(s=>(i=s.key,!1)),{data:e,lastKeyToLoad:i}}))}(n,e).pipe(function(...n){return t=>{let e;return"function"==typeof n[n.length-1]&&(e=n.pop()),t.lift(new eJ(n,e))}}(t),(0,At.U)(([s,a])=>{const u=s.lastKeyToLoad,f=a.map(g=>g.key);return{actions:a,lastKeyToLoad:u,loadedKeys:f}}),function(n){return t=>t.lift(new iJ(n))}(s=>-1===s.loadedKeys.indexOf(s.lastKeyToLoad)),(0,At.U)(s=>s.actions))}(n,Fz(n,t).pipe(Il((s,a)=>[...s,a],[])),e)}(n,s,e).pipe($n.iC),valueChanges:(s,a)=>Nz(n,s,e).pipe((0,At.U)(f=>f.map(g=>a&&a.idField?Object.assign(Object.assign({},g.payload.val()),{[a.idField]:g.key}):g.payload.val())),$n.iC)}}(a,this)}object(e){return function(n,t){return{query:n,snapshotChanges:()=>Vz(n,t.schedulers.outsideAngular)().pipe($n.iC),update:e=>n.ref.update(e),set:e=>n.ref.set(e),remove:()=>n.ref.remove(),valueChanges:()=>Vz(n,t.schedulers.outsideAngular)().pipe($n.iC,(0,At.U)(i=>i.payload.exists()?i.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>kz(this.database,e)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(Zi.Dh),r.LFG(Zi.xv,8),r.LFG(dne,8),r.LFG(r.Lbi),r.LFG(r.R0b),r.LFG($n.HU),r.LFG(hne,8),r.LFG(_2,8),r.LFG(u2,8),r.LFG(d2,8),r.LFG(h2,8),r.LFG(f2,8),r.LFG(p2,8),r.LFG(g2,8),r.LFG(mD,8))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),pne=(()=>{class n{constructor(){vF.Z.registerVersion("angularfire",$n.q4.full,"rtdb-compat")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({providers:[fne]}),n})();var Pt,gne="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},lf={},y2=y2||{},_n=gne||self;function r1(){}function v2(n){var t=typeof n;return"array"==(t="object"!=t?t:n?Array.isArray(n)?"array":t:"null")||"object"==t&&"number"==typeof n.length}function rT(n){var t=typeof n;return"object"==t&&null!=n||"function"==t}var b2="closure_uid_"+(1e9*Math.random()>>>0),_ne=0;function yne(n,t,e){return n.call.apply(n.bind,arguments)}function vne(n,t,e){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var s=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(s,i),n.apply(t,s)}}return function(){return n.apply(t,arguments)}}function Eo(n,t,e){return(Eo=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?yne:vne).apply(null,arguments)}function s1(n,t){var e=Array.prototype.slice.call(arguments,1);return function(){var i=e.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function Do(n,t){function e(){}e.prototype=t.prototype,n.Z=t.prototype,n.prototype=new e,n.prototype.constructor=n,n.Vb=function(i,s,a){for(var u=Array(arguments.length-2),f=2;f<arguments.length;f++)u[f-2]=arguments[f];return t.prototype[s].apply(i,u)}}function hg(){this.s=this.s,this.o=this.o}var Cne={};hg.prototype.s=!1,hg.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function(n){return Object.prototype.hasOwnProperty.call(n,b2)&&n[b2]||(n[b2]=++_ne)}(this);delete Cne[n]}},hg.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Bz=Array.prototype.indexOf?function(n,t){return Array.prototype.indexOf.call(n,t,void 0)}:function(n,t){if("string"==typeof n)return"string"!=typeof t||1!=t.length?-1:n.indexOf(t,0);for(let e=0;e<n.length;e++)if(e in n&&n[e]===t)return e;return-1},Uz=Array.prototype.forEach?function(n,t,e){Array.prototype.forEach.call(n,t,e)}:function(n,t,e){const i=n.length,s="string"==typeof n?n.split(""):n;for(let a=0;a<i;a++)a in s&&t.call(e,s[a],a,n)};function jz(n){return Array.prototype.concat.apply([],arguments)}function C2(n){const t=n.length;if(0<t){const e=Array(t);for(let i=0;i<t;i++)e[i]=n[i];return e}return[]}function o1(n){return/^[\s\xa0]*$/.test(n)}var La,Hz=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function Fa(n,t){return-1!=n.indexOf(t)}function w2(n,t){return n<t?-1:n>t?1:0}e:{var qz=_n.navigator;if(qz){var zz=qz.userAgent;if(zz){La=zz;break e}}La=""}function E2(n,t,e){for(const i in n)t.call(e,n[i],i,n)}function Gz(n){const t={};for(const e in n)t[e]=n[e];return t}var $z="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Yz(n,t){let e,i;for(let s=1;s<arguments.length;s++){for(e in i=arguments[s],i)n[e]=i[e];for(let a=0;a<$z.length;a++)e=$z[a],Object.prototype.hasOwnProperty.call(i,e)&&(n[e]=i[e])}}function D2(n){return D2[" "](n),n}D2[" "]=r1;var a1,Dne=Fa(La,"Opera"),t0=Fa(La,"Trident")||Fa(La,"MSIE"),Zz=Fa(La,"Edge"),T2=Zz||t0,Wz=Fa(La,"Gecko")&&!(Fa(La.toLowerCase(),"webkit")&&!Fa(La,"Edge"))&&!(Fa(La,"Trident")||Fa(La,"MSIE"))&&!Fa(La,"Edge"),Tne=Fa(La.toLowerCase(),"webkit")&&!Fa(La,"Edge");function Kz(){var n=_n.document;return n?n.documentMode:void 0}e:{var S2="",x2=function(){var n=La;return Wz?/rv:([^\);]+)(\)|;)/.exec(n):Zz?/Edge\/([\d\.]+)/.exec(n):t0?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):Tne?/WebKit\/(\S+)/.exec(n):Dne?/(?:Version)[ \/]?(\S+)/.exec(n):void 0}();if(x2&&(S2=x2?x2[1]:""),t0){var I2=Kz();if(null!=I2&&I2>parseFloat(S2)){a1=String(I2);break e}}a1=S2}var Sne={};function xne(){return t=Sne,Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=function(){let n=0;const t=Hz(String(a1)).split("."),e=Hz("9").split("."),i=Math.max(t.length,e.length);for(let u=0;0==n&&u<i;u++){var s=t[u]||"",a=e[u]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==s[0].length&&0==a[0].length)break;n=w2(0==s[1].length?0:parseInt(s[1],10),0==a[1].length?0:parseInt(a[1],10))||w2(0==s[2].length,0==a[2].length)||w2(s[2],a[2]),s=s[3],a=a[3]}while(0==n)}return 0<=n}();var t}var Ine=_n.document&&t0&&(Kz()||parseInt(a1,10))||void 0,Ane=function(){if(!_n.addEventListener||!Object.defineProperty)return!1;var n=!1,t=Object.defineProperty({},"passive",{get:function(){n=!0}});try{_n.addEventListener("test",r1,t),_n.removeEventListener("test",r1,t)}catch(e){}return n}();function Xo(n,t){this.type=n,this.g=this.target=t,this.defaultPrevented=!1}function sT(n,t){if(Xo.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var e=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=t,t=n.relatedTarget){if(Wz){e:{try{D2(t.nodeName);var s=!0;break e}catch(a){}s=!1}s||(t=null)}}else"mouseover"==e?t=n.fromElement:"mouseout"==e&&(t=n.toElement);this.relatedTarget=t,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:Mne[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&sT.Z.h.call(this)}}Xo.prototype.h=function(){this.defaultPrevented=!0},Do(sT,Xo);var Mne={2:"touch",3:"pen",4:"mouse"};sT.prototype.h=function(){sT.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var oT="closure_listenable_"+(1e6*Math.random()|0),kne=0;function Rne(n,t,e,i,s){this.listener=n,this.proxy=null,this.src=t,this.type=e,this.capture=!!i,this.ia=s,this.key=++kne,this.ca=this.fa=!1}function l1(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function c1(n){this.src=n,this.g={},this.h=0}function M2(n,t){var e=t.type;if(e in n.g){var a,i=n.g[e],s=Bz(i,t);(a=0<=s)&&Array.prototype.splice.call(i,s,1),a&&(l1(t),0==n.g[e].length&&(delete n.g[e],n.h--))}}function k2(n,t,e,i){for(var s=0;s<n.length;++s){var a=n[s];if(!a.ca&&a.listener==t&&a.capture==!!e&&a.ia==i)return s}return-1}c1.prototype.add=function(n,t,e,i,s){var a=n.toString();(n=this.g[a])||(n=this.g[a]=[],this.h++);var u=k2(n,t,i,s);return-1<u?(t=n[u],e||(t.fa=!1)):((t=new Rne(t,this.src,a,!!i,s)).fa=e,n.push(t)),t};var R2="closure_lm_"+(1e6*Math.random()|0),O2={};function Jz(n,t,e,i,s){if(i&&i.once)return eG(n,t,e,i,s);if(Array.isArray(t)){for(var a=0;a<t.length;a++)Jz(n,t[a],e,i,s);return null}return e=L2(e),n&&n[oT]?n.N(t,e,rT(i)?!!i.capture:!!i,s):Xz(n,t,e,!1,i,s)}function Xz(n,t,e,i,s,a){if(!t)throw Error("Invalid event type");var u=rT(s)?!!s.capture:!!s,f=N2(n);if(f||(n[R2]=f=new c1(n)),(e=f.add(t,e,i,u,a)).proxy)return e;if(i=function(){var t=Pne;return function n(e){return t.call(n.src,n.listener,e)}}(),e.proxy=i,i.src=n,i.listener=e,n.addEventListener)Ane||(s=u),void 0===s&&(s=!1),n.addEventListener(t.toString(),i,s);else if(n.attachEvent)n.attachEvent(nG(t.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return e}function eG(n,t,e,i,s){if(Array.isArray(t)){for(var a=0;a<t.length;a++)eG(n,t[a],e,i,s);return null}return e=L2(e),n&&n[oT]?n.O(t,e,rT(i)?!!i.capture:!!i,s):Xz(n,t,e,!0,i,s)}function tG(n,t,e,i,s){if(Array.isArray(t))for(var a=0;a<t.length;a++)tG(n,t[a],e,i,s);else i=rT(i)?!!i.capture:!!i,e=L2(e),n&&n[oT]?(n=n.i,(t=String(t).toString())in n.g&&-1<(e=k2(a=n.g[t],e,i,s))&&(l1(a[e]),Array.prototype.splice.call(a,e,1),0==a.length&&(delete n.g[t],n.h--))):n&&(n=N2(n))&&(t=n.g[t.toString()],n=-1,t&&(n=k2(t,e,i,s)),(e=-1<n?t[n]:null)&&P2(e))}function P2(n){if("number"!=typeof n&&n&&!n.ca){var t=n.src;if(t&&t[oT])M2(t.i,n);else{var e=n.type,i=n.proxy;t.removeEventListener?t.removeEventListener(e,i,n.capture):t.detachEvent?t.detachEvent(nG(e),i):t.addListener&&t.removeListener&&t.removeListener(i),(e=N2(t))?(M2(e,n),0==e.h&&(e.src=null,t[R2]=null)):l1(n)}}}function nG(n){return n in O2?O2[n]:O2[n]="on"+n}function Pne(n,t){if(n.ca)n=!0;else{t=new sT(t,this);var e=n.listener,i=n.ia||n.src;n.fa&&P2(n),n=e.call(i,t)}return n}function N2(n){return(n=n[R2])instanceof c1?n:null}var F2="__closure_events_fn_"+(1e9*Math.random()>>>0);function L2(n){return"function"==typeof n?n:(n[F2]||(n[F2]=function(t){return n.handleEvent(t)}),n[F2])}function Js(){hg.call(this),this.i=new c1(this),this.P=this,this.I=null}function To(n,t){var e,i=n.I;if(i)for(e=[];i;i=i.I)e.push(i);if(n=n.P,i=t.type||t,"string"==typeof t)t=new Xo(t,n);else if(t instanceof Xo)t.target=t.target||n;else{var s=t;Yz(t=new Xo(i,n),s)}if(s=!0,e)for(var a=e.length-1;0<=a;a--){var u=t.g=e[a];s=u1(u,i,!0,t)&&s}if(s=u1(u=t.g=n,i,!0,t)&&s,s=u1(u,i,!1,t)&&s,e)for(a=0;a<e.length;a++)s=u1(u=t.g=e[a],i,!1,t)&&s}function u1(n,t,e,i){if(!(t=n.i.g[String(t)]))return!0;t=t.concat();for(var s=!0,a=0;a<t.length;++a){var u=t[a];if(u&&!u.ca&&u.capture==e){var f=u.listener,g=u.ia||u.src;u.fa&&M2(n.i,u),s=!1!==f.call(g,i)&&s}}return s&&!i.defaultPrevented}Do(Js,hg),Js.prototype[oT]=!0,Js.prototype.removeEventListener=function(n,t,e,i){tG(this,n,t,e,i)},Js.prototype.M=function(){if(Js.Z.M.call(this),this.i){var t,n=this.i;for(t in n.g){for(var e=n.g[t],i=0;i<e.length;i++)l1(e[i]);delete n.g[t],n.h--}}this.I=null},Js.prototype.N=function(n,t,e,i){return this.i.add(String(n),t,!1,e,i)},Js.prototype.O=function(n,t,e,i){return this.i.add(String(n),t,!0,e,i)};var V2=_n.JSON.stringify;function Nne(){var n=rG;let t=null;return n.g&&(t=n.g,n.g=n.g.next,n.g||(n.h=null),t.next=null),t}var U2,iG=new class{constructor(n,t){this.i=n,this.j=t,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new Lne,n=>n.reset());class Lne{constructor(){this.next=this.g=this.h=null}set(t,e){this.h=t,this.g=e,this.next=null}reset(){this.next=this.g=this.h=null}}function Vne(n){_n.setTimeout(()=>{throw n},0)}function B2(n,t){U2||function(){var n=_n.Promise.resolve(void 0);U2=function(){n.then(Une)}}(),j2||(U2(),j2=!0),rG.add(n,t)}var j2=!1,rG=new class{constructor(){this.h=this.g=null}add(t,e){const i=iG.get();i.set(t,e),this.h?this.h.next=i:this.g=i,this.h=i}};function Une(){for(var n;n=Nne();){try{n.h.call(n.g)}catch(e){Vne(e)}var t=iG;t.j(n),100>t.h&&(t.h++,n.next=t.g,t.g=n)}j2=!1}function d1(n,t){Js.call(this),this.h=n||1,this.g=t||_n,this.j=Eo(this.kb,this),this.l=Date.now()}function H2(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function q2(n,t,e){if("function"==typeof n)e&&(n=Eo(n,e));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Eo(n.handleEvent,n)}return 2147483647<Number(t)?-1:_n.setTimeout(n,t||0)}function sG(n){n.g=q2(()=>{n.g=null,n.i&&(n.i=!1,sG(n))},n.j);const t=n.h;n.h=null,n.m.apply(null,t)}Do(d1,Js),(Pt=d1.prototype).da=!1,Pt.S=null,Pt.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),To(this,"tick"),this.da&&(H2(this),this.start()))}},Pt.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Pt.M=function(){d1.Z.M.call(this),H2(this),delete this.g};class jne extends hg{constructor(t,e){super(),this.m=t,this.j=e,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:sG(this)}M(){super.M(),this.g&&(_n.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function aT(n){hg.call(this),this.h=n,this.g={}}Do(aT,hg);var oG=[];function aG(n,t,e,i){Array.isArray(e)||(e&&(oG[0]=e.toString()),e=oG);for(var s=0;s<e.length;s++){var a=Jz(t,e[s],i||n.handleEvent,!1,n.h||n);if(!a)break;n.g[a.key]=a}}function lG(n){E2(n.g,function(t,e){this.g.hasOwnProperty(e)&&P2(t)},n),n.g={}}function h1(){this.g=!0}function n0(n,t,e,i){n.info(function(){return"XMLHTTP TEXT ("+t+"): "+function(n,t){if(!n.g)return t;if(!t)return null;try{var e=JSON.parse(t);if(e)for(n=0;n<e.length;n++)if(Array.isArray(e[n])){var i=e[n];if(!(2>i.length)){var s=i[1];if(Array.isArray(s)&&!(1>s.length)){var a=s[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var u=1;u<s.length;u++)s[u]=""}}}return V2(e)}catch(f){return t}}(n,e)+(i?" "+i:"")})}aT.prototype.M=function(){aT.Z.M.call(this),lG(this)},aT.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},h1.prototype.Aa=function(){this.g=!1},h1.prototype.info=function(){};var S_={},cG=null;function f1(){return cG=cG||new Js}function uG(n){Xo.call(this,S_.Ma,n)}function lT(n){const t=f1();To(t,new uG(t,n))}function dG(n,t){Xo.call(this,S_.STAT_EVENT,n),this.stat=t}function Va(n){const t=f1();To(t,new dG(t,n))}function hG(n,t){Xo.call(this,S_.Na,n),this.size=t}function cT(n,t){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return _n.setTimeout(function(){n()},t)}S_.Ma="serverreachability",Do(uG,Xo),S_.STAT_EVENT="statevent",Do(dG,Xo),S_.Na="timingevent",Do(hG,Xo);var p1={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},fG={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function z2(){}function gG(){}z2.prototype.h=null;var Y2,uT={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function G2(){Xo.call(this,"d")}function $2(){Xo.call(this,"c")}function g1(){}function dT(n,t,e,i){this.l=n,this.j=t,this.m=e,this.X=i||1,this.V=new aT(this),this.P=$ne,this.W=new d1(n=T2?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new mG}function mG(){this.i=null,this.g="",this.h=!1}Do(G2,Xo),Do($2,Xo),Do(g1,z2),g1.prototype.g=function(){return new XMLHttpRequest},g1.prototype.i=function(){return{}},Y2=new g1;var $ne=45e3,Z2={},m1={};function W2(n,t,e){n.K=1,n.v=C1(cf(t)),n.s=e,n.U=!0,_G(n,null)}function _G(n,t){n.F=Date.now(),hT(n),n.A=cf(n.v);var e=n.A,i=n.X;Array.isArray(i)||(i=[String(i)]),SG(e.h,"t",i),n.C=0,e=n.l.H,n.h=new mG,n.g=WG(n.l,e?t:null,!n.s),0<n.O&&(n.L=new jne(Eo(n.Ia,n,n.g),n.O)),aG(n.V,n.g,"readystatechange",n.gb),t=n.H?Gz(n.H):{},n.s?(n.u||(n.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,t)):(n.u="GET",n.g.ea(n.A,n.u,null,t)),lT(1),function(n,t,e,i,s,a){n.info(function(){if(n.g)if(a)for(var u="",f=a.split("&"),g=0;g<f.length;g++){var C=f[g].split("=");if(1<C.length){var x=C[0];C=C[1];var R=x.split("_");u=2<=R.length&&"type"==R[1]?u+(x+"=")+C+"&":u+(x+"=redacted&")}}else u=null;else u=a;return"XMLHTTP REQ ("+i+") [attempt "+s+"]: "+t+"\n"+e+"\n"+u})}(n.j,n.u,n.A,n.m,n.X,n.s)}function yG(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function vG(n,t,e){let s,i=!0;for(;!n.I&&n.C<e.length;){if(s=Yne(n,e),s==m1){4==t&&(n.o=4,Va(14),i=!1),n0(n.j,n.m,null,"[Incomplete Response]");break}if(s==Z2){n.o=4,Va(15),n0(n.j,n.m,e,"[Invalid Chunk]"),i=!1;break}n0(n.j,n.m,s,null),K2(n,s)}yG(n)&&s!=m1&&s!=Z2&&(n.h.g="",n.C=0),4!=t||0!=e.length||n.h.h||(n.o=1,Va(16),i=!1),n.i=n.i&&i,i?0<e.length&&!n.aa&&(n.aa=!0,(t=n.l).g==n&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+e.length),aV(t),t.L=!0,Va(11))):(n0(n.j,n.m,e,"[Invalid Chunked Response]"),x_(n),fT(n))}function Yne(n,t){var e=n.C,i=t.indexOf("\n",e);return-1==i?m1:(e=Number(t.substring(e,i)),isNaN(e)?Z2:(i+=1)+e>t.length?m1:(t=t.substr(i,e),n.C=i+e,t))}function hT(n){n.Y=Date.now()+n.P,bG(n,n.P)}function bG(n,t){if(null!=n.B)throw Error("WatchDog timer not null");n.B=cT(Eo(n.eb,n),t)}function _1(n){n.B&&(_n.clearTimeout(n.B),n.B=null)}function fT(n){0==n.l.G||n.I||GG(n.l,n)}function x_(n){_1(n);var t=n.L;t&&"function"==typeof t.na&&t.na(),n.L=null,H2(n.W),lG(n.V),n.g&&(t=n.g,n.g=null,t.abort(),t.na())}function K2(n,t){try{var e=n.l;if(0!=e.G&&(e.g==n||X2(e.i,n)))if(e.I=n.N,!n.J&&X2(e.i,n)&&3==e.G){try{var i=e.Ca.g.parse(t)}catch(C){i=null}if(Array.isArray(i)&&3==i.length){var s=i;if(0==s[0])e:if(e.u)e.ta=s[1],0<e.ta-e.U&&37500>s[2]&&e.N&&0==e.A&&!e.v&&(e.v=cT(Eo(e.ab,e),6e3));else{if(e.g){if(!(e.g.F+3e3<n.F))break e;x1(e),T1(e)}oV(e),Va(18)}if(1>=AG(e.i)&&e.ka){try{e.ka()}catch(C){}e.ka=void 0}}else M_(e,11)}else if((n.J||e.g==n)&&x1(e),!o1(t))for(s=e.Ca.g.parse(t),t=0;t<s.length;t++){let C=s[t];if(e.U=C[0],C=C[1],2==e.G)if("c"==C[0]){e.J=C[1],e.la=C[2];const x=C[3];null!=x&&(e.ma=x,e.h.info("VER="+e.ma));const R=C[4];null!=R&&(e.za=R,e.h.info("SVER="+e.za));const G=C[5];null!=G&&"number"==typeof G&&0<G&&(e.K=i=1.5*G,e.h.info("backChannelRequestTimeoutMs_="+i)),i=e;const ee=n.g;if(ee){const he=ee.g?ee.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(he){var a=i.i;!a.g&&(Fa(he,"spdy")||Fa(he,"quic")||Fa(he,"h2"))&&(a.j=a.l,a.g=new Set,a.h&&(eV(a,a.h),a.h=null))}if(i.D){const Fe=ee.g?ee.g.getResponseHeader("X-HTTP-Session-Id"):null;Fe&&(i.sa=Fe,vr(i.F,i.D,Fe))}}e.G=3,e.j&&e.j.xa(),e.$&&(e.O=Date.now()-n.F,e.h.info("Handshake RTT: "+e.O+"ms"));var u=n;if((i=e).oa=ZG(i,i.H?i.la:null,i.W),u.J){MG(i.i,u);var f=u,g=i.K;g&&f.setTimeout(g),f.B&&(_1(f),hT(f)),i.g=u}else qG(i);0<e.l.length&&S1(e)}else"stop"!=C[0]&&"close"!=C[0]||M_(e,7);else 3==e.G&&("stop"==C[0]||"close"==C[0]?"stop"==C[0]?M_(e,7):rV(e):"noop"!=C[0]&&e.j&&e.j.wa(C),e.A=0)}lT(4)}catch(C){}}function Q2(n,t){if(n.forEach&&"function"==typeof n.forEach)n.forEach(t,void 0);else if(v2(n)||"string"==typeof n)Uz(n,t,void 0);else{if(n.T&&"function"==typeof n.T)var e=n.T();else if(n.R&&"function"==typeof n.R)e=void 0;else if(v2(n)||"string"==typeof n){e=[];for(var i=n.length,s=0;s<i;s++)e.push(s)}else for(s in e=[],i=0,n)e[i++]=s;s=(i=function(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(v2(n)){for(var t=[],e=n.length,i=0;i<e;i++)t.push(n[i]);return t}for(i in t=[],e=0,n)t[e++]=n[i];return t}(n)).length;for(var a=0;a<s;a++)t.call(void 0,i[a],e&&e[a],n)}}function r0(n,t){this.h={},this.g=[],this.i=0;var e=arguments.length;if(1<e){if(e%2)throw Error("Uneven number of arguments");for(var i=0;i<e;i+=2)this.set(arguments[i],arguments[i+1])}else if(n)if(n instanceof r0)for(e=n.T(),i=0;i<e.length;i++)this.set(e[i],n.get(e[i]));else for(i in n)this.set(i,n[i])}function J2(n){if(n.i!=n.g.length){for(var t=0,e=0;t<n.g.length;){var i=n.g[t];I_(n.h,i)&&(n.g[e++]=i),t++}n.g.length=e}if(n.i!=n.g.length){var s={};for(e=t=0;t<n.g.length;)I_(s,i=n.g[t])||(n.g[e++]=i,s[i]=1),t++;n.g.length=e}}function I_(n,t){return Object.prototype.hasOwnProperty.call(n,t)}(Pt=dT.prototype).setTimeout=function(n){this.P=n},Pt.gb=function(n){n=n.target;const t=this.L;t&&3==uf(n)?t.l():this.Ia(n)},Pt.Ia=function(n){try{if(n==this.g)e:{const x=uf(this.g);var t=this.g.Da();const R=this.g.ba();if(!(3>x)&&(3!=x||T2||this.g&&(this.h.h||this.g.ga()||VG(this.g)))){this.I||4!=x||7==t||lT(8==t||0>=R?3:2),_1(this);var e=this.g.ba();this.N=e;t:if(yG(this)){var i=VG(this.g);n="";var s=i.length,a=4==uf(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){x_(this),fT(this);var u="";break t}this.h.i=new _n.TextDecoder}for(t=0;t<s;t++)this.h.h=!0,n+=this.h.i.decode(i[t],{stream:a&&t==s-1});i.splice(0,s),this.h.g+=n,this.C=0,u=this.h.g}else u=this.g.ga();if(this.i=200==e,function(n,t,e,i,s,a,u){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+s+"]: "+t+"\n"+e+"\n"+a+" "+u})}(this.j,this.u,this.A,this.m,this.X,x,e),this.i){if(this.$&&!this.J){t:{if(this.g){var f,g=this.g;if((f=g.g?g.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!o1(f)){var C=f;break t}}C=null}if(!(e=C)){this.i=!1,this.o=3,Va(12),x_(this),fT(this);break e}n0(this.j,this.m,e,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,K2(this,e)}this.U?(vG(this,x,u),T2&&this.i&&3==x&&(aG(this.V,this.W,"tick",this.fb),this.W.start())):(n0(this.j,this.m,u,null),K2(this,u)),4==x&&x_(this),this.i&&!this.I&&(4==x?GG(this.l,this):(this.i=!1,hT(this)))}else 400==e&&0<u.indexOf("Unknown SID")?(this.o=3,Va(12)):(this.o=0,Va(13)),x_(this),fT(this)}}}catch(x){}},Pt.fb=function(){if(this.g){var n=uf(this.g),t=this.g.ga();this.C<t.length&&(_1(this),vG(this,n,t),this.i&&4!=n&&hT(this))}},Pt.cancel=function(){this.I=!0,x_(this)},Pt.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function(n,t){n.info(function(){return"TIMEOUT: "+t})}(this.j,this.A),2!=this.K&&(lT(3),Va(17)),x_(this),this.o=2,fT(this)):bG(this,this.Y-n)},(Pt=r0.prototype).R=function(){J2(this);for(var n=[],t=0;t<this.g.length;t++)n.push(this.h[this.g[t]]);return n},Pt.T=function(){return J2(this),this.g.concat()},Pt.get=function(n,t){return I_(this.h,n)?this.h[n]:t},Pt.set=function(n,t){I_(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=t},Pt.forEach=function(n,t){for(var e=this.T(),i=0;i<e.length;i++){var s=e[i],a=this.get(s);n.call(t,a,s,this)}};var CG=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function A_(n,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof A_){this.g=void 0!==t?t:n.g,y1(this,n.j),this.s=n.s,v1(this,n.i),b1(this,n.m),this.l=n.l,t=n.h;var e=new mT;e.i=t.i,t.g&&(e.g=new r0(t.g),e.h=t.h),wG(this,e),this.o=n.o}else n&&(e=String(n).match(CG))?(this.g=!!t,y1(this,e[1]||"",!0),this.s=pT(e[2]||""),v1(this,e[3]||"",!0),b1(this,e[4]),this.l=pT(e[5]||"",!0),wG(this,e[6]||"",!0),this.o=pT(e[7]||"")):(this.g=!!t,this.h=new mT(null,this.g))}function cf(n){return new A_(n)}function y1(n,t,e){n.j=e?pT(t,!0):t,n.j&&(n.j=n.j.replace(/:$/,""))}function v1(n,t,e){n.i=e?pT(t,!0):t}function b1(n,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);n.m=t}else n.m=null}function wG(n,t,e){t instanceof mT?(n.h=t,function(n,t){t&&!n.j&&(fg(n),n.i=null,n.g.forEach(function(e,i){var s=i.toLowerCase();i!=s&&(DG(this,i),SG(this,s,e))},n)),n.j=t}(n.h,n.g)):(e||(t=gT(t,tie)),n.h=new mT(t,n.g))}function vr(n,t,e){n.h.set(t,e)}function C1(n){return vr(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function pT(n,t){return n?t?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function gT(n,t,e){return"string"==typeof n?(n=encodeURI(n).replace(t,Jne),e&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function Jne(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}A_.prototype.toString=function(){var n=[],t=this.j;t&&n.push(gT(t,EG,!0),":");var e=this.i;return(e||"file"==t)&&(n.push("//"),(t=this.s)&&n.push(gT(t,EG,!0),"@"),n.push(encodeURIComponent(String(e)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(e=this.m)&&n.push(":",String(e))),(e=this.l)&&(this.i&&"/"!=e.charAt(0)&&n.push("/"),n.push(gT(e,"/"==e.charAt(0)?eie:Xne,!0))),(e=this.h.toString())&&n.push("?",e),(e=this.o)&&n.push("#",gT(e,nie)),n.join("")};var EG=/[#\/\?@]/g,Xne=/[#\?:]/g,eie=/[#\?]/g,tie=/[#\?@]/g,nie=/#/g;function mT(n,t){this.h=this.g=null,this.i=n||null,this.j=!!t}function fg(n){n.g||(n.g=new r0,n.h=0,n.i&&function(n,t){if(n){n=n.split("&");for(var e=0;e<n.length;e++){var i=n[e].indexOf("="),s=null;if(0<=i){var a=n[e].substring(0,i);s=n[e].substring(i+1)}else a=n[e];t(a,s?decodeURIComponent(s.replace(/\+/g," ")):"")}}}(n.i,function(t,e){n.add(decodeURIComponent(t.replace(/\+/g," ")),e)}))}function DG(n,t){fg(n),t=s0(n,t),I_(n.g.h,t)&&(n.i=null,n.h-=n.g.get(t).length,I_((n=n.g).h,t)&&(delete n.h[t],n.i--,n.g.length>2*n.i&&J2(n)))}function TG(n,t){return fg(n),t=s0(n,t),I_(n.g.h,t)}function SG(n,t,e){DG(n,t),0<e.length&&(n.i=null,n.g.set(s0(n,t),C2(e)),n.h+=e.length)}function s0(n,t){return t=String(t),n.j&&(t=t.toLowerCase()),t}function xG(n){this.l=n||sie,n=_n.PerformanceNavigationTiming?0<(n=_n.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(_n.g&&_n.g.Ea&&_n.g.Ea()&&_n.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Pt=mT.prototype).add=function(n,t){fg(this),this.i=null,n=s0(this,n);var e=this.g.get(n);return e||this.g.set(n,e=[]),e.push(t),this.h+=1,this},Pt.forEach=function(n,t){fg(this),this.g.forEach(function(e,i){Uz(e,function(s){n.call(t,s,i,this)},this)},this)},Pt.T=function(){fg(this);for(var n=this.g.R(),t=this.g.T(),e=[],i=0;i<t.length;i++)for(var s=n[i],a=0;a<s.length;a++)e.push(t[i]);return e},Pt.R=function(n){fg(this);var t=[];if("string"==typeof n)TG(this,n)&&(t=jz(t,this.g.get(s0(this,n))));else{n=this.g.R();for(var e=0;e<n.length;e++)t=jz(t,n[e])}return t},Pt.set=function(n,t){return fg(this),this.i=null,TG(this,n=s0(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[t]),this.h+=1,this},Pt.get=function(n,t){return n&&0<(n=this.R(n)).length?String(n[0]):t},Pt.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],t=this.g.T(),e=0;e<t.length;e++){var i=t[e],s=encodeURIComponent(String(i));i=this.R(i);for(var a=0;a<i.length;a++){var u=s;""!==i[a]&&(u+="="+encodeURIComponent(String(i[a]))),n.push(u)}}return this.i=n.join("&")};var sie=10;function IG(n){return!!n.h||!!n.g&&n.g.size>=n.j}function AG(n){return n.h?1:n.g?n.g.size:0}function X2(n,t){return n.h?n.h==t:!!n.g&&n.g.has(t)}function eV(n,t){n.g?n.g.add(t):n.h=t}function MG(n,t){n.h&&n.h==t?n.h=null:n.g&&n.g.has(t)&&n.g.delete(t)}function kG(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let t=n.i;for(const e of n.g.values())t=t.concat(e.D);return t}return C2(n.i)}function tV(){}function oie(){this.g=new tV}function aie(n,t,e){const i=e||"";try{Q2(n,function(s,a){let u=s;rT(s)&&(u=V2(s)),t.push(i+a+"="+encodeURIComponent(u))})}catch(s){throw t.push(i+"type="+encodeURIComponent("_badmap")),s}}function w1(n,t,e,i,s){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,s(i)}catch(a){}}function _T(n){this.l=n.$b||null,this.j=n.ib||!1}function E1(n,t){Js.call(this),this.D=n,this.u=t,this.m=void 0,this.readyState=nV,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}xG.prototype.cancel=function(){if(this.i=kG(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},tV.prototype.stringify=function(n){return _n.JSON.stringify(n,void 0)},tV.prototype.parse=function(n){return _n.JSON.parse(n,void 0)},Do(_T,z2),_T.prototype.g=function(){return new E1(this.l,this.j)},_T.prototype.i=function(n){return function(){return n}}({}),Do(E1,Js);var nV=0;function RG(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function yT(n){n.readyState=4,n.l=null,n.j=null,n.A=null,vT(n)}function vT(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(Pt=E1.prototype).open=function(n,t){if(this.readyState!=nV)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=t,this.readyState=1,vT(this)},Pt.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(t.body=n),(this.D||_n).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},Pt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,yT(this)),this.readyState=nV},Pt.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,vT(this)),this.g&&(this.readyState=3,vT(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==_n.ReadableStream&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;RG(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},Pt.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var t=n.value?n.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!n.done}))&&(this.response=this.responseText+=t)}n.done?yT(this):vT(this),3==this.readyState&&RG(this)}},Pt.Ua=function(n){this.g&&(this.response=this.responseText=n,yT(this))},Pt.Ta=function(n){this.g&&(this.response=n,yT(this))},Pt.ha=function(){this.g&&yT(this)},Pt.setRequestHeader=function(n,t){this.v.append(n,t)},Pt.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},Pt.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],t=this.h.entries();for(var e=t.next();!e.done;)n.push((e=e.value)[0]+": "+e[1]),e=t.next();return n.join("\r\n")},Object.defineProperty(E1.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var cie=_n.JSON.parse;function ps(n){Js.call(this),this.headers=new r0,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=OG,this.K=this.L=!1}Do(ps,Js);var OG="",uie=/^https?$/i,die=["POST","PUT"];function fie(n){return"content-type"==n.toLowerCase()}function PG(n,t){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=t,n.m=5,NG(n),D1(n)}function NG(n){n.D||(n.D=!0,To(n,"complete"),To(n,"error"))}function FG(n){if(n.h&&void 0!==y2&&(!n.C[1]||4!=uf(n)||2!=n.ba()))if(n.v&&4==uf(n))q2(n.Fa,0,n);else if(To(n,"readystatechange"),4==uf(n)){n.h=!1;try{const f=n.ba();e:switch(f){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var e;if(!(e=t)){var i;if(i=0===f){var s=String(n.H).match(CG)[1]||null;if(!s&&_n.self&&_n.self.location){var a=_n.self.location.protocol;s=a.substr(0,a.length-1)}i=!uie.test(s?s.toLowerCase():"")}e=i}if(e)To(n,"complete"),To(n,"success");else{n.m=6;try{var u=2<uf(n)?n.g.statusText:""}catch(g){u=""}n.j=u+" ["+n.ba()+"]",NG(n)}}finally{D1(n)}}}function D1(n,t){if(n.g){LG(n);const e=n.g,i=n.C[0]?r1:null;n.g=null,n.C=null,t||To(n,"ready");try{e.onreadystatechange=i}catch(s){}}}function LG(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(_n.clearTimeout(n.A),n.A=null)}function uf(n){return n.g?n.g.readyState:0}function VG(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case OG:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(t){return null}}function iV(n,t,e){e:{for(i in e){var i=!1;break e}i=!0}i||(e=function(n){let t="";return E2(n,function(e,i){t+=i,t+=":",t+=e,t+="\r\n"}),t}(e),"string"==typeof n?null!=e&&encodeURIComponent(String(e)):vr(n,t,e))}function bT(n,t,e){return e&&e.internalChannelParams&&e.internalChannelParams[n]||t}function BG(n){this.za=0,this.l=[],this.h=new h1,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=bT("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=bT("baseRetryDelayMs",5e3,n),this.$a=bT("retryDelaySeedMs",1e4,n),this.Ya=bT("forwardChannelMaxRetries",2,n),this.ra=bT("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new xG(n&&n.concurrentRequestLimit),this.Ca=new oie,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function rV(n){if(UG(n),3==n.G){var t=n.V++,e=cf(n.F);vr(e,"SID",n.J),vr(e,"RID",t),vr(e,"TYPE","terminate"),CT(n,e),(t=new dT(n,n.h,t,void 0)).K=2,t.v=C1(cf(e)),e=!1,_n.navigator&&_n.navigator.sendBeacon&&(e=_n.navigator.sendBeacon(t.v.toString(),"")),!e&&_n.Image&&((new Image).src=t.v,e=!0),e||(t.g=WG(t.l,null),t.g.ea(t.v)),t.F=Date.now(),hT(t)}YG(n)}function T1(n){n.g&&(aV(n),n.g.cancel(),n.g=null)}function UG(n){T1(n),n.u&&(_n.clearTimeout(n.u),n.u=null),x1(n),n.i.cancel(),n.m&&("number"==typeof n.m&&_n.clearTimeout(n.m),n.m=null)}function sV(n,t){n.l.push(new class{constructor(n,t){this.h=n,this.g=t}}(n.Za++,t)),3==n.G&&S1(n)}function S1(n){IG(n.i)||n.m||(n.m=!0,B2(n.Ha,n),n.C=0)}function jG(n,t){var e;e=t?t.m:n.V++;const i=cf(n.F);vr(i,"SID",n.J),vr(i,"RID",e),vr(i,"AID",n.U),CT(n,i),n.o&&n.s&&iV(i,n.o,n.s),e=new dT(n,n.h,e,n.C+1),null===n.o&&(e.H=n.s),t&&(n.l=t.D.concat(n.l)),t=HG(n,e,1e3),e.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),eV(n.i,e),W2(e,i,t)}function CT(n,t){n.j&&Q2({},function(e,i){vr(t,i,e)})}function HG(n,t,e){e=Math.min(n.l.length,e);var i=n.j?Eo(n.j.Oa,n.j,n):null;e:{var s=n.l;let a=-1;for(;;){const u=["count="+e];-1==a?0<e?(a=s[0].h,u.push("ofs="+a)):a=0:u.push("ofs="+a);let f=!0;for(let g=0;g<e;g++){let C=s[g].h;const x=s[g].g;if(C-=a,0>C)a=Math.max(0,s[g].h-100),f=!1;else try{aie(x,u,"req"+C+"_")}catch(R){i&&i(x)}}if(f){i=u.join("&");break e}}}return n=n.l.splice(0,e),t.D=n,i}function qG(n){n.g||n.u||(n.Y=1,B2(n.Ga,n),n.A=0)}function oV(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=cT(Eo(n.Ga,n),$G(n,n.A)),n.A++,0))}function aV(n){null!=n.B&&(_n.clearTimeout(n.B),n.B=null)}function zG(n){n.g=new dT(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var t=cf(n.oa);vr(t,"RID","rpc"),vr(t,"SID",n.J),vr(t,"CI",n.N?"0":"1"),vr(t,"AID",n.U),CT(n,t),vr(t,"TYPE","xmlhttp"),n.o&&n.s&&iV(t,n.o,n.s),n.K&&n.g.setTimeout(n.K);var e=n.g;n=n.la,e.K=1,e.v=C1(cf(t)),e.s=null,e.U=!0,_G(e,n)}function x1(n){null!=n.v&&(_n.clearTimeout(n.v),n.v=null)}function GG(n,t){var e=null;if(n.g==t){x1(n),aV(n),n.g=null;var i=2}else{if(!X2(n.i,t))return;e=t.D,MG(n.i,t),i=1}if(n.I=t.N,0!=n.G)if(t.i)if(1==i){e=t.s?t.s.length:0,t=Date.now()-t.F;var s=n.C;To(i=f1(),new hG(i,e,t,s)),S1(n)}else qG(n);else if(3==(s=t.o)||0==s&&0<n.I||!(1==i&&function(n,t){return!(AG(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=t.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=cT(Eo(n.Ha,n,t),$G(n,n.C)),n.C++,0)))}(n,t)||2==i&&oV(n)))switch(e&&0<e.length&&(t=n.i,t.i=t.i.concat(e)),s){case 1:M_(n,5);break;case 4:M_(n,10);break;case 3:M_(n,6);break;default:M_(n,2)}}function $G(n,t){let e=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(e*=2),e*t}function M_(n,t){if(n.h.info("Error code "+t),2==t){var e=null;n.j&&(e=null);var i=Eo(n.jb,n);e||(e=new A_("//www.google.com/images/cleardot.gif"),_n.location&&"http"==_n.location.protocol||y1(e,"https"),C1(e)),function(n,t){const e=new h1;if(_n.Image){const i=new Image;i.onload=s1(w1,e,i,"TestLoadImage: loaded",!0,t),i.onerror=s1(w1,e,i,"TestLoadImage: error",!1,t),i.onabort=s1(w1,e,i,"TestLoadImage: abort",!1,t),i.ontimeout=s1(w1,e,i,"TestLoadImage: timeout",!1,t),_n.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else t(!1)}(e.toString(),i)}else Va(2);n.G=0,n.j&&n.j.va(t),YG(n),UG(n)}function YG(n){n.G=0,n.I=-1,n.j&&((0!=kG(n.i).length||0!=n.l.length)&&(n.i.i.length=0,C2(n.l),n.l.length=0),n.j.ua())}function ZG(n,t,e){let i=function(n){return n instanceof A_?cf(n):new A_(n,void 0)}(e);if(""!=i.i)t&&v1(i,t+"."+i.i),b1(i,i.m);else{const s=_n.location;i=function(n,t,e,i){var s=new A_(null,void 0);return n&&y1(s,n),t&&v1(s,t),e&&b1(s,e),i&&(s.l=i),s}(s.protocol,t?t+"."+s.hostname:s.hostname,+s.port,e)}return n.aa&&E2(n.aa,function(s,a){vr(i,a,s)}),e=n.sa,(t=n.D)&&e&&vr(i,t,e),vr(i,"VER",n.ma),CT(n,i),i}function WG(n,t,e){if(t&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new ps(e&&n.Ba&&!n.qa?new _T({ib:!0}):n.qa)).L=n.H,t}function KG(){}function I1(){if(t0&&!(10<=Number(Ine)))throw Error("Environmental error: no available transport.")}function Jl(n,t){Js.call(this),this.g=new BG(t),this.l=n,this.h=t&&t.messageUrlParams||null,n=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(n?n["X-WebChannel-Content-Type"]=t.messageContentType:n={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(n?n["X-WebChannel-Client-Profile"]=t.ya:n={"X-WebChannel-Client-Profile":t.ya}),this.g.P=n,(n=t&&t.httpHeadersOverwriteParam)&&!o1(n)&&(this.g.o=n),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!o1(t)&&(this.g.D=t,null!==(n=this.h)&&t in n&&t in(n=this.h)&&delete n[t]),this.j=new o0(this)}function QG(n){G2.call(this);var t=n.__sm__;if(t){e:{for(const e in t){n=e;break e}n=void 0}(this.i=n)&&(n=this.i,t=null!==t&&n in t?t[n]:void 0),this.data=t}else this.data=n}function JG(){$2.call(this),this.status=1}function o0(n){this.g=n}(Pt=ps.prototype).ea=function(n,t,e,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);t=t?t.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Y2.g(),this.C=function(n){return n.h||(n.h=n.i())}(this.u?this.u:Y2),this.g.onreadystatechange=Eo(this.Fa,this);try{this.F=!0,this.g.open(t,String(n),!0),this.F=!1}catch(a){return void PG(this,a)}n=e||"";const s=new r0(this.headers);i&&Q2(i,function(a,u){s.set(u,a)}),i=function(n){e:{var t=fie;const e=n.length,i="string"==typeof n?n.split(""):n;for(let s=0;s<e;s++)if(s in i&&t.call(void 0,i[s],s,n)){t=s;break e}t=-1}return 0>t?null:"string"==typeof n?n.charAt(t):n[t]}(s.T()),e=_n.FormData&&n instanceof _n.FormData,!(0<=Bz(die,t))||i||e||s.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),s.forEach(function(a,u){this.g.setRequestHeader(u,a)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{LG(this),0<this.B&&((this.K=function(n){return t0&&xne()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Eo(this.pa,this)):this.A=q2(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(a){PG(this,a)}},Pt.pa=function(){void 0!==y2&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,To(this,"timeout"),this.abort(8))},Pt.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,To(this,"complete"),To(this,"abort"),D1(this))},Pt.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),D1(this,!0)),ps.Z.M.call(this)},Pt.Fa=function(){this.s||(this.F||this.v||this.l?FG(this):this.cb())},Pt.cb=function(){FG(this)},Pt.ba=function(){try{return 2<uf(this)?this.g.status:-1}catch(n){return-1}},Pt.ga=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},Pt.Qa=function(n){if(this.g){var t=this.g.responseText;return n&&0==t.indexOf(n)&&(t=t.substring(n.length)),cie(t)}},Pt.Da=function(){return this.m},Pt.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(Pt=BG.prototype).ma=8,Pt.G=1,Pt.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch(t){}},Pt.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const s=new dT(this,this.h,n,void 0);let a=this.s;if(this.P&&(a?(a=Gz(a),Yz(a,this.P)):a=this.P),null===this.o&&(s.H=a),this.ja)e:{for(var t=0,e=0;e<this.l.length;e++){var i=this.l[e];if(void 0===(i="__data__"in i.g&&"string"==typeof(i=i.g.__data__)?i.length:void 0))break;if(4096<(t+=i)){t=e;break e}if(4096===t||e===this.l.length-1){t=e+1;break e}}t=1e3}else t=1e3;t=HG(this,s,t),vr(e=cf(this.F),"RID",n),vr(e,"CVER",22),this.D&&vr(e,"X-HTTP-Session-Id",this.D),CT(this,e),this.o&&a&&iV(e,this.o,a),eV(this.i,s),this.Ra&&vr(e,"TYPE","init"),this.ja?(vr(e,"$req",t),vr(e,"SID","null"),s.$=!0,W2(s,e,null)):W2(s,e,t),this.G=2}}else 3==this.G&&(n?jG(this,n):0==this.l.length||IG(this.i)||jG(this))},Pt.Ga=function(){if(this.u=null,zG(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=cT(Eo(this.bb,this),n)}},Pt.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Va(10),T1(this),zG(this))},Pt.ab=function(){null!=this.v&&(this.v=null,T1(this),oV(this),Va(19))},Pt.jb=function(n){n?(this.h.info("Successfully pinged google.com"),Va(2)):(this.h.info("Failed to ping google.com"),Va(1))},(Pt=KG.prototype).xa=function(){},Pt.wa=function(){},Pt.va=function(){},Pt.ua=function(){},Pt.Oa=function(){},I1.prototype.g=function(n,t){return new Jl(n,t)},Do(Jl,Js),Jl.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,t=this.l,e=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),B2(Eo(n.hb,n,t))),Va(0),n.W=t,n.aa=e||{},n.N=n.X,n.F=ZG(n,null,n.W),S1(n)},Jl.prototype.close=function(){rV(this.g)},Jl.prototype.u=function(n){if("string"==typeof n){var t={};t.__data__=n,sV(this.g,t)}else this.v?((t={}).__data__=V2(n),sV(this.g,t)):sV(this.g,n)},Jl.prototype.M=function(){this.g.j=null,delete this.j,rV(this.g),delete this.g,Jl.Z.M.call(this)},Do(QG,G2),Do(JG,$2),Do(o0,KG),o0.prototype.xa=function(){To(this.g,"a")},o0.prototype.wa=function(n){To(this.g,new QG(n))},o0.prototype.va=function(n){To(this.g,new JG(n))},o0.prototype.ua=function(){To(this.g,"b")},I1.prototype.createWebChannel=I1.prototype.g,Jl.prototype.send=Jl.prototype.u,Jl.prototype.open=Jl.prototype.m,Jl.prototype.close=Jl.prototype.close,p1.NO_ERROR=0,p1.TIMEOUT=8,p1.HTTP_ERROR=6,fG.COMPLETE="complete",gG.EventType=uT,uT.OPEN="a",uT.CLOSE="b",uT.ERROR="c",uT.MESSAGE="d",Js.prototype.listen=Js.prototype.N,ps.prototype.listenOnce=ps.prototype.O,ps.prototype.getLastError=ps.prototype.La,ps.prototype.getLastErrorCode=ps.prototype.Da,ps.prototype.getStatus=ps.prototype.ba,ps.prototype.getResponseJson=ps.prototype.Qa,ps.prototype.getResponseText=ps.prototype.ga,ps.prototype.send=ps.prototype.ea;var mie=lf.createWebChannelTransport=function(){return new I1},_ie=lf.getStatEventTarget=function(){return f1()},lV=lf.ErrorCode=p1,yie=lf.EventType=fG,vie=lf.Event=S_,XG=lf.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},bie=lf.FetchXmlHttpFactory=_T,A1=lf.WebChannel=gG,Cie=lf.XhrIo=ps;const e$="@firebase/firestore";class So{constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}So.UNAUTHENTICATED=new So(null),So.GOOGLE_CREDENTIALS=new So("google-credentials-uid"),So.FIRST_PARTY=new So("first-party-uid"),So.MOCK_USER=new So("mock-user");let a0="9.6.5";const pg=new Qo.Yd("@firebase/firestore");function cV(){return pg.logLevel}function gt(n,...t){if(pg.logLevel<=Qo.in.DEBUG){const e=t.map(uV);pg.debug(`Firestore (${a0}): ${n}`,...e)}}function gs(n,...t){if(pg.logLevel<=Qo.in.ERROR){const e=t.map(uV);pg.error(`Firestore (${a0}): ${n}`,...e)}}function wT(n,...t){if(pg.logLevel<=Qo.in.WARN){const e=t.map(uV);pg.warn(`Firestore (${a0}): ${n}`,...e)}}function uV(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(e){return n}}function Wt(n="Unexpected state"){const t=`FIRESTORE (${a0}) INTERNAL ASSERTION FAILED: `+n;throw gs(t),new Error(t)}function dn(n,t){n||Wt()}function Tt(n,t){return n}const Ke={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ct extends oe.ZR{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Xs{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}class t${constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class Die{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(So.UNAUTHENTICATED))}shutdown(){}}class Tie{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class Sie{constructor(t){this.t=t,this.currentUser=So.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){var i=this;let s=this.i;const a=C=>this.i!==s?(s=this.i,e(C)):Promise.resolve();let u=new Xs;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Xs,t.enqueueRetryable(()=>a(this.currentUser))};const f=()=>{const C=u;t.enqueueRetryable((0,Je.Z)(function*(){yield C.promise,yield a(i.currentUser)}))},g=C=>{gt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=C,this.auth.addAuthTokenListener(this.o),f()};this.t.onInit(C=>g(C)),setTimeout(()=>{if(!this.auth){const C=this.t.getImmediate({optional:!0});C?g(C):(gt("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Xs)}},0),f()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(i=>this.i!==t?(gt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(dn("string"==typeof i.accessToken),new t$(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return dn(null===t||"string"==typeof t),new So(t)}}class xie{constructor(t,e,i){this.type="FirstParty",this.user=So.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",e);const s=t.auth.getAuthHeaderValueForFirstParty([]);s&&this.headers.set("Authorization",s),i&&this.headers.set("X-Goog-Iam-Authorization-Token",i)}}class Iie{constructor(t,e,i){this.h=t,this.l=e,this.m=i}getToken(){return Promise.resolve(new xie(this.h,this.l,this.m))}start(t,e){t.enqueueRetryable(()=>e(So.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class n${constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Aie{constructor(t){this.g=t,this.forceRefresh=!1,this.appCheck=null}start(t,e){this.o=s=>{t.enqueueRetryable(()=>{return null!=(a=s).error&&gt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`),e(a.token);var a})};const i=s=>{gt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.g.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.g.getImmediate({optional:!0});s?i(s):gt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(dn("string"==typeof e.token),new n$(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class Xl{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=i=>this.p(i),this.T=i=>e.writeSequenceNumber(i))}p(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.T&&this.T(t),t}}function Mie(n){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(e);else for(let i=0;i<n;i++)e[i]=Math.floor(256*Math.random());return e}Xl.I=-1;class i${static A(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length;let i="";for(;i.length<20;){const s=Mie(40);for(let a=0;a<s.length;++a)i.length<20&&s[a]<e&&(i+=t.charAt(s[a]%t.length))}return i}}function jn(n,t){return n<t?-1:n>t?1:0}function l0(n,t,e){return n.length===t.length&&n.every((i,s)=>e(i,t[s]))}function r$(n){return n+"\0"}class eo{constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new ct(Ke.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new ct(Ke.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new ct(Ke.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ct(Ke.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return eo.fromMillis(Date.now())}static fromDate(t){return eo.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),i=Math.floor(1e6*(t-1e3*e));return new eo(e,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?jn(this.nanoseconds,t.nanoseconds):jn(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class bn{constructor(t){this.timestamp=t}static fromTimestamp(t){return new bn(t)}static min(){return new bn(new eo(0,0))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function s$(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function k_(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function o$(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}class ET{constructor(t,e,i){void 0===e?e=0:e>t.length&&Wt(),void 0===i?i=t.length-e:i>t.length-e&&Wt(),this.segments=t,this.offset=e,this.len=i}get length(){return this.len}isEqual(t){return 0===ET.comparator(this,t)}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof ET?t.forEach(i=>{e.push(i)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,i=this.limit();e<i;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const i=Math.min(t.length,e.length);for(let s=0;s<i;s++){const a=t.get(s),u=e.get(s);if(a<u)return-1;if(a>u)return 1}return t.length<e.length?-1:t.length>e.length?1:0}}class fi extends ET{construct(t,e,i){return new fi(t,e,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const e=[];for(const i of t){if(i.indexOf("//")>=0)throw new ct(Ke.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter(s=>s.length>0))}return new fi(e)}static emptyPath(){return new fi([])}}const kie=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class xo extends ET{construct(t,e,i){return new xo(t,e,i)}static isValidIdentifier(t){return kie.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),xo.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new xo(["__name__"])}static fromServerFormat(t){const e=[];let i="",s=0;const a=()=>{if(0===i.length)throw new ct(Ke.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(i),i=""};let u=!1;for(;s<t.length;){const f=t[s];if("\\"===f){if(s+1===t.length)throw new ct(Ke.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const g=t[s+1];if("\\"!==g&&"."!==g&&"`"!==g)throw new ct(Ke.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=g,s+=2}else"`"===f?(u=!u,s++):"."!==f||u?(i+=f,s++):(a(),s++)}if(a(),u)throw new ct(Ke.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new xo(e)}static emptyPath(){return new xo([])}}class c0{constructor(t){this.fields=t,t.sort(xo.comparator)}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return l0(this.fields,t.fields,(e,i)=>e.isEqual(i))}}class Fs{constructor(t){this.binaryString=t}static fromBase64String(t){const e=atob(t);return new Fs(e)}static fromUint8Array(t){const e=function(i){let s="";for(let a=0;a<i.length;++a)s+=String.fromCharCode(i[a]);return s}(t);return new Fs(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(t){const e=new Uint8Array(t.length);for(let i=0;i<t.length;i++)e[i]=t.charCodeAt(i);return e}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return jn(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Fs.EMPTY_BYTE_STRING=new Fs("");const Oie=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function gg(n){if(dn(!!n),"string"==typeof n){let t=0;const e=Oie.exec(n);if(dn(!!e),e[1]){let s=e[1];s=(s+"000000000").substr(0,9),t=Number(s)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:ms(n.seconds),nanos:ms(n.nanos)}}function ms(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function u0(n){return"string"==typeof n?Fs.fromBase64String(n):Fs.fromUint8Array(n)}function dV(n){var t,e;return"server_timestamp"===(null===(e=((null===(t=null==n?void 0:n.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===e?void 0:e.stringValue)}function a$(n){const t=n.mapValue.fields.__previous_value__;return dV(t)?a$(t):t}function DT(n){const t=gg(n.mapValue.fields.__local_write_time__.timestampValue);return new eo(t.seconds,t.nanos)}function R_(n){return null==n}function M1(n){return 0===n&&1/n==-1/0}function l$(n){return"number"==typeof n&&Number.isInteger(n)&&!M1(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}class $t{constructor(t){this.path=t}static fromPath(t){return new $t(fi.fromString(t))}static fromName(t){return new $t(fi.fromString(t).popFirst(5))}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}isEqual(t){return null!==t&&0===fi.comparator(this.path,t.path)}toString(){return this.path.toString()}static comparator(t,e){return fi.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new $t(new fi(t.slice()))}}function O_(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?dV(n)?4:10:Wt()}function Vd(n,t){if(n===t)return!0;const e=O_(n);if(e!==O_(t))return!1;switch(e){case 0:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return DT(n).isEqual(DT(t));case 3:return function(i,s){if("string"==typeof i.timestampValue&&"string"==typeof s.timestampValue&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const a=gg(i.timestampValue),u=gg(s.timestampValue);return a.seconds===u.seconds&&a.nanos===u.nanos}(n,t);case 5:return n.stringValue===t.stringValue;case 6:return s=t,u0(n.bytesValue).isEqual(u0(s.bytesValue));case 7:return n.referenceValue===t.referenceValue;case 8:return function(i,s){return ms(i.geoPointValue.latitude)===ms(s.geoPointValue.latitude)&&ms(i.geoPointValue.longitude)===ms(s.geoPointValue.longitude)}(n,t);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return ms(i.integerValue)===ms(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const a=ms(i.doubleValue),u=ms(s.doubleValue);return a===u?M1(a)===M1(u):isNaN(a)&&isNaN(u)}return!1}(n,t);case 9:return l0(n.arrayValue.values||[],t.arrayValue.values||[],Vd);case 10:return function(i,s){const a=i.mapValue.fields||{},u=s.mapValue.fields||{};if(s$(a)!==s$(u))return!1;for(const f in a)if(a.hasOwnProperty(f)&&(void 0===u[f]||!Vd(a[f],u[f])))return!1;return!0}(n,t);default:return Wt()}var s}function TT(n,t){return void 0!==(n.values||[]).find(e=>Vd(e,t))}function d0(n,t){if(n===t)return 0;const e=O_(n),i=O_(t);if(e!==i)return jn(e,i);switch(e){case 0:return 0;case 1:return jn(n.booleanValue,t.booleanValue);case 2:return function(s,a){const u=ms(s.integerValue||s.doubleValue),f=ms(a.integerValue||a.doubleValue);return u<f?-1:u>f?1:u===f?0:isNaN(u)?isNaN(f)?0:-1:1}(n,t);case 3:return c$(n.timestampValue,t.timestampValue);case 4:return c$(DT(n),DT(t));case 5:return jn(n.stringValue,t.stringValue);case 6:return function(s,a){const u=u0(s),f=u0(a);return u.compareTo(f)}(n.bytesValue,t.bytesValue);case 7:return function(s,a){const u=s.split("/"),f=a.split("/");for(let g=0;g<u.length&&g<f.length;g++){const C=jn(u[g],f[g]);if(0!==C)return C}return jn(u.length,f.length)}(n.referenceValue,t.referenceValue);case 8:return function(s,a){const u=jn(ms(s.latitude),ms(a.latitude));return 0!==u?u:jn(ms(s.longitude),ms(a.longitude))}(n.geoPointValue,t.geoPointValue);case 9:return function(s,a){const u=s.values||[],f=a.values||[];for(let g=0;g<u.length&&g<f.length;++g){const C=d0(u[g],f[g]);if(C)return C}return jn(u.length,f.length)}(n.arrayValue,t.arrayValue);case 10:return function(s,a){const u=s.fields||{},f=Object.keys(u),g=a.fields||{},C=Object.keys(g);f.sort(),C.sort();for(let x=0;x<f.length&&x<C.length;++x){const R=jn(f[x],C[x]);if(0!==R)return R;const G=d0(u[f[x]],g[C[x]]);if(0!==G)return G}return jn(f.length,C.length)}(n.mapValue,t.mapValue);default:throw Wt()}}function c$(n,t){if("string"==typeof n&&"string"==typeof t&&n.length===t.length)return jn(n,t);const e=gg(n),i=gg(t),s=jn(e.seconds,i.seconds);return 0!==s?s:jn(e.nanos,i.nanos)}function hV(n){return fV(n)}function fV(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const s=gg(i);return`time(${s.seconds},${s.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?u0(n.bytesValue).toBase64():"referenceValue"in n?$t.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(t=n.geoPointValue).latitude},${t.longitude})`:"arrayValue"in n?function(i){let s="[",a=!0;for(const u of i.values||[])a?a=!1:s+=",",s+=fV(u);return s+"]"}(n.arrayValue):"mapValue"in n?function(i){const s=Object.keys(i.fields||{}).sort();let a="{",u=!0;for(const f of s)u?u=!1:a+=",",a+=`${f}:${fV(i.fields[f])}`;return a+"}"}(n.mapValue):Wt();var t}function k1(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function pV(n){return!!n&&"integerValue"in n}function gV(n){return!!n&&"arrayValue"in n}function u$(n){return!!n&&"nullValue"in n}function d$(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function R1(n){return!!n&&"mapValue"in n}function ST(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const t={mapValue:{fields:{}}};return k_(n.mapValue.fields,(e,i)=>t.mapValue.fields[e]=ST(i)),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=ST(n.arrayValue.values[e]);return t}return Object.assign({},n)}class ea{constructor(t){this.value=t}static empty(){return new ea({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let i=0;i<t.length-1;++i)if(e=(e.mapValue.fields||{})[t.get(i)],!R1(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=ST(e)}setAll(t){let e=xo.emptyPath(),i={},s=[];t.forEach((u,f)=>{if(!e.isImmediateParentOf(f)){const g=this.getFieldsMap(e);this.applyChanges(g,i,s),i={},s=[],e=f.popLast()}u?i[f.lastSegment()]=ST(u):s.push(f.lastSegment())});const a=this.getFieldsMap(e);this.applyChanges(a,i,s)}delete(t){const e=this.field(t.popLast());R1(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return Vd(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let i=0;i<t.length;++i){let s=e.mapValue.fields[t.get(i)];R1(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},e.mapValue.fields[t.get(i)]=s),e=s}return e.mapValue.fields}applyChanges(t,e,i){k_(e,(s,a)=>t[s]=a);for(const s of i)delete t[s]}clone(){return new ea(ST(this.value))}}function h$(n){const t=[];return k_(n.fields,(e,i)=>{const s=new xo([e]);if(R1(i)){const a=h$(i.mapValue).fields;if(0===a.length)t.push(s);else for(const u of a)t.push(s.child(u))}else t.push(s)}),new c0(t)}class br{constructor(t,e,i,s,a){this.key=t,this.documentType=e,this.version=i,this.data=s,this.documentState=a}static newInvalidDocument(t){return new br(t,0,bn.min(),ea.empty(),0)}static newFoundDocument(t,e,i){return new br(t,1,e,i,0)}static newNoDocument(t,e){return new br(t,2,e,ea.empty(),0)}static newUnknownDocument(t,e){return new br(t,3,e,ea.empty(),2)}convertToFoundDocument(t,e){return this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=ea.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=ea.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(t){return t instanceof br&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new br(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Pie{constructor(t,e=null,i=[],s=[],a=null,u=null,f=null){this.path=t,this.collectionGroup=e,this.orderBy=i,this.filters=s,this.limit=a,this.startAt=u,this.endAt=f,this.R=null}}function f$(n,t=null,e=[],i=[],s=null,a=null,u=null){return new Pie(n,t,e,i,s,a,u)}function xT(n){const t=Tt(n);if(null===t.R){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(i=>function(n){return n.field.canonicalString()+n.op.toString()+hV(n.value)}(i)).join(","),e+="|ob:",e+=t.orderBy.map(i=>{return(s=i).field.canonicalString()+s.dir;var s}).join(","),R_(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=N1(t.startAt)),t.endAt&&(e+="|ub:",e+=N1(t.endAt)),t.R=e}return t.R}function O1(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let s=0;s<n.orderBy.length;s++)if(!zie(n.orderBy[s],t.orderBy[s]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let s=0;s<n.filters.length;s++)if((e=n.filters[s]).op!==(i=t.filters[s]).op||!e.field.isEqual(i.field)||!Vd(e.value,i.value))return!1;var e,i;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!m$(n.startAt,t.startAt)&&m$(n.endAt,t.endAt)}function P1(n){return $t.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class Ba extends class{}{constructor(t,e,i){super(),this.field=t,this.op=e,this.value=i}static create(t,e,i){return t.isKeyField()?"in"===e||"not-in"===e?this.P(t,e,i):new Lie(t,e,i):"array-contains"===e?new Uie(t,i):"in"===e?new jie(t,i):"not-in"===e?new Hie(t,i):"array-contains-any"===e?new qie(t,i):new Ba(t,e,i)}static P(t,e,i){return"in"===e?new Vie(t,i):new Bie(t,i)}matches(t){const e=t.data.field(this.field);return"!="===this.op?null!==e&&this.v(d0(e,this.value)):null!==e&&O_(this.value)===O_(e)&&this.v(d0(e,this.value))}v(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return Wt()}}V(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class Lie extends Ba{constructor(t,e,i){super(t,e,i),this.key=$t.fromName(i.referenceValue)}matches(t){const e=$t.comparator(t.key,this.key);return this.v(e)}}class Vie extends Ba{constructor(t,e){super(t,"in",e),this.keys=p$(0,e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class Bie extends Ba{constructor(t,e){super(t,"not-in",e),this.keys=p$(0,e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function p$(n,t){var e;return((null===(e=t.arrayValue)||void 0===e?void 0:e.values)||[]).map(i=>$t.fromName(i.referenceValue))}class Uie extends Ba{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return gV(e)&&TT(e.arrayValue,this.value)}}class jie extends Ba{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return null!==e&&TT(this.value.arrayValue,e)}}class Hie extends Ba{constructor(t,e){super(t,"not-in",e)}matches(t){if(TT(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return null!==e&&!TT(this.value.arrayValue,e)}}class qie extends Ba{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!gV(e)||!e.arrayValue.values)&&e.arrayValue.values.some(i=>TT(this.value.arrayValue,i))}}class IT{constructor(t,e){this.position=t,this.before=e}}function N1(n){return`${n.before?"b":"a"}:${n.position.map(t=>hV(t)).join(",")}`}class h0{constructor(t,e="asc"){this.field=t,this.dir=e}}function zie(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}function g$(n,t,e){let i=0;for(let s=0;s<n.position.length;s++){const a=t[s],u=n.position[s];if(i=a.field.isKeyField()?$t.comparator($t.fromName(u.referenceValue),e.key):d0(u,e.data.field(a.field)),"desc"===a.dir&&(i*=-1),0!==i)break}return n.before?i<=0:i<0}function m$(n,t){if(null===n)return null===t;if(null===t||n.before!==t.before||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!Vd(n.position[e],t.position[e]))return!1;return!0}class df{constructor(t,e=null,i=[],s=[],a=null,u="F",f=null,g=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=i,this.filters=s,this.limit=a,this.limitType=u,this.startAt=f,this.endAt=g,this.S=null,this.D=null}}function _$(n,t,e,i,s,a,u,f){return new df(n,t,e,i,s,a,u,f)}function f0(n){return new df(n)}function F1(n){return!R_(n.limit)&&"F"===n.limitType}function L1(n){return!R_(n.limit)&&"L"===n.limitType}function mV(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function _V(n){for(const t of n.filters)if(t.V())return t.field;return null}function yV(n){return null!==n.collectionGroup}function p0(n){const t=Tt(n);if(null===t.S){t.S=[];const e=_V(t),i=mV(t);if(null!==e&&null===i)e.isKeyField()||t.S.push(new h0(e)),t.S.push(new h0(xo.keyField(),"asc"));else{let s=!1;for(const a of t.explicitOrderBy)t.S.push(a),a.field.isKeyField()&&(s=!0);if(!s){const a=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.S.push(new h0(xo.keyField(),a))}}}return t.S}function Bc(n){const t=Tt(n);if(!t.D)if("F"===t.limitType)t.D=f$(t.path,t.collectionGroup,p0(t),t.filters,t.limit,t.startAt,t.endAt);else{const e=[];for(const a of p0(t))e.push(new h0(a.field,"desc"===a.dir?"asc":"desc"));const i=t.endAt?new IT(t.endAt.position,!t.endAt.before):null,s=t.startAt?new IT(t.startAt.position,!t.startAt.before):null;t.D=f$(t.path,t.collectionGroup,e,t.filters,t.limit,i,s)}return t.D}function y$(n,t,e){return new df(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function AT(n,t){return O1(Bc(n),Bc(t))&&n.limitType===t.limitType}function v$(n){return`${xT(Bc(n))}|lt:${n.limitType}`}function vV(n){return`Query(target=${function(n){let t=n.path.canonicalString();return null!==n.collectionGroup&&(t+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(t+=`, filters: [${n.filters.map(e=>{return`${(i=e).field.canonicalString()} ${i.op} ${hV(i.value)}`;var i}).join(", ")}]`),R_(n.limit)||(t+=", limit: "+n.limit),n.orderBy.length>0&&(t+=`, orderBy: [${n.orderBy.map(e=>{return`${(i=e).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),n.startAt&&(t+=", startAt: "+N1(n.startAt)),n.endAt&&(t+=", endAt: "+N1(n.endAt)),`Target(${t})`}(Bc(n))}; limitType=${n.limitType})`}function MT(n,t){return t.isFoundDocument()&&function(e,i){const s=i.key.path;return null!==e.collectionGroup?i.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(s):$t.isDocumentKey(e.path)?e.path.isEqual(s):e.path.isImmediateParentOf(s)}(n,t)&&function(e,i){for(const s of e.explicitOrderBy)if(!s.field.isKeyField()&&null===i.data.field(s.field))return!1;return!0}(n,t)&&function(e,i){for(const s of e.filters)if(!s.matches(i))return!1;return!0}(n,t)&&(i=t,!((e=n).startAt&&!g$(e.startAt,p0(e),i)||e.endAt&&g$(e.endAt,p0(e),i)));var e,i}function b$(n){return(t,e)=>{let i=!1;for(const s of p0(n)){const a=Gie(s,t,e);if(0!==a)return a;i=i||s.field.isKeyField()}return 0}}function Gie(n,t,e){const i=n.field.isKeyField()?$t.comparator(t.key,e.key):function(s,a,u){const f=a.data.field(s),g=u.data.field(s);return null!==f&&null!==g?d0(f,g):Wt()}(n.field,t,e);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Wt()}}function C$(n,t){if(n.C){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:M1(t)?"-0":t}}function w$(n){return{integerValue:""+n}}function E$(n,t){return l$(t)?w$(t):C$(n,t)}class V1{constructor(){this._=void 0}}function $ie(n,t,e){return n instanceof g0?function(i,s){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&(a.fields.__previous_value__=s),{mapValue:a}}(e,t):n instanceof P_?T$(n,t):n instanceof N_?S$(n,t):function(i,s){const a=D$(i,s),u=x$(a)+x$(i.N);return pV(a)&&pV(i.N)?w$(u):C$(i.k,u)}(n,t)}function Yie(n,t,e){return n instanceof P_?T$(n,t):n instanceof N_?S$(n,t):e}function D$(n,t){return n instanceof m0?pV(e=t)||(i=e)&&"doubleValue"in i?t:{integerValue:0}:null;var i,e}class g0 extends V1{}class P_ extends V1{constructor(t){super(),this.elements=t}}function T$(n,t){const e=I$(t);for(const i of n.elements)e.some(s=>Vd(s,i))||e.push(i);return{arrayValue:{values:e}}}class N_ extends V1{constructor(t){super(),this.elements=t}}function S$(n,t){let e=I$(t);for(const i of n.elements)e=e.filter(s=>!Vd(s,i));return{arrayValue:{values:e}}}class m0 extends V1{constructor(t,e){super(),this.k=t,this.N=e}}function x$(n){return ms(n.integerValue||n.doubleValue)}function I$(n){return gV(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class kT{constructor(t,e){this.field=t,this.transform=e}}class Wie{constructor(t,e){this.version=t,this.transformResults=e}}class _s{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new _s}static exists(t){return new _s(void 0,t)}static updateTime(t){return new _s(t)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function B1(n,t){return void 0!==n.updateTime?t.isFoundDocument()&&t.version.isEqual(n.updateTime):void 0===n.exists||n.exists===t.isFoundDocument()}class U1{}function Kie(n,t,e){n instanceof RT?function(i,s,a){const u=i.value.clone(),f=R$(i.fieldTransforms,s,a.transformResults);u.setAll(f),s.convertToFoundDocument(a.version,u).setHasCommittedMutations()}(n,t,e):n instanceof mg?function(i,s,a){if(!B1(i.precondition,s))return void s.convertToUnknownDocument(a.version);const u=R$(i.fieldTransforms,s,a.transformResults),f=s.data;f.setAll(k$(i)),f.setAll(u),s.convertToFoundDocument(a.version,f).setHasCommittedMutations()}(n,t,e):t.convertToNoDocument(e.version).setHasCommittedMutations()}function bV(n,t,e){var s;n instanceof RT?function(i,s,a){if(!B1(i.precondition,s))return;const u=i.value.clone(),f=O$(i.fieldTransforms,a,s);u.setAll(f),s.convertToFoundDocument(M$(s),u).setHasLocalMutations()}(n,t,e):n instanceof mg?function(i,s,a){if(!B1(i.precondition,s))return;const u=O$(i.fieldTransforms,a,s),f=s.data;f.setAll(k$(i)),f.setAll(u),s.convertToFoundDocument(M$(s),f).setHasLocalMutations()}(n,t,e):B1(n.precondition,s=t)&&s.convertToNoDocument(bn.min())}function Qie(n,t){let e=null;for(const i of n.fieldTransforms){const s=t.data.field(i.field),a=D$(i.transform,s||null);null!=a&&(null==e&&(e=ea.empty()),e.set(i.field,a))}return e||null}function A$(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&(i=t.fieldTransforms,!!(void 0===(e=n.fieldTransforms)&&void 0===i||e&&i&&l0(e,i,(s,a)=>function(n,t){return n.field.isEqual(t.field)&&(i=t.transform,(e=n.transform)instanceof P_&&i instanceof P_||e instanceof N_&&i instanceof N_?l0(e.elements,i.elements,Vd):e instanceof m0&&i instanceof m0?Vd(e.N,i.N):e instanceof g0&&i instanceof g0);var e,i}(s,a))))&&(0===n.type?n.value.isEqual(t.value):1!==n.type||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask));var e,i}function M$(n){return n.isFoundDocument()?n.version:bn.min()}class RT extends U1{constructor(t,e,i,s=[]){super(),this.key=t,this.value=e,this.precondition=i,this.fieldTransforms=s,this.type=0}}class mg extends U1{constructor(t,e,i,s,a=[]){super(),this.key=t,this.data=e,this.fieldMask=i,this.precondition=s,this.fieldTransforms=a,this.type=1}}function k$(n){const t=new Map;return n.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const i=n.data.field(e);t.set(e,i)}}),t}function R$(n,t,e){const i=new Map;dn(n.length===e.length);for(let s=0;s<e.length;s++){const a=n[s],u=a.transform,f=t.data.field(a.field);i.set(a.field,Yie(u,f,e[s]))}return i}function O$(n,t,e){const i=new Map;for(const s of n){const a=s.transform,u=e.data.field(s.field);i.set(s.field,$ie(a,u,t))}return i}class OT extends U1{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}}class CV extends U1{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}}class Jie{constructor(t){this.count=t}}var ys,Xn;function P$(n){switch(n){default:return Wt();case Ke.CANCELLED:case Ke.UNKNOWN:case Ke.DEADLINE_EXCEEDED:case Ke.RESOURCE_EXHAUSTED:case Ke.INTERNAL:case Ke.UNAVAILABLE:case Ke.UNAUTHENTICATED:return!1;case Ke.INVALID_ARGUMENT:case Ke.NOT_FOUND:case Ke.ALREADY_EXISTS:case Ke.PERMISSION_DENIED:case Ke.FAILED_PRECONDITION:case Ke.ABORTED:case Ke.OUT_OF_RANGE:case Ke.UNIMPLEMENTED:case Ke.DATA_LOSS:return!0}}function N$(n){if(void 0===n)return gs("GRPC error has no .code"),Ke.UNKNOWN;switch(n){case ys.OK:return Ke.OK;case ys.CANCELLED:return Ke.CANCELLED;case ys.UNKNOWN:return Ke.UNKNOWN;case ys.DEADLINE_EXCEEDED:return Ke.DEADLINE_EXCEEDED;case ys.RESOURCE_EXHAUSTED:return Ke.RESOURCE_EXHAUSTED;case ys.INTERNAL:return Ke.INTERNAL;case ys.UNAVAILABLE:return Ke.UNAVAILABLE;case ys.UNAUTHENTICATED:return Ke.UNAUTHENTICATED;case ys.INVALID_ARGUMENT:return Ke.INVALID_ARGUMENT;case ys.NOT_FOUND:return Ke.NOT_FOUND;case ys.ALREADY_EXISTS:return Ke.ALREADY_EXISTS;case ys.PERMISSION_DENIED:return Ke.PERMISSION_DENIED;case ys.FAILED_PRECONDITION:return Ke.FAILED_PRECONDITION;case ys.ABORTED:return Ke.ABORTED;case ys.OUT_OF_RANGE:return Ke.OUT_OF_RANGE;case ys.UNIMPLEMENTED:return Ke.UNIMPLEMENTED;case ys.DATA_LOSS:return Ke.DATA_LOSS;default:return Wt()}}(Xn=ys||(ys={}))[Xn.OK=0]="OK",Xn[Xn.CANCELLED=1]="CANCELLED",Xn[Xn.UNKNOWN=2]="UNKNOWN",Xn[Xn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Xn[Xn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Xn[Xn.NOT_FOUND=5]="NOT_FOUND",Xn[Xn.ALREADY_EXISTS=6]="ALREADY_EXISTS",Xn[Xn.PERMISSION_DENIED=7]="PERMISSION_DENIED",Xn[Xn.UNAUTHENTICATED=16]="UNAUTHENTICATED",Xn[Xn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Xn[Xn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Xn[Xn.ABORTED=10]="ABORTED",Xn[Xn.OUT_OF_RANGE=11]="OUT_OF_RANGE",Xn[Xn.UNIMPLEMENTED=12]="UNIMPLEMENTED",Xn[Xn.INTERNAL=13]="INTERNAL",Xn[Xn.UNAVAILABLE=14]="UNAVAILABLE",Xn[Xn.DATA_LOSS=15]="DATA_LOSS";class Ls{constructor(t,e){this.comparator=t,this.root=e||Io.EMPTY}insert(t,e){return new Ls(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,Io.BLACK,null,null))}remove(t){return new Ls(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Io.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const i=this.comparator(t,e.key);if(0===i)return e.value;i<0?e=e.left:i>0&&(e=e.right)}return null}indexOf(t){let e=0,i=this.root;for(;!i.isEmpty();){const s=this.comparator(t,i.key);if(0===s)return e+i.left.size;s<0?i=i.left:(e+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,i)=>(t(e,i),!1))}toString(){const t=[];return this.inorderTraversal((e,i)=>(t.push(`${e}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new j1(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new j1(this.root,t,this.comparator,!1)}getReverseIterator(){return new j1(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new j1(this.root,t,this.comparator,!0)}}class j1{constructor(t,e,i,s){this.isReverse=s,this.nodeStack=[];let a=1;for(;!t.isEmpty();)if(a=e?i(t.key,e):1,s&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Io{constructor(t,e,i,s,a){this.key=t,this.value=e,this.color=null!=i?i:Io.RED,this.left=null!=s?s:Io.EMPTY,this.right=null!=a?a:Io.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,i,s,a){return new Io(null!=t?t:this.key,null!=e?e:this.value,null!=i?i:this.color,null!=s?s:this.left,null!=a?a:this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,i){let s=this;const a=i(t,s.key);return s=a<0?s.copy(null,null,null,s.left.insert(t,e,i),null):0===a?s.copy(null,e,null,null,null):s.copy(null,null,null,null,s.right.insert(t,e,i)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Io.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let i,s=this;if(e(t,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(t,e),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),0===e(t,s.key)){if(s.right.isEmpty())return Io.EMPTY;i=s.right.min(),s=s.copy(i.key,i.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(t,e))}return s.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Io.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Io.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Wt();const t=this.left.check();if(t!==this.right.check())throw Wt();return t+(this.isRed()?0:1)}}Io.EMPTY=null,Io.RED=!0,Io.BLACK=!1,Io.EMPTY=new class{constructor(){this.size=0}get key(){throw Wt()}get value(){throw Wt()}get color(){throw Wt()}get left(){throw Wt()}get right(){throw Wt()}copy(n,t,e,i,s){return this}insert(n,t,e){return new Io(n,t)}remove(n,t){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class jr{constructor(t){this.comparator=t,this.data=new Ls(this.comparator)}has(t){return null!==this.data.get(t)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,i)=>(t(e),!1))}forEachInRange(t,e){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const s=i.getNext();if(this.comparator(s.key,t[1])>=0)return;e(s.key)}}forEachWhile(t,e){let i;for(i=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new F$(this.data.getIterator())}getIteratorFrom(t){return new F$(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(i=>{e=e.add(i)}),e}isEqual(t){if(!(t instanceof jr)||this.size!==t.size)return!1;const e=this.data.getIterator(),i=t.data.getIterator();for(;e.hasNext();){const s=e.getNext().key,a=i.getNext().key;if(0!==this.comparator(s,a))return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new jr(this.comparator);return e.data=t,e}}class F${constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}const Xie=new Ls($t.comparator);function Uc(){return Xie}const ere=new Ls($t.comparator);function wV(){return ere}const tre=new Ls($t.comparator);function L$(){return tre}const nre=new jr($t.comparator);function bi(...n){let t=nre;for(const e of n)t=t.add(e);return t}const ire=new jr(jn);function H1(){return ire}class PT{constructor(t,e,i,s,a){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=i,this.documentUpdates=s,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(t,e){const i=new Map;return i.set(t,NT.createSynthesizedTargetChangeForCurrentChange(t,e)),new PT(bn.min(),i,H1(),Uc(),bi())}}class NT{constructor(t,e,i,s,a){this.resumeToken=t,this.current=e,this.addedDocuments=i,this.modifiedDocuments=s,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(t,e){return new NT(Fs.EMPTY_BYTE_STRING,e,bi(),bi(),bi())}}class q1{constructor(t,e,i,s){this.$=t,this.removedTargetIds=e,this.key=i,this.O=s}}class V${constructor(t,e){this.targetId=t,this.M=e}}class B${constructor(t,e,i=Fs.EMPTY_BYTE_STRING,s=null){this.state=t,this.targetIds=e,this.resumeToken=i,this.cause=s}}class U${constructor(){this.F=0,this.L=H$(),this.B=Fs.EMPTY_BYTE_STRING,this.U=!1,this.q=!0}get current(){return this.U}get resumeToken(){return this.B}get K(){return 0!==this.F}get j(){return this.q}W(t){t.approximateByteSize()>0&&(this.q=!0,this.B=t)}G(){let t=bi(),e=bi(),i=bi();return this.L.forEach((s,a)=>{switch(a){case 0:t=t.add(s);break;case 2:e=e.add(s);break;case 1:i=i.add(s);break;default:Wt()}}),new NT(this.B,this.U,t,e,i)}H(){this.q=!1,this.L=H$()}J(t,e){this.q=!0,this.L=this.L.insert(t,e)}Y(t){this.q=!0,this.L=this.L.remove(t)}X(){this.F+=1}Z(){this.F-=1}tt(){this.q=!0,this.U=!0}}class rre{constructor(t){this.et=t,this.nt=new Map,this.st=Uc(),this.it=j$(),this.rt=new jr(jn)}ot(t){for(const e of t.$)t.O&&t.O.isFoundDocument()?this.ct(e,t.O):this.at(e,t.key,t.O);for(const e of t.removedTargetIds)this.at(e,t.key,t.O)}ut(t){this.forEachTarget(t,e=>{const i=this.ht(e);switch(t.state){case 0:this.lt(e)&&i.W(t.resumeToken);break;case 1:i.Z(),i.K||i.H(),i.W(t.resumeToken);break;case 2:i.Z(),i.K||this.removeTarget(e);break;case 3:this.lt(e)&&(i.tt(),i.W(t.resumeToken));break;case 4:this.lt(e)&&(this.ft(e),i.W(t.resumeToken));break;default:Wt()}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.nt.forEach((i,s)=>{this.lt(s)&&e(s)})}dt(t){const e=t.targetId,i=t.M.count,s=this.wt(e);if(s){const a=s.target;if(P1(a))if(0===i){const u=new $t(a.path);this.at(e,u,br.newNoDocument(u,bn.min()))}else dn(1===i);else this._t(e)!==i&&(this.ft(e),this.rt=this.rt.add(e))}}gt(t){const e=new Map;this.nt.forEach((a,u)=>{const f=this.wt(u);if(f){if(a.current&&P1(f.target)){const g=new $t(f.target.path);null!==this.st.get(g)||this.yt(u,g)||this.at(u,g,br.newNoDocument(g,t))}a.j&&(e.set(u,a.G()),a.H())}});let i=bi();this.it.forEach((a,u)=>{let f=!0;u.forEachWhile(g=>{const C=this.wt(g);return!C||2===C.purpose||(f=!1,!1)}),f&&(i=i.add(a))});const s=new PT(t,e,this.rt,this.st,i);return this.st=Uc(),this.it=j$(),this.rt=new jr(jn),s}ct(t,e){if(!this.lt(t))return;const i=this.yt(t,e.key)?2:0;this.ht(t).J(e.key,i),this.st=this.st.insert(e.key,e),this.it=this.it.insert(e.key,this.Tt(e.key).add(t))}at(t,e,i){if(!this.lt(t))return;const s=this.ht(t);this.yt(t,e)?s.J(e,1):s.Y(e),this.it=this.it.insert(e,this.Tt(e).delete(t)),i&&(this.st=this.st.insert(e,i))}removeTarget(t){this.nt.delete(t)}_t(t){const e=this.ht(t).G();return this.et.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}X(t){this.ht(t).X()}ht(t){let e=this.nt.get(t);return e||(e=new U$,this.nt.set(t,e)),e}Tt(t){let e=this.it.get(t);return e||(e=new jr(jn),this.it=this.it.insert(t,e)),e}lt(t){const e=null!==this.wt(t);return e||gt("WatchChangeAggregator","Detected inactive target",t),e}wt(t){const e=this.nt.get(t);return e&&e.K?null:this.et.Et(t)}ft(t){this.nt.set(t,new U$),this.et.getRemoteKeysForTarget(t).forEach(e=>{this.at(t,e,null)})}yt(t,e){return this.et.getRemoteKeysForTarget(t).has(e)}}function j$(){return new Ls($t.comparator)}function H$(){return new Ls($t.comparator)}const sre={asc:"ASCENDING",desc:"DESCENDING"},ore={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class are{constructor(t,e){this.databaseId=t,this.C=e}}function FT(n,t){return n.C?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function q$(n,t){return n.C?t.toBase64():t.toUint8Array()}function lre(n,t){return FT(n,t.toTimestamp())}function to(n){return dn(!!n),bn.fromTimestamp(function(t){const e=gg(t);return new eo(e.seconds,e.nanos)}(n))}function EV(n,t){return(e=n,new fi(["projects",e.projectId,"databases",e.database])).child("documents").child(t).canonicalString();var e}function z$(n){const t=fi.fromString(n);return dn(n8(t)),t}function LT(n,t){return EV(n.databaseId,t.path)}function Bd(n,t){const e=z$(t);if(e.get(1)!==n.databaseId.projectId)throw new ct(Ke.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new ct(Ke.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new $t($$(e))}function DV(n,t){return EV(n.databaseId,t)}function G$(n){const t=z$(n);return 4===t.length?fi.emptyPath():$$(t)}function VT(n){return new fi(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function $$(n){return dn(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function Y$(n,t,e){return{name:LT(n,t),fields:e.value.mapValue.fields}}function Z$(n,t,e){const i=Bd(n,t.name),s=to(t.updateTime),a=new ea({mapValue:{fields:t.fields}}),u=br.newFoundDocument(i,s,a);return e&&u.setHasCommittedMutations(),e?u.setHasCommittedMutations():u}function z1(n,t){let e;if(t instanceof RT)e={update:Y$(n,t.key,t.value)};else if(t instanceof OT)e={delete:LT(n,t.key)};else if(t instanceof mg)e={update:Y$(n,t.key,t.data),updateMask:_re(t.fieldMask)};else{if(!(t instanceof CV))return Wt();e={verify:LT(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(i=>function(s,a){const u=a.transform;if(u instanceof g0)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof P_)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof N_)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof m0)return{fieldPath:a.field.canonicalString(),increment:u.N};throw Wt()}(0,i))),t.precondition.isNone||(e.currentDocument=void 0!==(s=t.precondition).updateTime?{updateTime:lre(n,s.updateTime)}:void 0!==s.exists?{exists:s.exists}:Wt()),e;var s}function W$(n,t){const e=t.currentDocument?void 0!==(s=t.currentDocument).updateTime?_s.updateTime(to(s.updateTime)):void 0!==s.exists?_s.exists(s.exists):_s.none():_s.none(),i=t.updateTransforms?t.updateTransforms.map(s=>function(a,u){let f=null;"setToServerValue"in u?(dn("REQUEST_TIME"===u.setToServerValue),f=new g0):"appendMissingElements"in u?f=new P_(u.appendMissingElements.values||[]):"removeAllFromArray"in u?f=new N_(u.removeAllFromArray.values||[]):"increment"in u?f=new m0(a,u.increment):Wt();const g=xo.fromServerFormat(u.fieldPath);return new kT(g,f)}(n,s)):[];var s;if(t.update){const s=Bd(n,t.update.name),a=new ea({mapValue:{fields:t.update.fields}});if(t.updateMask){const u=new c0((t.updateMask.fieldPaths||[]).map(C=>xo.fromServerFormat(C)));return new mg(s,a,u,e,i)}return new RT(s,a,e,i)}if(t.delete){const s=Bd(n,t.delete);return new OT(s,e)}if(t.verify){const s=Bd(n,t.verify);return new CV(s,e)}return Wt()}function K$(n,t){return{documents:[DV(n,t.path)]}}function Q$(n,t){const e={structuredQuery:{}},i=t.path;null!==t.collectionGroup?(e.parent=DV(n,i),e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(e.parent=DV(n,i.popLast()),e.structuredQuery.from=[{collectionId:i.lastSegment()}]);const s=function(f){if(0===f.length)return;const g=f.map(C=>function(x){if("=="===x.op){if(d$(x.value))return{unaryFilter:{field:_0(x.field),op:"IS_NAN"}};if(u$(x.value))return{unaryFilter:{field:_0(x.field),op:"IS_NULL"}}}else if("!="===x.op){if(d$(x.value))return{unaryFilter:{field:_0(x.field),op:"IS_NOT_NAN"}};if(u$(x.value))return{unaryFilter:{field:_0(x.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:_0(x.field),op:pre(x.op),value:x.value}}}(C));return 1===g.length?g[0]:{compositeFilter:{op:"AND",filters:g}}}(t.filters);s&&(e.structuredQuery.where=s);const a=function(f){if(0!==f.length)return f.map(g=>{return{field:_0((C=g).field),direction:fre(C.dir)};var C})}(t.orderBy);a&&(e.structuredQuery.orderBy=a);const u=(g=t.limit,n.C||R_(g)?g:{value:g});var g;return null!==u&&(e.structuredQuery.limit=u),t.startAt&&(e.structuredQuery.startAt=e8(t.startAt)),t.endAt&&(e.structuredQuery.endAt=e8(t.endAt)),e}function J$(n){let t=G$(n.parent);const e=n.structuredQuery,i=e.from?e.from.length:0;let s=null;if(i>0){dn(1===i);const x=e.from[0];x.allDescendants?s=x.collectionId:t=t.child(x.collectionId)}let a=[];e.where&&(a=X$(e.where));let u=[];e.orderBy&&(u=e.orderBy.map(x=>{return new h0(y0((R=x).field),function(G){switch(G){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(R.direction));var R}));let f=null;e.limit&&(f=function(x){let R;return R="object"==typeof x?x.value:x,R_(R)?null:R}(e.limit));let g=null;e.startAt&&(g=t8(e.startAt));let C=null;return e.endAt&&(C=t8(e.endAt)),_$(t,s,u,a,f,"F",g,C)}function X$(n){return n?void 0!==n.unaryFilter?[mre(n)]:void 0!==n.fieldFilter?[gre(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(t=>X$(t)).reduce((t,e)=>t.concat(e)):Wt():[]}function e8(n){return{before:n.before,values:n.position}}function t8(n){return new IT(n.values||[],!!n.before)}function fre(n){return sre[n]}function pre(n){return ore[n]}function _0(n){return{fieldPath:n.canonicalString()}}function y0(n){return xo.fromServerFormat(n.fieldPath)}function gre(n){return Ba.create(y0(n.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Wt()}}(n.fieldFilter.op),n.fieldFilter.value)}function mre(n){switch(n.unaryFilter.op){case"IS_NAN":const t=y0(n.unaryFilter.field);return Ba.create(t,"==",{doubleValue:NaN});case"IS_NULL":const e=y0(n.unaryFilter.field);return Ba.create(e,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=y0(n.unaryFilter.field);return Ba.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=y0(n.unaryFilter.field);return Ba.create(s,"!=",{nullValue:"NULL_VALUE"});default:return Wt()}}function _re(n){const t=[];return n.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function n8(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function qu(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=i8(t)),t=yre(n.get(e),t);return i8(t)}function yre(n,t){let e=t;const i=n.length;for(let s=0;s<i;s++){const a=n.charAt(s);switch(a){case"\0":e+="\x01\x10";break;case"\x01":e+="\x01\x11";break;default:e+=a}}return e}function i8(n){return n+"\x01\x01"}function hf(n){const t=n.length;if(dn(t>=2),2===t)return dn("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),fi.emptyPath();const e=t-2,i=[];let s="";for(let a=0;a<t;){const u=n.indexOf("\x01",a);switch((u<0||u>e)&&Wt(),n.charAt(u+1)){case"\x01":const f=n.substring(a,u);let g;0===s.length?g=f:(s+=f,g=s,s=""),i.push(g);break;case"\x10":s+=n.substring(a,u),s+="\0";break;case"\x11":s+=n.substring(a,u+1);break;default:Wt()}a=u+2}return new fi(i)}class vre{constructor(t,e){this.seconds=t,this.nanoseconds=e}}class ec{constructor(t,e,i){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=i}}ec.store="owner",ec.key="owner";class _g{constructor(t,e,i){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=i}}_g.store="mutationQueues",_g.keyPath="userId";class or{constructor(t,e,i,s,a){this.userId=t,this.batchId=e,this.localWriteTimeMs=i,this.baseMutations=s,this.mutations=a}}or.store="mutations",or.keyPath="batchId",or.userMutationsIndex="userMutationsIndex",or.userMutationsKeyPath=["userId","batchId"];class ta{constructor(){}static prefixForUser(t){return[t]}static prefixForPath(t,e){return[t,qu(e)]}static key(t,e,i){return[t,qu(e),i]}}ta.store="documentMutations",ta.PLACEHOLDER=new ta;class bre{constructor(t,e){this.path=t,this.readTime=e}}class Cre{constructor(t,e){this.path=t,this.version=e}}class Hr{constructor(t,e,i,s,a,u){this.unknownDocument=t,this.noDocument=e,this.document=i,this.hasCommittedMutations=s,this.readTime=a,this.parentPath=u}}Hr.store="remoteDocuments",Hr.readTimeIndex="readTimeIndex",Hr.readTimeIndexPath="readTime",Hr.collectionReadTimeIndex="collectionReadTimeIndex",Hr.collectionReadTimeIndexPath=["parentPath","readTime"];class Ud{constructor(t){this.byteSize=t}}Ud.store="remoteDocumentGlobal",Ud.key="remoteDocumentGlobalKey";class _l{constructor(t,e,i,s,a,u,f){this.targetId=t,this.canonicalId=e,this.readTime=i,this.resumeToken=s,this.lastListenSequenceNumber=a,this.lastLimboFreeSnapshotVersion=u,this.query=f}}_l.store="targets",_l.keyPath="targetId",_l.queryTargetsIndexName="queryTargetsIndex",_l.queryTargetsKeyPath=["canonicalId","targetId"];class Ao{constructor(t,e,i){this.targetId=t,this.path=e,this.sequenceNumber=i}}Ao.store="targetDocuments",Ao.keyPath=["targetId","path"],Ao.documentTargetsIndex="documentTargetsIndex",Ao.documentTargetsKeyPath=["path","targetId"];class tc{constructor(t,e,i,s){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=i,this.targetCount=s}}tc.key="targetGlobalKey",tc.store="targetGlobal";class F_{constructor(t,e){this.collectionId=t,this.parent=e}}F_.store="collectionParents",F_.keyPath=["collectionId","parent"];class ff{constructor(t,e,i,s){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=i,this.inForeground=s}}ff.store="clientMetadata",ff.keyPath="clientId";class v0{constructor(t,e,i){this.bundleId=t,this.createTime=e,this.version=i}}v0.store="bundles",v0.keyPath="bundleId";class b0{constructor(t,e,i){this.name=t,this.readTime=e,this.bundledQuery=i}}b0.store="namedQueries",b0.keyPath="name";const wre=[_g.store,or.store,ta.store,Hr.store,_l.store,ec.store,tc.store,Ao.store,ff.store,Ud.store,F_.store,v0.store,b0.store],r8="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class s8{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}class lt{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&Wt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new lt((i,s)=>{this.nextCallback=a=>{this.wrapSuccess(t,a).next(i,s)},this.catchCallback=a=>{this.wrapFailure(e,a).next(i,s)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof lt?e:lt.resolve(e)}catch(e){return lt.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):lt.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):lt.reject(e)}static resolve(t){return new lt((e,i)=>{e(t)})}static reject(t){return new lt((e,i)=>{i(t)})}static waitFor(t){return new lt((e,i)=>{let s=0,a=0,u=!1;t.forEach(f=>{++s,f.next(()=>{++a,u&&a===s&&e()},g=>i(g))}),u=!0,a===s&&e()})}static or(t){let e=lt.resolve(!1);for(const i of t)e=e.next(s=>s?lt.resolve(s):i());return e}static forEach(t,e){const i=[];return t.forEach((s,a)=>{i.push(e.call(this,s,a))}),this.waitFor(i)}}class G1{constructor(t,e){this.action=t,this.transaction=e,this.aborted=!1,this.It=new Xs,this.transaction.oncomplete=()=>{this.It.resolve()},this.transaction.onabort=()=>{e.error?this.It.reject(new BT(t,e.error)):this.It.resolve()},this.transaction.onerror=i=>{const s=TV(i.target.error);this.It.reject(new BT(t,s))}}static open(t,e,i,s){try{return new G1(e,t.transaction(s,i))}catch(a){throw new BT(e,a)}}get At(){return this.It.promise}abort(t){t&&this.It.reject(t),this.aborted||(gt("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}store(t){const e=this.transaction.objectStore(t);return new Dre(e)}}class zu{constructor(t,e,i){this.name=t,this.version=e,this.Rt=i,12.2===zu.bt((0,oe.z$)())&&gs("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(t){return gt("SimpleDb","Removing database:",t),V_(window.indexedDB.deleteDatabase(t)).toPromise()}static Pt(){if(!(0,oe.hl)())return!1;if(zu.vt())return!0;const t=(0,oe.z$)(),e=zu.bt(t),i=0<e&&e<10,s=zu.Vt(t),a=0<s&&s<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||i||a)}static vt(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.St)}static Dt(t,e){return t.store(e)}static bt(t){const e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static Vt(t){const e=t.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}Ct(t){var e=this;return(0,Je.Z)(function*(){return e.db||(gt("SimpleDb","Opening database:",e.name),e.db=yield new Promise((i,s)=>{const a=indexedDB.open(e.name,e.version);a.onsuccess=u=>{i(u.target.result)},a.onblocked=()=>{s(new BT(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},a.onerror=u=>{const f=u.target.error;s("VersionError"===f.name?new ct(Ke.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===f.name?new ct(Ke.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+f):new BT(t,f))},a.onupgradeneeded=u=>{gt("SimpleDb",'Database "'+e.name+'" requires upgrade from version:',u.oldVersion),e.Rt.Nt(u.target.result,a.transaction,u.oldVersion,e.version).next(()=>{gt("SimpleDb","Database upgrade to version "+e.version+" complete")})}})),e.kt&&(e.db.onversionchange=i=>e.kt(i)),e.db})()}xt(t){this.kt=t,this.db&&(this.db.onversionchange=e=>t(e))}runTransaction(t,e,i,s){var a=this;return(0,Je.Z)(function*(){const u="readonly"===e;let f=0;for(;;){++f;try{a.db=yield a.Ct(t);const g=G1.open(a.db,t,u?"readonly":"readwrite",i),C=s(g).catch(x=>(g.abort(x),lt.reject(x))).toPromise();return C.catch(()=>{}),yield g.At,C}catch(g){const C="FirebaseError"!==g.name&&f<3;if(gt("SimpleDb","Transaction failed with error:",g.message,"Retrying:",C),a.close(),!C)return Promise.reject(g)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class Ere{constructor(t){this.$t=t,this.Ot=!1,this.Mt=null}get isDone(){return this.Ot}get Ft(){return this.Mt}set cursor(t){this.$t=t}done(){this.Ot=!0}Lt(t){this.Mt=t}delete(){return V_(this.$t.delete())}}class BT extends ct{constructor(t,e){super(Ke.UNAVAILABLE,`IndexedDB transaction '${t}' failed: ${e}`),this.name="IndexedDbTransactionError"}}function L_(n){return"IndexedDbTransactionError"===n.name}class Dre{constructor(t){this.store=t}put(t,e){let i;return void 0!==e?(gt("SimpleDb","PUT",this.store.name,t,e),i=this.store.put(e,t)):(gt("SimpleDb","PUT",this.store.name,"<auto-key>",t),i=this.store.put(t)),V_(i)}add(t){return gt("SimpleDb","ADD",this.store.name,t,t),V_(this.store.add(t))}get(t){return V_(this.store.get(t)).next(e=>(void 0===e&&(e=null),gt("SimpleDb","GET",this.store.name,t,e),e))}delete(t){return gt("SimpleDb","DELETE",this.store.name,t),V_(this.store.delete(t))}count(){return gt("SimpleDb","COUNT",this.store.name),V_(this.store.count())}Bt(t,e){const i=this.cursor(this.options(t,e)),s=[];return this.Ut(i,(a,u)=>{s.push(u)}).next(()=>s)}qt(t,e){gt("SimpleDb","DELETE ALL",this.store.name);const i=this.options(t,e);i.Kt=!1;const s=this.cursor(i);return this.Ut(s,(a,u,f)=>f.delete())}jt(t,e){let i;e?i=t:(i={},e=t);const s=this.cursor(i);return this.Ut(s,e)}Qt(t){const e=this.cursor({});return new lt((i,s)=>{e.onerror=a=>{const u=TV(a.target.error);s(u)},e.onsuccess=a=>{const u=a.target.result;u?t(u.primaryKey,u.value).next(f=>{f?u.continue():i()}):i()}})}Ut(t,e){const i=[];return new lt((s,a)=>{t.onerror=u=>{a(u.target.error)},t.onsuccess=u=>{const f=u.target.result;if(!f)return void s();const g=new Ere(f),C=e(f.primaryKey,f.value,g);if(C instanceof lt){const x=C.catch(R=>(g.done(),lt.reject(R)));i.push(x)}g.isDone?s():null===g.Ft?f.continue():f.continue(g.Ft)}}).next(()=>lt.waitFor(i))}options(t,e){let i;return void 0!==t&&("string"==typeof t?i=t:e=t),{index:i,range:e}}cursor(t){let e="next";if(t.reverse&&(e="prev"),t.index){const i=this.store.index(t.index);return t.Kt?i.openKeyCursor(t.range,e):i.openCursor(t.range,e)}return this.store.openCursor(t.range,e)}}function V_(n){return new lt((t,e)=>{n.onsuccess=i=>{t(i.target.result)},n.onerror=i=>{const s=TV(i.target.error);e(s)}})}let o8=!1;function TV(n){const t=zu.bt((0,oe.z$)());if(t>=12.2&&t<13){const e="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(e)>=0){const i=new ct("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${e}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return o8||(o8=!0,setTimeout(()=>{throw i},0)),i}}return n}class a8 extends s8{constructor(t,e){super(),this.Wt=t,this.currentSequenceNumber=e}}function yl(n,t){const e=Tt(n);return zu.Dt(e.Wt,t)}class SV{constructor(t,e,i,s){this.batchId=t,this.localWriteTime=e,this.baseMutations=i,this.mutations=s}applyToRemoteDocument(t,e){const i=e.mutationResults;for(let s=0;s<this.mutations.length;s++){const a=this.mutations[s];a.key.isEqual(t.key)&&Kie(a,t,i[s])}}applyToLocalView(t){for(const e of this.baseMutations)e.key.isEqual(t.key)&&bV(e,t,this.localWriteTime);for(const e of this.mutations)e.key.isEqual(t.key)&&bV(e,t,this.localWriteTime)}applyToLocalDocumentSet(t){this.mutations.forEach(e=>{const i=t.get(e.key),s=i;this.applyToLocalView(s),i.isValidDocument()||s.convertToNoDocument(bn.min())})}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),bi())}isEqual(t){return this.batchId===t.batchId&&l0(this.mutations,t.mutations,(e,i)=>A$(e,i))&&l0(this.baseMutations,t.baseMutations,(e,i)=>A$(e,i))}}class xV{constructor(t,e,i,s){this.batch=t,this.commitVersion=e,this.mutationResults=i,this.docVersions=s}static from(t,e,i){dn(t.mutations.length===i.length);let s=L$();const a=t.mutations;for(let u=0;u<a.length;u++)s=s.insert(a[u].key,i[u].version);return new xV(t,e,i,s)}}class yg{constructor(t,e,i,s,a=bn.min(),u=bn.min(),f=Fs.EMPTY_BYTE_STRING){this.target=t,this.targetId=e,this.purpose=i,this.sequenceNumber=s,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=f}withSequenceNumber(t){return new yg(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(t,e){return new yg(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t)}withLastLimboFreeSnapshotVersion(t){return new yg(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}class l8{constructor(t){this.Gt=t}}function IV(n,t){if(t.document)return Z$(n.Gt,t.document,!!t.hasCommittedMutations);if(t.noDocument){const e=$t.fromSegments(t.noDocument.path),i=w0(t.noDocument.readTime),s=br.newNoDocument(e,i);return t.hasCommittedMutations?s.setHasCommittedMutations():s}if(t.unknownDocument){const e=$t.fromSegments(t.unknownDocument.path),i=w0(t.unknownDocument.version);return br.newUnknownDocument(e,i)}return Wt()}function c8(n,t,e){const i=AV(e),s=t.key.path.popLast().toArray();if(t.isFoundDocument()){const a={name:LT(f=n.Gt,(g=t).key),fields:g.data.value.mapValue.fields,updateTime:FT(f,g.version.toTimestamp())};return new Hr(null,null,a,t.hasCommittedMutations,i,s)}var f,g;if(t.isNoDocument()){const a=t.key.path.toArray(),u=C0(t.version),f=t.hasCommittedMutations;return new Hr(null,new bre(a,u),null,f,i,s)}if(t.isUnknownDocument()){const a=t.key.path.toArray(),u=C0(t.version);return new Hr(new Cre(a,u),null,null,!0,i,s)}return Wt()}function AV(n){const t=n.toTimestamp();return[t.seconds,t.nanoseconds]}function u8(n){const t=new eo(n[0],n[1]);return bn.fromTimestamp(t)}function C0(n){const t=n.toTimestamp();return new vre(t.seconds,t.nanoseconds)}function w0(n){const t=new eo(n.seconds,n.nanoseconds);return bn.fromTimestamp(t)}function E0(n,t){const e=(t.baseMutations||[]).map(a=>W$(n.Gt,a));for(let a=0;a<t.mutations.length-1;++a){const u=t.mutations[a];a+1<t.mutations.length&&void 0!==t.mutations[a+1].transform&&(u.updateTransforms=t.mutations[a+1].transform.fieldTransforms,t.mutations.splice(a+1,1),++a)}const i=t.mutations.map(a=>W$(n.Gt,a)),s=eo.fromMillis(t.localWriteTimeMs);return new SV(t.batchId,s,e,i)}function UT(n){const t=w0(n.readTime),e=void 0!==n.lastLimboFreeSnapshotVersion?w0(n.lastLimboFreeSnapshotVersion):bn.min();let i;var s;return void 0!==n.query.documents?(dn(1===(s=n.query).documents.length),i=Bc(f0(G$(s.documents[0])))):i=Bc(J$(n.query)),new yg(i,n.targetId,0,n.lastListenSequenceNumber,t,e,Fs.fromBase64String(n.resumeToken))}function d8(n,t){const e=C0(t.snapshotVersion),i=C0(t.lastLimboFreeSnapshotVersion);let s;s=P1(t.target)?K$(n.Gt,t.target):Q$(n.Gt,t.target);const a=t.resumeToken.toBase64();return new _l(t.targetId,xT(t.target),e,a,t.sequenceNumber,i,s)}function MV(n){const t=J$({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?y$(t,t.limit,"L"):t}class Tre{getBundleMetadata(t,e){return h8(t).get(e).next(i=>{if(i)return{id:(s=i).bundleId,createTime:w0(s.createTime),version:s.version};var s})}saveBundleMetadata(t,e){return h8(t).put({bundleId:(i=e).id,createTime:C0(to(i.createTime)),version:i.version});var i}getNamedQuery(t,e){return f8(t).get(e).next(i=>{if(i)return{name:(s=i).name,query:MV(s.bundledQuery),readTime:w0(s.readTime)};var s})}saveNamedQuery(t,e){return f8(t).put({name:(i=e).name,readTime:C0(to(i.readTime)),bundledQuery:i.bundledQuery});var i}}function h8(n){return yl(n,v0.store)}function f8(n){return yl(n,b0.store)}class Sre{constructor(){this.zt=new kV}addToCollectionParentIndex(t,e){return this.zt.add(e),lt.resolve()}getCollectionParents(t,e){return lt.resolve(this.zt.getEntries(e))}}class kV{constructor(){this.index={}}add(t){const e=t.lastSegment(),i=t.popLast(),s=this.index[e]||new jr(fi.comparator),a=!s.has(i);return this.index[e]=s.add(i),a}has(t){const e=t.lastSegment(),i=t.popLast(),s=this.index[e];return s&&s.has(i)}getEntries(t){return(this.index[t]||new jr(fi.comparator)).toArray()}}class xre{constructor(){this.Ht=new kV}addToCollectionParentIndex(t,e){if(!this.Ht.has(e)){const i=e.lastSegment(),s=e.popLast();t.addOnCommittedListener(()=>{this.Ht.add(e)});const a={collectionId:i,parent:qu(s)};return p8(t).put(a)}return lt.resolve()}getCollectionParents(t,e){const i=[],s=IDBKeyRange.bound([e,""],[r$(e),""],!1,!0);return p8(t).Bt(s).next(a=>{for(const u of a){if(u.collectionId!==e)break;i.push(hf(u.parent))}return i})}}function p8(n){return yl(n,F_.store)}const g8={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class vl{constructor(t,e,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=i}static withCacheSize(t){return new vl(t,vl.DEFAULT_COLLECTION_PERCENTILE,vl.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function m8(n,t,e){const i=n.store(or.store),s=n.store(ta.store),a=[],u=IDBKeyRange.only(e.batchId);let f=0;const g=i.jt({range:u},(x,R,G)=>(f++,G.delete()));a.push(g.next(()=>{dn(1===f)}));const C=[];for(const x of e.mutations){const R=ta.key(t,x.key.path,e.batchId);a.push(s.delete(R)),C.push(x.key)}return lt.waitFor(a).next(()=>C)}function $1(n){if(!n)return 0;let t;if(n.document)t=n.document;else if(n.unknownDocument)t=n.unknownDocument;else{if(!n.noDocument)throw Wt();t=n.noDocument}return JSON.stringify(t).length}vl.DEFAULT_COLLECTION_PERCENTILE=10,vl.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,vl.DEFAULT=new vl(41943040,vl.DEFAULT_COLLECTION_PERCENTILE,vl.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),vl.DISABLED=new vl(-1,0,0);class RV{constructor(t,e,i,s){this.userId=t,this.k=e,this.Jt=i,this.referenceDelegate=s,this.Yt={}}static Xt(t,e,i,s){dn(""!==t.uid);const a=t.isAuthenticated()?t.uid:"";return new RV(a,e,i,s)}checkEmpty(t){let e=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return vg(t).jt({index:or.userMutationsIndex,range:i},(s,a,u)=>{e=!1,u.done()}).next(()=>e)}addMutationBatch(t,e,i,s){const a=D0(t),u=vg(t);return u.add({}).next(f=>{dn("number"==typeof f);const g=new SV(f,e,i,s),C=function(G,ee,he){const Fe=he.baseMutations.map(ht=>z1(G.Gt,ht)),He=he.mutations.map(ht=>z1(G.Gt,ht));return new or(ee,he.batchId,he.localWriteTime.toMillis(),Fe,He)}(this.k,this.userId,g),x=[];let R=new jr((G,ee)=>jn(G.canonicalString(),ee.canonicalString()));for(const G of s){const ee=ta.key(this.userId,G.key.path,f);R=R.add(G.key.path.popLast()),x.push(u.put(C)),x.push(a.put(ee,ta.PLACEHOLDER))}return R.forEach(G=>{x.push(this.Jt.addToCollectionParentIndex(t,G))}),t.addOnCommittedListener(()=>{this.Yt[f]=g.keys()}),lt.waitFor(x).next(()=>g)})}lookupMutationBatch(t,e){return vg(t).get(e).next(i=>i?(dn(i.userId===this.userId),E0(this.k,i)):null)}Zt(t,e){return this.Yt[e]?lt.resolve(this.Yt[e]):this.lookupMutationBatch(t,e).next(i=>{if(i){const s=i.keys();return this.Yt[e]=s,s}return null})}getNextMutationBatchAfterBatchId(t,e){const i=e+1,s=IDBKeyRange.lowerBound([this.userId,i]);let a=null;return vg(t).jt({index:or.userMutationsIndex,range:s},(u,f,g)=>{f.userId===this.userId&&(dn(f.batchId>=i),a=E0(this.k,f)),g.done()}).next(()=>a)}getHighestUnacknowledgedBatchId(t){const e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return vg(t).jt({index:or.userMutationsIndex,range:e,reverse:!0},(s,a,u)=>{i=a.batchId,u.done()}).next(()=>i)}getAllMutationBatches(t){const e=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return vg(t).Bt(or.userMutationsIndex,e).next(i=>i.map(s=>E0(this.k,s)))}getAllMutationBatchesAffectingDocumentKey(t,e){const i=ta.prefixForPath(this.userId,e.path),s=IDBKeyRange.lowerBound(i),a=[];return D0(t).jt({range:s},(u,f,g)=>{const[C,x,R]=u,G=hf(x);if(C===this.userId&&e.path.isEqual(G))return vg(t).get(R).next(ee=>{if(!ee)throw Wt();dn(ee.userId===this.userId),a.push(E0(this.k,ee))});g.done()}).next(()=>a)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new jr(jn);const s=[];return e.forEach(a=>{const u=ta.prefixForPath(this.userId,a.path),f=IDBKeyRange.lowerBound(u),g=D0(t).jt({range:f},(C,x,R)=>{const[G,ee,he]=C,Fe=hf(ee);G===this.userId&&a.path.isEqual(Fe)?i=i.add(he):R.done()});s.push(g)}),lt.waitFor(s).next(()=>this.te(t,i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,s=i.length+1,a=ta.prefixForPath(this.userId,i),u=IDBKeyRange.lowerBound(a);let f=new jr(jn);return D0(t).jt({range:u},(g,C,x)=>{const[R,G,ee]=g,he=hf(G);R===this.userId&&i.isPrefixOf(he)?he.length===s&&(f=f.add(ee)):x.done()}).next(()=>this.te(t,f))}te(t,e){const i=[],s=[];return e.forEach(a=>{s.push(vg(t).get(a).next(u=>{if(null===u)throw Wt();dn(u.userId===this.userId),i.push(E0(this.k,u))}))}),lt.waitFor(s).next(()=>i)}removeMutationBatch(t,e){return m8(t.Wt,this.userId,e).next(i=>(t.addOnCommittedListener(()=>{this.ee(e.batchId)}),lt.forEach(i,s=>this.referenceDelegate.markPotentiallyOrphaned(t,s))))}ee(t){delete this.Yt[t]}performConsistencyCheck(t){return this.checkEmpty(t).next(e=>{if(!e)return lt.resolve();const i=IDBKeyRange.lowerBound(ta.prefixForUser(this.userId)),s=[];return D0(t).jt({range:i},(a,u,f)=>{if(a[0]===this.userId){const g=hf(a[1]);s.push(g)}else f.done()}).next(()=>{dn(0===s.length)})})}containsKey(t,e){return _8(t,this.userId,e)}ne(t){return y8(t).get(this.userId).next(e=>e||new _g(this.userId,-1,""))}}function _8(n,t,e){const i=ta.prefixForPath(t,e.path),s=i[1],a=IDBKeyRange.lowerBound(i);let u=!1;return D0(n).jt({range:a,Kt:!0},(f,g,C)=>{const[x,R,G]=f;x===t&&R===s&&(u=!0),C.done()}).next(()=>u)}function vg(n){return yl(n,or.store)}function D0(n){return yl(n,ta.store)}function y8(n){return yl(n,_g.store)}class B_{constructor(t){this.se=t}next(){return this.se+=2,this.se}static ie(){return new B_(0)}static re(){return new B_(-1)}}class Ire{constructor(t,e){this.referenceDelegate=t,this.k=e}allocateTargetId(t){return this.oe(t).next(e=>{const i=new B_(e.highestTargetId);return e.highestTargetId=i.next(),this.ce(t,e).next(()=>e.highestTargetId)})}getLastRemoteSnapshotVersion(t){return this.oe(t).next(e=>bn.fromTimestamp(new eo(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(t){return this.oe(t).next(e=>e.highestListenSequenceNumber)}setTargetsMetadata(t,e,i){return this.oe(t).next(s=>(s.highestListenSequenceNumber=e,i&&(s.lastRemoteSnapshotVersion=i.toTimestamp()),e>s.highestListenSequenceNumber&&(s.highestListenSequenceNumber=e),this.ce(t,s)))}addTargetData(t,e){return this.ae(t,e).next(()=>this.oe(t).next(i=>(i.targetCount+=1,this.ue(e,i),this.ce(t,i))))}updateTargetData(t,e){return this.ae(t,e)}removeTargetData(t,e){return this.removeMatchingKeysForTargetId(t,e.targetId).next(()=>T0(t).delete(e.targetId)).next(()=>this.oe(t)).next(i=>(dn(i.targetCount>0),i.targetCount-=1,this.ce(t,i)))}removeTargets(t,e,i){let s=0;const a=[];return T0(t).jt((u,f)=>{const g=UT(f);g.sequenceNumber<=e&&null===i.get(g.targetId)&&(s++,a.push(this.removeTargetData(t,g)))}).next(()=>lt.waitFor(a)).next(()=>s)}forEachTarget(t,e){return T0(t).jt((i,s)=>{const a=UT(s);e(a)})}oe(t){return v8(t).get(tc.key).next(e=>(dn(null!==e),e))}ce(t,e){return v8(t).put(tc.key,e)}ae(t,e){return T0(t).put(d8(this.k,e))}ue(t,e){let i=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,i=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,i=!0),i}getTargetCount(t){return this.oe(t).next(e=>e.targetCount)}getTargetData(t,e){const i=xT(e),s=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let a=null;return T0(t).jt({range:s,index:_l.queryTargetsIndexName},(u,f,g)=>{const C=UT(f);O1(e,C.target)&&(a=C,g.done())}).next(()=>a)}addMatchingKeys(t,e,i){const s=[],a=bg(t);return e.forEach(u=>{const f=qu(u.path);s.push(a.put(new Ao(i,f))),s.push(this.referenceDelegate.addReference(t,i,u))}),lt.waitFor(s)}removeMatchingKeys(t,e,i){const s=bg(t);return lt.forEach(e,a=>{const u=qu(a.path);return lt.waitFor([s.delete([i,u]),this.referenceDelegate.removeReference(t,i,a)])})}removeMatchingKeysForTargetId(t,e){const i=bg(t),s=IDBKeyRange.bound([e],[e+1],!1,!0);return i.delete(s)}getMatchingKeysForTargetId(t,e){const i=IDBKeyRange.bound([e],[e+1],!1,!0),s=bg(t);let a=bi();return s.jt({range:i,Kt:!0},(u,f,g)=>{const C=hf(u[1]),x=new $t(C);a=a.add(x)}).next(()=>a)}containsKey(t,e){const i=qu(e.path),s=IDBKeyRange.bound([i],[r$(i)],!1,!0);let a=0;return bg(t).jt({index:Ao.documentTargetsIndex,Kt:!0,range:s},([u,f],g,C)=>{0!==u&&(a++,C.done())}).next(()=>a>0)}Et(t,e){return T0(t).get(e).next(i=>i?UT(i):null)}}function T0(n){return yl(n,_l.store)}function v8(n){return yl(n,tc.store)}function bg(n){return yl(n,Ao.store)}function U_(n){return OV.apply(this,arguments)}function OV(){return(OV=(0,Je.Z)(function*(n){if(n.code!==Ke.FAILED_PRECONDITION||n.message!==r8)throw n;gt("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}function b8([n,t],[e,i]){const s=jn(n,e);return 0===s?jn(t,i):s}class Are{constructor(t){this.he=t,this.buffer=new jr(b8),this.le=0}fe(){return++this.le}de(t){const e=[t,this.fe()];if(this.buffer.size<this.he)this.buffer=this.buffer.add(e);else{const i=this.buffer.last();b8(e,i)<0&&(this.buffer=this.buffer.delete(i).add(e))}}get maxValue(){return this.buffer.last()[0]}}class Mre{constructor(t,e){this.garbageCollector=t,this.asyncQueue=e,this.we=!1,this._e=null}start(t){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.me(t)}stop(){this._e&&(this._e.cancel(),this._e=null)}get started(){return null!==this._e}me(t){var e=this;const i=this.we?3e5:6e4;gt("LruGarbageCollector",`Garbage collection scheduled in ${i}ms`),this._e=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",i,(0,Je.Z)(function*(){e._e=null,e.we=!0;try{yield t.collectGarbage(e.garbageCollector)}catch(s){L_(s)?gt("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",s):yield U_(s)}yield e.me(t)}))}}class kre{constructor(t,e){this.ge=t,this.params=e}calculateTargetCount(t,e){return this.ge.ye(t).next(i=>Math.floor(e/100*i))}nthSequenceNumber(t,e){if(0===e)return lt.resolve(Xl.I);const i=new Are(e);return this.ge.forEachTarget(t,s=>i.de(s.sequenceNumber)).next(()=>this.ge.pe(t,s=>i.de(s))).next(()=>i.maxValue)}removeTargets(t,e,i){return this.ge.removeTargets(t,e,i)}removeOrphanedDocuments(t,e){return this.ge.removeOrphanedDocuments(t,e)}collect(t,e){return-1===this.params.cacheSizeCollectionThreshold?(gt("LruGarbageCollector","Garbage collection skipped; disabled"),lt.resolve(g8)):this.getCacheSize(t).next(i=>i<this.params.cacheSizeCollectionThreshold?(gt("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),g8):this.Te(t,e))}getCacheSize(t){return this.ge.getCacheSize(t)}Te(t,e){let i,s,a,u,f,g,C;const x=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(R=>(R>this.params.maximumSequenceNumbersToCollect?(gt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${R}`),s=this.params.maximumSequenceNumbersToCollect):s=R,u=Date.now(),this.nthSequenceNumber(t,s))).next(R=>(i=R,f=Date.now(),this.removeTargets(t,i,e))).next(R=>(a=R,g=Date.now(),this.removeOrphanedDocuments(t,i))).next(R=>(C=Date.now(),cV()<=Qo.in.DEBUG&&gt("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${u-x}ms\n\tDetermined least recently used ${s} in `+(f-u)+`ms\n\tRemoved ${a} targets in `+(g-f)+`ms\n\tRemoved ${R} documents in `+(C-g)+`ms\nTotal Duration: ${C-x}ms`),lt.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:a,documentsRemoved:R})))}}class Rre{constructor(t,e){this.db=t,this.garbageCollector=new kre(this,e)}ye(t){const e=this.Ee(t);return this.db.getTargetCache().getTargetCount(t).next(i=>e.next(s=>i+s))}Ee(t){let e=0;return this.pe(t,i=>{e++}).next(()=>e)}forEachTarget(t,e){return this.db.getTargetCache().forEachTarget(t,e)}pe(t,e){return this.Ie(t,(i,s)=>e(s))}addReference(t,e,i){return Y1(t,i)}removeReference(t,e,i){return Y1(t,i)}removeTargets(t,e,i){return this.db.getTargetCache().removeTargets(t,e,i)}markPotentiallyOrphaned(t,e){return Y1(t,e)}Ae(t,e){return function(i,s){let a=!1;return y8(i).Qt(u=>_8(i,u,s).next(f=>(f&&(a=!0),lt.resolve(!f)))).next(()=>a)}(t,e)}removeOrphanedDocuments(t,e){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),s=[];let a=0;return this.Ie(t,(u,f)=>{if(f<=e){const g=this.Ae(t,u).next(C=>{if(!C)return a++,i.getEntry(t,u).next(()=>(i.removeEntry(u),bg(t).delete([0,qu(u.path)])))});s.push(g)}}).next(()=>lt.waitFor(s)).next(()=>i.apply(t)).next(()=>a)}removeTarget(t,e){const i=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,i)}updateLimboDocument(t,e){return Y1(t,e)}Ie(t,e){const i=bg(t);let s,a=Xl.I;return i.jt({index:Ao.documentTargetsIndex},([u,f],{path:g,sequenceNumber:C})=>{0===u?(a!==Xl.I&&e(new $t(hf(s)),a),a=C,s=g):a=Xl.I}).next(()=>{a!==Xl.I&&e(new $t(hf(s)),a)})}getCacheSize(t){return this.db.getRemoteDocumentCache().getSize(t)}}function Y1(n,t){return bg(n).put((i=n.currentSequenceNumber,new Ao(0,qu(t.path),i)));var i}class S0{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={}}get(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0!==i)for(const[s,a]of i)if(this.equalsFn(s,t))return a}has(t){return void 0!==this.get(t)}set(t,e){const i=this.mapKeyFn(t),s=this.inner[i];if(void 0!==s){for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],t))return void(s[a]=[t,e]);s.push([t,e])}else this.inner[i]=[[t,e]]}delete(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0===i)return!1;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],t))return 1===i.length?delete this.inner[e]:i.splice(s,1),!0;return!1}forEach(t){k_(this.inner,(e,i)=>{for(const[s,a]of i)t(s,a)})}isEmpty(){return o$(this.inner)}}class C8{constructor(){this.changes=new S0(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}getReadTime(t){const e=this.changes.get(t);return e?e.readTime:bn.min()}addEntry(t,e){this.assertNotApplied(),this.changes.set(t.key,{document:t,readTime:e})}removeEntry(t,e=null){this.assertNotApplied(),this.changes.set(t,{document:br.newInvalidDocument(t),readTime:e})}getEntry(t,e){this.assertNotApplied();const i=this.changes.get(e);return void 0!==i?lt.resolve(i.document):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class Ore{constructor(t,e){this.k=t,this.Jt=e}addEntry(t,e,i){return Cg(t).put(Z1(e),i)}removeEntry(t,e){const i=Cg(t),s=Z1(e);return i.delete(s)}updateMetadata(t,e){return this.getMetadata(t).next(i=>(i.byteSize+=e,this.Re(t,i)))}getEntry(t,e){return Cg(t).get(Z1(e)).next(i=>this.be(e,i))}Pe(t,e){return Cg(t).get(Z1(e)).next(i=>({document:this.be(e,i),size:$1(i)}))}getEntries(t,e){let i=Uc();return this.ve(t,e,(s,a)=>{const u=this.be(s,a);i=i.insert(s,u)}).next(()=>i)}Ve(t,e){let i=Uc(),s=new Ls($t.comparator);return this.ve(t,e,(a,u)=>{const f=this.be(a,u);i=i.insert(a,f),s=s.insert(a,$1(u))}).next(()=>({documents:i,Se:s}))}ve(t,e,i){if(e.isEmpty())return lt.resolve();const s=IDBKeyRange.bound(e.first().path.toArray(),e.last().path.toArray()),a=e.getIterator();let u=a.getNext();return Cg(t).jt({range:s},(f,g,C)=>{const x=$t.fromSegments(f);for(;u&&$t.comparator(u,x)<0;)i(u,null),u=a.getNext();u&&u.isEqual(x)&&(i(u,g),u=a.hasNext()?a.getNext():null),u?C.Lt(u.path.toArray()):C.done()}).next(()=>{for(;u;)i(u,null),u=a.hasNext()?a.getNext():null})}getDocumentsMatchingQuery(t,e,i){let s=Uc();const a=e.path.length+1,u={};if(i.isEqual(bn.min())){const f=e.path.toArray();u.range=IDBKeyRange.lowerBound(f)}else{const f=e.path.toArray(),g=AV(i);u.range=IDBKeyRange.lowerBound([f,g],!0),u.index=Hr.collectionReadTimeIndex}return Cg(t).jt(u,(f,g,C)=>{if(f.length!==a)return;const x=IV(this.k,g);e.path.isPrefixOf(x.key.path)?MT(e,x)&&(s=s.insert(x.key,x)):C.done()}).next(()=>s)}newChangeBuffer(t){return new Pre(this,!!t&&t.trackRemovals)}getSize(t){return this.getMetadata(t).next(e=>e.byteSize)}getMetadata(t){return w8(t).get(Ud.key).next(e=>(dn(!!e),e))}Re(t,e){return w8(t).put(Ud.key,e)}be(t,e){if(e){const i=IV(this.k,e);if(!i.isNoDocument()||!i.version.isEqual(bn.min()))return i}return br.newInvalidDocument(t)}}class Pre extends C8{constructor(t,e){super(),this.De=t,this.trackRemovals=e,this.Ce=new S0(i=>i.toString(),(i,s)=>i.isEqual(s))}applyChanges(t){const e=[];let i=0,s=new jr((a,u)=>jn(a.canonicalString(),u.canonicalString()));return this.changes.forEach((a,u)=>{const f=this.Ce.get(a);if(u.document.isValidDocument()){const g=c8(this.De.k,u.document,this.getReadTime(a));s=s.add(a.path.popLast()),i+=$1(g)-f,e.push(this.De.addEntry(t,a,g))}else if(i-=f,this.trackRemovals){const g=c8(this.De.k,br.newNoDocument(a,bn.min()),this.getReadTime(a));e.push(this.De.addEntry(t,a,g))}else e.push(this.De.removeEntry(t,a))}),s.forEach(a=>{e.push(this.De.Jt.addToCollectionParentIndex(t,a))}),e.push(this.De.updateMetadata(t,i)),lt.waitFor(e)}getFromCache(t,e){return this.De.Pe(t,e).next(i=>(this.Ce.set(e,i.size),i.document))}getAllFromCache(t,e){return this.De.Ve(t,e).next(({documents:i,Se:s})=>(s.forEach((a,u)=>{this.Ce.set(a,u)}),i))}}function w8(n){return yl(n,Ud.store)}function Cg(n){return yl(n,Hr.store)}function Z1(n){return n.path.toArray()}class Nre{constructor(t){this.k=t}Nt(t,e,i,s){dn(i<s&&i>=0&&s<=11);const a=new G1("createOrUpgrade",e);var f;i<1&&s>=1&&(t.createObjectStore(ec.store),(f=t).createObjectStore(_g.store,{keyPath:_g.keyPath}),f.createObjectStore(or.store,{keyPath:or.keyPath,autoIncrement:!0}).createIndex(or.userMutationsIndex,or.userMutationsKeyPath,{unique:!0}),f.createObjectStore(ta.store),E8(t),function(f){f.createObjectStore(Hr.store)}(t));let u=lt.resolve();return i<3&&s>=3&&(0!==i&&(function(f){f.deleteObjectStore(Ao.store),f.deleteObjectStore(_l.store),f.deleteObjectStore(tc.store)}(t),E8(t)),u=u.next(()=>function(f){const g=f.store(tc.store),C=new tc(0,0,bn.min().toTimestamp(),0);return g.put(tc.key,C)}(a))),i<4&&s>=4&&(0!==i&&(u=u.next(()=>function(f,g){return g.store(or.store).Bt().next(C=>{f.deleteObjectStore(or.store),f.createObjectStore(or.store,{keyPath:or.keyPath,autoIncrement:!0}).createIndex(or.userMutationsIndex,or.userMutationsKeyPath,{unique:!0});const x=g.store(or.store),R=C.map(G=>x.put(G));return lt.waitFor(R)})}(t,a))),u=u.next(()=>{!function(f){f.createObjectStore(ff.store,{keyPath:ff.keyPath})}(t)})),i<5&&s>=5&&(u=u.next(()=>this.Ne(a))),i<6&&s>=6&&(u=u.next(()=>(function(f){f.createObjectStore(Ud.store)}(t),this.ke(a)))),i<7&&s>=7&&(u=u.next(()=>this.xe(a))),i<8&&s>=8&&(u=u.next(()=>this.$e(t,a))),i<9&&s>=9&&(u=u.next(()=>{(function(f){f.objectStoreNames.contains("remoteDocumentChanges")&&f.deleteObjectStore("remoteDocumentChanges")})(t),function(f){const g=f.objectStore(Hr.store);g.createIndex(Hr.readTimeIndex,Hr.readTimeIndexPath,{unique:!1}),g.createIndex(Hr.collectionReadTimeIndex,Hr.collectionReadTimeIndexPath,{unique:!1})}(e)})),i<10&&s>=10&&(u=u.next(()=>this.Oe(a))),i<11&&s>=11&&(u=u.next(()=>{(function(f){f.createObjectStore(v0.store,{keyPath:v0.keyPath})})(t),function(f){f.createObjectStore(b0.store,{keyPath:b0.keyPath})}(t)})),u}ke(t){let e=0;return t.store(Hr.store).jt((i,s)=>{e+=$1(s)}).next(()=>{const i=new Ud(e);return t.store(Ud.store).put(Ud.key,i)})}Ne(t){const e=t.store(_g.store),i=t.store(or.store);return e.Bt().next(s=>lt.forEach(s,a=>{const u=IDBKeyRange.bound([a.userId,-1],[a.userId,a.lastAcknowledgedBatchId]);return i.Bt(or.userMutationsIndex,u).next(f=>lt.forEach(f,g=>{dn(g.userId===a.userId);const C=E0(this.k,g);return m8(t,a.userId,C).next(()=>{})}))}))}xe(t){const e=t.store(Ao.store),i=t.store(Hr.store);return t.store(tc.store).get(tc.key).next(s=>{const a=[];return i.jt((u,f)=>{const g=new fi(u),C=[0,qu(g)];a.push(e.get(C).next(x=>x?lt.resolve():e.put(new Ao(0,qu(g),s.highestListenSequenceNumber))))}).next(()=>lt.waitFor(a))})}$e(t,e){t.createObjectStore(F_.store,{keyPath:F_.keyPath});const i=e.store(F_.store),s=new kV,a=u=>{if(s.add(u)){const f=u.lastSegment(),g=u.popLast();return i.put({collectionId:f,parent:qu(g)})}};return e.store(Hr.store).jt({Kt:!0},(u,f)=>{const g=new fi(u);return a(g.popLast())}).next(()=>e.store(ta.store).jt({Kt:!0},([u,f,g],C)=>{const x=hf(f);return a(x.popLast())}))}Oe(t){const e=t.store(_l.store);return e.jt((i,s)=>{const a=UT(s),u=d8(this.k,a);return e.put(u)})}}function E8(n){n.createObjectStore(Ao.store,{keyPath:Ao.keyPath}).createIndex(Ao.documentTargetsIndex,Ao.documentTargetsKeyPath,{unique:!0}),n.createObjectStore(_l.store,{keyPath:_l.keyPath}).createIndex(_l.queryTargetsIndexName,_l.queryTargetsKeyPath,{unique:!0}),n.createObjectStore(tc.store)}const PV="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class NV{constructor(t,e,i,s,a,u,f,g,C,x){if(this.allowTabSynchronization=t,this.persistenceKey=e,this.clientId=i,this.Me=a,this.window=u,this.document=f,this.Fe=C,this.Le=x,this.Be=null,this.Ue=!1,this.isPrimary=!1,this.networkEnabled=!0,this.qe=null,this.inForeground=!1,this.Ke=null,this.je=null,this.Qe=Number.NEGATIVE_INFINITY,this.We=R=>Promise.resolve(),!NV.Pt())throw new ct(Ke.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Rre(this,s),this.Ge=e+"main",this.k=new l8(g),this.ze=new zu(this.Ge,11,new Nre(this.k)),this.He=new Ire(this.referenceDelegate,this.k),this.Jt=new xre,this.Je=new Ore(this.k,this.Jt),this.Ye=new Tre,this.window&&this.window.localStorage?this.Xe=this.window.localStorage:(this.Xe=null,!1===x&&gs("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Ze().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new ct(Ke.FAILED_PRECONDITION,PV);return this.tn(),this.en(),this.nn(),this.runTransaction("getHighestListenSequenceNumber","readonly",t=>this.He.getHighestSequenceNumber(t))}).then(t=>{this.Be=new Xl(t,this.Fe)}).then(()=>{this.Ue=!0}).catch(t=>(this.ze&&this.ze.close(),Promise.reject(t)))}sn(t){var e=this;return this.We=function(){var i=(0,Je.Z)(function*(s){if(e.started)return t(s)});return function(s){return i.apply(this,arguments)}}(),t(this.isPrimary)}setDatabaseDeletedListener(t){this.ze.xt(function(){var e=(0,Je.Z)(function*(i){null===i.newVersion&&(yield t())});return function(i){return e.apply(this,arguments)}}())}setNetworkEnabled(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Me.enqueueAndForget((0,Je.Z)(function*(){e.started&&(yield e.Ze())})))}Ze(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",t=>W1(t).put(new ff(this.clientId,Date.now(),this.networkEnabled,this.inForeground)).next(()=>{if(this.isPrimary)return this.rn(t).next(e=>{e||(this.isPrimary=!1,this.Me.enqueueRetryable(()=>this.We(!1)))})}).next(()=>this.on(t)).next(e=>this.isPrimary&&!e?this.cn(t).next(()=>!1):!!e&&this.an(t).next(()=>!0))).catch(t=>{if(L_(t))return gt("IndexedDbPersistence","Failed to extend owner lease: ",t),this.isPrimary;if(!this.allowTabSynchronization)throw t;return gt("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1}).then(t=>{this.isPrimary!==t&&this.Me.enqueueRetryable(()=>this.We(t)),this.isPrimary=t})}rn(t){return jT(t).get(ec.key).next(e=>lt.resolve(this.un(e)))}hn(t){return W1(t).delete(this.clientId)}ln(){var t=this;return(0,Je.Z)(function*(){if(t.isPrimary&&!t.fn(t.Qe,18e5)){t.Qe=Date.now();const e=yield t.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const s=yl(i,ff.store);return s.Bt().next(a=>{const u=t.dn(a,18e5),f=a.filter(g=>-1===u.indexOf(g));return lt.forEach(f,g=>s.delete(g.clientId)).next(()=>f)})}).catch(()=>[]);if(t.Xe)for(const i of e)t.Xe.removeItem(t.wn(i.clientId))}})()}nn(){this.je=this.Me.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Ze().then(()=>this.ln()).then(()=>this.nn()))}un(t){return!!t&&t.ownerId===this.clientId}on(t){return this.Le?lt.resolve(!0):jT(t).get(ec.key).next(e=>{if(null!==e&&this.fn(e.leaseTimestampMs,5e3)&&!this._n(e.ownerId)){if(this.un(e)&&this.networkEnabled)return!0;if(!this.un(e)){if(!e.allowTabSynchronization)throw new ct(Ke.FAILED_PRECONDITION,PV);return!1}}return!(!this.networkEnabled||!this.inForeground)||W1(t).Bt().next(i=>void 0===this.dn(i,5e3).find(s=>{if(this.clientId!==s.clientId){const u=!this.inForeground&&s.inForeground,f=this.networkEnabled===s.networkEnabled;if(!this.networkEnabled&&s.networkEnabled||u&&f)return!0}return!1}))}).next(e=>(this.isPrimary!==e&&gt("IndexedDbPersistence",`Client ${e?"is":"is not"} eligible for a primary lease.`),e))}shutdown(){var t=this;return(0,Je.Z)(function*(){t.Ue=!1,t.mn(),t.je&&(t.je.cancel(),t.je=null),t.gn(),t.yn(),yield t.ze.runTransaction("shutdown","readwrite",[ec.store,ff.store],e=>{const i=new a8(e,Xl.I);return t.cn(i).next(()=>t.hn(i))}),t.ze.close(),t.pn()})()}dn(t,e){return t.filter(i=>this.fn(i.updateTimeMs,e)&&!this._n(i.clientId))}Tn(){return this.runTransaction("getActiveClients","readonly",t=>W1(t).Bt().next(e=>this.dn(e,18e5).map(i=>i.clientId)))}get started(){return this.Ue}getMutationQueue(t){return RV.Xt(t,this.k,this.Jt,this.referenceDelegate)}getTargetCache(){return this.He}getRemoteDocumentCache(){return this.Je}getIndexManager(){return this.Jt}getBundleCache(){return this.Ye}runTransaction(t,e,i){let a;return gt("IndexedDbPersistence","Starting transaction:",t),this.ze.runTransaction(t,"readonly"===e?"readonly":"readwrite",wre,u=>(a=new a8(u,this.Be?this.Be.next():Xl.I),"readwrite-primary"===e?this.rn(a).next(f=>!!f||this.on(a)).next(f=>{if(!f)throw gs(`Failed to obtain primary lease for action '${t}'.`),this.isPrimary=!1,this.Me.enqueueRetryable(()=>this.We(!1)),new ct(Ke.FAILED_PRECONDITION,r8);return i(a)}).next(f=>this.an(a).next(()=>f)):this.En(a).next(()=>i(a)))).then(u=>(a.raiseOnCommittedEvent(),u))}En(t){return jT(t).get(ec.key).next(e=>{if(null!==e&&this.fn(e.leaseTimestampMs,5e3)&&!this._n(e.ownerId)&&!this.un(e)&&!(this.Le||this.allowTabSynchronization&&e.allowTabSynchronization))throw new ct(Ke.FAILED_PRECONDITION,PV)})}an(t){const e=new ec(this.clientId,this.allowTabSynchronization,Date.now());return jT(t).put(ec.key,e)}static Pt(){return zu.Pt()}cn(t){const e=jT(t);return e.get(ec.key).next(i=>this.un(i)?(gt("IndexedDbPersistence","Releasing primary lease."),e.delete(ec.key)):lt.resolve())}fn(t,e){const i=Date.now();return!(t<i-e||t>i&&(gs(`Detected an update time that is in the future: ${t} > ${i}`),1))}tn(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ke=()=>{this.Me.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.Ze()))},this.document.addEventListener("visibilitychange",this.Ke),this.inForeground="visible"===this.document.visibilityState)}gn(){this.Ke&&(this.document.removeEventListener("visibilitychange",this.Ke),this.Ke=null)}en(){var t;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.qe=()=>{this.mn(),(0,oe.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Me.enterRestrictedMode(!0),this.Me.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.qe))}yn(){this.qe&&(this.window.removeEventListener("pagehide",this.qe),this.qe=null)}_n(t){var e;try{const i=null!==(null===(e=this.Xe)||void 0===e?void 0:e.getItem(this.wn(t)));return gt("IndexedDbPersistence",`Client '${t}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return gs("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}mn(){if(this.Xe)try{this.Xe.setItem(this.wn(this.clientId),String(Date.now()))}catch(t){gs("Failed to set zombie client id.",t)}}pn(){if(this.Xe)try{this.Xe.removeItem(this.wn(this.clientId))}catch(t){}}wn(t){return`firestore_zombie_${this.persistenceKey}_${t}`}}function jT(n){return yl(n,ec.store)}function W1(n){return yl(n,ff.store)}function FV(n,t){let e=n.projectId;return n.isDefaultDatabase||(e+="."+n.database),"firestore/"+t+"/"+e+"/"}class Fre{constructor(t,e){this.progress=t,this.In=e}}class D8{constructor(t,e,i){this.Je=t,this.An=e,this.Jt=i}Rn(t,e){return this.An.getAllMutationBatchesAffectingDocumentKey(t,e).next(i=>this.bn(t,e,i))}bn(t,e,i){return this.Je.getEntry(t,e).next(s=>{for(const a of i)a.applyToLocalView(s);return s})}Pn(t,e){t.forEach((i,s)=>{for(const a of e)a.applyToLocalView(s)})}vn(t,e){return this.Je.getEntries(t,e).next(i=>this.Vn(t,i).next(()=>i))}Vn(t,e){return this.An.getAllMutationBatchesAffectingDocumentKeys(t,e).next(i=>this.Pn(e,i))}getDocumentsMatchingQuery(t,e,i){return $t.isDocumentKey((s=e).path)&&null===s.collectionGroup&&0===s.filters.length?this.Sn(t,e.path):yV(e)?this.Dn(t,e,i):this.Cn(t,e,i);var s}Sn(t,e){return this.Rn(t,new $t(e)).next(i=>{let s=wV();return i.isFoundDocument()&&(s=s.insert(i.key,i)),s})}Dn(t,e,i){const s=e.collectionGroup;let a=wV();return this.Jt.getCollectionParents(t,s).next(u=>lt.forEach(u,f=>{const g=(C=e,x=f.child(s),new df(x,null,C.explicitOrderBy.slice(),C.filters.slice(),C.limit,C.limitType,C.startAt,C.endAt));var C,x;return this.Cn(t,g,i).next(C=>{C.forEach((x,R)=>{a=a.insert(x,R)})})}).next(()=>a))}Cn(t,e,i){let s,a;return this.Je.getDocumentsMatchingQuery(t,e,i).next(u=>(s=u,this.An.getAllMutationBatchesAffectingQuery(t,e))).next(u=>(a=u,this.Nn(t,a,s).next(f=>{s=f;for(const g of a)for(const C of g.mutations){const x=C.key;let R=s.get(x);null==R&&(R=br.newInvalidDocument(x),s=s.insert(x,R)),bV(C,R,g.localWriteTime),R.isFoundDocument()||(s=s.remove(x))}}))).next(()=>(s.forEach((u,f)=>{MT(e,f)||(s=s.remove(u))}),s))}Nn(t,e,i){let s=bi();for(const u of e)for(const f of u.mutations)f instanceof mg&&null===i.get(f.key)&&(s=s.add(f.key));let a=i;return this.Je.getEntries(t,s).next(u=>(u.forEach((f,g)=>{g.isFoundDocument()&&(a=a.insert(f,g))}),a))}}class LV{constructor(t,e,i,s){this.targetId=t,this.fromCache=e,this.kn=i,this.xn=s}static $n(t,e){let i=bi(),s=bi();for(const a of e.docChanges)switch(a.type){case 0:i=i.add(a.doc.key);break;case 1:s=s.add(a.doc.key)}return new LV(t,e.fromCache,i,s)}}class T8{On(t){this.Mn=t}getDocumentsMatchingQuery(t,e,i,s){return 0===(a=e).filters.length&&null===a.limit&&null==a.startAt&&null==a.endAt&&(0===a.explicitOrderBy.length||1===a.explicitOrderBy.length&&a.explicitOrderBy[0].field.isKeyField())||i.isEqual(bn.min())?this.Fn(t,e):this.Mn.vn(t,s).next(a=>{const u=this.Ln(e,a);return(F1(e)||L1(e))&&this.Bn(e.limitType,u,s,i)?this.Fn(t,e):(cV()<=Qo.in.DEBUG&&gt("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),vV(e)),this.Mn.getDocumentsMatchingQuery(t,e,i).next(f=>(u.forEach(g=>{f=f.insert(g.key,g)}),f)))});var a}Ln(t,e){let i=new jr(b$(t));return e.forEach((s,a)=>{MT(t,a)&&(i=i.add(a))}),i}Bn(t,e,i,s){if(i.size!==e.size)return!0;const a="F"===t?e.last():e.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(s)>0)}Fn(t,e){return cV()<=Qo.in.DEBUG&&gt("QueryEngine","Using full collection scan to execute query:",vV(e)),this.Mn.getDocumentsMatchingQuery(t,e,bn.min())}}class Lre{constructor(t,e,i,s){this.persistence=t,this.Un=e,this.k=s,this.qn=new Ls(jn),this.Kn=new S0(a=>xT(a),O1),this.jn=bn.min(),this.An=t.getMutationQueue(i),this.Qn=t.getRemoteDocumentCache(),this.He=t.getTargetCache(),this.Wn=new D8(this.Qn,this.An,this.persistence.getIndexManager()),this.Ye=t.getBundleCache(),this.Un.On(this.Wn)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.qn))}}function S8(n,t,e,i){return new Lre(n,t,e,i)}function x8(n,t){return VV.apply(this,arguments)}function VV(){return(VV=(0,Je.Z)(function*(n,t){const e=Tt(n);let i=e.An,s=e.Wn;const a=yield e.persistence.runTransaction("Handle user change","readonly",u=>{let f;return e.An.getAllMutationBatches(u).next(g=>(f=g,i=e.persistence.getMutationQueue(t),s=new D8(e.Qn,i,e.persistence.getIndexManager()),i.getAllMutationBatches(u))).next(g=>{const C=[],x=[];let R=bi();for(const G of f){C.push(G.batchId);for(const ee of G.mutations)R=R.add(ee.key)}for(const G of g){x.push(G.batchId);for(const ee of G.mutations)R=R.add(ee.key)}return s.vn(u,R).next(G=>({Gn:G,removedBatchIds:C,addedBatchIds:x}))})});return e.An=i,e.Wn=s,e.Un.On(e.Wn),a})).apply(this,arguments)}function Vre(n,t){const e=Tt(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const s=t.batch.keys(),a=e.Qn.newChangeBuffer({trackRemovals:!0});return function(u,f,g,C){const x=g.batch,R=x.keys();let G=lt.resolve();return R.forEach(ee=>{G=G.next(()=>C.getEntry(f,ee)).next(he=>{const Fe=g.docVersions.get(ee);dn(null!==Fe),he.version.compareTo(Fe)<0&&(x.applyToRemoteDocument(he,g),he.isValidDocument()&&C.addEntry(he,g.commitVersion))})}),G.next(()=>u.An.removeMutationBatch(f,x))}(e,i,t,a).next(()=>a.apply(i)).next(()=>e.An.performConsistencyCheck(i)).next(()=>e.Wn.vn(i,s))})}function I8(n){const t=Tt(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.He.getLastRemoteSnapshotVersion(e))}function Bre(n,t){const e=Tt(n),i=t.snapshotVersion;let s=e.qn;return e.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const u=e.Qn.newChangeBuffer({trackRemovals:!0});s=e.qn;const f=[];t.targetChanges.forEach((C,x)=>{const R=s.get(x);if(!R)return;f.push(e.He.removeMatchingKeys(a,C.removedDocuments,x).next(()=>e.He.addMatchingKeys(a,C.addedDocuments,x)));let G=R.withSequenceNumber(a.currentSequenceNumber);var ee,he,Fe;t.targetMismatches.has(x)?G=G.withResumeToken(Fs.EMPTY_BYTE_STRING,bn.min()).withLastLimboFreeSnapshotVersion(bn.min()):C.resumeToken.approximateByteSize()>0&&(G=G.withResumeToken(C.resumeToken,i)),s=s.insert(x,G),he=G,Fe=C,(0===(ee=R).resumeToken.approximateByteSize()||he.snapshotVersion.toMicroseconds()-ee.snapshotVersion.toMicroseconds()>=3e8||Fe.addedDocuments.size+Fe.modifiedDocuments.size+Fe.removedDocuments.size>0)&&f.push(e.He.updateTargetData(a,G))});let g=Uc();if(t.documentUpdates.forEach((C,x)=>{t.resolvedLimboDocuments.has(C)&&f.push(e.persistence.referenceDelegate.updateLimboDocument(a,C))}),f.push(A8(a,u,t.documentUpdates,i,void 0).next(C=>{g=C})),!i.isEqual(bn.min())){const C=e.He.getLastRemoteSnapshotVersion(a).next(x=>e.He.setTargetsMetadata(a,a.currentSequenceNumber,i));f.push(C)}return lt.waitFor(f).next(()=>u.apply(a)).next(()=>e.Wn.Vn(a,g)).next(()=>g)}).then(a=>(e.qn=s,a))}function A8(n,t,e,i,s){let a=bi();return e.forEach(u=>a=a.add(u)),t.getEntries(n,a).next(u=>{let f=Uc();return e.forEach((g,C)=>{const x=u.get(g),R=(null==s?void 0:s.get(g))||i;C.isNoDocument()&&C.version.isEqual(bn.min())?(t.removeEntry(g,R),f=f.insert(g,C)):!x.isValidDocument()||C.version.compareTo(x.version)>0||0===C.version.compareTo(x.version)&&x.hasPendingWrites?(t.addEntry(C,R),f=f.insert(g,C)):gt("LocalStore","Ignoring outdated watch update for ",g,". Current version:",x.version," Watch version:",C.version)}),f})}function Ure(n,t){const e=Tt(n);return e.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===t&&(t=-1),e.An.getNextMutationBatchAfterBatchId(i,t)))}function x0(n,t){const e=Tt(n);return e.persistence.runTransaction("Allocate target","readwrite",i=>{let s;return e.He.getTargetData(i,t).next(a=>a?(s=a,lt.resolve(s)):e.He.allocateTargetId(i).next(u=>(s=new yg(t,u,0,i.currentSequenceNumber),e.He.addTargetData(i,s).next(()=>s))))}).then(i=>{const s=e.qn.get(i.targetId);return(null===s||i.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(e.qn=e.qn.insert(i.targetId,i),e.Kn.set(t,i.targetId)),i})}function I0(n,t,e){return BV.apply(this,arguments)}function BV(){return(BV=(0,Je.Z)(function*(n,t,e){const i=Tt(n),s=i.qn.get(t),a=e?"readwrite":"readwrite-primary";try{e||(yield i.persistence.runTransaction("Release target",a,u=>i.persistence.referenceDelegate.removeTarget(u,s)))}catch(u){if(!L_(u))throw u;gt("LocalStore",`Failed to update sequence numbers for target ${t}: ${u}`)}i.qn=i.qn.remove(t),i.Kn.delete(s.target)})).apply(this,arguments)}function K1(n,t,e){const i=Tt(n);let s=bn.min(),a=bi();return i.persistence.runTransaction("Execute query","readonly",u=>function(f,g,C){const x=Tt(f),R=x.Kn.get(C);return void 0!==R?lt.resolve(x.qn.get(R)):x.He.getTargetData(g,C)}(i,u,Bc(t)).next(f=>{if(f)return s=f.lastLimboFreeSnapshotVersion,i.He.getMatchingKeysForTargetId(u,f.targetId).next(g=>{a=g})}).next(()=>i.Un.getDocumentsMatchingQuery(u,t,e?s:bn.min(),e?a:bi())).next(f=>({documents:f,zn:a})))}function M8(n,t){const e=Tt(n),i=Tt(e.He),s=e.qn.get(t);return s?Promise.resolve(s.target):e.persistence.runTransaction("Get target data","readonly",a=>i.Et(a,t).next(u=>u?u.target:null))}function k8(n){const t=Tt(n);return t.persistence.runTransaction("Get new document changes","readonly",e=>function(i,s,a){const u=Tt(i);let f=Uc(),g=AV(a);const C=Cg(s),x=IDBKeyRange.lowerBound(g,!0);return C.jt({index:Hr.readTimeIndex,range:x},(R,G)=>{const ee=IV(u.k,G);f=f.insert(ee.key,ee),g=G.readTime}).next(()=>({In:f,readTime:u8(g)}))}(t.Qn,e,t.jn)).then(({In:e,readTime:i})=>(t.jn=i,e))}function UV(){return(UV=(0,Je.Z)(function*(n){const t=Tt(n);return t.persistence.runTransaction("Synchronize last document change read time","readonly",e=>function(i){const s=Cg(i);let a=bn.min();return s.jt({index:Hr.readTimeIndex,reverse:!0},(u,f,g)=>{f.readTime&&(a=u8(f.readTime)),g.done()}).next(()=>a)}(e)).then(e=>{t.jn=e})})).apply(this,arguments)}function jV(){return(jV=(0,Je.Z)(function*(n,t,e,i){const s=Tt(n);let a=bi(),u=Uc(),f=L$();for(const x of e){const R=t.Hn(x.metadata.name);x.document&&(a=a.add(R)),u=u.insert(R,t.Jn(x)),f=f.insert(R,t.Yn(x.metadata.readTime))}const g=s.Qn.newChangeBuffer({trackRemovals:!0}),C=yield x0(s,(x=i,Bc(f0(fi.fromString(`__bundle__/docs/${x}`)))));var x;return s.persistence.runTransaction("Apply bundle documents","readwrite",x=>A8(x,g,u,bn.min(),f).next(R=>(g.apply(x),R)).next(R=>s.He.removeMatchingKeysForTargetId(x,C.targetId).next(()=>s.He.addMatchingKeys(x,a,C.targetId)).next(()=>s.Wn.Vn(x,R)).next(()=>R)))})).apply(this,arguments)}function qre(n,t){return HV.apply(this,arguments)}function HV(){return(HV=(0,Je.Z)(function*(n,t,e=bi()){const i=yield x0(n,Bc(MV(t.bundledQuery))),s=Tt(n);return s.persistence.runTransaction("Save named query","readwrite",a=>{const u=to(t.readTime);if(i.snapshotVersion.compareTo(u)>=0)return s.Ye.saveNamedQuery(a,t);const f=i.withResumeToken(Fs.EMPTY_BYTE_STRING,u);return s.qn=s.qn.insert(f.targetId,f),s.He.updateTargetData(a,f).next(()=>s.He.removeMatchingKeysForTargetId(a,i.targetId)).next(()=>s.He.addMatchingKeys(a,e,i.targetId)).next(()=>s.Ye.saveNamedQuery(a,t))})})).apply(this,arguments)}class zre{constructor(t){this.k=t,this.Xn=new Map,this.Zn=new Map}getBundleMetadata(t,e){return lt.resolve(this.Xn.get(e))}saveBundleMetadata(t,e){var i;return this.Xn.set(e.id,{id:(i=e).id,version:i.version,createTime:to(i.createTime)}),lt.resolve()}getNamedQuery(t,e){return lt.resolve(this.Zn.get(e))}saveNamedQuery(t,e){return this.Zn.set(e.name,{name:(i=e).name,query:MV(i.bundledQuery),readTime:to(i.readTime)}),lt.resolve();var i}}class qV{constructor(){this.ts=new jr(no.es),this.ns=new jr(no.ss)}isEmpty(){return this.ts.isEmpty()}addReference(t,e){const i=new no(t,e);this.ts=this.ts.add(i),this.ns=this.ns.add(i)}rs(t,e){t.forEach(i=>this.addReference(i,e))}removeReference(t,e){this.os(new no(t,e))}cs(t,e){t.forEach(i=>this.removeReference(i,e))}us(t){const e=new $t(new fi([])),i=new no(e,t),s=new no(e,t+1),a=[];return this.ns.forEachInRange([i,s],u=>{this.os(u),a.push(u.key)}),a}hs(){this.ts.forEach(t=>this.os(t))}os(t){this.ts=this.ts.delete(t),this.ns=this.ns.delete(t)}ls(t){const e=new $t(new fi([])),i=new no(e,t),s=new no(e,t+1);let a=bi();return this.ns.forEachInRange([i,s],u=>{a=a.add(u.key)}),a}containsKey(t){const e=new no(t,0),i=this.ts.firstAfterOrEqual(e);return null!==i&&t.isEqual(i.key)}}class no{constructor(t,e){this.key=t,this.fs=e}static es(t,e){return $t.comparator(t.key,e.key)||jn(t.fs,e.fs)}static ss(t,e){return jn(t.fs,e.fs)||$t.comparator(t.key,e.key)}}class Gre{constructor(t,e){this.Jt=t,this.referenceDelegate=e,this.An=[],this.ds=1,this.ws=new jr(no.es)}checkEmpty(t){return lt.resolve(0===this.An.length)}addMutationBatch(t,e,i,s){const a=this.ds;this.ds++;const u=new SV(a,e,i,s);this.An.push(u);for(const f of s)this.ws=this.ws.add(new no(f.key,a)),this.Jt.addToCollectionParentIndex(t,f.key.path.popLast());return lt.resolve(u)}lookupMutationBatch(t,e){return lt.resolve(this._s(e))}getNextMutationBatchAfterBatchId(t,e){const s=this.gs(e+1),a=s<0?0:s;return lt.resolve(this.An.length>a?this.An[a]:null)}getHighestUnacknowledgedBatchId(){return lt.resolve(0===this.An.length?-1:this.ds-1)}getAllMutationBatches(t){return lt.resolve(this.An.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const i=new no(e,0),s=new no(e,Number.POSITIVE_INFINITY),a=[];return this.ws.forEachInRange([i,s],u=>{const f=this._s(u.fs);a.push(f)}),lt.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new jr(jn);return e.forEach(s=>{const a=new no(s,0),u=new no(s,Number.POSITIVE_INFINITY);this.ws.forEachInRange([a,u],f=>{i=i.add(f.fs)})}),lt.resolve(this.ys(i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,s=i.length+1;let a=i;$t.isDocumentKey(a)||(a=a.child(""));const u=new no(new $t(a),0);let f=new jr(jn);return this.ws.forEachWhile(g=>{const C=g.key.path;return!!i.isPrefixOf(C)&&(C.length===s&&(f=f.add(g.fs)),!0)},u),lt.resolve(this.ys(f))}ys(t){const e=[];return t.forEach(i=>{const s=this._s(i);null!==s&&e.push(s)}),e}removeMutationBatch(t,e){dn(0===this.ps(e.batchId,"removed")),this.An.shift();let i=this.ws;return lt.forEach(e.mutations,s=>{const a=new no(s.key,e.batchId);return i=i.delete(a),this.referenceDelegate.markPotentiallyOrphaned(t,s.key)}).next(()=>{this.ws=i})}ee(t){}containsKey(t,e){const i=new no(e,0),s=this.ws.firstAfterOrEqual(i);return lt.resolve(e.isEqual(s&&s.key))}performConsistencyCheck(t){return lt.resolve()}ps(t,e){return this.gs(t)}gs(t){return 0===this.An.length?0:t-this.An[0].batchId}_s(t){const e=this.gs(t);return e<0||e>=this.An.length?null:this.An[e]}}class $re{constructor(t,e){this.Jt=t,this.Ts=e,this.docs=new Ls($t.comparator),this.size=0}addEntry(t,e,i){const s=e.key,a=this.docs.get(s),u=a?a.size:0,f=this.Ts(e);return this.docs=this.docs.insert(s,{document:e.mutableCopy(),size:f,readTime:i}),this.size+=f-u,this.Jt.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const i=this.docs.get(e);return lt.resolve(i?i.document.mutableCopy():br.newInvalidDocument(e))}getEntries(t,e){let i=Uc();return e.forEach(s=>{const a=this.docs.get(s);i=i.insert(s,a?a.document.mutableCopy():br.newInvalidDocument(s))}),lt.resolve(i)}getDocumentsMatchingQuery(t,e,i){let s=Uc();const a=new $t(e.path.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:f,value:{document:g,readTime:C}}=u.getNext();if(!e.path.isPrefixOf(f.path))break;C.compareTo(i)<=0||MT(e,g)&&(s=s.insert(g.key,g.mutableCopy()))}return lt.resolve(s)}Es(t,e){return lt.forEach(this.docs,i=>e(i))}newChangeBuffer(t){return new Yre(this)}getSize(t){return lt.resolve(this.size)}}class Yre extends C8{constructor(t){super(),this.De=t}applyChanges(t){const e=[];return this.changes.forEach((i,s)=>{s.document.isValidDocument()?e.push(this.De.addEntry(t,s.document,this.getReadTime(i))):this.De.removeEntry(i)}),lt.waitFor(e)}getFromCache(t,e){return this.De.getEntry(t,e)}getAllFromCache(t,e){return this.De.getEntries(t,e)}}class Zre{constructor(t){this.persistence=t,this.Is=new S0(e=>xT(e),O1),this.lastRemoteSnapshotVersion=bn.min(),this.highestTargetId=0,this.As=0,this.Rs=new qV,this.targetCount=0,this.bs=B_.ie()}forEachTarget(t,e){return this.Is.forEach((i,s)=>e(s)),lt.resolve()}getLastRemoteSnapshotVersion(t){return lt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return lt.resolve(this.As)}allocateTargetId(t){return this.highestTargetId=this.bs.next(),lt.resolve(this.highestTargetId)}setTargetsMetadata(t,e,i){return i&&(this.lastRemoteSnapshotVersion=i),e>this.As&&(this.As=e),lt.resolve()}ae(t){this.Is.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.bs=new B_(e),this.highestTargetId=e),t.sequenceNumber>this.As&&(this.As=t.sequenceNumber)}addTargetData(t,e){return this.ae(e),this.targetCount+=1,lt.resolve()}updateTargetData(t,e){return this.ae(e),lt.resolve()}removeTargetData(t,e){return this.Is.delete(e.target),this.Rs.us(e.targetId),this.targetCount-=1,lt.resolve()}removeTargets(t,e,i){let s=0;const a=[];return this.Is.forEach((u,f)=>{f.sequenceNumber<=e&&null===i.get(f.targetId)&&(this.Is.delete(u),a.push(this.removeMatchingKeysForTargetId(t,f.targetId)),s++)}),lt.waitFor(a).next(()=>s)}getTargetCount(t){return lt.resolve(this.targetCount)}getTargetData(t,e){const i=this.Is.get(e)||null;return lt.resolve(i)}addMatchingKeys(t,e,i){return this.Rs.rs(e,i),lt.resolve()}removeMatchingKeys(t,e,i){this.Rs.cs(e,i);const s=this.persistence.referenceDelegate,a=[];return s&&e.forEach(u=>{a.push(s.markPotentiallyOrphaned(t,u))}),lt.waitFor(a)}removeMatchingKeysForTargetId(t,e){return this.Rs.us(e),lt.resolve()}getMatchingKeysForTargetId(t,e){const i=this.Rs.ls(e);return lt.resolve(i)}containsKey(t,e){return lt.resolve(this.Rs.containsKey(e))}}class Wre{constructor(t,e){this.Ps={},this.Be=new Xl(0),this.Ue=!1,this.Ue=!0,this.referenceDelegate=t(this),this.He=new Zre(this),this.Jt=new Sre,this.Je=new $re(this.Jt,i=>this.referenceDelegate.vs(i)),this.k=new l8(e),this.Ye=new zre(this.k)}start(){return Promise.resolve()}shutdown(){return this.Ue=!1,Promise.resolve()}get started(){return this.Ue}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(){return this.Jt}getMutationQueue(t){let e=this.Ps[t.toKey()];return e||(e=new Gre(this.Jt,this.referenceDelegate),this.Ps[t.toKey()]=e),e}getTargetCache(){return this.He}getRemoteDocumentCache(){return this.Je}getBundleCache(){return this.Ye}runTransaction(t,e,i){gt("MemoryPersistence","Starting transaction:",t);const s=new Kre(this.Be.next());return this.referenceDelegate.Vs(),i(s).next(a=>this.referenceDelegate.Ss(s).next(()=>a)).toPromise().then(a=>(s.raiseOnCommittedEvent(),a))}Ds(t,e){return lt.or(Object.values(this.Ps).map(i=>()=>i.containsKey(t,e)))}}class Kre extends s8{constructor(t){super(),this.currentSequenceNumber=t}}class zV{constructor(t){this.persistence=t,this.Cs=new qV,this.Ns=null}static ks(t){return new zV(t)}get xs(){if(this.Ns)return this.Ns;throw Wt()}addReference(t,e,i){return this.Cs.addReference(i,e),this.xs.delete(i.toString()),lt.resolve()}removeReference(t,e,i){return this.Cs.removeReference(i,e),this.xs.add(i.toString()),lt.resolve()}markPotentiallyOrphaned(t,e){return this.xs.add(e.toString()),lt.resolve()}removeTarget(t,e){this.Cs.us(e.targetId).forEach(s=>this.xs.add(s.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next(s=>{s.forEach(a=>this.xs.add(a.toString()))}).next(()=>i.removeTargetData(t,e))}Vs(){this.Ns=new Set}Ss(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return lt.forEach(this.xs,i=>{const s=$t.fromPath(i);return this.$s(t,s).next(a=>{a||e.removeEntry(s)})}).next(()=>(this.Ns=null,e.apply(t)))}updateLimboDocument(t,e){return this.$s(t,e).next(i=>{i?this.xs.delete(e.toString()):this.xs.add(e.toString())})}vs(t){return 0}$s(t,e){return lt.or([()=>lt.resolve(this.Cs.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ds(t,e)])}}function R8(n,t){return`firestore_clients_${n}_${t}`}function O8(n,t,e){let i=`firestore_mutations_${n}_${e}`;return t.isAuthenticated()&&(i+=`_${t.uid}`),i}function GV(n,t){return`firestore_targets_${n}_${t}`}class Q1{constructor(t,e,i,s){this.user=t,this.batchId=e,this.state=i,this.error=s}static Os(t,e,i){const s=JSON.parse(i);let a,u="object"==typeof s&&-1!==["pending","acknowledged","rejected"].indexOf(s.state)&&(void 0===s.error||"object"==typeof s.error);return u&&s.error&&(u="string"==typeof s.error.message&&"string"==typeof s.error.code,u&&(a=new ct(s.error.code,s.error.message))),u?new Q1(t,e,s.state,a):(gs("SharedClientState",`Failed to parse mutation state for ID '${e}': ${i}`),null)}Ms(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class HT{constructor(t,e,i){this.targetId=t,this.state=e,this.error=i}static Os(t,e){const i=JSON.parse(e);let s,a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&(a="string"==typeof i.error.message&&"string"==typeof i.error.code,a&&(s=new ct(i.error.code,i.error.message))),a?new HT(t,i.state,s):(gs("SharedClientState",`Failed to parse target state for ID '${t}': ${e}`),null)}Ms(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class J1{constructor(t,e){this.clientId=t,this.activeTargetIds=e}static Os(t,e){const i=JSON.parse(e);let s="object"==typeof i&&i.activeTargetIds instanceof Array,a=H1();for(let u=0;s&&u<i.activeTargetIds.length;++u)s=l$(i.activeTargetIds[u]),a=a.add(i.activeTargetIds[u]);return s?new J1(t,a):(gs("SharedClientState",`Failed to parse client data for instance '${t}': ${e}`),null)}}class $V{constructor(t,e){this.clientId=t,this.onlineState=e}static Os(t){const e=JSON.parse(t);return"object"==typeof e&&-1!==["Unknown","Online","Offline"].indexOf(e.onlineState)&&"string"==typeof e.clientId?new $V(e.clientId,e.onlineState):(gs("SharedClientState",`Failed to parse online state: ${t}`),null)}}class YV{constructor(){this.activeTargetIds=H1()}Fs(t){this.activeTargetIds=this.activeTargetIds.add(t)}Ls(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ms(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class ZV{constructor(t,e,i,s,a){this.window=t,this.Me=e,this.persistenceKey=i,this.Bs=s,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Us=this.qs.bind(this),this.Ks=new Ls(jn),this.started=!1,this.js=[];const u=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.Qs=R8(this.persistenceKey,this.Bs),this.Ws=`firestore_sequence_number_${this.persistenceKey}`,this.Ks=this.Ks.insert(this.Bs,new YV),this.Gs=new RegExp(`^firestore_clients_${u}_([^_]*)$`),this.zs=new RegExp(`^firestore_mutations_${u}_(\\d+)(?:_(.*))?$`),this.Hs=new RegExp(`^firestore_targets_${u}_(\\d+)$`),this.Js=`firestore_online_state_${this.persistenceKey}`,this.Ys=function(f){return`firestore_bundle_loaded_${f}`}(this.persistenceKey),this.window.addEventListener("storage",this.Us)}static Pt(t){return!(!t||!t.localStorage)}start(){var t=this;return(0,Je.Z)(function*(){const e=yield t.syncEngine.Tn();for(const s of e){if(s===t.Bs)continue;const a=t.getItem(R8(t.persistenceKey,s));if(a){const u=J1.Os(s,a);u&&(t.Ks=t.Ks.insert(u.clientId,u))}}t.Xs();const i=t.storage.getItem(t.Js);if(i){const s=t.Zs(i);s&&t.ti(s)}for(const s of t.js)t.qs(s);t.js=[],t.window.addEventListener("pagehide",()=>t.shutdown()),t.started=!0})()}writeSequenceNumber(t){this.setItem(this.Ws,JSON.stringify(t))}getAllActiveQueryTargets(){return this.ei(this.Ks)}isActiveQueryTarget(t){let e=!1;return this.Ks.forEach((i,s)=>{s.activeTargetIds.has(t)&&(e=!0)}),e}addPendingMutation(t){this.ni(t,"pending")}updateMutationState(t,e,i){this.ni(t,e,i),this.si(t)}addLocalQueryTarget(t){let e="not-current";if(this.isActiveQueryTarget(t)){const i=this.storage.getItem(GV(this.persistenceKey,t));if(i){const s=HT.Os(t,i);s&&(e=s.state)}}return this.ii.Fs(t),this.Xs(),e}removeLocalQueryTarget(t){this.ii.Ls(t),this.Xs()}isLocalQueryTarget(t){return this.ii.activeTargetIds.has(t)}clearQueryState(t){this.removeItem(GV(this.persistenceKey,t))}updateQueryState(t,e,i){this.ri(t,e,i)}handleUserChange(t,e,i){e.forEach(s=>{this.si(s)}),this.currentUser=t,i.forEach(s=>{this.addPendingMutation(s)})}setOnlineState(t){this.oi(t)}notifyBundleLoaded(){this.ci()}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Us),this.removeItem(this.Qs),this.started=!1)}getItem(t){const e=this.storage.getItem(t);return gt("SharedClientState","READ",t,e),e}setItem(t,e){gt("SharedClientState","SET",t,e),this.storage.setItem(t,e)}removeItem(t){gt("SharedClientState","REMOVE",t),this.storage.removeItem(t)}qs(t){var e=this;const i=t;if(i.storageArea===this.storage){if(gt("SharedClientState","EVENT",i.key,i.newValue),i.key===this.Qs)return void gs("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Me.enqueueRetryable((0,Je.Z)(function*(){if(e.started){if(null!==i.key)if(e.Gs.test(i.key)){if(null==i.newValue){const s=e.ai(i.key);return e.ui(s,null)}{const s=e.hi(i.key,i.newValue);if(s)return e.ui(s.clientId,s)}}else if(e.zs.test(i.key)){if(null!==i.newValue){const s=e.li(i.key,i.newValue);if(s)return e.fi(s)}}else if(e.Hs.test(i.key)){if(null!==i.newValue){const s=e.di(i.key,i.newValue);if(s)return e.wi(s)}}else if(i.key===e.Js){if(null!==i.newValue){const s=e.Zs(i.newValue);if(s)return e.ti(s)}}else if(i.key===e.Ws){const s=function(a){let u=Xl.I;if(null!=a)try{const f=JSON.parse(a);dn("number"==typeof f),u=f}catch(f){gs("SharedClientState","Failed to read sequence number from WebStorage",f)}return u}(i.newValue);s!==Xl.I&&e.sequenceNumberHandler(s)}else if(i.key===e.Ys)return e.syncEngine._i()}else e.js.push(i)}))}}get ii(){return this.Ks.get(this.Bs)}Xs(){this.setItem(this.Qs,this.ii.Ms())}ni(t,e,i){const s=new Q1(this.currentUser,t,e,i),a=O8(this.persistenceKey,this.currentUser,t);this.setItem(a,s.Ms())}si(t){const e=O8(this.persistenceKey,this.currentUser,t);this.removeItem(e)}oi(t){this.storage.setItem(this.Js,JSON.stringify({clientId:this.Bs,onlineState:t}))}ri(t,e,i){const s=GV(this.persistenceKey,t),a=new HT(t,e,i);this.setItem(s,a.Ms())}ci(){this.setItem(this.Ys,"value-not-used")}ai(t){const e=this.Gs.exec(t);return e?e[1]:null}hi(t,e){const i=this.ai(t);return J1.Os(i,e)}li(t,e){const i=this.zs.exec(t),s=Number(i[1]);return Q1.Os(new So(void 0!==i[2]?i[2]:null),s,e)}di(t,e){const i=this.Hs.exec(t),s=Number(i[1]);return HT.Os(s,e)}Zs(t){return $V.Os(t)}fi(t){var e=this;return(0,Je.Z)(function*(){if(t.user.uid===e.currentUser.uid)return e.syncEngine.mi(t.batchId,t.state,t.error);gt("SharedClientState",`Ignoring mutation for non-active user ${t.user.uid}`)})()}wi(t){return this.syncEngine.gi(t.targetId,t.state,t.error)}ui(t,e){const i=e?this.Ks.insert(t,e):this.Ks.remove(t),s=this.ei(this.Ks),a=this.ei(i),u=[],f=[];return a.forEach(g=>{s.has(g)||u.push(g)}),s.forEach(g=>{a.has(g)||f.push(g)}),this.syncEngine.yi(u,f).then(()=>{this.Ks=i})}ti(t){this.Ks.get(t.clientId)&&this.onlineStateHandler(t.onlineState)}ei(t){let e=H1();return t.forEach((i,s)=>{e=e.unionWith(s.activeTargetIds)}),e}}class P8{constructor(){this.pi=new YV,this.Ti={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,i){}addLocalQueryTarget(t){return this.pi.Fs(t),this.Ti[t]||"not-current"}updateQueryState(t,e,i){this.Ti[t]=e}removeLocalQueryTarget(t){this.pi.Ls(t)}isLocalQueryTarget(t){return this.pi.activeTargetIds.has(t)}clearQueryState(t){delete this.Ti[t]}getAllActiveQueryTargets(){return this.pi.activeTargetIds}isActiveQueryTarget(t){return this.pi.activeTargetIds.has(t)}start(){return this.pi=new YV,Promise.resolve()}handleUserChange(t,e,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(){}}class Qre{Ei(t){}shutdown(){}}class N8{constructor(){this.Ii=()=>this.Ai(),this.Ri=()=>this.bi(),this.Pi=[],this.vi()}Ei(t){this.Pi.push(t)}shutdown(){window.removeEventListener("online",this.Ii),window.removeEventListener("offline",this.Ri)}vi(){window.addEventListener("online",this.Ii),window.addEventListener("offline",this.Ri)}Ai(){gt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.Pi)t(0)}bi(){gt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.Pi)t(1)}static Pt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const Jre={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class Xre{constructor(t){this.Vi=t.Vi,this.Si=t.Si}Di(t){this.Ci=t}Ni(t){this.ki=t}onMessage(t){this.xi=t}close(){this.Si()}send(t){this.Vi(t)}$i(){this.Ci()}Oi(t){this.ki(t)}Mi(t){this.xi(t)}}class ese extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.Fi=(t.ssl?"https":"http")+"://"+t.host,this.Li="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}Bi(t,e,i,s,a){const u=this.Ui(t,e);gt("RestConnection","Sending: ",u,i);const f={};return this.qi(f,s,a),this.Ki(t,u,f,i).then(g=>(gt("RestConnection","Received: ",g),g),g=>{throw wT("RestConnection",`${t} failed with error: `,g,"url: ",u,"request:",i),g})}ji(t,e,i,s,a){return this.Bi(t,e,i,s,a)}qi(t,e,i){t["X-Goog-Api-Client"]="gl-js/ fire/"+a0,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach((s,a)=>t[a]=s),i&&i.headers.forEach((s,a)=>t[a]=s)}Ui(t,e){return`${this.Fi}/v1/${e}:${Jre[t]}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams}Ki(t,e,i,s){return new Promise((a,u)=>{const f=new Cie;f.listenOnce(yie.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case lV.NO_ERROR:const C=f.getResponseJson();gt("Connection","XHR received:",JSON.stringify(C)),a(C);break;case lV.TIMEOUT:gt("Connection",'RPC "'+t+'" timed out'),u(new ct(Ke.DEADLINE_EXCEEDED,"Request time out"));break;case lV.HTTP_ERROR:const x=f.getStatus();if(gt("Connection",'RPC "'+t+'" failed with status:',x,"response text:",f.getResponseText()),x>0){const R=f.getResponseJson().error;if(R&&R.status&&R.message){const G=function(ee){const he=ee.toLowerCase().replace(/_/g,"-");return Object.values(Ke).indexOf(he)>=0?he:Ke.UNKNOWN}(R.status);u(new ct(G,R.message))}else u(new ct(Ke.UNKNOWN,"Server responded with status "+f.getStatus()))}else u(new ct(Ke.UNAVAILABLE,"Connection failed."));break;default:Wt()}}finally{gt("Connection",'RPC "'+t+'" completed.')}});const g=JSON.stringify(s);f.send(e,"POST",g,i,15)})}Qi(t,e,i){const s=[this.Fi,"/","google.firestore.v1.Firestore","/",t,"/channel"],a=mie(),u=_ie(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(f.xmlHttpFactory=new bie({})),this.qi(f.initMessageHeaders,e,i),(0,oe.uI)()||(0,oe.b$)()||(0,oe.d)()||(0,oe.w1)()||(0,oe.Mn)()||(0,oe.ru)()||(f.httpHeadersOverwriteParam="$httpHeaders");const g=s.join("");gt("Connection","Creating WebChannel: "+g,f);const C=a.createWebChannel(g,f);let x=!1,R=!1;const G=new Xre({Vi:he=>{R?gt("Connection","Not sending because WebChannel is closed:",he):(x||(gt("Connection","Opening WebChannel transport."),C.open(),x=!0),gt("Connection","WebChannel sending:",he),C.send(he))},Si:()=>C.close()}),ee=(he,Fe,He)=>{he.listen(Fe,ht=>{try{He(ht)}catch(mt){setTimeout(()=>{throw mt},0)}})};return ee(C,A1.EventType.OPEN,()=>{R||gt("Connection","WebChannel transport opened.")}),ee(C,A1.EventType.CLOSE,()=>{R||(R=!0,gt("Connection","WebChannel transport closed"),G.Oi())}),ee(C,A1.EventType.ERROR,he=>{R||(R=!0,wT("Connection","WebChannel transport errored:",he),G.Oi(new ct(Ke.UNAVAILABLE,"The operation could not be completed")))}),ee(C,A1.EventType.MESSAGE,he=>{var Fe;if(!R){const He=he.data[0];dn(!!He);const ht=He,mt=ht.error||(null===(Fe=ht[0])||void 0===Fe?void 0:Fe.error);if(mt){gt("Connection","WebChannel received error:",mt);const Et=mt.status;let Ct=function(Ci){const wr=ys[Ci];if(void 0!==wr)return N$(wr)}(Et),Ln=mt.message;void 0===Ct&&(Ct=Ke.INTERNAL,Ln="Unknown error status: "+Et+" with message "+mt.message),R=!0,G.Oi(new ct(Ct,Ln)),C.close()}else gt("Connection","WebChannel received:",He),G.Mi(He)}}),ee(u,vie.STAT_EVENT,he=>{he.stat===XG.PROXY?gt("Connection","Detected buffering proxy"):he.stat===XG.NOPROXY&&gt("Connection","Detected no buffering proxy")}),setTimeout(()=>{G.$i()},0),G}}function F8(){return"undefined"!=typeof window?window:null}function X1(){return"undefined"!=typeof document?document:null}function qT(n){return new are(n,!0)}class WV{constructor(t,e,i=1e3,s=1.5,a=6e4){this.Me=t,this.timerId=e,this.Wi=i,this.Gi=s,this.zi=a,this.Hi=0,this.Ji=null,this.Yi=Date.now(),this.reset()}reset(){this.Hi=0}Xi(){this.Hi=this.zi}Zi(t){this.cancel();const e=Math.floor(this.Hi+this.tr()),i=Math.max(0,Date.now()-this.Yi),s=Math.max(0,e-i);s>0&&gt("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Hi} ms, delay with jitter: ${e} ms, last attempt: ${i} ms ago)`),this.Ji=this.Me.enqueueAfterDelay(this.timerId,s,()=>(this.Yi=Date.now(),t())),this.Hi*=this.Gi,this.Hi<this.Wi&&(this.Hi=this.Wi),this.Hi>this.zi&&(this.Hi=this.zi)}er(){null!==this.Ji&&(this.Ji.skipDelay(),this.Ji=null)}cancel(){null!==this.Ji&&(this.Ji.cancel(),this.Ji=null)}tr(){return(Math.random()-.5)*this.Hi}}class L8{constructor(t,e,i,s,a,u,f,g){this.Me=t,this.nr=i,this.sr=s,this.ir=a,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=f,this.listener=g,this.state=0,this.rr=0,this.cr=null,this.ar=null,this.stream=null,this.ur=new WV(t,e)}hr(){return 1===this.state||5===this.state||this.lr()}lr(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.dr()}stop(){var t=this;return(0,Je.Z)(function*(){t.hr()&&(yield t.close(0))})()}wr(){this.state=0,this.ur.reset()}_r(){this.lr()&&null===this.cr&&(this.cr=this.Me.enqueueAfterDelay(this.nr,6e4,()=>this.mr()))}gr(t){this.yr(),this.stream.send(t)}mr(){var t=this;return(0,Je.Z)(function*(){if(t.lr())return t.close(0)})()}yr(){this.cr&&(this.cr.cancel(),this.cr=null)}pr(){this.ar&&(this.ar.cancel(),this.ar=null)}close(t,e){var i=this;return(0,Je.Z)(function*(){i.yr(),i.pr(),i.ur.cancel(),i.rr++,4!==t?i.ur.reset():e&&e.code===Ke.RESOURCE_EXHAUSTED?(gs(e.toString()),gs("Using maximum backoff delay to prevent overloading the backend."),i.ur.Xi()):e&&e.code===Ke.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.Tr(),i.stream.close(),i.stream=null),i.state=t,yield i.listener.Ni(e)})()}Tr(){}auth(){this.state=1;const t=this.Er(this.rr),e=this.rr;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,s])=>{this.rr===e&&this.Ir(i,s)},i=>{t(()=>{const s=new ct(Ke.UNKNOWN,"Fetching auth token failed: "+i.message);return this.Ar(s)})})}Ir(t,e){const i=this.Er(this.rr);this.stream=this.Rr(t,e),this.stream.Di(()=>{i(()=>(this.state=2,this.ar=this.Me.enqueueAfterDelay(this.sr,1e4,()=>(this.lr()&&(this.state=3),Promise.resolve())),this.listener.Di()))}),this.stream.Ni(s=>{i(()=>this.Ar(s))}),this.stream.onMessage(s=>{i(()=>this.onMessage(s))})}dr(){var t=this;this.state=5,this.ur.Zi((0,Je.Z)(function*(){t.state=0,t.start()}))}Ar(t){return gt("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}Er(t){return e=>{this.Me.enqueueAndForget(()=>this.rr===t?e():(gt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class tse extends L8{constructor(t,e,i,s,a,u){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,i,s,u),this.k=a}Rr(t,e){return this.ir.Qi("Listen",t,e)}onMessage(t){this.ur.reset();const e=function(n,t){let e;if("targetChange"in t){const i="NO_CHANGE"===(g=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===g?1:"REMOVE"===g?2:"CURRENT"===g?3:"RESET"===g?4:Wt(),s=t.targetChange.targetIds||[],a=function(g,C){return g.C?(dn(void 0===C||"string"==typeof C),Fs.fromBase64String(C||"")):(dn(void 0===C||C instanceof Uint8Array),Fs.fromUint8Array(C||new Uint8Array))}(n,t.targetChange.resumeToken),u=t.targetChange.cause,f=u&&function(g){const C=void 0===g.code?Ke.UNKNOWN:N$(g.code);return new ct(C,g.message||"")}(u);e=new B$(i,s,a,f||null)}else if("documentChange"in t){const i=t.documentChange,s=Bd(n,i.document.name),a=to(i.document.updateTime),u=new ea({mapValue:{fields:i.document.fields}}),f=br.newFoundDocument(s,a,u);e=new q1(i.targetIds||[],i.removedTargetIds||[],f.key,f)}else if("documentDelete"in t){const i=t.documentDelete,s=Bd(n,i.document),a=i.readTime?to(i.readTime):bn.min(),u=br.newNoDocument(s,a);e=new q1([],i.removedTargetIds||[],u.key,u)}else if("documentRemove"in t){const i=t.documentRemove,s=Bd(n,i.document);e=new q1([],i.removedTargetIds||[],s,null)}else{if(!("filter"in t))return Wt();{const i=t.filter,a=new Jie(i.count||0);e=new V$(i.targetId,a)}}var g;return e}(this.k,t),i=function(s){if(!("targetChange"in s))return bn.min();const a=s.targetChange;return a.targetIds&&a.targetIds.length?bn.min():a.readTime?to(a.readTime):bn.min()}(t);return this.listener.br(e,i)}Pr(t){const e={};e.database=VT(this.k),e.addTarget=function(s,a){let u;const f=a.target;return u=P1(f)?{documents:K$(s,f)}:{query:Q$(s,f)},u.targetId=a.targetId,a.resumeToken.approximateByteSize()>0?u.resumeToken=q$(s,a.resumeToken):a.snapshotVersion.compareTo(bn.min())>0&&(u.readTime=FT(s,a.snapshotVersion.toTimestamp())),u}(this.k,t);const i=function(n,t){const e=function(i,s){switch(s){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Wt()}}(0,t.purpose);return null==e?null:{"goog-listen-tags":e}}(0,t);i&&(e.labels=i),this.gr(e)}vr(t){const e={};e.database=VT(this.k),e.removeTarget=t,this.gr(e)}}class nse extends L8{constructor(t,e,i,s,a,u){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,i,s,u),this.k=a,this.Vr=!1}get Sr(){return this.Vr}start(){this.Vr=!1,this.lastStreamToken=void 0,super.start()}Tr(){this.Vr&&this.Dr([])}Rr(t,e){return this.ir.Qi("Write",t,e)}onMessage(t){if(dn(!!t.streamToken),this.lastStreamToken=t.streamToken,this.Vr){this.ur.reset();const e=function(n,t){return n&&n.length>0?(dn(void 0!==t),n.map(e=>function(i,s){let a=to(i.updateTime?i.updateTime:s);return a.isEqual(bn.min())&&(a=to(s)),new Wie(a,i.transformResults||[])}(e,t))):[]}(t.writeResults,t.commitTime),i=to(t.commitTime);return this.listener.Cr(i,e)}return dn(!t.writeResults||0===t.writeResults.length),this.Vr=!0,this.listener.Nr()}kr(){const t={};t.database=VT(this.k),this.gr(t)}Dr(t){const e={streamToken:this.lastStreamToken,writes:t.map(i=>z1(this.k,i))};this.gr(e)}}class ise extends class{}{constructor(t,e,i,s){super(),this.authCredentials=t,this.appCheckCredentials=e,this.ir=i,this.k=s,this.$r=!1}Or(){if(this.$r)throw new ct(Ke.FAILED_PRECONDITION,"The client has already been terminated.")}Bi(t,e,i){return this.Or(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.ir.Bi(t,e,i,s,a)).catch(s=>{throw"FirebaseError"===s.name?(s.code===Ke.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ct(Ke.UNKNOWN,s.toString())})}ji(t,e,i){return this.Or(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.ir.ji(t,e,i,s,a)).catch(s=>{throw"FirebaseError"===s.name?(s.code===Ke.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ct(Ke.UNKNOWN,s.toString())})}terminate(){this.$r=!0}}class rse{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.Mr=0,this.Fr=null,this.Lr=!0}Br(){0===this.Mr&&(this.Ur("Unknown"),this.Fr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.Fr=null,this.qr("Backend didn't respond within 10 seconds."),this.Ur("Offline"),Promise.resolve())))}Kr(t){"Online"===this.state?this.Ur("Unknown"):(this.Mr++,this.Mr>=1&&(this.jr(),this.qr(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.Ur("Offline")))}set(t){this.jr(),this.Mr=0,"Online"===t&&(this.Lr=!1),this.Ur(t)}Ur(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}qr(t){const e=`Could not reach Cloud Firestore backend. ${t}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.Lr?(gs(e),this.Lr=!1):gt("OnlineStateTracker",e)}jr(){null!==this.Fr&&(this.Fr.cancel(),this.Fr=null)}}class sse{constructor(t,e,i,s,a){var u=this;this.localStore=t,this.datastore=e,this.asyncQueue=i,this.remoteSyncer={},this.Qr=[],this.Wr=new Map,this.Gr=new Set,this.zr=[],this.Hr=a,this.Hr.Ei(f=>{i.enqueueAndForget((0,Je.Z)(function*(){var g;wg(u)&&(gt("RemoteStore","Restarting streams for network reachability change."),yield(g=(0,Je.Z)(function*(C){const x=Tt(C);x.Gr.add(4),yield A0(x),x.Jr.set("Unknown"),x.Gr.delete(4),yield zT(x)}),function(C){return g.apply(this,arguments)})(u))}))}),this.Jr=new rse(i,s)}}function zT(n){return KV.apply(this,arguments)}function KV(){return(KV=(0,Je.Z)(function*(n){if(wg(n))for(const t of n.zr)yield t(!0)})).apply(this,arguments)}function A0(n){return QV.apply(this,arguments)}function QV(){return(QV=(0,Je.Z)(function*(n){for(const t of n.zr)yield t(!1)})).apply(this,arguments)}function ek(n,t){const e=Tt(n);e.Wr.has(t.targetId)||(e.Wr.set(t.targetId,t),eB(e)?XV(e):k0(e).lr()&&JV(e,t))}function GT(n,t){const e=Tt(n),i=k0(e);e.Wr.delete(t),i.lr()&&V8(e,t),0===e.Wr.size&&(i.lr()?i._r():wg(e)&&e.Jr.set("Unknown"))}function JV(n,t){n.Yr.X(t.targetId),k0(n).Pr(t)}function V8(n,t){n.Yr.X(t),k0(n).vr(t)}function XV(n){n.Yr=new rre({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),Et:t=>n.Wr.get(t)||null}),k0(n).start(),n.Jr.Br()}function eB(n){return wg(n)&&!k0(n).hr()&&n.Wr.size>0}function wg(n){return 0===Tt(n).Gr.size}function B8(n){n.Yr=void 0}function ose(n){return tB.apply(this,arguments)}function tB(){return(tB=(0,Je.Z)(function*(n){n.Wr.forEach((t,e)=>{JV(n,t)})})).apply(this,arguments)}function ase(n,t){return nB.apply(this,arguments)}function nB(){return(nB=(0,Je.Z)(function*(n,t){B8(n),eB(n)?(n.Jr.Kr(t),XV(n)):n.Jr.set("Unknown")})).apply(this,arguments)}function lse(n,t,e){return iB.apply(this,arguments)}function iB(){return(iB=(0,Je.Z)(function*(n,t,e){if(n.Jr.set("Online"),t instanceof B$&&2===t.state&&t.cause)try{yield(i=(0,Je.Z)(function*(s,a){const u=a.cause;for(const f of a.targetIds)s.Wr.has(f)&&(yield s.remoteSyncer.rejectListen(f,u),s.Wr.delete(f),s.Yr.removeTarget(f))}),function(s,a){return i.apply(this,arguments)})(n,t)}catch(i){gt("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),i),yield tk(n,i)}else if(t instanceof q1?n.Yr.ot(t):t instanceof V$?n.Yr.dt(t):n.Yr.ut(t),!e.isEqual(bn.min()))try{const i=yield I8(n.localStore);e.compareTo(i)>=0&&(yield function(s,a){const u=s.Yr.gt(a);return u.targetChanges.forEach((f,g)=>{if(f.resumeToken.approximateByteSize()>0){const C=s.Wr.get(g);C&&s.Wr.set(g,C.withResumeToken(f.resumeToken,a))}}),u.targetMismatches.forEach(f=>{const g=s.Wr.get(f);if(!g)return;s.Wr.set(f,g.withResumeToken(Fs.EMPTY_BYTE_STRING,g.snapshotVersion)),V8(s,f);const C=new yg(g.target,f,1,g.sequenceNumber);JV(s,C)}),s.remoteSyncer.applyRemoteEvent(u)}(n,e))}catch(i){gt("RemoteStore","Failed to raise snapshot:",i),yield tk(n,i)}var i})).apply(this,arguments)}function tk(n,t,e){return rB.apply(this,arguments)}function rB(){return(rB=(0,Je.Z)(function*(n,t,e){if(!L_(t))throw t;n.Gr.add(1),yield A0(n),n.Jr.set("Offline"),e||(e=()=>I8(n.localStore)),n.asyncQueue.enqueueRetryable((0,Je.Z)(function*(){gt("RemoteStore","Retrying IndexedDB access"),yield e(),n.Gr.delete(1),yield zT(n)}))})).apply(this,arguments)}function U8(n,t){return t().catch(e=>tk(n,e,t))}function M0(n){return sB.apply(this,arguments)}function sB(){return(sB=(0,Je.Z)(function*(n){const t=Tt(n),e=Eg(t);let i=t.Qr.length>0?t.Qr[t.Qr.length-1].batchId:-1;for(;cse(t);)try{const s=yield Ure(t.localStore,i);if(null===s){0===t.Qr.length&&e._r();break}i=s.batchId,use(t,s)}catch(s){yield tk(t,s)}j8(t)&&H8(t)})).apply(this,arguments)}function cse(n){return wg(n)&&n.Qr.length<10}function use(n,t){n.Qr.push(t);const e=Eg(n);e.lr()&&e.Sr&&e.Dr(t.mutations)}function j8(n){return wg(n)&&!Eg(n).hr()&&n.Qr.length>0}function H8(n){Eg(n).start()}function dse(n){return oB.apply(this,arguments)}function oB(){return(oB=(0,Je.Z)(function*(n){Eg(n).kr()})).apply(this,arguments)}function hse(n){return aB.apply(this,arguments)}function aB(){return(aB=(0,Je.Z)(function*(n){const t=Eg(n);for(const e of n.Qr)t.Dr(e.mutations)})).apply(this,arguments)}function fse(n,t,e){return lB.apply(this,arguments)}function lB(){return(lB=(0,Je.Z)(function*(n,t,e){const i=n.Qr.shift(),s=xV.from(i,t,e);yield U8(n,()=>n.remoteSyncer.applySuccessfulWrite(s)),yield M0(n)})).apply(this,arguments)}function pse(n,t){return cB.apply(this,arguments)}function cB(){return(cB=(0,Je.Z)(function*(n,t){var e;t&&Eg(n).Sr&&(yield(e=(0,Je.Z)(function*(i,s){if(P$(a=s.code)&&a!==Ke.ABORTED){const u=i.Qr.shift();Eg(i).wr(),yield U8(i,()=>i.remoteSyncer.rejectFailedWrite(u.batchId,s)),yield M0(i)}var a}),function(i,s){return e.apply(this,arguments)})(n,t)),j8(n)&&H8(n)})).apply(this,arguments)}function q8(n,t){return uB.apply(this,arguments)}function uB(){return(uB=(0,Je.Z)(function*(n,t){const e=Tt(n);e.asyncQueue.verifyOperationInProgress(),gt("RemoteStore","RemoteStore received new credentials");const i=wg(e);e.Gr.add(3),yield A0(e),i&&e.Jr.set("Unknown"),yield e.remoteSyncer.handleCredentialChange(t),e.Gr.delete(3),yield zT(e)})).apply(this,arguments)}function dB(n,t){return hB.apply(this,arguments)}function hB(){return(hB=(0,Je.Z)(function*(n,t){const e=Tt(n);t?(e.Gr.delete(2),yield zT(e)):t||(e.Gr.add(2),yield A0(e),e.Jr.set("Unknown"))})).apply(this,arguments)}function k0(n){return n.Xr||(n.Xr=function(t,e,i){const s=Tt(t);return s.Or(),new tse(e,s.ir,s.authCredentials,s.appCheckCredentials,s.k,i)}(n.datastore,n.asyncQueue,{Di:ose.bind(null,n),Ni:ase.bind(null,n),br:lse.bind(null,n)}),n.zr.push(function(){var t=(0,Je.Z)(function*(e){e?(n.Xr.wr(),eB(n)?XV(n):n.Jr.set("Unknown")):(yield n.Xr.stop(),B8(n))});return function(e){return t.apply(this,arguments)}}())),n.Xr}function Eg(n){return n.Zr||(n.Zr=function(t,e,i){const s=Tt(t);return s.Or(),new nse(e,s.ir,s.authCredentials,s.appCheckCredentials,s.k,i)}(n.datastore,n.asyncQueue,{Di:dse.bind(null,n),Ni:pse.bind(null,n),Nr:hse.bind(null,n),Cr:fse.bind(null,n)}),n.zr.push(function(){var t=(0,Je.Z)(function*(e){e?(n.Zr.wr(),yield M0(n)):(yield n.Zr.stop(),n.Qr.length>0&&(gt("RemoteStore",`Stopping write stream with ${n.Qr.length} pending writes`),n.Qr=[]))});return function(e){return t.apply(this,arguments)}}())),n.Zr}class fB{constructor(t,e,i,s,a){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=i,this.op=s,this.removalCallback=a,this.deferred=new Xs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}static createAndSchedule(t,e,i,s,a){const u=Date.now()+i,f=new fB(t,e,u,s,a);return f.start(i),f}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new ct(Ke.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function R0(n,t){if(gs("AsyncQueue",`${t}: ${n}`),L_(n))return new ct(Ke.UNAVAILABLE,`${t}: ${n}`);throw n}class O0{constructor(t){this.comparator=t?(e,i)=>t(e,i)||$t.comparator(e.key,i.key):(e,i)=>$t.comparator(e.key,i.key),this.keyedMap=wV(),this.sortedSet=new Ls(this.comparator)}static emptySet(t){return new O0(t.comparator)}has(t){return null!=this.keyedMap.get(t)}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,i)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof O0)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;e.hasNext();){const s=e.getNext().key,a=i.getNext().key;if(!s.isEqual(a))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"}copy(t,e){const i=new O0;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=e,i}}class z8{constructor(){this.eo=new Ls($t.comparator)}track(t){const e=t.doc.key,i=this.eo.get(e);i?0!==t.type&&3===i.type?this.eo=this.eo.insert(e,t):3===t.type&&1!==i.type?this.eo=this.eo.insert(e,{type:i.type,doc:t.doc}):2===t.type&&2===i.type?this.eo=this.eo.insert(e,{type:2,doc:t.doc}):2===t.type&&0===i.type?this.eo=this.eo.insert(e,{type:0,doc:t.doc}):1===t.type&&0===i.type?this.eo=this.eo.remove(e):1===t.type&&2===i.type?this.eo=this.eo.insert(e,{type:1,doc:i.doc}):0===t.type&&1===i.type?this.eo=this.eo.insert(e,{type:2,doc:t.doc}):Wt():this.eo=this.eo.insert(e,t)}no(){const t=[];return this.eo.inorderTraversal((e,i)=>{t.push(i)}),t}}class P0{constructor(t,e,i,s,a,u,f,g){this.query=t,this.docs=e,this.oldDocs=i,this.docChanges=s,this.mutatedKeys=a,this.fromCache=u,this.syncStateChanged=f,this.excludesMetadataChanges=g}static fromInitialDocuments(t,e,i,s){const a=[];return e.forEach(u=>{a.push({type:0,doc:u})}),new P0(t,e,O0.emptySet(e),a,i,s,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&AT(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,i=t.docChanges;if(e.length!==i.length)return!1;for(let s=0;s<e.length;s++)if(e[s].type!==i[s].type||!e[s].doc.isEqual(i[s].doc))return!1;return!0}}class gse{constructor(){this.so=void 0,this.listeners=[]}}class mse{constructor(){this.queries=new S0(t=>v$(t),AT),this.onlineState="Unknown",this.io=new Set}}function pB(n,t){return gB.apply(this,arguments)}function gB(){return(gB=(0,Je.Z)(function*(n,t){const e=Tt(n),i=t.query;let s=!1,a=e.queries.get(i);if(a||(s=!0,a=new gse),s)try{a.so=yield e.onListen(i)}catch(u){const f=R0(u,`Initialization of query '${vV(t.query)}' failed`);return void t.onError(f)}e.queries.set(i,a),a.listeners.push(t),t.ro(e.onlineState),a.so&&t.oo(a.so)&&yB(e)})).apply(this,arguments)}function mB(n,t){return _B.apply(this,arguments)}function _B(){return(_B=(0,Je.Z)(function*(n,t){const e=Tt(n),i=t.query;let s=!1;const a=e.queries.get(i);if(a){const u=a.listeners.indexOf(t);u>=0&&(a.listeners.splice(u,1),s=0===a.listeners.length)}if(s)return e.queries.delete(i),e.onUnlisten(i)})).apply(this,arguments)}function _se(n,t){const e=Tt(n);let i=!1;for(const s of t){const u=e.queries.get(s.query);if(u){for(const f of u.listeners)f.oo(s)&&(i=!0);u.so=s}}i&&yB(e)}function yse(n,t,e){const i=Tt(n),s=i.queries.get(t);if(s)for(const a of s.listeners)a.onError(e);i.queries.delete(t)}function yB(n){n.io.forEach(t=>{t.next()})}class vB{constructor(t,e,i){this.query=t,this.co=e,this.ao=!1,this.uo=null,this.onlineState="Unknown",this.options=i||{}}oo(t){if(!this.options.includeMetadataChanges){const i=[];for(const s of t.docChanges)3!==s.type&&i.push(s);t=new P0(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}let e=!1;return this.ao?this.ho(t)&&(this.co.next(t),e=!0):this.lo(t,this.onlineState)&&(this.fo(t),e=!0),this.uo=t,e}onError(t){this.co.error(t)}ro(t){this.onlineState=t;let e=!1;return this.uo&&!this.ao&&this.lo(this.uo,t)&&(this.fo(this.uo),e=!0),e}lo(t,e){return!t.fromCache||!(this.options.wo&&"Offline"!==e||t.docs.isEmpty()&&"Offline"!==e)}ho(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.uo&&this.uo.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges}fo(t){t=P0.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.ao=!0,this.co.next(t)}}class vse{constructor(t,e){this.payload=t,this.byteLength=e}_o(){return"metadata"in this.payload}}class G8{constructor(t){this.k=t}Hn(t){return Bd(this.k,t)}Jn(t){return t.metadata.exists?Z$(this.k,t.document,!1):br.newNoDocument(this.Hn(t.metadata.name),this.Yn(t.metadata.readTime))}Yn(t){return to(t)}}class bse{constructor(t,e,i){this.mo=t,this.localStore=e,this.k=i,this.queries=[],this.documents=[],this.progress=$8(t)}yo(t){this.progress.bytesLoaded+=t.byteLength;let e=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null}po(t){const e=new Map,i=new G8(this.k);for(const s of t)if(s.metadata.queries){const a=i.Hn(s.metadata.name);for(const u of s.metadata.queries){const f=(e.get(u)||bi()).add(a);e.set(u,f)}}return e}complete(){var t=this;return(0,Je.Z)(function*(){const e=yield function(n,t,e,i){return jV.apply(this,arguments)}(t.localStore,new G8(t.k),t.documents,t.mo.id),i=t.po(t.documents);for(const s of t.queries)yield qre(t.localStore,s,i.get(s.name));return t.progress.taskState="Success",new Fre(Object.assign({},t.progress),e)})()}}function $8(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class Y8{constructor(t){this.key=t}}class Z8{constructor(t){this.key=t}}class W8{constructor(t,e){this.query=t,this.To=e,this.Eo=null,this.current=!1,this.Io=bi(),this.mutatedKeys=bi(),this.Ao=b$(t),this.Ro=new O0(this.Ao)}get bo(){return this.To}Po(t,e){const i=e?e.vo:new z8,s=e?e.Ro:this.Ro;let a=e?e.mutatedKeys:this.mutatedKeys,u=s,f=!1;const g=F1(this.query)&&s.size===this.query.limit?s.last():null,C=L1(this.query)&&s.size===this.query.limit?s.first():null;if(t.inorderTraversal((x,R)=>{const G=s.get(x),ee=MT(this.query,R)?R:null,he=!!G&&this.mutatedKeys.has(G.key),Fe=!!ee&&(ee.hasLocalMutations||this.mutatedKeys.has(ee.key)&&ee.hasCommittedMutations);let He=!1;G&&ee?G.data.isEqual(ee.data)?he!==Fe&&(i.track({type:3,doc:ee}),He=!0):this.Vo(G,ee)||(i.track({type:2,doc:ee}),He=!0,(g&&this.Ao(ee,g)>0||C&&this.Ao(ee,C)<0)&&(f=!0)):!G&&ee?(i.track({type:0,doc:ee}),He=!0):G&&!ee&&(i.track({type:1,doc:G}),He=!0,(g||C)&&(f=!0)),He&&(ee?(u=u.add(ee),a=Fe?a.add(x):a.delete(x)):(u=u.delete(x),a=a.delete(x)))}),F1(this.query)||L1(this.query))for(;u.size>this.query.limit;){const x=F1(this.query)?u.last():u.first();u=u.delete(x.key),a=a.delete(x.key),i.track({type:1,doc:x})}return{Ro:u,vo:i,Bn:f,mutatedKeys:a}}Vo(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,i){const s=this.Ro;this.Ro=t.Ro,this.mutatedKeys=t.mutatedKeys;const a=t.vo.no();a.sort((C,x)=>function(R,G){const ee=he=>{switch(he){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Wt()}};return ee(R)-ee(G)}(C.type,x.type)||this.Ao(C.doc,x.doc)),this.So(i);const u=e?this.Do():[],f=0===this.Io.size&&this.current?1:0,g=f!==this.Eo;return this.Eo=f,0!==a.length||g?{snapshot:new P0(this.query,t.Ro,s,a,t.mutatedKeys,0===f,g,!1),Co:u}:{Co:u}}ro(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({Ro:this.Ro,vo:new z8,mutatedKeys:this.mutatedKeys,Bn:!1},!1)):{Co:[]}}No(t){return!this.To.has(t)&&!!this.Ro.has(t)&&!this.Ro.get(t).hasLocalMutations}So(t){t&&(t.addedDocuments.forEach(e=>this.To=this.To.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.To=this.To.delete(e)),this.current=t.current)}Do(){if(!this.current)return[];const t=this.Io;this.Io=bi(),this.Ro.forEach(i=>{this.No(i.key)&&(this.Io=this.Io.add(i.key))});const e=[];return t.forEach(i=>{this.Io.has(i)||e.push(new Z8(i))}),this.Io.forEach(i=>{t.has(i)||e.push(new Y8(i))}),e}ko(t){this.To=t.zn,this.Io=bi();const e=this.Po(t.documents);return this.applyChanges(e,!0)}xo(){return P0.fromInitialDocuments(this.query,this.Ro,this.mutatedKeys,0===this.Eo)}}class Cse{constructor(t,e,i){this.query=t,this.targetId=e,this.view=i}}class wse{constructor(t){this.key=t,this.$o=!1}}class Ese{constructor(t,e,i,s,a,u){this.localStore=t,this.remoteStore=e,this.eventManager=i,this.sharedClientState=s,this.currentUser=a,this.maxConcurrentLimboResolutions=u,this.Oo={},this.Mo=new S0(f=>v$(f),AT),this.Fo=new Map,this.Lo=new Set,this.Bo=new Ls($t.comparator),this.Uo=new Map,this.qo=new qV,this.Ko={},this.jo=new Map,this.Qo=B_.re(),this.onlineState="Unknown",this.Wo=void 0}get isPrimaryClient(){return!0===this.Wo}}function Dse(n,t){return bB.apply(this,arguments)}function bB(){return(bB=(0,Je.Z)(function*(n,t){const e=zB(n);let i,s;const a=e.Mo.get(t);if(a)i=a.targetId,e.sharedClientState.addLocalQueryTarget(i),s=a.view.xo();else{const u=yield x0(e.localStore,Bc(t)),f=e.sharedClientState.addLocalQueryTarget(u.targetId);i=u.targetId,s=yield CB(e,t,i,"current"===f),e.isPrimaryClient&&ek(e.remoteStore,u)}return s})).apply(this,arguments)}function CB(n,t,e,i){return wB.apply(this,arguments)}function wB(){return(wB=(0,Je.Z)(function*(n,t,e,i){n.Go=(x,R,G)=>{return(ee=(0,Je.Z)(function*(he,Fe,He,ht){let mt=Fe.view.Po(He);mt.Bn&&(mt=yield K1(he.localStore,Fe.query,!1).then(({documents:Ln})=>Fe.view.Po(Ln,mt)));const Et=ht&&ht.targetChanges.get(Fe.targetId),Ct=Fe.view.applyChanges(mt,he.isPrimaryClient,Et);return RB(he,Fe.targetId,Ct.Co),Ct.snapshot}),function(he,Fe,He,ht){return ee.apply(this,arguments)})(n,x,R,G);var ee};const s=yield K1(n.localStore,t,!0),a=new W8(t,s.zn),u=a.Po(s.documents),f=NT.createSynthesizedTargetChangeForCurrentChange(e,i&&"Offline"!==n.onlineState),g=a.applyChanges(u,n.isPrimaryClient,f);RB(n,e,g.Co);const C=new Cse(t,e,a);return n.Mo.set(t,C),n.Fo.has(e)?n.Fo.get(e).push(t):n.Fo.set(e,[t]),g.snapshot})).apply(this,arguments)}function Tse(n,t){return EB.apply(this,arguments)}function EB(){return(EB=(0,Je.Z)(function*(n,t){const e=Tt(n),i=e.Mo.get(t),s=e.Fo.get(i.targetId);if(s.length>1)return e.Fo.set(i.targetId,s.filter(a=>!AT(a,t))),void e.Mo.delete(t);e.isPrimaryClient?(e.sharedClientState.removeLocalQueryTarget(i.targetId),e.sharedClientState.isActiveQueryTarget(i.targetId)||(yield I0(e.localStore,i.targetId,!1).then(()=>{e.sharedClientState.clearQueryState(i.targetId),GT(e.remoteStore,i.targetId),N0(e,i.targetId)}).catch(U_))):(N0(e,i.targetId),yield I0(e.localStore,i.targetId,!0))})).apply(this,arguments)}function DB(){return(DB=(0,Je.Z)(function*(n,t,e){const i=GB(n);try{const s=yield function(a,u){const f=Tt(a),g=eo.now(),C=u.reduce((R,G)=>R.add(G.key),bi());let x;return f.persistence.runTransaction("Locally write mutations","readwrite",R=>f.Wn.vn(R,C).next(G=>{x=G;const ee=[];for(const he of u){const Fe=Qie(he,x.get(he.key));null!=Fe&&ee.push(new mg(he.key,Fe,h$(Fe.value.mapValue),_s.exists(!0)))}return f.An.addMutationBatch(R,g,ee,u)})).then(R=>(R.applyToLocalDocumentSet(x),{batchId:R.batchId,changes:x}))}(i.localStore,t);i.sharedClientState.addPendingMutation(s.batchId),function(a,u,f){let g=a.Ko[a.currentUser.toKey()];g||(g=new Ls(jn)),g=g.insert(u,f),a.Ko[a.currentUser.toKey()]=g}(i,s.batchId,e),yield pf(i,s.changes),yield M0(i.remoteStore)}catch(s){const a=R0(s,"Failed to persist write");e.reject(a)}})).apply(this,arguments)}function K8(n,t){return TB.apply(this,arguments)}function TB(){return(TB=(0,Je.Z)(function*(n,t){const e=Tt(n);try{const i=yield Bre(e.localStore,t);t.targetChanges.forEach((s,a)=>{const u=e.Uo.get(a);u&&(dn(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?u.$o=!0:s.modifiedDocuments.size>0?dn(u.$o):s.removedDocuments.size>0&&(dn(u.$o),u.$o=!1))}),yield pf(e,i,t)}catch(i){yield U_(i)}})).apply(this,arguments)}function Q8(n,t,e){const i=Tt(n);if(i.isPrimaryClient&&0===e||!i.isPrimaryClient&&1===e){const s=[];i.Mo.forEach((a,u)=>{const f=u.view.ro(t);f.snapshot&&s.push(f.snapshot)}),function(a,u){const f=Tt(a);f.onlineState=u;let g=!1;f.queries.forEach((C,x)=>{for(const R of x.listeners)R.ro(u)&&(g=!0)}),g&&yB(f)}(i.eventManager,t),s.length&&i.Oo.br(s),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}function xse(n,t,e){return SB.apply(this,arguments)}function SB(){return(SB=(0,Je.Z)(function*(n,t,e){const i=Tt(n);i.sharedClientState.updateQueryState(t,"rejected",e);const s=i.Uo.get(t),a=s&&s.key;if(a){let u=new Ls($t.comparator);u=u.insert(a,br.newNoDocument(a,bn.min()));const f=bi().add(a),g=new PT(bn.min(),new Map,new jr(jn),u,f);yield K8(i,g),i.Bo=i.Bo.remove(a),i.Uo.delete(t),OB(i)}else yield I0(i.localStore,t,!1).then(()=>N0(i,t,e)).catch(U_)})).apply(this,arguments)}function Ise(n,t){return xB.apply(this,arguments)}function xB(){return(xB=(0,Je.Z)(function*(n,t){const e=Tt(n),i=t.batch.batchId;try{const s=yield Vre(e.localStore,t);kB(e,i,null),MB(e,i),e.sharedClientState.updateMutationState(i,"acknowledged"),yield pf(e,s)}catch(s){yield U_(s)}})).apply(this,arguments)}function Ase(n,t,e){return IB.apply(this,arguments)}function IB(){return(IB=(0,Je.Z)(function*(n,t,e){const i=Tt(n);try{const s=yield function(a,u){const f=Tt(a);return f.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let C;return f.An.lookupMutationBatch(g,u).next(x=>(dn(null!==x),C=x.keys(),f.An.removeMutationBatch(g,x))).next(()=>f.An.performConsistencyCheck(g)).next(()=>f.Wn.vn(g,C))})}(i.localStore,t);kB(i,t,e),MB(i,t),i.sharedClientState.updateMutationState(t,"rejected",e),yield pf(i,s)}catch(s){yield U_(s)}})).apply(this,arguments)}function AB(){return(AB=(0,Je.Z)(function*(n,t){const e=Tt(n);wg(e.remoteStore)||gt("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=yield function(a){const u=Tt(a);return u.persistence.runTransaction("Get highest unacknowledged batch id","readonly",f=>u.An.getHighestUnacknowledgedBatchId(f))}(e.localStore);if(-1===i)return void t.resolve();const s=e.jo.get(i)||[];s.push(t),e.jo.set(i,s)}catch(i){const s=R0(i,"Initialization of waitForPendingWrites() operation failed");t.reject(s)}})).apply(this,arguments)}function MB(n,t){(n.jo.get(t)||[]).forEach(e=>{e.resolve()}),n.jo.delete(t)}function kB(n,t,e){const i=Tt(n);let s=i.Ko[i.currentUser.toKey()];if(s){const a=s.get(t);a&&(e?a.reject(e):a.resolve(),s=s.remove(t)),i.Ko[i.currentUser.toKey()]=s}}function N0(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const i of n.Fo.get(t))n.Mo.delete(i),e&&n.Oo.zo(i,e);n.Fo.delete(t),n.isPrimaryClient&&n.qo.us(t).forEach(i=>{n.qo.containsKey(i)||J8(n,i)})}function J8(n,t){n.Lo.delete(t.path.canonicalString());const e=n.Bo.get(t);null!==e&&(GT(n.remoteStore,e),n.Bo=n.Bo.remove(t),n.Uo.delete(e),OB(n))}function RB(n,t,e){for(const i of e)i instanceof Y8?(n.qo.addReference(i.key,t),kse(n,i)):i instanceof Z8?(gt("SyncEngine","Document no longer in limbo: "+i.key),n.qo.removeReference(i.key,t),n.qo.containsKey(i.key)||J8(n,i.key)):Wt()}function kse(n,t){const e=t.key,i=e.path.canonicalString();n.Bo.get(e)||n.Lo.has(i)||(gt("SyncEngine","New document in limbo: "+e),n.Lo.add(i),OB(n))}function OB(n){for(;n.Lo.size>0&&n.Bo.size<n.maxConcurrentLimboResolutions;){const t=n.Lo.values().next().value;n.Lo.delete(t);const e=new $t(fi.fromString(t)),i=n.Qo.next();n.Uo.set(i,new wse(e)),n.Bo=n.Bo.insert(e,i),ek(n.remoteStore,new yg(Bc(f0(e.path)),i,2,Xl.I))}}function pf(n,t,e){return PB.apply(this,arguments)}function PB(){return(PB=(0,Je.Z)(function*(n,t,e){const i=Tt(n),s=[],a=[],u=[];var f;i.Mo.isEmpty()||(i.Mo.forEach((f,g)=>{u.push(i.Go(g,t,e).then(C=>{if(C){i.isPrimaryClient&&i.sharedClientState.updateQueryState(g.targetId,C.fromCache?"not-current":"current"),s.push(C);const x=LV.$n(g.targetId,C);a.push(x)}}))}),yield Promise.all(u),i.Oo.br(s),yield(f=(0,Je.Z)(function*(g,C){const x=Tt(g);try{yield x.persistence.runTransaction("notifyLocalViewChanges","readwrite",R=>lt.forEach(C,G=>lt.forEach(G.kn,ee=>x.persistence.referenceDelegate.addReference(R,G.targetId,ee)).next(()=>lt.forEach(G.xn,ee=>x.persistence.referenceDelegate.removeReference(R,G.targetId,ee)))))}catch(R){if(!L_(R))throw R;gt("LocalStore","Failed to update sequence numbers: "+R)}for(const R of C){const G=R.targetId;if(!R.fromCache){const ee=x.qn.get(G),Fe=ee.withLastLimboFreeSnapshotVersion(ee.snapshotVersion);x.qn=x.qn.insert(G,Fe)}}}),function(g,C){return f.apply(this,arguments)})(i.localStore,a))})).apply(this,arguments)}function Rse(n,t){return NB.apply(this,arguments)}function NB(){return(NB=(0,Je.Z)(function*(n,t){const e=Tt(n);if(!e.currentUser.isEqual(t)){gt("SyncEngine","User change. New user:",t.toKey());const i=yield x8(e.localStore,t);e.currentUser=t,(s=e).jo.forEach(u=>{u.forEach(f=>{f.reject(new ct(Ke.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),s.jo.clear(),e.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),yield pf(e,i.Gn)}var s})).apply(this,arguments)}function Ose(n,t){const e=Tt(n),i=e.Uo.get(t);if(i&&i.$o)return bi().add(i.key);{let s=bi();const a=e.Fo.get(t);if(!a)return s;for(const u of a){const f=e.Mo.get(u);s=s.unionWith(f.view.bo)}return s}}function Pse(n,t){return LB.apply(this,arguments)}function LB(){return(LB=(0,Je.Z)(function*(n,t){const e=Tt(n),i=yield K1(e.localStore,t.query,!0),s=t.view.ko(i);return e.isPrimaryClient&&RB(e,t.targetId,s.Co),s})).apply(this,arguments)}function Nse(n){return VB.apply(this,arguments)}function VB(){return(VB=(0,Je.Z)(function*(n){const t=Tt(n);return k8(t.localStore).then(e=>pf(t,e))})).apply(this,arguments)}function Fse(n,t,e,i){return BB.apply(this,arguments)}function BB(){return(BB=(0,Je.Z)(function*(n,t,e,i){const s=Tt(n),a=yield function(u,f){const g=Tt(u),C=Tt(g.An);return g.persistence.runTransaction("Lookup mutation documents","readonly",x=>C.Zt(x,f).next(R=>R?g.Wn.vn(x,R):lt.resolve(null)))}(s.localStore,t);var f;null!==a?("pending"===e?yield M0(s.remoteStore):"acknowledged"===e||"rejected"===e?(kB(s,t,i||null),MB(s,t),f=t,Tt(Tt(s.localStore).An).ee(f)):Wt(),yield pf(s,a)):gt("SyncEngine","Cannot apply mutation batch with id: "+t)})).apply(this,arguments)}function UB(){return(UB=(0,Je.Z)(function*(n,t){const e=Tt(n);if(zB(e),GB(e),!0===t&&!0!==e.Wo){const i=e.sharedClientState.getAllActiveQueryTargets(),s=yield X8(e,i.toArray());e.Wo=!0,yield dB(e.remoteStore,!0);for(const a of s)ek(e.remoteStore,a)}else if(!1===t&&!1!==e.Wo){const i=[];let s=Promise.resolve();e.Fo.forEach((a,u)=>{e.sharedClientState.isLocalQueryTarget(u)?i.push(u):s=s.then(()=>(N0(e,u),I0(e.localStore,u,!0))),GT(e.remoteStore,u)}),yield s,yield X8(e,i),function(a){const u=Tt(a);u.Uo.forEach((f,g)=>{GT(u.remoteStore,g)}),u.qo.hs(),u.Uo=new Map,u.Bo=new Ls($t.comparator)}(e),e.Wo=!1,yield dB(e.remoteStore,!1)}})).apply(this,arguments)}function X8(n,t,e){return jB.apply(this,arguments)}function jB(){return(jB=(0,Je.Z)(function*(n,t,e){const i=Tt(n),s=[],a=[];for(const u of t){let f;const g=i.Fo.get(u);if(g&&0!==g.length){f=yield x0(i.localStore,Bc(g[0]));for(const C of g){const x=i.Mo.get(C),R=yield Pse(i,x);R.snapshot&&a.push(R.snapshot)}}else{const C=yield M8(i.localStore,u);f=yield x0(i.localStore,C),yield CB(i,e5(C),u,!1)}s.push(f)}return i.Oo.br(a),s})).apply(this,arguments)}function e5(n){return _$(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function Vse(n){const t=Tt(n);return Tt(Tt(t.localStore).persistence).Tn()}function Bse(n,t,e,i){return HB.apply(this,arguments)}function HB(){return(HB=(0,Je.Z)(function*(n,t,e,i){const s=Tt(n);if(s.Wo)gt("SyncEngine","Ignoring unexpected query state notification.");else if(s.Fo.has(t))switch(e){case"current":case"not-current":{const a=yield k8(s.localStore),u=PT.createSynthesizedRemoteEventForCurrentChange(t,"current"===e);yield pf(s,a,u);break}case"rejected":yield I0(s.localStore,t,!0),N0(s,t,i);break;default:Wt()}})).apply(this,arguments)}function Use(n,t,e){return qB.apply(this,arguments)}function qB(){return(qB=(0,Je.Z)(function*(n,t,e){const i=zB(n);if(i.Wo){for(const s of t){if(i.Fo.has(s)){gt("SyncEngine","Adding an already active target "+s);continue}const a=yield M8(i.localStore,s),u=yield x0(i.localStore,a);yield CB(i,e5(a),u.targetId,!1),ek(i.remoteStore,u)}for(const s of e)i.Fo.has(s)&&(yield I0(i.localStore,s,!1).then(()=>{GT(i.remoteStore,s),N0(i,s)}).catch(U_))}})).apply(this,arguments)}function zB(n){const t=Tt(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=K8.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Ose.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=xse.bind(null,t),t.Oo.br=_se.bind(null,t.eventManager),t.Oo.zo=yse.bind(null,t.eventManager),t}function GB(n){const t=Tt(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Ise.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Ase.bind(null,t),t}class t5{constructor(){this.synchronizeTabs=!1}initialize(t){var e=this;return(0,Je.Z)(function*(){e.k=qT(t.databaseInfo.databaseId),e.sharedClientState=e.Jo(t),e.persistence=e.Yo(t),yield e.persistence.start(),e.gcScheduler=e.Xo(t),e.localStore=e.Zo(t)})()}Xo(t){return null}Zo(t){return S8(this.persistence,new T8,t.initialUser,this.k)}Yo(t){return new Wre(zV.ks,this.k)}Jo(t){return new P8}terminate(){var t=this;return(0,Je.Z)(function*(){t.gcScheduler&&t.gcScheduler.stop(),yield t.sharedClientState.shutdown(),yield t.persistence.shutdown()})()}}class n5 extends t5{constructor(t,e,i){super(),this.tc=t,this.cacheSizeBytes=e,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(t){var e=()=>super.initialize,i=this;return(0,Je.Z)(function*(){yield e().call(i,t),yield function(n){return UV.apply(this,arguments)}(i.localStore),yield i.tc.initialize(i,t),yield GB(i.tc.syncEngine),yield M0(i.tc.remoteStore),yield i.persistence.sn(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(i.localStore),Promise.resolve()))})()}Zo(t){return S8(this.persistence,new T8,t.initialUser,this.k)}Xo(t){return new Mre(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue)}Yo(t){const e=FV(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?vl.withCacheSize(this.cacheSizeBytes):vl.DEFAULT;return new NV(this.synchronizeTabs,e,t.clientId,i,t.asyncQueue,F8(),X1(),this.k,this.sharedClientState,!!this.forceOwnership)}Jo(t){return new P8}}class Hse extends n5{constructor(t,e){super(t,e,!1),this.tc=t,this.cacheSizeBytes=e,this.synchronizeTabs=!0}initialize(t){var e=()=>super.initialize,i=this;return(0,Je.Z)(function*(){yield e().call(i,t);const s=i.tc.syncEngine;i.sharedClientState instanceof ZV&&(i.sharedClientState.syncEngine={mi:Fse.bind(null,s),gi:Bse.bind(null,s),yi:Use.bind(null,s),Tn:Vse.bind(null,s),_i:Nse.bind(null,s)},yield i.sharedClientState.start()),yield i.persistence.sn(function(){var a=(0,Je.Z)(function*(u){yield function(n,t){return UB.apply(this,arguments)}(i.tc.syncEngine,u),i.gcScheduler&&(u&&!i.gcScheduler.started?i.gcScheduler.start(i.localStore):u||i.gcScheduler.stop())});return function(u){return a.apply(this,arguments)}}())})()}Jo(t){const e=F8();if(!ZV.Pt(e))throw new ct(Ke.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=FV(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new ZV(e,t.asyncQueue,i,t.clientId,t.initialUser)}}class $B{initialize(t,e){var i=this;return(0,Je.Z)(function*(){i.localStore||(i.localStore=t.localStore,i.sharedClientState=t.sharedClientState,i.datastore=i.createDatastore(e),i.remoteStore=i.createRemoteStore(e),i.eventManager=i.createEventManager(e),i.syncEngine=i.createSyncEngine(e,!t.synchronizeTabs),i.sharedClientState.onlineStateHandler=s=>Q8(i.syncEngine,s,1),i.remoteStore.remoteSyncer.handleCredentialChange=Rse.bind(null,i.syncEngine),yield dB(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(t){return new mse}createDatastore(t){const e=qT(t.databaseInfo.databaseId),i=new ese(t.databaseInfo);return new ise(t.authCredentials,t.appCheckCredentials,i,e)}createRemoteStore(t){return e=this.localStore,i=this.datastore,s=t.asyncQueue,a=f=>Q8(this.syncEngine,f,0),u=N8.Pt()?new N8:new Qre,new sse(e,i,s,a,u);var e,i,s,a,u}createSyncEngine(t,e){return function(i,s,a,u,f,g,C){const x=new Ese(i,s,a,u,f,g);return C&&(x.Wo=!0),x}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}terminate(){return(t=(0,Je.Z)(function*(e){const i=Tt(e);gt("RemoteStore","RemoteStore shutting down."),i.Gr.add(5),yield A0(i),i.Hr.shutdown(),i.Jr.set("Unknown")}),function(e){return t.apply(this,arguments)})(this.remoteStore);var t}}function i5(n,t=10240){let e=0;return{read:()=>(0,Je.Z)(function*(){if(e<n.byteLength){const i={value:n.slice(e,e+t),done:!1};return e+=t,i}return{done:!0}})(),cancel:()=>(0,Je.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class nk{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.ec(this.observer.next,t)}error(t){this.observer.error?this.ec(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)}nc(){this.muted=!0}ec(t,e){this.muted||setTimeout(()=>{this.muted||t(e)},0)}}class qse{constructor(t,e){this.sc=t,this.k=e,this.metadata=new Xs,this.buffer=new Uint8Array,this.ic=new TextDecoder("utf-8"),this.rc().then(i=>{i&&i._o()?this.metadata.resolve(i.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==i?void 0:i.payload)}`))},i=>this.metadata.reject(i))}close(){return this.sc.cancel()}getMetadata(){var t=this;return(0,Je.Z)(function*(){return t.metadata.promise})()}Ho(){var t=this;return(0,Je.Z)(function*(){return yield t.getMetadata(),t.rc()})()}rc(){var t=this;return(0,Je.Z)(function*(){const e=yield t.oc();if(null===e)return null;const i=t.ic.decode(e),s=Number(i);isNaN(s)&&t.cc(`length string (${i}) is not valid number`);const a=yield t.ac(s);return new vse(JSON.parse(a),e.length+s)})()}uc(){return this.buffer.findIndex(t=>t==="{".charCodeAt(0))}oc(){var t=this;return(0,Je.Z)(function*(){for(;t.uc()<0&&!(yield t.hc()););if(0===t.buffer.length)return null;const e=t.uc();e<0&&t.cc("Reached the end of bundle when a length string is expected.");const i=t.buffer.slice(0,e);return t.buffer=t.buffer.slice(e),i})()}ac(t){var e=this;return(0,Je.Z)(function*(){for(;e.buffer.length<t;)(yield e.hc())&&e.cc("Reached the end of bundle when more is expected.");const i=e.ic.decode(e.buffer.slice(0,t));return e.buffer=e.buffer.slice(t),i})()}cc(t){throw this.sc.cancel(),new Error(`Invalid bundle format: ${t}`)}hc(){var t=this;return(0,Je.Z)(function*(){const e=yield t.sc.read();if(!e.done){const i=new Uint8Array(t.buffer.length+e.value.length);i.set(t.buffer),i.set(e.value,t.buffer.length),t.buffer=i}return e.done})()}}class zse{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(t){var e=this;return(0,Je.Z)(function*(){if(e.ensureCommitNotCalled(),e.mutations.length>0)throw new ct(Ke.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const i=yield(s=(0,Je.Z)(function*(a,u){const f=Tt(a),g=VT(f.k)+"/documents",C={documents:u.map(ee=>LT(f.k,ee))},x=yield f.ji("BatchGetDocuments",g,C),R=new Map;x.forEach(ee=>{const he=function(n,t){return"found"in t?function(e,i){dn(!!i.found);const s=Bd(e,i.found.name),a=to(i.found.updateTime),u=new ea({mapValue:{fields:i.found.fields}});return br.newFoundDocument(s,a,u)}(n,t):"missing"in t?function(e,i){dn(!!i.missing),dn(!!i.readTime);const s=Bd(e,i.missing),a=to(i.readTime);return br.newNoDocument(s,a)}(n,t):Wt()}(f.k,ee);R.set(he.key.toString(),he)});const G=[];return u.forEach(ee=>{const he=R.get(ee.toString());dn(!!he),G.push(he)}),G}),function(a,u){return s.apply(this,arguments)})(e.datastore,t);var s;return i.forEach(s=>e.recordVersion(s)),i})()}set(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(t.toString())}delete(t){this.write(new OT(t,this.precondition(t))),this.writtenDocs.add(t.toString())}commit(){var t=this;return(0,Je.Z)(function*(){if(t.ensureCommitNotCalled(),t.lastWriteError)throw t.lastWriteError;const e=t.readVersions;var i;t.mutations.forEach(i=>{e.delete(i.key.toString())}),e.forEach((i,s)=>{const a=$t.fromPath(s);t.mutations.push(new CV(a,t.precondition(a)))}),yield(i=(0,Je.Z)(function*(s,a){const u=Tt(s),f=VT(u.k)+"/documents",g={writes:a.map(C=>z1(u.k,C))};yield u.Bi("Commit",f,g)}),function(s,a){return i.apply(this,arguments)})(t.datastore,t.mutations),t.committed=!0})()}recordVersion(t){let e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw Wt();e=bn.min()}const i=this.readVersions.get(t.key.toString());if(i){if(!e.isEqual(i))throw new ct(Ke.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)}precondition(t){const e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?_s.updateTime(e):_s.none()}preconditionForUpdate(t){const e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(bn.min()))throw new ct(Ke.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return _s.updateTime(e)}return _s.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}}class Gse{constructor(t,e,i,s){this.asyncQueue=t,this.datastore=e,this.updateFunction=i,this.deferred=s,this.lc=5,this.ur=new WV(this.asyncQueue,"transaction_retry")}run(){this.lc-=1,this.fc()}fc(){var t=this;this.ur.Zi((0,Je.Z)(function*(){const e=new zse(t.datastore),i=t.dc(e);i&&i.then(s=>{t.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{t.deferred.resolve(s)}).catch(a=>{t.wc(a)}))}).catch(s=>{t.wc(s)})}))}dc(t){try{const e=this.updateFunction(t);return!R_(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}wc(t){this.lc>0&&this._c(t)?(this.lc-=1,this.asyncQueue.enqueueAndForget(()=>(this.fc(),Promise.resolve()))):this.deferred.reject(t)}_c(t){if("FirebaseError"===t.name){const e=t.code;return"aborted"===e||"failed-precondition"===e||!P$(e)}return!1}}class $se{constructor(t,e,i,s){var a=this;this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=i,this.databaseInfo=s,this.user=So.UNAUTHENTICATED,this.clientId=i$.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var u=(0,Je.Z)(function*(f){gt("FirestoreClient","Received user=",f.uid),yield a.authCredentialListener(f),a.user=f});return function(f){return u.apply(this,arguments)}}()),this.appCheckCredentials.start(i,u=>(gt("FirestoreClient","Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}getConfiguration(){var t=this;return(0,Je.Z)(function*(){return{asyncQueue:t.asyncQueue,databaseInfo:t.databaseInfo,clientId:t.clientId,authCredentials:t.authCredentials,appCheckCredentials:t.appCheckCredentials,initialUser:t.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ct(Ke.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var t=this;this.asyncQueue.enterRestrictedMode();const e=new Xs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Je.Z)(function*(){try{t.onlineComponents&&(yield t.onlineComponents.terminate()),t.offlineComponents&&(yield t.offlineComponents.terminate()),t.authCredentials.shutdown(),t.appCheckCredentials.shutdown(),e.resolve()}catch(i){const s=R0(i,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}function r5(n,t){return YB.apply(this,arguments)}function YB(){return(YB=(0,Je.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress(),gt("FirestoreClient","Initializing OfflineComponentProvider");const e=yield n.getConfiguration();yield t.initialize(e);let i=e.initialUser;n.setCredentialChangeListener(function(){var s=(0,Je.Z)(function*(a){i.isEqual(a)||(yield x8(t.localStore,a),i=a)});return function(a){return s.apply(this,arguments)}}()),t.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=t})).apply(this,arguments)}function s5(n,t){return ZB.apply(this,arguments)}function ZB(){return(ZB=(0,Je.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress();const e=yield WB(n);gt("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield t.initialize(e,i),n.setCredentialChangeListener(s=>q8(t.remoteStore,s)),n.setAppCheckTokenChangeListener((s,a)=>q8(t.remoteStore,a)),n.onlineComponents=t})).apply(this,arguments)}function WB(n){return KB.apply(this,arguments)}function KB(){return(KB=(0,Je.Z)(function*(n){return n.offlineComponents||(gt("FirestoreClient","Using default OfflineComponentProvider"),yield r5(n,new t5)),n.offlineComponents})).apply(this,arguments)}function ik(n){return QB.apply(this,arguments)}function QB(){return(QB=(0,Je.Z)(function*(n){return n.onlineComponents||(gt("FirestoreClient","Using default OnlineComponentProvider"),yield s5(n,new $B)),n.onlineComponents})).apply(this,arguments)}function o5(n){return WB(n).then(t=>t.persistence)}function JB(n){return WB(n).then(t=>t.localStore)}function a5(n){return ik(n).then(t=>t.remoteStore)}function XB(n){return ik(n).then(t=>t.syncEngine)}function F0(n){return e3.apply(this,arguments)}function e3(){return(e3=(0,Je.Z)(function*(n){const t=yield ik(n),e=t.eventManager;return e.onListen=Dse.bind(null,t.syncEngine),e.onUnlisten=Tse.bind(null,t.syncEngine),e})).apply(this,arguments)}function l5(n,t,e={}){const i=new Xs;return n.asyncQueue.enqueueAndForget((0,Je.Z)(function*(){return function(s,a,u,f,g){const C=new nk({next:R=>{a.enqueueAndForget(()=>mB(s,x));const G=R.docs.has(u);!G&&R.fromCache?g.reject(new ct(Ke.UNAVAILABLE,"Failed to get document because the client is offline.")):G&&R.fromCache&&f&&"server"===f.source?g.reject(new ct(Ke.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(R)},error:R=>g.reject(R)}),x=new vB(f0(u.path),C,{includeMetadataChanges:!0,wo:!0});return pB(s,x)}(yield F0(n),n.asyncQueue,t,e,i)})),i.promise}function c5(n,t,e={}){const i=new Xs;return n.asyncQueue.enqueueAndForget((0,Je.Z)(function*(){return function(s,a,u,f,g){const C=new nk({next:R=>{a.enqueueAndForget(()=>mB(s,x)),R.fromCache&&"server"===f.source?g.reject(new ct(Ke.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(R)},error:R=>g.reject(R)}),x=new vB(u,C,{includeMetadataChanges:!0,wo:!0});return pB(s,x)}(yield F0(n),n.asyncQueue,t,e,i)})),i.promise}class toe{constructor(t,e,i,s,a,u,f,g){this.databaseId=t,this.appId=e,this.persistenceKey=i,this.host=s,this.ssl=a,this.forceLongPolling=u,this.autoDetectLongPolling=f,this.useFetchStreams=g}}class L0{constructor(t,e){this.projectId=t,this.database=e||"(default)"}get isDefaultDatabase(){return"(default)"===this.database}isEqual(t){return t instanceof L0&&t.projectId===this.projectId&&t.database===this.database}}const u5=new Map;function t3(n,t,e){if(!e)throw new ct(Ke.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function d5(n,t,e,i){if(!0===t&&!0===i)throw new ct(Ke.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function h5(n){if(!$t.isDocumentKey(n))throw new ct(Ke.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function f5(n){if($t.isDocumentKey(n))throw new ct(Ke.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function rk(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const t=(e=n).constructor?e.constructor.name:null;return t?`a custom ${t} object`:"an object"}}var e;return"function"==typeof n?"a function":Wt()}function Yn(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new ct(Ke.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=rk(n);throw new ct(Ke.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}function p5(n,t){if(t<=0)throw new ct(Ke.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${t}.`)}class g5{constructor(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new ct(Ke.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new ct(Ke.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,d5("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class $T{constructor(t,e,i){this._authCredentials=e,this._appCheckCredentials=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new g5({}),this._settingsFrozen=!1,t instanceof L0?this._databaseId=t:(this._app=t,this._databaseId=function(s){if(!Object.prototype.hasOwnProperty.apply(s.options,["projectId"]))throw new ct(Ke.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new L0(s.options.projectId)}(t))}get app(){if(!this._app)throw new ct(Ke.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new ct(Ke.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new g5(t),void 0!==t.credentials&&(this._authCredentials=function(e){if(!e)return new Die;switch(e.type){case"gapi":const i=e.client;return dn(!("object"!=typeof i||null===i||!i.auth||!i.auth.getAuthHeaderValueForFirstParty)),new Iie(i,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new ct(Ke.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const e=u5.get(t);e&&(gt("ComponentProvider","Removing Datastore"),u5.delete(t),e.terminate())}(this),Promise.resolve()}}class ar{constructor(t,e,i){this.converter=e,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new jd(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new ar(this.firestore,t,this._key)}}class na{constructor(t,e,i){this.converter=e,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new na(this.firestore,t,this._query)}}class jd extends na{constructor(t,e,i){super(t,e,f0(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new ar(this.firestore,null,new $t(t))}withConverter(t){return new jd(this.firestore,t,this._path)}}function m5(n,t,...e){if(n=(0,oe.m9)(n),t3("collection","path",t),n instanceof $T){const i=fi.fromString(t,...e);return f5(i),new jd(n,null,i)}{if(!(n instanceof ar||n instanceof jd))throw new ct(Ke.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(fi.fromString(t,...e));return f5(i),new jd(n.firestore,null,i)}}function sk(n,t,...e){if(n=(0,oe.m9)(n),1===arguments.length&&(t=i$.A()),t3("doc","path",t),n instanceof $T){const i=fi.fromString(t,...e);return h5(i),new ar(n,null,new $t(i))}{if(!(n instanceof ar||n instanceof jd))throw new ct(Ke.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(fi.fromString(t,...e));return h5(i),new ar(n.firestore,n instanceof jd?n.converter:null,new $t(i))}}function _5(n,t){return n=(0,oe.m9)(n),t=(0,oe.m9)(t),(n instanceof ar||n instanceof jd)&&(t instanceof ar||t instanceof jd)&&n.firestore===t.firestore&&n.path===t.path&&n.converter===t.converter}function y5(n,t){return n=(0,oe.m9)(n),t=(0,oe.m9)(t),n instanceof na&&t instanceof na&&n.firestore===t.firestore&&AT(n._query,t._query)&&n.converter===t.converter}class roe{constructor(){this.mc=Promise.resolve(),this.gc=[],this.yc=!1,this.Tc=[],this.Ec=null,this.Ic=!1,this.Ac=!1,this.Rc=[],this.ur=new WV(this,"async_queue_retry"),this.bc=()=>{const e=X1();e&&gt("AsyncQueue","Visibility state changed to "+e.visibilityState),this.ur.er()};const t=X1();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.bc)}get isShuttingDown(){return this.yc}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Pc(),this.vc(t)}enterRestrictedMode(t){if(!this.yc){this.yc=!0,this.Ac=t||!1;const e=X1();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.bc)}}enqueue(t){if(this.Pc(),this.yc)return new Promise(()=>{});const e=new Xs;return this.vc(()=>this.yc&&this.Ac?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.gc.push(t),this.Vc()))}Vc(){var t=this;return(0,Je.Z)(function*(){if(0!==t.gc.length){try{yield t.gc[0](),t.gc.shift(),t.ur.reset()}catch(e){if(!L_(e))throw e;gt("AsyncQueue","Operation failed with retryable error: "+e)}t.gc.length>0&&t.ur.Zi(()=>t.Vc())}})()}vc(t){const e=this.mc.then(()=>(this.Ic=!0,t().catch(i=>{throw this.Ec=i,this.Ic=!1,gs("INTERNAL UNHANDLED ERROR: ",function(a){let u=a.message||"";return a.stack&&(u=a.stack.includes(a.message)?a.stack:a.message+"\n"+a.stack),u}(i)),i}).then(i=>(this.Ic=!1,i))));return this.mc=e,e}enqueueAfterDelay(t,e,i){this.Pc(),this.Rc.indexOf(t)>-1&&(e=0);const s=fB.createAndSchedule(this,t,e,i,a=>this.Sc(a));return this.Tc.push(s),s}Pc(){this.Ec&&Wt()}verifyOperationInProgress(){}Dc(){var t=this;return(0,Je.Z)(function*(){let e;do{e=t.mc,yield e}while(e!==t.mc)})()}Cc(t){for(const e of this.Tc)if(e.timerId===t)return!0;return!1}Nc(t){return this.Dc().then(()=>{this.Tc.sort((e,i)=>e.targetTimeMs-i.targetTimeMs);for(const e of this.Tc)if(e.skipDelay(),"all"!==t&&e.timerId===t)break;return this.Dc()})}kc(t){this.Rc.push(t)}Sc(t){const e=this.Tc.indexOf(t);this.Tc.splice(e,1)}}function n3(n){return function(t,e){if("object"!=typeof t||null===t)return!1;const i=t;for(const s of["next","error","complete"])if(s in i&&"function"==typeof i[s])return!0;return!1}(n)}class soe{constructor(){this._progressObserver={},this._taskCompletionResolver=new Xs,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(t,e,i){this._progressObserver={next:t,error:e,complete:i}}catch(t){return this._taskCompletionResolver.promise.catch(t)}then(t,e){return this._taskCompletionResolver.promise.then(t,e)}_completeWith(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)}_failWith(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)}_updateProgress(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}class Cr extends $T{constructor(t,e,i){super(t,e,i),this.type="firestore",this._queue=new roe,this._persistenceKey="name"in t?t.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||v5(this),this._firestoreClient.terminate()}}function vs(n){return n._firestoreClient||v5(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function v5(n){var t;const e=n._freezeSettings(),i=(a=(null===(t=n._app)||void 0===t?void 0:t.options.appId)||"",new toe(n._databaseId,a,n._persistenceKey,(f=e).host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,f.useFetchStreams));var a,f;n._firestoreClient=new $se(n._authCredentials,n._appCheckCredentials,n._queue,i)}function b5(n,t,e){const i=new Xs;return n.asyncQueue.enqueue((0,Je.Z)(function*(){try{yield r5(n,e),yield s5(n,t),i.resolve()}catch(s){if(!("FirebaseError"===(a=s).name?a.code===Ke.FAILED_PRECONDITION||a.code===Ke.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&a instanceof DOMException)||22===a.code||20===a.code||11===a.code))throw s;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+s),i.reject(s)}var a})).then(()=>i.promise)}function C5(n){if(n._initialized||n._terminated)throw new ct(Ke.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class gf{constructor(...t){for(let e=0;e<t.length;++e)if(0===t[e].length)throw new ct(Ke.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new xo(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Hd{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Hd(Fs.fromBase64String(t))}catch(e){throw new ct(Ke.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new Hd(Fs.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}class j_{constructor(t){this._methodName=t}}class ok{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new ct(Ke.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new ct(Ke.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return jn(this._lat,t._lat)||jn(this._long,t._long)}}const goe=/^__.*__$/;class moe{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return null!==this.fieldMask?new mg(t,this.data,this.fieldMask,e,this.fieldTransforms):new RT(t,this.data,e,this.fieldTransforms)}}class w5{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return new mg(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function E5(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Wt()}}class ak{constructor(t,e,i,s,a,u){this.settings=t,this.databaseId=e,this.k=i,this.ignoreUndefinedProperties=s,void 0===a&&this.xc(),this.fieldTransforms=a||[],this.fieldMask=u||[]}get path(){return this.settings.path}get $c(){return this.settings.$c}Oc(t){return new ak(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.k,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mc(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),s=this.Oc({path:i,Fc:!1});return s.Lc(t),s}Bc(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),s=this.Oc({path:i,Fc:!1});return s.xc(),s}Uc(t){return this.Oc({path:void 0,Fc:!0})}qc(t){return uk(t,this.settings.methodName,this.settings.Kc||!1,this.path,this.settings.jc)}contains(t){return void 0!==this.fieldMask.find(e=>t.isPrefixOf(e))||void 0!==this.fieldTransforms.find(e=>t.isPrefixOf(e.field))}xc(){if(this.path)for(let t=0;t<this.path.length;t++)this.Lc(this.path.get(t))}Lc(t){if(0===t.length)throw this.qc("Document fields must not be empty");if(E5(this.$c)&&goe.test(t))throw this.qc('Document fields cannot begin and end with "__"')}}class _oe{constructor(t,e,i){this.databaseId=t,this.ignoreUndefinedProperties=e,this.k=i||qT(t)}Qc(t,e,i,s=!1){return new ak({$c:t,methodName:e,jc:i,path:xo.emptyPath(),Fc:!1,Kc:s},this.databaseId,this.k,this.ignoreUndefinedProperties)}}function H_(n){const t=n._freezeSettings(),e=qT(n._databaseId);return new _oe(n._databaseId,!!t.ignoreUndefinedProperties,e)}function lk(n,t,e,i,s,a={}){const u=n.Qc(a.merge||a.mergeFields?2:0,t,e,s);o3("Data must be an object, but it was:",u,i);const f=S5(i,u);let g,C;if(a.merge)g=new c0(u.fieldMask),C=u.fieldTransforms;else if(a.mergeFields){const x=[];for(const R of a.mergeFields){const G=a3(t,R,e);if(!u.contains(G))throw new ct(Ke.INVALID_ARGUMENT,`Field '${G}' is specified in your field mask but missing from your input data.`);I5(x,G)||x.push(G)}g=new c0(x),C=u.fieldTransforms.filter(R=>g.covers(R.field))}else g=null,C=u.fieldTransforms;return new moe(new ea(f),g,C)}class YT extends j_{_toFieldTransform(t){if(2!==t.$c)throw t.qc(1===t.$c?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof YT}}function D5(n,t,e){return new ak({$c:3,jc:t.settings.jc,methodName:n._methodName,Fc:e},t.databaseId,t.k,t.ignoreUndefinedProperties)}class i3 extends j_{_toFieldTransform(t){return new kT(t.path,new g0)}isEqual(t){return t instanceof i3}}class yoe extends j_{constructor(t,e){super(t),this.Wc=e}_toFieldTransform(t){const e=D5(this,t,!0),i=this.Wc.map(a=>q_(a,e)),s=new P_(i);return new kT(t.path,s)}isEqual(t){return this===t}}class voe extends j_{constructor(t,e){super(t),this.Wc=e}_toFieldTransform(t){const e=D5(this,t,!0),i=this.Wc.map(a=>q_(a,e)),s=new N_(i);return new kT(t.path,s)}isEqual(t){return this===t}}class boe extends j_{constructor(t,e){super(t),this.Gc=e}_toFieldTransform(t){const e=new m0(t.k,E$(t.k,this.Gc));return new kT(t.path,e)}isEqual(t){return this===t}}function r3(n,t,e,i){const s=n.Qc(1,t,e);o3("Data must be an object, but it was:",s,i);const a=[],u=ea.empty();k_(i,(g,C)=>{const x=ck(t,g,e);C=(0,oe.m9)(C);const R=s.Bc(x);if(C instanceof YT)a.push(x);else{const G=q_(C,R);null!=G&&(a.push(x),u.set(x,G))}});const f=new c0(a);return new w5(u,f,s.fieldTransforms)}function s3(n,t,e,i,s,a){const u=n.Qc(1,t,e),f=[a3(t,i,e)],g=[s];if(a.length%2!=0)throw new ct(Ke.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let G=0;G<a.length;G+=2)f.push(a3(t,a[G])),g.push(a[G+1]);const C=[],x=ea.empty();for(let G=f.length-1;G>=0;--G)if(!I5(C,f[G])){const ee=f[G];let he=g[G];he=(0,oe.m9)(he);const Fe=u.Bc(ee);if(he instanceof YT)C.push(ee);else{const He=q_(he,Fe);null!=He&&(C.push(ee),x.set(ee,He))}}const R=new c0(C);return new w5(x,R,u.fieldTransforms)}function T5(n,t,e,i=!1){return q_(e,n.Qc(i?4:3,t))}function q_(n,t){if(x5(n=(0,oe.m9)(n)))return o3("Unsupported field value:",t,n),S5(n,t);if(n instanceof j_)return function(e,i){if(!E5(i.$c))throw i.qc(`${e._methodName}() can only be used with update() and set()`);if(!i.path)throw i.qc(`${e._methodName}() is not currently supported inside arrays`);const s=e._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(n,t),null;if(void 0===n&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.Fc&&4!==t.$c)throw t.qc("Nested arrays are not supported");return function(e,i){const s=[];let a=0;for(const u of e){let f=q_(u,i.Uc(a));null==f&&(f={nullValue:"NULL_VALUE"}),s.push(f),a++}return{arrayValue:{values:s}}}(n,t)}return function(e,i){if(null===(e=(0,oe.m9)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return E$(i.k,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const s=eo.fromDate(e);return{timestampValue:FT(i.k,s)}}if(e instanceof eo){const s=new eo(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:FT(i.k,s)}}if(e instanceof ok)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Hd)return{bytesValue:q$(i.k,e._byteString)};if(e instanceof ar){const s=i.databaseId,a=e.firestore._databaseId;if(!a.isEqual(s))throw i.qc(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:EV(e.firestore._databaseId||i.databaseId,e._key.path)}}throw i.qc(`Unsupported field value: ${rk(e)}`)}(n,t)}function S5(n,t){const e={};return o$(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):k_(n,(i,s)=>{const a=q_(s,t.Mc(i));null!=a&&(e[i]=a)}),{mapValue:{fields:e}}}function x5(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof eo||n instanceof ok||n instanceof Hd||n instanceof ar||n instanceof j_)}function o3(n,t,e){if(!x5(e)||"object"!=typeof(i=e)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const i=rk(e);throw t.qc("an object"===i?n+" a custom object":n+" "+i)}var i}function a3(n,t,e){if((t=(0,oe.m9)(t))instanceof gf)return t._internalPath;if("string"==typeof t)return ck(n,t);throw uk("Field path arguments must be of type string or ",n,!1,void 0,e)}const Coe=new RegExp("[~\\*/\\[\\]]");function ck(n,t,e){if(t.search(Coe)>=0)throw uk(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new gf(...t.split("."))._internalPath}catch(i){throw uk(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function uk(n,t,e,i,s){const a=i&&!i.isEmpty(),u=void 0!==s;let f=`Function ${t}() called with invalid data`;e&&(f+=" (via `toFirestore()`)"),f+=". ";let g="";return(a||u)&&(g+=" (found",a&&(g+=` in field ${i}`),u&&(g+=` in document ${s}`),g+=")"),new ct(Ke.INVALID_ARGUMENT,f+n+g)}function I5(n,t){return n.some(e=>e.isEqual(t))}class ZT{constructor(t,e,i,s,a){this._firestore=t,this._userDataWriter=e,this._key=i,this._document=s,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new ar(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const t=new woe(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(dk("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}}}class woe extends ZT{data(){return super.data()}}function dk(n,t){return"string"==typeof t?ck(n,t):t instanceof gf?t._internalPath:t._delegate._internalPath}class z_{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class mf extends ZT{constructor(t,e,i,s,a,u){super(t,e,i,s,u),this._firestore=t,this._firestoreImpl=t,this.metadata=a}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new WT(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const i=this._document.data.field(dk("DocumentSnapshot.get",t));if(null!==i)return this._userDataWriter.convertValue(i,e.serverTimestamps)}}}class WT extends mf{data(t={}){return super.data(t)}}class Dg{constructor(t,e,i,s){this._firestore=t,this._userDataWriter=e,this._snapshot=s,this.metadata=new z_(s.hasPendingWrites,s.fromCache),this.query=i}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(t,e){this._snapshot.docs.forEach(i=>{t.call(e,new WT(this._firestore,this._userDataWriter,i.key,i,new z_(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new ct(Ke.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let a=0;return i._snapshot.docChanges.map(u=>({type:"added",doc:new WT(i._firestore,i._userDataWriter,u.doc.key,u.doc,new z_(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:a++}))}{let a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(u=>s||3!==u.type).map(u=>{const f=new WT(i._firestore,i._userDataWriter,u.doc.key,u.doc,new z_(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);let g=-1,C=-1;return 0!==u.type&&(g=a.indexOf(u.doc.key),a=a.delete(u.doc.key)),1!==u.type&&(a=a.add(u.doc),C=a.indexOf(u.doc.key)),{type:Eoe(u.type),doc:f,oldIndex:g,newIndex:C}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function Eoe(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Wt()}}function A5(n,t){return n instanceof mf&&t instanceof mf?n._firestore===t._firestore&&n._key.isEqual(t._key)&&(null===n._document?null===t._document:n._document.isEqual(t._document))&&n._converter===t._converter:n instanceof Dg&&t instanceof Dg&&n._firestore===t._firestore&&y5(n.query,t.query)&&n.metadata.isEqual(t.metadata)&&n._snapshot.isEqual(t._snapshot)}function M5(n){if(L1(n)&&0===n.explicitOrderBy.length)throw new ct(Ke.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class KT{}function Tg(n,...t){for(const e of t)n=e._apply(n);return n}class Doe extends KT{constructor(t,e,i){super(),this.zc=t,this.Hc=e,this.Jc=i,this.type="where"}_apply(t){const e=H_(t.firestore),i=function(s,a,u,f,g,C,x){let R;if(g.isKeyField()){if("array-contains"===C||"array-contains-any"===C)throw new ct(Ke.INVALID_ARGUMENT,`Invalid Query. You can't perform '${C}' queries on documentId().`);if("in"===C||"not-in"===C){F5(x,C);const ee=[];for(const he of x)ee.push(N5(f,s,he));R={arrayValue:{values:ee}}}else R=N5(f,s,x)}else"in"!==C&&"not-in"!==C&&"array-contains-any"!==C||F5(x,C),R=T5(u,"where",x,"in"===C||"not-in"===C);const G=Ba.create(g,C,R);return function(ee,he){if(he.V()){const He=_V(ee);if(null!==He&&!He.isEqual(he.field))throw new ct(Ke.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${He.toString()}' and '${he.field.toString()}'`);const ht=mV(ee);null!==ht&&L5(0,he.field,ht)}const Fe=function(He,ht){for(const mt of He.filters)if(ht.indexOf(mt.op)>=0)return mt.op;return null}(ee,function(He){switch(He){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(he.op));if(null!==Fe)throw new ct(Ke.INVALID_ARGUMENT,Fe===he.op?`Invalid query. You cannot use more than one '${he.op.toString()}' filter.`:`Invalid query. You cannot use '${he.op.toString()}' filters with '${Fe.toString()}' filters.`)}(s,G),G}(t._query,0,e,t.firestore._databaseId,this.zc,this.Hc,this.Jc);return new na(t.firestore,t.converter,function(s,a){const u=s.filters.concat([a]);return new df(s.path,s.collectionGroup,s.explicitOrderBy.slice(),u,s.limit,s.limitType,s.startAt,s.endAt)}(t._query,i))}}class Soe extends KT{constructor(t,e){super(),this.zc=t,this.Yc=e,this.type="orderBy"}_apply(t){const e=function(i,s,a){if(null!==i.startAt)throw new ct(Ke.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new ct(Ke.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const u=new h0(s,a);return function(f,g){if(null===mV(f)){const C=_V(f);null!==C&&L5(0,C,g.field)}}(i,u),u}(t._query,this.zc,this.Yc);return new na(t.firestore,t.converter,function(i,s){const a=i.explicitOrderBy.concat([s]);return new df(i.path,i.collectionGroup,a,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(t._query,e))}}class k5 extends KT{constructor(t,e,i){super(),this.type=t,this.Xc=e,this.Zc=i}_apply(t){return new na(t.firestore,t.converter,y$(t._query,this.Xc,this.Zc))}}class R5 extends KT{constructor(t,e,i){super(),this.type=t,this.ta=e,this.ea=i}_apply(t){const e=P5(t,this.type,this.ta,this.ea);return new na(t.firestore,t.converter,(s=e,new df((i=t._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,s,i.endAt)));var i,s}}class O5 extends KT{constructor(t,e,i){super(),this.type=t,this.ta=e,this.ea=i}_apply(t){const e=P5(t,this.type,this.ta,this.ea);return new na(t.firestore,t.converter,(s=e,new df((i=t._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,s)));var i,s}}function P5(n,t,e,i){if(e[0]=(0,oe.m9)(e[0]),e[0]instanceof ZT)return function(s,a,u,f,g){if(!f)throw new ct(Ke.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${u}().`);const C=[];for(const x of p0(s))if(x.field.isKeyField())C.push(k1(a,f.key));else{const R=f.data.field(x.field);if(dV(R))throw new ct(Ke.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+x.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===R){const G=x.field.canonicalString();throw new ct(Ke.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${G}' (used as the orderBy) does not exist.`)}C.push(R)}return new IT(C,g)}(n._query,n.firestore._databaseId,t,e[0]._document,i);{const s=H_(n.firestore);return function(a,u,f,g,C,x){const R=a.explicitOrderBy;if(C.length>R.length)throw new ct(Ke.INVALID_ARGUMENT,`Too many arguments provided to ${g}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const G=[];for(let ee=0;ee<C.length;ee++){const he=C[ee];if(R[ee].field.isKeyField()){if("string"!=typeof he)throw new ct(Ke.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${g}(), but got a ${typeof he}`);if(!yV(a)&&-1!==he.indexOf("/"))throw new ct(Ke.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${g}() must be a plain document ID, but '${he}' contains a slash.`);const Fe=a.path.child(fi.fromString(he));if(!$t.isDocumentKey(Fe))throw new ct(Ke.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${g}() must result in a valid document path, but '${Fe}' is not because it contains an odd number of segments.`);const He=new $t(Fe);G.push(k1(u,He))}else{const Fe=T5(f,g,he);G.push(Fe)}}return new IT(G,x)}(n._query,n.firestore._databaseId,s,t,e,i)}}function N5(n,t,e){if("string"==typeof(e=(0,oe.m9)(e))){if(""===e)throw new ct(Ke.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!yV(t)&&-1!==e.indexOf("/"))throw new ct(Ke.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const i=t.path.child(fi.fromString(e));if(!$t.isDocumentKey(i))throw new ct(Ke.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return k1(n,new $t(i))}if(e instanceof ar)return k1(n,e._key);throw new ct(Ke.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${rk(e)}.`)}function F5(n,t){if(!Array.isArray(n)||0===n.length)throw new ct(Ke.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`);if(n.length>10)throw new ct(Ke.INVALID_ARGUMENT,`Invalid Query. '${t.toString()}' filters support a maximum of 10 elements in the value array.`)}function L5(n,t,e){if(!e.isEqual(t))throw new ct(Ke.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${t.toString()}' and so you must also use '${t.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${e.toString()}' instead.`)}class l3{convertValue(t,e="none"){switch(O_(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ms(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(u0(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw Wt()}}convertObject(t,e){const i={};return k_(t.fields,(s,a)=>{i[s]=this.convertValue(a,e)}),i}convertGeoPoint(t){return new ok(ms(t.latitude),ms(t.longitude))}convertArray(t,e){return(t.values||[]).map(i=>this.convertValue(i,e))}convertServerTimestamp(t,e){switch(e){case"previous":const i=a$(t);return null==i?null:this.convertValue(i,e);case"estimate":return this.convertTimestamp(DT(t));default:return null}}convertTimestamp(t){const e=gg(t);return new eo(e.seconds,e.nanos)}convertDocumentKey(t,e){const i=fi.fromString(t);dn(n8(i));const s=new L0(i.get(1),i.get(3)),a=new $t(i.popFirst(5));return s.isEqual(e)||gs(`Document ${a} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),a}}function hk(n,t,e){let i;return i=n?e&&(e.merge||e.mergeFields)?n.toFirestore(t,e):n.toFirestore(t):t,i}class Poe extends l3{constructor(t){super(),this.firestore=t}convertBytes(t){return new Hd(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new ar(this.firestore,null,e)}}class V5{constructor(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=H_(t)}set(t,e,i){this._verifyNotCommitted();const s=Sg(t,this._firestore),a=hk(s.converter,e,i),u=lk(this._dataReader,"WriteBatch.set",s._key,a,null!==s.converter,i);return this._mutations.push(u.toMutation(s._key,_s.none())),this}update(t,e,i,...s){this._verifyNotCommitted();const a=Sg(t,this._firestore);let u;return u="string"==typeof(e=(0,oe.m9)(e))||e instanceof gf?s3(this._dataReader,"WriteBatch.update",a._key,e,i,s):r3(this._dataReader,"WriteBatch.update",a._key,e),this._mutations.push(u.toMutation(a._key,_s.exists(!0))),this}delete(t){this._verifyNotCommitted();const e=Sg(t,this._firestore);return this._mutations=this._mutations.concat(new OT(e._key,_s.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ct(Ke.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Sg(n,t){if((n=(0,oe.m9)(n)).firestore!==t)throw new ct(Ke.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class G_ extends l3{constructor(t){super(),this.firestore=t}convertBytes(t){return new Hd(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new ar(this.firestore,null,e)}}function B5(n,t,e){n=Yn(n,ar);const i=Yn(n.firestore,Cr),s=hk(n.converter,t,e);return V0(i,[lk(H_(i),"setDoc",n._key,s,null!==n.converter,e).toMutation(n._key,_s.none())])}function U5(n,t,e,...i){n=Yn(n,ar);const s=Yn(n.firestore,Cr),a=H_(s);let u;return u="string"==typeof(t=(0,oe.m9)(t))||t instanceof gf?s3(a,"updateDoc",n._key,t,e,i):r3(a,"updateDoc",n._key,t),V0(s,[u.toMutation(n._key,_s.exists(!0))])}function j5(n,...t){var e,i,s;n=(0,oe.m9)(n);let a={includeMetadataChanges:!1},u=0;"object"!=typeof t[u]||n3(t[u])||(a=t[u],u++);const f={includeMetadataChanges:a.includeMetadataChanges};if(n3(t[u])){const R=t[u];t[u]=null===(e=R.next)||void 0===e?void 0:e.bind(R),t[u+1]=null===(i=R.error)||void 0===i?void 0:i.bind(R),t[u+2]=null===(s=R.complete)||void 0===s?void 0:s.bind(R)}let g,C,x;if(n instanceof ar)C=Yn(n.firestore,Cr),x=f0(n._key.path),g={next:R=>{t[u]&&t[u](c3(C,n,R))},error:t[u+1],complete:t[u+2]};else{const R=Yn(n,na);C=Yn(R.firestore,Cr),x=R._query;const G=new G_(C);g={next:ee=>{t[u]&&t[u](new Dg(C,G,R,ee))},error:t[u+1],complete:t[u+2]},M5(n._query)}return function(R,G,ee,he){const Fe=new nk(he),He=new vB(G,Fe,ee);return R.asyncQueue.enqueueAndForget((0,Je.Z)(function*(){return pB(yield F0(R),He)})),()=>{Fe.nc(),R.asyncQueue.enqueueAndForget((0,Je.Z)(function*(){return mB(yield F0(R),He)}))}}(vs(C),x,f,g)}function V0(n,t){return function(e,i){const s=new Xs;return e.asyncQueue.enqueueAndForget((0,Je.Z)(function*(){return function(n,t,e){return DB.apply(this,arguments)}(yield XB(e),i,s)})),s.promise}(vs(n),t)}function c3(n,t,e){const i=e.docs.get(t._key),s=new G_(n);return new mf(n,s,t._key,i,new z_(e.hasPendingWrites,e.fromCache),t.converter)}class zoe extends class{constructor(t,e){this._firestore=t,this._transaction=e,this._dataReader=H_(t)}get(t){const e=Sg(t,this._firestore),i=new Poe(this._firestore);return this._transaction.lookup([e._key]).then(s=>{if(!s||1!==s.length)return Wt();const a=s[0];if(a.isFoundDocument())return new ZT(this._firestore,i,a.key,a,e.converter);if(a.isNoDocument())return new ZT(this._firestore,i,e._key,null,e.converter);throw Wt()})}set(t,e,i){const s=Sg(t,this._firestore),a=hk(s.converter,e,i),u=lk(this._dataReader,"Transaction.set",s._key,a,null!==s.converter,i);return this._transaction.set(s._key,u),this}update(t,e,i,...s){const a=Sg(t,this._firestore);let u;return u="string"==typeof(e=(0,oe.m9)(e))||e instanceof gf?s3(this._dataReader,"Transaction.update",a._key,e,i,s):r3(this._dataReader,"Transaction.update",a._key,e),this._transaction.update(a._key,u),this}delete(t){const e=Sg(t,this._firestore);return this._transaction.delete(e._key),this}}{constructor(t,e){super(t,e),this._firestore=t}get(t){const e=Sg(t,this._firestore),i=new G_(this._firestore);return super.get(t).then(s=>new mf(this._firestore,i,e._key,s._document,new z_(!1,!1),e.converter))}}function d3(n,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new ct("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return t}function q5(){if("undefined"==typeof Uint8Array)throw new ct("unimplemented","Uint8Arrays are not available in this environment.")}function z5(){if("undefined"==typeof atob)throw new ct("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,t=!0){a0=vo.SDK_VERSION,(0,vo._registerComponent)(new dl.wA("firestore",(e,{options:i})=>{const s=e.getProvider("app").getImmediate(),a=new Cr(s,new Sie(e.getProvider("auth-internal")),new Aie(e.getProvider("app-check-internal")));return i=Object.assign({useFetchStreams:t},i),a._setSettings(i),a},"PUBLIC")),(0,vo.registerVersion)(e$,"3.4.4",n),(0,vo.registerVersion)(e$,"3.4.4","esm2017")}();class QT{constructor(t){this._delegate=t}static fromBase64String(t){return z5(),new QT(Hd.fromBase64String(t))}static fromUint8Array(t){return q5(),new QT(Hd.fromUint8Array(t))}toBase64(){return z5(),this._delegate.toBase64()}toUint8Array(){return q5(),this._delegate.toUint8Array()}isEqual(t){return this._delegate.isEqual(t._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function h3(n){return function(n,t){if("object"!=typeof n||null===n)return!1;const e=n;for(const i of["next","error","complete"])if(i in e&&"function"==typeof e[i])return!0;return!1}(n)}class eae{enableIndexedDbPersistence(t,e){return function(n,t){C5(n=Yn(n,Cr));const e=vs(n),i=n._freezeSettings(),s=new $B;return b5(e,s,new n5(s,i.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(t._delegate,{forceOwnership:e})}enableMultiTabIndexedDbPersistence(t){return function(n){C5(n=Yn(n,Cr));const t=vs(n),e=n._freezeSettings(),i=new $B;return b5(t,i,new Hse(i,e.cacheSizeBytes))}(t._delegate)}clearIndexedDbPersistence(t){return function(n){if(n._initialized&&!n._terminated)throw new ct(Ke.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new Xs;return n._queue.enqueueAndForgetEvenWhileRestricted((0,Je.Z)(function*(){try{yield(e=(0,Je.Z)(function*(i){if(!zu.Pt())return Promise.resolve();const s=i+"main";yield zu.delete(s)}),function(i){return e.apply(this,arguments)})(FV(n._databaseId,n._persistenceKey)),t.resolve()}catch(e){t.reject(e)}var e})),t.promise}(t._delegate)}}class G5{constructor(t,e,i){this._delegate=e,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},t instanceof L0||(this._appCompat=t)}get _databaseId(){return this._delegate._databaseId}settings(t){const e=this._delegate._getSettings();!t.merge&&e.host!==t.host&&wT("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},e),t)).merge,this._delegate._setSettings(t)}useEmulator(t,e,i={}){!function(n,t,e,i={}){var s;const a=(n=Yn(n,$T))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==t&&wT("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},a),{host:`${t}:${e}`,ssl:!1})),i.mockUserToken){let u,f;if("string"==typeof i.mockUserToken)u=i.mockUserToken,f=So.MOCK_USER;else{u=(0,oe.Sg)(i.mockUserToken,null===(s=n._app)||void 0===s?void 0:s.options.projectId);const g=i.mockUserToken.sub||i.mockUserToken.user_id;if(!g)throw new ct(Ke.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new So(g)}n._authCredentials=new Tie(new t$(u,f))}}(this._delegate,t,e,i)}enableNetwork(){return function(n){return function(n){return n.asyncQueue.enqueue((0,Je.Z)(function*(){const t=yield o5(n),e=yield a5(n);return t.setNetworkEnabled(!0),function(i){const s=Tt(i);return s.Gr.delete(0),zT(s)}(e)}))}(vs(n=Yn(n,Cr)))}(this._delegate)}disableNetwork(){return function(n){return function(n){return n.asyncQueue.enqueue((0,Je.Z)(function*(){const t=yield o5(n),e=yield a5(n);return t.setNetworkEnabled(!1),(i=(0,Je.Z)(function*(s){const a=Tt(s);a.Gr.add(0),yield A0(a),a.Jr.set("Offline")}),function(s){return i.apply(this,arguments)})(e);var i}))}(vs(n=Yn(n,Cr)))}(this._delegate)}enablePersistence(t){let e=!1,i=!1;return t&&(e=!!t.synchronizeTabs,i=!!t.experimentalForceOwningTab,d5("synchronizeTabs",e,"experimentalForceOwningTab",i)),e?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function(n){return function(t){const e=new Xs;return t.asyncQueue.enqueueAndForget((0,Je.Z)(function*(){return function(n,t){return AB.apply(this,arguments)}(yield XB(t),e)})),e.promise}(vs(n=Yn(n,Cr)))}(this._delegate)}onSnapshotsInSync(t){return function(n,t){return function(n,t){const e=new nk(t);return n.asyncQueue.enqueueAndForget((0,Je.Z)(function*(){return i=yield F0(n),s=e,Tt(i).io.add(s),void s.next();var i,s})),()=>{e.nc(),n.asyncQueue.enqueueAndForget((0,Je.Z)(function*(){return i=yield F0(n),s=e,void Tt(i).io.delete(s);var i,s}))}}(vs(n=Yn(n,Cr)),n3(t)?t:{next:t})}(this._delegate,t)}get app(){if(!this._appCompat)throw new ct("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(t){try{return new B0(this,m5(this._delegate,t))}catch(e){throw Ua(e,"collection()","Firestore.collection()")}}doc(t){try{return new jc(this,sk(this._delegate,t))}catch(e){throw Ua(e,"doc()","Firestore.doc()")}}collectionGroup(t){try{return new ja(this,function(n,t){if(n=Yn(n,$T),t3("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new ct(Ke.INVALID_ARGUMENT,`Invalid collection ID '${t}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new na(n,null,(e=t,new df(fi.emptyPath(),e)));var e}(this._delegate,t))}catch(e){throw Ua(e,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(t){return function(n,t){return function(n,t){const e=new Xs;return n.asyncQueue.enqueueAndForget((0,Je.Z)(function*(){const i=yield(s=n,ik(s).then(a=>a.datastore));var s;new Gse(n.asyncQueue,i,t,e).run()})),e.promise}(vs(n=Yn(n,Cr)),e=>t(new zoe(n,e)))}(this._delegate,e=>t(new $5(this,e)))}batch(){return vs(this._delegate),new Y5(new V5(this._delegate,t=>V0(this._delegate,t)))}loadBundle(t){return function(n,t){const e=vs(n=Yn(n,Cr)),i=new soe;return function(n,t,e,i){const s=function(a,u){let f;return f="string"==typeof a?(new TextEncoder).encode(a):a,g=function(g,C){if(g instanceof Uint8Array)return i5(g,C);if(g instanceof ArrayBuffer)return i5(new Uint8Array(g),C);if(g instanceof ReadableStream)return g.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(f),new qse(g,u);var g}(e,qT(t));n.asyncQueue.enqueueAndForget((0,Je.Z)(function*(){!function(n,t,e){const i=Tt(n);var s;(s=(0,Je.Z)(function*(a,u,f){try{const g=yield u.getMetadata();if(yield function(G,ee){const he=Tt(G),Fe=to(ee.createTime);return he.persistence.runTransaction("hasNewerBundle","readonly",He=>he.Ye.getBundleMetadata(He,ee.id)).then(He=>!!He&&He.createTime.compareTo(Fe)>=0)}(a.localStore,g))return yield u.close(),void f._completeWith((G=g,{taskState:"Success",documentsLoaded:G.totalDocuments,bytesLoaded:G.totalBytes,totalDocuments:G.totalDocuments,totalBytes:G.totalBytes}));f._updateProgress($8(g));const C=new bse(g,a.localStore,u.k);let x=yield u.Ho();for(;x;){const G=yield C.yo(x);G&&f._updateProgress(G),x=yield u.Ho()}const R=yield C.complete();yield pf(a,R.In,void 0),yield function(G,ee){const he=Tt(G);return he.persistence.runTransaction("Save bundle","readwrite",Fe=>he.Ye.saveBundleMetadata(Fe,ee))}(a.localStore,g),f._completeWith(R.progress)}catch(g){wT("SyncEngine",`Loading bundle failed with ${g}`),f._failWith(g)}var G}),function(a,u,f){return s.apply(this,arguments)})(i,t,e).then(()=>{i.sharedClientState.notifyBundleLoaded()})}(yield XB(n),s,i)}))}(e,n._databaseId,t,i),i}(this._delegate,t)}namedQuery(t){return function(n,t){return function(n,t){return n.asyncQueue.enqueue((0,Je.Z)(function*(){return function(e,i){const s=Tt(e);return s.persistence.runTransaction("Get named query","readonly",a=>s.Ye.getNamedQuery(a,i))}(yield JB(n),t)}))}(vs(n=Yn(n,Cr)),t).then(e=>e?new na(n,null,e.query):null)}(this._delegate,t).then(e=>e?new ja(this,e):null)}}class fk extends l3{constructor(t){super(),this.firestore=t}convertBytes(t){return new QT(new Hd(t))}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return jc.forKey(e,this.firestore,null)}}class $5{constructor(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new fk(t)}get(t){const e=Y_(t);return this._delegate.get(e).then(i=>new JT(this._firestore,new mf(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,e.converter)))}set(t,e,i){const s=Y_(t);return i?(d3("Transaction.set",i),this._delegate.set(s,e,i)):this._delegate.set(s,e),this}update(t,e,i,...s){const a=Y_(t);return 2===arguments.length?this._delegate.update(a,e):this._delegate.update(a,e,i,...s),this}delete(t){const e=Y_(t);return this._delegate.delete(e),this}}class Y5{constructor(t){this._delegate=t}set(t,e,i){const s=Y_(t);return i?(d3("WriteBatch.set",i),this._delegate.set(s,e,i)):this._delegate.set(s,e),this}update(t,e,i,...s){const a=Y_(t);return 2===arguments.length?this._delegate.update(a,e):this._delegate.update(a,e,i,...s),this}delete(t){const e=Y_(t);return this._delegate.delete(e),this}commit(){return this._delegate.commit()}}class $_{constructor(t,e,i){this._firestore=t,this._userDataWriter=e,this._delegate=i}fromFirestore(t,e){const i=new WT(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new XT(this._firestore,i),null!=e?e:{})}toFirestore(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)}static getInstance(t,e){const i=$_.INSTANCES;let s=i.get(t);s||(s=new WeakMap,i.set(t,s));let a=s.get(e);return a||(a=new $_(t,new fk(t),e),s.set(e,a)),a}}$_.INSTANCES=new WeakMap;class jc{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new fk(t)}static forPath(t,e,i){if(t.length%2!=0)throw new ct("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${t.canonicalString()} has ${t.length}`);return new jc(e,new ar(e._delegate,i,new $t(t)))}static forKey(t,e,i){return new jc(e,new ar(e._delegate,i,t))}get id(){return this._delegate.id}get parent(){return new B0(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(t){try{return new B0(this.firestore,m5(this._delegate,t))}catch(e){throw Ua(e,"collection()","DocumentReference.collection()")}}isEqual(t){return(t=(0,oe.m9)(t))instanceof ar&&_5(this._delegate,t)}set(t,e){e=d3("DocumentReference.set",e);try{return e?B5(this._delegate,t,e):B5(this._delegate,t)}catch(i){throw Ua(i,"setDoc()","DocumentReference.set()")}}update(t,e,...i){try{return 1===arguments.length?U5(this._delegate,t):U5(this._delegate,t,e,...i)}catch(s){throw Ua(s,"updateDoc()","DocumentReference.update()")}}delete(){return function(n){return V0(Yn(n.firestore,Cr),[new OT(n._key,_s.none())])}(this._delegate)}onSnapshot(...t){const e=Z5(t),i=W5(t,s=>new JT(this.firestore,new mf(this.firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,this._delegate.converter)));return j5(this._delegate,e,i)}get(t){let e;return e="cache"===(null==t?void 0:t.source)?function(n){n=Yn(n,ar);const t=Yn(n.firestore,Cr),e=vs(t),i=new G_(t);return function(n,t){const e=new Xs;return n.asyncQueue.enqueueAndForget((0,Je.Z)(function*(){return(i=(0,Je.Z)(function*(s,a,u){try{const f=yield function(g,C){const x=Tt(g);return x.persistence.runTransaction("read document","readonly",R=>x.Wn.Rn(R,C))}(s,a);f.isFoundDocument()?u.resolve(f):f.isNoDocument()?u.resolve(null):u.reject(new ct(Ke.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(f){const g=R0(f,`Failed to get document '${a} from cache`);u.reject(g)}}),function(s,a,u){return i.apply(this,arguments)})(yield JB(n),t,e);var i})),e.promise}(e,n._key).then(s=>new mf(t,i,n._key,s,new z_(null!==s&&s.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===(null==t?void 0:t.source)?function(n){n=Yn(n,ar);const t=Yn(n.firestore,Cr);return l5(vs(t),n._key,{source:"server"}).then(e=>c3(t,n,e))}(this._delegate):function(n){n=Yn(n,ar);const t=Yn(n.firestore,Cr);return l5(vs(t),n._key).then(e=>c3(t,n,e))}(this._delegate),e.then(i=>new JT(this.firestore,new mf(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(t){return new jc(this.firestore,this._delegate.withConverter(t?$_.getInstance(this.firestore,t):null))}}function Ua(n,t,e){return n.message=n.message.replace(t,e),n}function Z5(n){for(const t of n)if("object"==typeof t&&!h3(t))return t;return{}}function W5(n,t){var e,i;let s;return s=h3(n[0])?n[0]:h3(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:a=>{s.next&&s.next(t(a))},error:null===(e=s.error)||void 0===e?void 0:e.bind(s),complete:null===(i=s.complete)||void 0===i?void 0:i.bind(s)}}class JT{constructor(t,e){this._firestore=t,this._delegate=e}get ref(){return new jc(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(t){return this._delegate.data(t)}get(t,e){return this._delegate.get(t,e)}isEqual(t){return A5(this._delegate,t._delegate)}}class XT extends JT{data(t){const e=this._delegate.data(t);return function(n,t){n||Wt()}(void 0!==e),e}}class ja{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new fk(t)}where(t,e,i){try{return new ja(this.firestore,Tg(this._delegate,function(n,t,e){const i=t,s=dk("where",n);return new Doe(s,i,e)}(t,e,i)))}catch(s){throw Ua(s,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(t,e){try{return new ja(this.firestore,Tg(this._delegate,function(n,t="asc"){const e=t,i=dk("orderBy",n);return new Soe(i,e)}(t,e)))}catch(i){throw Ua(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(t){try{return new ja(this.firestore,Tg(this._delegate,function(n){return p5("limit",n),new k5("limit",n,"F")}(t)))}catch(e){throw Ua(e,"limit()","Query.limit()")}}limitToLast(t){try{return new ja(this.firestore,Tg(this._delegate,function(n){return p5("limitToLast",n),new k5("limitToLast",n,"L")}(t)))}catch(e){throw Ua(e,"limitToLast()","Query.limitToLast()")}}startAt(...t){try{return new ja(this.firestore,Tg(this._delegate,function(...n){return new R5("startAt",n,!0)}(...t)))}catch(e){throw Ua(e,"startAt()","Query.startAt()")}}startAfter(...t){try{return new ja(this.firestore,Tg(this._delegate,function(...n){return new R5("startAfter",n,!1)}(...t)))}catch(e){throw Ua(e,"startAfter()","Query.startAfter()")}}endBefore(...t){try{return new ja(this.firestore,Tg(this._delegate,function(...n){return new O5("endBefore",n,!0)}(...t)))}catch(e){throw Ua(e,"endBefore()","Query.endBefore()")}}endAt(...t){try{return new ja(this.firestore,Tg(this._delegate,function(...n){return new O5("endAt",n,!1)}(...t)))}catch(e){throw Ua(e,"endAt()","Query.endAt()")}}isEqual(t){return y5(this._delegate,t._delegate)}get(t){let e;return e="cache"===(null==t?void 0:t.source)?function(n){n=Yn(n,na);const t=Yn(n.firestore,Cr),e=vs(t),i=new G_(t);return function(n,t){const e=new Xs;return n.asyncQueue.enqueueAndForget((0,Je.Z)(function*(){return(i=(0,Je.Z)(function*(s,a,u){try{const f=yield K1(s,a,!0),g=new W8(a,f.zn),C=g.Po(f.documents),x=g.applyChanges(C,!1);u.resolve(x.snapshot)}catch(f){const g=R0(f,`Failed to execute query '${a} against cache`);u.reject(g)}}),function(s,a,u){return i.apply(this,arguments)})(yield JB(n),t,e);var i})),e.promise}(e,n._query).then(s=>new Dg(t,i,n,s))}(this._delegate):"server"===(null==t?void 0:t.source)?function(n){n=Yn(n,na);const t=Yn(n.firestore,Cr),e=vs(t),i=new G_(t);return c5(e,n._query,{source:"server"}).then(s=>new Dg(t,i,n,s))}(this._delegate):function(n){n=Yn(n,na);const t=Yn(n.firestore,Cr),e=vs(t),i=new G_(t);return M5(n._query),c5(e,n._query).then(s=>new Dg(t,i,n,s))}(this._delegate),e.then(i=>new f3(this.firestore,new Dg(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...t){const e=Z5(t),i=W5(t,s=>new f3(this.firestore,new Dg(this.firestore._delegate,this._userDataWriter,this._delegate,s._snapshot)));return j5(this._delegate,e,i)}withConverter(t){return new ja(this.firestore,this._delegate.withConverter(t?$_.getInstance(this.firestore,t):null))}}class nae{constructor(t,e){this._firestore=t,this._delegate=e}get type(){return this._delegate.type}get doc(){return new XT(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class f3{constructor(t,e){this._firestore=t,this._delegate=e}get query(){return new ja(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(t=>new XT(this._firestore,t))}docChanges(t){return this._delegate.docChanges(t).map(e=>new nae(this._firestore,e))}forEach(t,e){this._delegate.forEach(i=>{t.call(e,new XT(this._firestore,i))})}isEqual(t){return A5(this._delegate,t._delegate)}}class B0 extends ja{constructor(t,e){super(t,e),this.firestore=t,this._delegate=e}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const t=this._delegate.parent;return t?new jc(this.firestore,t):null}doc(t){try{return new jc(this.firestore,void 0===t?sk(this._delegate):sk(this._delegate,t))}catch(e){throw Ua(e,"doc()","CollectionReference.doc()")}}add(t){return function(n,t){const e=Yn(n.firestore,Cr),i=sk(n),s=hk(n.converter,t);return V0(e,[lk(H_(n.firestore),"addDoc",i._key,s,null!==n.converter,{}).toMutation(i._key,_s.exists(!1))]).then(()=>i)}(this._delegate,t).then(e=>new jc(this.firestore,e))}isEqual(t){return _5(this._delegate,t._delegate)}withConverter(t){return new B0(this.firestore,this._delegate.withConverter(t?$_.getInstance(this.firestore,t):null))}}function Y_(n){return Yn(n,ar)}class p3{constructor(...t){this._delegate=new gf(...t)}static documentId(){return new p3(xo.keyField().canonicalString())}isEqual(t){return(t=(0,oe.m9)(t))instanceof gf&&this._delegate._internalPath.isEqual(t._internalPath)}}class Z_{constructor(t){this._delegate=t}static serverTimestamp(){const t=new i3("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new Z_(t)}static delete(){const t=new YT("deleteField");return t._methodName="FieldValue.delete",new Z_(t)}static arrayUnion(...t){const e=function(...n){return new yoe("arrayUnion",n)}(...t);return e._methodName="FieldValue.arrayUnion",new Z_(e)}static arrayRemove(...t){const e=function(...n){return new voe("arrayRemove",n)}(...t);return e._methodName="FieldValue.arrayRemove",new Z_(e)}static increment(t){const e=function(n){return new boe("increment",n)}(t);return e._methodName="FieldValue.increment",new Z_(e)}isEqual(t){return this._delegate.isEqual(t._delegate)}}const iae={Firestore:G5,GeoPoint:ok,Timestamp:eo,Blob:QT,Transaction:$5,WriteBatch:Y5,DocumentReference:jc,DocumentSnapshot:JT,Query:ja,QueryDocumentSnapshot:XT,QuerySnapshot:f3,CollectionReference:B0,FieldPath:p3,FieldValue:Z_,setLogLevel:function(n){!function(n){pg.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};function K5(n,t){return function(n,t=Sh.z){return new Bn.y(e=>{let i;return null!=t?t.schedule(()=>{i=n.onSnapshot({includeMetadataChanges:!0},e)}):i=n.onSnapshot({includeMetadataChanges:!0},e),()=>{null!=i&&i()}})}(n,t)}function g3(n,t){return K5(n,t).pipe((0,At.U)(e=>({payload:e,type:"query"})))}function pk(n,t){return g3(n,t).pipe(Di(void 0),CC(),(0,At.U)(([e,i])=>{const s=i.payload.docChanges(),a=s.map(u=>({type:u.type,payload:u}));return e&&JSON.stringify(e.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((u,f)=>{const g=s.find(x=>x.doc.ref.isEqual(u.ref)),C=null==e?void 0:e.payload.docs.find(x=>x.ref.isEqual(u.ref));g&&JSON.stringify(g.doc.metadata)===JSON.stringify(u.metadata)||!g&&C&&JSON.stringify(C.metadata)===JSON.stringify(u.metadata)||a.push({type:"modified",payload:{oldIndex:f,newIndex:f,type:"modified",doc:u}})}),a}))}function Q5(n,t,e){return pk(n,e).pipe(Il((i,s)=>function(n,t,e){return t.forEach(i=>{e.indexOf(i.type)>-1&&(n=function(n,t){switch(t.type){case"added":if(!n[t.newIndex]||!n[t.newIndex].doc.ref.isEqual(t.doc.ref))return m3(n,t.newIndex,0,t);break;case"modified":if(null==n[t.oldIndex]||n[t.oldIndex].doc.ref.isEqual(t.doc.ref)){if(t.oldIndex!==t.newIndex){const e=n.slice();return e.splice(t.oldIndex,1),e.splice(t.newIndex,0,t),e}return m3(n,t.newIndex,1,t)}break;case"removed":if(n[t.oldIndex]&&n[t.oldIndex].doc.ref.isEqual(t.doc.ref))return m3(n,t.oldIndex,1)}return n}(n,i))}),n}(i,s.map(a=>a.payload),t),[]),yd(),(0,At.U)(i=>i.map(s=>({type:s.type,payload:s}))))}function m3(n,t,e,...i){const s=n.slice();return s.splice(t,e,...i),s}function J5(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}!function(n){(function(n,t){n.INTERNAL.registerComponent(new dl.wA("firestore-compat",e=>((t,e)=>new G5(t,e,new eae))(e.getProvider("app-compat").getImmediate(),e.getProvider("firestore").getImmediate()),"PUBLIC").setServiceProps(Object.assign({},iae)))})(n),n.registerVersion("@firebase/firestore-compat","0.1.13")}(mb.Z);class X5{constructor(t,e,i){this.ref=t,this.query=e,this.afs=i}stateChanges(t){let e=pk(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe((0,At.U)(i=>i.filter(s=>t.indexOf(s.type)>-1)))),e.pipe(Di(void 0),CC(),xn(([i,s])=>s.length>0||!i),(0,At.U)(([i,s])=>s),$n.iC)}auditTrail(t){return this.stateChanges(t).pipe(Il((e,i)=>[...e,...i],[]))}snapshotChanges(t){const e=J5(t);return Q5(this.query,e,this.afs.schedulers.outsideAngular).pipe($n.iC)}valueChanges(t={}){return g3(this.query,this.afs.schedulers.outsideAngular).pipe((0,At.U)(e=>e.payload.docs.map(i=>t.idField?Object.assign(Object.assign({},i.data()),{[t.idField]:i.id}):i.data())),$n.iC)}get(t){return(0,Gn.D)(this.query.get(t)).pipe($n.iC)}add(t){return this.ref.add(t)}doc(t){return new eY(this.ref.doc(t),this.afs)}}class eY{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const i=this.ref.collection(t),{ref:s,query:a}=iY(i,e);return new X5(s,a,this.afs)}snapshotChanges(){return function(n,t){return K5(n,t).pipe(Di(void 0),CC(),(0,At.U)(([e,i])=>i.exists?(null==e?void 0:e.exists)?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe($n.iC)}valueChanges(t={}){return this.snapshotChanges().pipe((0,At.U)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return(0,Gn.D)(this.ref.get(t)).pipe($n.iC)}}class uae{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?pk(this.query,this.afs.schedulers.outsideAngular).pipe((0,At.U)(e=>e.filter(i=>t.indexOf(i.type)>-1)),xn(e=>e.length>0),$n.iC):pk(this.query,this.afs.schedulers.outsideAngular).pipe($n.iC)}auditTrail(t){return this.stateChanges(t).pipe(Il((e,i)=>[...e,...i],[]))}snapshotChanges(t){const e=J5(t);return Q5(this.query,e,this.afs.schedulers.outsideAngular).pipe($n.iC)}valueChanges(t={}){return g3(this.query,this.afs.schedulers.outsideAngular).pipe((0,At.U)(i=>i.payload.docs.map(s=>t.idField?Object.assign({[t.idField]:s.id},s.data()):s.data())),$n.iC)}get(t){return(0,Gn.D)(this.query.get(t)).pipe($n.iC)}}const tY=new r.OlP("angularfire2.enableFirestorePersistence"),nY=new r.OlP("angularfire2.firestore.persistenceSettings"),dae=new r.OlP("angularfire2.firestore.settings"),hae=new r.OlP("angularfire2.firestore.use-emulator");function iY(n,t=(e=>e)){return{query:t(n),ref:n}}let fae=(()=>{class n{constructor(e,i,s,a,u,f,g,C,x,R,G,ee,he,Fe,He,ht,mt){this.schedulers=g;const Et=(0,Zi.on)(e,f,i),Ct=x;R&&m2(Et,f,G,he,Fe,He,ee,ht),[this.firestore,this.persistenceEnabled$]=(0,Zi.cc)(`${Et.name}.firestore`,"AngularFirestore",Et.name,()=>{const Ln=f.runOutsideAngular(()=>Et.firestore());if(a&&Ln.settings(a),Ct&&Ln.useEmulator(...Ct),s&&!it(u)){const Ci=()=>{try{return(0,Gn.D)(Ln.enablePersistence(C||void 0).then(()=>!0,()=>!1))}catch(wr){return"undefined"!=typeof console&&console.warn(wr),(0,ft.of)(!1)}};return[Ln,f.runOutsideAngular(Ci)]}return[Ln,(0,ft.of)(!1)]},[a,Ct,s])}collection(e,i){let s;s="string"==typeof e?this.firestore.collection(e):e;const{ref:a,query:u}=iY(s,i),f=this.schedulers.ngZone.run(()=>a);return new X5(f,u,this)}collectionGroup(e,i){const s=i||(u=>u),a=this.firestore.collectionGroup(e);return new uae(s(a),this)}doc(e){let i;i="string"==typeof e?this.firestore.doc(e):e;const s=this.schedulers.ngZone.run(()=>i);return new eY(s,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(Zi.Dh),r.LFG(Zi.xv,8),r.LFG(tY,8),r.LFG(dae,8),r.LFG(r.Lbi),r.LFG(r.R0b),r.LFG($n.HU),r.LFG(nY,8),r.LFG(hae,8),r.LFG(_2,8),r.LFG(u2,8),r.LFG(d2,8),r.LFG(h2,8),r.LFG(f2,8),r.LFG(p2,8),r.LFG(g2,8),r.LFG(mD,8))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),pae=(()=>{class n{constructor(){vF.Z.registerVersion("angularfire",$n.q4.full,"fst-compat")}static enablePersistence(e){return{ngModule:n,providers:[{provide:tY,useValue:!0},{provide:nY,useValue:e}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({providers:[fae]}),n})(),eS=(()=>{class n{constructor(){this.changes=new yt.xQ,this.calendarLabel="Calendar",this.openCalendarLabel="Open calendar",this.closeCalendarLabel="Close calendar",this.prevMonthLabel="Previous month",this.nextMonthLabel="Next month",this.prevYearLabel="Previous year",this.nextYearLabel="Next year",this.prevMultiYearLabel="Previous 24 years",this.nextMultiYearLabel="Next 24 years",this.switchToMonthViewLabel="Choose date",this.switchToMultiYearViewLabel="Choose month and year"}formatYearRange(e,i){return`${e} \u2013 ${i}`}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=r.Yz7({factory:function(){return new n},token:n,providedIn:"root"}),n})();const $ae={provide:new r.OlP("mat-datepicker-scroll-strategy"),deps:[Ia],useFactory:function(n){return()=>n.scrollStrategies.reposition()}};let tle=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({providers:[eS,$ae],imports:[[Ue,Jw,Qy,aw,zy,wn],dp]}),n})(),yk=(()=>{class n{constructor(){this.changes=new yt.xQ}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=r.Yz7({factory:function(){return new n},token:n,providedIn:"root"}),n})();const ule={provide:yk,deps:[[new r.FiY,new r.tp0,yk]],useFactory:function(n){return n||new yk}};let hle=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({providers:[ule],imports:[[Ue,wn]]}),n})(),Dle=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[[Au,wn],wn]}),n})(),Tle=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[[]]}),n})();var Sle=M(2482);!function(n,t,e){(0,r.dwT)(n,void 0,void 0)}(M.n(Sle)());let Ile=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n,bootstrap:[zQ]}),n.\u0275inj=r.cJS({providers:[{provide:"SocialAuthServiceConfig",useValue:{autoLogin:!1,providers:[{id:_D.PROVIDER_ID,provider:new _D("803165754242-rnmjlr4uogg8cgoht3o7u0irrkhic1mg.apps.googleusercontent.com")}]}}],imports:[[Tj,G7,hle,dM,AW,tle,zO,UW,FH,Dle,Jw,$K,RQ,nj,WW,qH,PQ,R9,RK,TK,oQ,Tle,mK,m9,cH,aZ,JZ,YP,ih,mQ,FO,JQ.register("ngsw-worker.js",{enabled:true,registrationStrategy:"registerWhenStable:30000"}),d6,Zi.hO.initializeApp(KF_firebase),pae,pne,rZ]]}),n})();(0,r.G48)(),Dl().bootstrapModule(Ile).catch(n=>console.error(n))},4762:(nt,D,M)=>{"use strict";function T(pe,K){var te={};for(var ae in pe)Object.prototype.hasOwnProperty.call(pe,ae)&&K.indexOf(ae)<0&&(te[ae]=pe[ae]);if(null!=pe&&"function"==typeof Object.getOwnPropertySymbols){var _e=0;for(ae=Object.getOwnPropertySymbols(pe);_e<ae.length;_e++)K.indexOf(ae[_e])<0&&Object.prototype.propertyIsEnumerable.call(pe,ae[_e])&&(te[ae[_e]]=pe[ae[_e]])}return te}function L(pe,K,te,ae){return new(te||(te=Promise))(function(ge,Ze){function ot(Xe){try{st(ae.next(Xe))}catch(Qe){Ze(Qe)}}function wt(Xe){try{st(ae.throw(Xe))}catch(Qe){Ze(Qe)}}function st(Xe){Xe.done?ge(Xe.value):function(ge){return ge instanceof te?ge:new te(function(Ze){Ze(ge)})}(Xe.value).then(ot,wt)}st((ae=ae.apply(pe,K||[])).next())})}M.d(D,{_T:()=>T,mG:()=>L})},3394:(nt,D,M)=>{"use strict";M.d(D,{Z:()=>Re});var r=M(3854),b=M(3910),v=M(8026),T=M(5422);class S{constructor(le,Q){this._delegate=le,this.firebase=Q,(0,v._addComponent)(le,new b.wA("app-compat",()=>this,"PUBLIC")),this.container=le.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(le){this._delegate.automaticDataCollectionEnabled=le}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(le=>{this._delegate.checkDestroyed(),le()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,v.deleteApp)(this._delegate)))}_getService(le,Q=v._DEFAULT_ENTRY_NAME){var ue;this._delegate.checkDestroyed();const Ee=this._delegate.container.getProvider(le);return!Ee.isInitialized()&&"EXPLICIT"===(null===(ue=Ee.getComponent())||void 0===ue?void 0:ue.instantiationMode)&&Ee.initialize(),Ee.getImmediate({identifier:Q})}_removeServiceInstance(le,Q=v._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(le).clearInstance(Q)}_addComponent(le){(0,v._addComponent)(this._delegate,le)}_addOrOverwriteComponent(le){(0,v._addOrOverwriteComponent)(this._delegate,le)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const F=new r.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),H=function j(){const Me=function(Me){const le={},Q={__esModule:!0,initializeApp:function(ke,ie={}){const pe=v.initializeApp(ke,ie);if((0,r.r3)(le,pe.name))return le[pe.name];const K=new Me(pe,Q);return le[pe.name]=K,K},app:Ee,registerVersion:v.registerVersion,setLogLevel:v.setLogLevel,onLog:v.onLog,apps:null,SDK_VERSION:v.SDK_VERSION,INTERNAL:{registerComponent:function(ke){const ie=ke.name,pe=ie.replace("-compat","");if(v._registerComponent(ke)&&"PUBLIC"===ke.type){const K=(te=Ee())=>{if("function"!=typeof te[pe])throw F.create("invalid-app-argument",{appName:ie});return te[pe]()};void 0!==ke.serviceProps&&(0,r.ZB)(K,ke.serviceProps),Q[pe]=K,Me.prototype[pe]=function(...te){return this._getService.bind(this,ie).apply(this,ke.multipleInstances?te:[])}}return"PUBLIC"===ke.type?Q[pe]:null},removeApp:function(ke){delete le[ke]},useAsService:function(ke,ie){return"serverAuth"===ie?null:ie},modularAPIs:v}};function Ee(ke){if(!(0,r.r3)(le,ke=ke||v._DEFAULT_ENTRY_NAME))throw F.create("no-app",{appName:ke});return le[ke]}return Q.default=Q,Object.defineProperty(Q,"apps",{get:function(){return Object.keys(le).map(ke=>le[ke])}}),Ee.App=Me,Q}(S);return Me.INTERNAL=Object.assign(Object.assign({},Me.INTERNAL),{createFirebaseNamespace:j,extendNamespace:function(Q){(0,r.ZB)(Me,Q)},createSubscribe:r.ne,ErrorFactory:r.LL,deepExtend:r.ZB}),Me}(),Z=new T.Yd("@firebase/app-compat");if((0,r.jU)()&&void 0!==self.firebase){Z.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Me=self.firebase.SDK_VERSION;Me&&Me.indexOf("LITE")>=0&&Z.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Re=H;(0,v.registerVersion)("@firebase/app-compat","0.1.16",undefined)},8026:(nt,D,M)=>{"use strict";M.r(D),M.d(D,{FirebaseError:()=>T.ZR,SDK_VERSION:()=>lr,_DEFAULT_ENTRY_NAME:()=>wt,_addComponent:()=>St,_addOrOverwriteComponent:()=>tn,_apps:()=>Xe,_clearComponents:()=>xt,_components:()=>Qe,_getProvider:()=>Ht,_registerComponent:()=>vn,_removeServiceInstance:()=>Vt,deleteApp:()=>zr,getApp:()=>bs,getApps:()=>Qi,initializeApp:()=>Vs,onLog:()=>Zn,registerVersion:()=>It,setLogLevel:()=>Li});var r=M(8239),b=M(3910),v=M(5422),T=M(3854);class S{constructor(Lt){this.container=Lt}getPlatformInfoString(){return this.container.getProviders().map(hn=>{if(function(Rt){const Lt=Rt.getComponent();return"VERSION"===(null==Lt?void 0:Lt.type)}(hn)){const fn=hn.getImmediate();return`${fn.library}/${fn.version}`}return null}).filter(hn=>hn).join(" ")}}const F="@firebase/app",L="0.7.15",j=new v.Yd("@firebase/app"),wt="[DEFAULT]",st={[F]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Xe=new Map,Qe=new Map;function St(Rt,Lt){try{Rt.container.addComponent(Lt)}catch(hn){j.debug(`Component ${Lt.name} failed to register with FirebaseApp ${Rt.name}`,hn)}}function tn(Rt,Lt){Rt.container.addOrOverwriteComponent(Lt)}function vn(Rt){const Lt=Rt.name;if(Qe.has(Lt))return j.debug(`There were multiple attempts to register component ${Lt}.`),!1;Qe.set(Lt,Rt);for(const hn of Xe.values())St(hn,Rt);return!0}function Ht(Rt,Lt){return Rt.container.getProvider(Lt)}function Vt(Rt,Lt,hn=wt){Ht(Rt,Lt).clearInstance(hn)}function xt(){Qe.clear()}const Hn=new T.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."});class xi{constructor(Lt,hn,fn){this._isDeleted=!1,this._options=Object.assign({},Lt),this._config=Object.assign({},hn),this._name=hn.name,this._automaticDataCollectionEnabled=hn.automaticDataCollectionEnabled,this._container=fn,this.container.addComponent(new b.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Lt){this.checkDestroyed(),this._automaticDataCollectionEnabled=Lt}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Lt){this._isDeleted=Lt}checkDestroyed(){if(this.isDeleted)throw Hn.create("app-deleted",{appName:this._name})}}const lr="9.6.5";function Vs(Rt,Lt={}){"object"!=typeof Lt&&(Lt={name:Lt});const hn=Object.assign({name:wt,automaticDataCollectionEnabled:!1},Lt),fn=hn.name;if("string"!=typeof fn||!fn)throw Hn.create("bad-app-name",{appName:String(fn)});const Ai=Xe.get(fn);if(Ai){if((0,T.vZ)(Rt,Ai.options)&&(0,T.vZ)(hn,Ai.config))return Ai;throw Hn.create("duplicate-app",{appName:fn})}const Dn=new b.H0(fn);for(const Nt of Qe.values())Dn.addComponent(Nt);const pt=new xi(Rt,hn,Dn);return Xe.set(fn,pt),pt}function bs(Rt=wt){const Lt=Xe.get(Rt);if(!Lt)throw Hn.create("no-app",{appName:Rt});return Lt}function Qi(){return Array.from(Xe.values())}function zr(Rt){return Gr.apply(this,arguments)}function Gr(){return(Gr=(0,r.Z)(function*(Rt){const Lt=Rt.name;Xe.has(Lt)&&(Xe.delete(Lt),yield Promise.all(Rt.container.getProviders().map(hn=>hn.delete())),Rt.isDeleted=!0)})).apply(this,arguments)}function It(Rt,Lt,hn){var fn;let Ai=null!==(fn=st[Rt])&&void 0!==fn?fn:Rt;hn&&(Ai+=`-${hn}`);const Dn=Ai.match(/\s|\//),pt=Lt.match(/\s|\//);if(Dn||pt){const Nt=[`Unable to register library "${Ai}" with version "${Lt}":`];return Dn&&Nt.push(`library name "${Ai}" contains illegal characters (whitespace or "/")`),Dn&&pt&&Nt.push("and"),pt&&Nt.push(`version name "${Lt}" contains illegal characters (whitespace or "/")`),void j.warn(Nt.join(" "))}vn(new b.wA(`${Ai}-version`,()=>({library:Ai,version:Lt}),"VERSION"))}function Zn(Rt,Lt){if(null!==Rt&&"function"!=typeof Rt)throw Hn.create("invalid-log-argument");(0,v.Am)(Rt,Lt)}function Li(Rt){(0,v.Ub)(Rt)}vn(new b.wA("platform-logger",Lt=>new S(Lt),"PRIVATE")),It(F,L,""),It(F,L,"esm2017"),It("fire-js","")},3910:(nt,D,M)=>{"use strict";M.d(D,{wA:()=>v,H0:()=>L,zt:()=>S});var r=M(8239),b=M(3854);class v{constructor(H,Z,W){this.name=H,this.instanceFactory=Z,this.type=W,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(H){return this.instantiationMode=H,this}setMultipleInstances(H){return this.multipleInstances=H,this}setServiceProps(H){return this.serviceProps=H,this}setInstanceCreatedCallback(H){return this.onInstanceCreated=H,this}}const T="[DEFAULT]";class S{constructor(H,Z){this.name=H,this.container=Z,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(H){const Z=this.normalizeInstanceIdentifier(H);if(!this.instancesDeferred.has(Z)){const W=new b.BH;if(this.instancesDeferred.set(Z,W),this.isInitialized(Z)||this.shouldAutoInitialize())try{const be=this.getOrInitializeService({instanceIdentifier:Z});be&&W.resolve(be)}catch(be){}}return this.instancesDeferred.get(Z).promise}getImmediate(H){var Z;const W=this.normalizeInstanceIdentifier(null==H?void 0:H.identifier),be=null!==(Z=null==H?void 0:H.optional)&&void 0!==Z&&Z;if(!this.isInitialized(W)&&!this.shouldAutoInitialize()){if(be)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:W})}catch(we){if(be)return null;throw we}}getComponent(){return this.component}setComponent(H){if(H.name!==this.name)throw Error(`Mismatching Component ${H.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=H,this.shouldAutoInitialize()){if("EAGER"===H.instantiationMode)try{this.getOrInitializeService({instanceIdentifier:T})}catch(Z){}for(const[Z,W]of this.instancesDeferred.entries()){const be=this.normalizeInstanceIdentifier(Z);try{const we=this.getOrInitializeService({instanceIdentifier:be});W.resolve(we)}catch(we){}}}}clearInstance(H=T){this.instancesDeferred.delete(H),this.instancesOptions.delete(H),this.instances.delete(H)}delete(){var H=this;return(0,r.Z)(function*(){const Z=Array.from(H.instances.values());yield Promise.all([...Z.filter(W=>"INTERNAL"in W).map(W=>W.INTERNAL.delete()),...Z.filter(W=>"_delete"in W).map(W=>W._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(H=T){return this.instances.has(H)}getOptions(H=T){return this.instancesOptions.get(H)||{}}initialize(H={}){const{options:Z={}}=H,W=this.normalizeInstanceIdentifier(H.instanceIdentifier);if(this.isInitialized(W))throw Error(`${this.name}(${W}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const be=this.getOrInitializeService({instanceIdentifier:W,options:Z});for(const[we,Re]of this.instancesDeferred.entries())W===this.normalizeInstanceIdentifier(we)&&Re.resolve(be);return be}onInit(H,Z){var W;const be=this.normalizeInstanceIdentifier(Z),we=null!==(W=this.onInitCallbacks.get(be))&&void 0!==W?W:new Set;we.add(H),this.onInitCallbacks.set(be,we);const Re=this.instances.get(be);return Re&&H(Re,be),()=>{we.delete(H)}}invokeOnInitCallbacks(H,Z){const W=this.onInitCallbacks.get(Z);if(W)for(const be of W)try{be(H,Z)}catch(we){}}getOrInitializeService({instanceIdentifier:H,options:Z={}}){let W=this.instances.get(H);if(!W&&this.component&&(W=this.component.instanceFactory(this.container,{instanceIdentifier:(j=H,j===T?void 0:j),options:Z}),this.instances.set(H,W),this.instancesOptions.set(H,Z),this.invokeOnInitCallbacks(W,H),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,H,W)}catch(be){}var j;return W||null}normalizeInstanceIdentifier(H=T){return this.component?this.component.multipleInstances?H:T:H}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class L{constructor(H){this.name=H,this.providers=new Map}addComponent(H){const Z=this.getProvider(H.name);if(Z.isComponentSet())throw new Error(`Component ${H.name} has already been registered with ${this.name}`);Z.setComponent(H)}addOrOverwriteComponent(H){this.getProvider(H.name).isComponentSet()&&this.providers.delete(H.name),this.addComponent(H)}getProvider(H){if(this.providers.has(H))return this.providers.get(H);const Z=new S(H,this);return this.providers.set(H,Z),Z}getProviders(){return Array.from(this.providers.values())}}},5422:(nt,D,M)=>{"use strict";M.d(D,{in:()=>b,Yd:()=>F,Ub:()=>L,Am:()=>j});const r=[];var b=(()=>{return(H=b||(b={}))[H.DEBUG=0]="DEBUG",H[H.VERBOSE=1]="VERBOSE",H[H.INFO=2]="INFO",H[H.WARN=3]="WARN",H[H.ERROR=4]="ERROR",H[H.SILENT=5]="SILENT",b;var H})();const v={debug:b.DEBUG,verbose:b.VERBOSE,info:b.INFO,warn:b.WARN,error:b.ERROR,silent:b.SILENT},T=b.INFO,S={[b.DEBUG]:"log",[b.VERBOSE]:"log",[b.INFO]:"info",[b.WARN]:"warn",[b.ERROR]:"error"},k=(H,Z,...W)=>{if(Z<H.logLevel)return;const be=(new Date).toISOString(),we=S[Z];if(!we)throw new Error(`Attempted to log a message with an invalid logType (value: ${Z})`);console[we](`[${be}]  ${H.name}:`,...W)};class F{constructor(Z){this.name=Z,this._logLevel=T,this._logHandler=k,this._userLogHandler=null,r.push(this)}get logLevel(){return this._logLevel}set logLevel(Z){if(!(Z in b))throw new TypeError(`Invalid value "${Z}" assigned to \`logLevel\``);this._logLevel=Z}setLogLevel(Z){this._logLevel="string"==typeof Z?v[Z]:Z}get logHandler(){return this._logHandler}set logHandler(Z){if("function"!=typeof Z)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=Z}get userLogHandler(){return this._userLogHandler}set userLogHandler(Z){this._userLogHandler=Z}debug(...Z){this._userLogHandler&&this._userLogHandler(this,b.DEBUG,...Z),this._logHandler(this,b.DEBUG,...Z)}log(...Z){this._userLogHandler&&this._userLogHandler(this,b.VERBOSE,...Z),this._logHandler(this,b.VERBOSE,...Z)}info(...Z){this._userLogHandler&&this._userLogHandler(this,b.INFO,...Z),this._logHandler(this,b.INFO,...Z)}warn(...Z){this._userLogHandler&&this._userLogHandler(this,b.WARN,...Z),this._logHandler(this,b.WARN,...Z)}error(...Z){this._userLogHandler&&this._userLogHandler(this,b.ERROR,...Z),this._logHandler(this,b.ERROR,...Z)}}function L(H){r.forEach(Z=>{Z.setLogLevel(H)})}function j(H,Z){for(const W of r){let be=null;Z&&Z.level&&(be=v[Z.level]),W.userLogHandler=null===H?null:(we,Re,...Me)=>{const le=Me.map(Q=>{if(null==Q)return null;if("string"==typeof Q)return Q;if("number"==typeof Q||"boolean"==typeof Q)return Q.toString();if(Q instanceof Error)return Q.message;try{return JSON.stringify(Q)}catch(ue){return null}}).filter(Q=>Q).join(" ");Re>=(null!=be?be:we.logLevel)&&H({level:b[Re].toLowerCase(),message:le,args:Me,type:we.name})}}}},8239:(nt,D,M)=>{"use strict";function r(v,T,S,k,F,L,j){try{var H=v[L](j),Z=H.value}catch(W){return void S(W)}H.done?T(Z):Promise.resolve(Z).then(k,F)}function b(v){return function(){var T=this,S=arguments;return new Promise(function(k,F){var L=v.apply(T,S);function j(Z){r(L,k,F,j,H,"next",Z)}function H(Z){r(L,k,F,j,H,"throw",Z)}j(void 0)})}}M.d(D,{Z:()=>b})}},nt=>{nt(nt.s=5521)}]);